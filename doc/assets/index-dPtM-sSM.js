var o$=Object.defineProperty;var l$=(t,e,n)=>e in t?o$(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var ji=(t,e,n)=>(l$(t,typeof e!="symbol"?e+"":e,n),n);function u$(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const a of s.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();var za=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function va(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var FC={exports:{}},dp={},BC={exports:{}},fe={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var mc=Symbol.for("react.element"),c$=Symbol.for("react.portal"),d$=Symbol.for("react.fragment"),f$=Symbol.for("react.strict_mode"),h$=Symbol.for("react.profiler"),p$=Symbol.for("react.provider"),m$=Symbol.for("react.context"),g$=Symbol.for("react.forward_ref"),y$=Symbol.for("react.suspense"),v$=Symbol.for("react.memo"),b$=Symbol.for("react.lazy"),T_=Symbol.iterator;function w$(t){return t===null||typeof t!="object"?null:(t=T_&&t[T_]||t["@@iterator"],typeof t=="function"?t:null)}var VC={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},UC=Object.assign,HC={};function Uo(t,e,n){this.props=t,this.context=e,this.refs=HC,this.updater=n||VC}Uo.prototype.isReactComponent={};Uo.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Uo.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function WC(){}WC.prototype=Uo.prototype;function w0(t,e,n){this.props=t,this.context=e,this.refs=HC,this.updater=n||VC}var _0=w0.prototype=new WC;_0.constructor=w0;UC(_0,Uo.prototype);_0.isPureReactComponent=!0;var P_=Array.isArray,qC=Object.prototype.hasOwnProperty,x0={current:null},ZC={key:!0,ref:!0,__self:!0,__source:!0};function GC(t,e,n){var r,i={},s=null,a=null;if(e!=null)for(r in e.ref!==void 0&&(a=e.ref),e.key!==void 0&&(s=""+e.key),e)qC.call(e,r)&&!ZC.hasOwnProperty(r)&&(i[r]=e[r]);var o=arguments.length-2;if(o===1)i.children=n;else if(1<o){for(var l=Array(o),u=0;u<o;u++)l[u]=arguments[u+2];i.children=l}if(t&&t.defaultProps)for(r in o=t.defaultProps,o)i[r]===void 0&&(i[r]=o[r]);return{$$typeof:mc,type:t,key:s,ref:a,props:i,_owner:x0.current}}function _$(t,e){return{$$typeof:mc,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function k0(t){return typeof t=="object"&&t!==null&&t.$$typeof===mc}function x$(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var E_=/\/+/g;function Rm(t,e){return typeof t=="object"&&t!==null&&t.key!=null?x$(""+t.key):e.toString(36)}function Ld(t,e,n,r,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var a=!1;if(t===null)a=!0;else switch(s){case"string":case"number":a=!0;break;case"object":switch(t.$$typeof){case mc:case c$:a=!0}}if(a)return a=t,i=i(a),t=r===""?"."+Rm(a,0):r,P_(i)?(n="",t!=null&&(n=t.replace(E_,"$&/")+"/"),Ld(i,e,n,"",function(u){return u})):i!=null&&(k0(i)&&(i=_$(i,n+(!i.key||a&&a.key===i.key?"":(""+i.key).replace(E_,"$&/")+"/")+t)),e.push(i)),1;if(a=0,r=r===""?".":r+":",P_(t))for(var o=0;o<t.length;o++){s=t[o];var l=r+Rm(s,o);a+=Ld(s,e,n,l,i)}else if(l=w$(t),typeof l=="function")for(t=l.call(t),o=0;!(s=t.next()).done;)s=s.value,l=r+Rm(s,o++),a+=Ld(s,e,n,l,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return a}function Jc(t,e,n){if(t==null)return t;var r=[],i=0;return Ld(t,r,"","",function(s){return e.call(n,s,i++)}),r}function k$(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var nn={current:null},zd={transition:null},S$={ReactCurrentDispatcher:nn,ReactCurrentBatchConfig:zd,ReactCurrentOwner:x0};function KC(){throw Error("act(...) is not supported in production builds of React.")}fe.Children={map:Jc,forEach:function(t,e,n){Jc(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Jc(t,function(){e++}),e},toArray:function(t){return Jc(t,function(e){return e})||[]},only:function(t){if(!k0(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};fe.Component=Uo;fe.Fragment=d$;fe.Profiler=h$;fe.PureComponent=w0;fe.StrictMode=f$;fe.Suspense=y$;fe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=S$;fe.act=KC;fe.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=UC({},t.props),i=t.key,s=t.ref,a=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,a=x0.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var o=t.type.defaultProps;for(l in e)qC.call(e,l)&&!ZC.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&o!==void 0?o[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){o=Array(l);for(var u=0;u<l;u++)o[u]=arguments[u+2];r.children=o}return{$$typeof:mc,type:t.type,key:i,ref:s,props:r,_owner:a}};fe.createContext=function(t){return t={$$typeof:m$,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:p$,_context:t},t.Consumer=t};fe.createElement=GC;fe.createFactory=function(t){var e=GC.bind(null,t);return e.type=t,e};fe.createRef=function(){return{current:null}};fe.forwardRef=function(t){return{$$typeof:g$,render:t}};fe.isValidElement=k0;fe.lazy=function(t){return{$$typeof:b$,_payload:{_status:-1,_result:t},_init:k$}};fe.memo=function(t,e){return{$$typeof:v$,type:t,compare:e===void 0?null:e}};fe.startTransition=function(t){var e=zd.transition;zd.transition={};try{t()}finally{zd.transition=e}};fe.unstable_act=KC;fe.useCallback=function(t,e){return nn.current.useCallback(t,e)};fe.useContext=function(t){return nn.current.useContext(t)};fe.useDebugValue=function(){};fe.useDeferredValue=function(t){return nn.current.useDeferredValue(t)};fe.useEffect=function(t,e){return nn.current.useEffect(t,e)};fe.useId=function(){return nn.current.useId()};fe.useImperativeHandle=function(t,e,n){return nn.current.useImperativeHandle(t,e,n)};fe.useInsertionEffect=function(t,e){return nn.current.useInsertionEffect(t,e)};fe.useLayoutEffect=function(t,e){return nn.current.useLayoutEffect(t,e)};fe.useMemo=function(t,e){return nn.current.useMemo(t,e)};fe.useReducer=function(t,e,n){return nn.current.useReducer(t,e,n)};fe.useRef=function(t){return nn.current.useRef(t)};fe.useState=function(t){return nn.current.useState(t)};fe.useSyncExternalStore=function(t,e,n){return nn.current.useSyncExternalStore(t,e,n)};fe.useTransition=function(){return nn.current.useTransition()};fe.version="18.3.1";BC.exports=fe;var A=BC.exports;const Ef=va(A),A_=u$({__proto__:null,default:Ef},[A]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var C$=A,T$=Symbol.for("react.element"),P$=Symbol.for("react.fragment"),E$=Object.prototype.hasOwnProperty,A$=C$.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,I$={key:!0,ref:!0,__self:!0,__source:!0};function JC(t,e,n){var r,i={},s=null,a=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(a=e.ref);for(r in e)E$.call(e,r)&&!I$.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:T$,type:t,key:s,ref:a,props:i,_owner:A$.current}}dp.Fragment=P$;dp.jsx=JC;dp.jsxs=JC;FC.exports=dp;var O=FC.exports,py={},XC={exports:{}},Mn={},YC={exports:{}},QC={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(B,X){var _=B.length;B.push(X);e:for(;0<_;){var he=_-1>>>1,Oe=B[he];if(0<i(Oe,X))B[he]=X,B[_]=Oe,_=he;else break e}}function n(B){return B.length===0?null:B[0]}function r(B){if(B.length===0)return null;var X=B[0],_=B.pop();if(_!==X){B[0]=_;e:for(var he=0,Oe=B.length,S=Oe>>>1;he<S;){var at=2*(he+1)-1,wn=B[at],xe=at+1,_n=B[xe];if(0>i(wn,_))xe<Oe&&0>i(_n,wn)?(B[he]=_n,B[xe]=_,he=xe):(B[he]=wn,B[at]=_,he=at);else if(xe<Oe&&0>i(_n,_))B[he]=_n,B[xe]=_,he=xe;else break e}}return X}function i(B,X){var _=B.sortIndex-X.sortIndex;return _!==0?_:B.id-X.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var a=Date,o=a.now();t.unstable_now=function(){return a.now()-o}}var l=[],u=[],c=1,d=null,f=3,h=!1,p=!1,y=!1,b=typeof setTimeout=="function"?setTimeout:null,m=typeof clearTimeout=="function"?clearTimeout:null,g=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function v(B){for(var X=n(u);X!==null;){if(X.callback===null)r(u);else if(X.startTime<=B)r(u),X.sortIndex=X.expirationTime,e(l,X);else break;X=n(u)}}function x(B){if(y=!1,v(B),!p)if(n(l)!==null)p=!0,we(C);else{var X=n(u);X!==null&&Me(x,X.startTime-B)}}function C(B,X){p=!1,y&&(y=!1,m(R),R=-1),h=!0;var _=f;try{for(v(X),d=n(l);d!==null&&(!(d.expirationTime>X)||B&&!F());){var he=d.callback;if(typeof he=="function"){d.callback=null,f=d.priorityLevel;var Oe=he(d.expirationTime<=X);X=t.unstable_now(),typeof Oe=="function"?d.callback=Oe:d===n(l)&&r(l),v(X)}else r(l);d=n(l)}if(d!==null)var S=!0;else{var at=n(u);at!==null&&Me(x,at.startTime-X),S=!1}return S}finally{d=null,f=_,h=!1}}var k=!1,I=null,R=-1,j=5,T=-1;function F(){return!(t.unstable_now()-T<j)}function q(){if(I!==null){var B=t.unstable_now();T=B;var X=!0;try{X=I(!0,B)}finally{X?ue():(k=!1,I=null)}}else k=!1}var ue;if(typeof g=="function")ue=function(){g(q)};else if(typeof MessageChannel<"u"){var _e=new MessageChannel,J=_e.port2;_e.port1.onmessage=q,ue=function(){J.postMessage(null)}}else ue=function(){b(q,0)};function we(B){I=B,k||(k=!0,ue())}function Me(B,X){R=b(function(){B(t.unstable_now())},X)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(B){B.callback=null},t.unstable_continueExecution=function(){p||h||(p=!0,we(C))},t.unstable_forceFrameRate=function(B){0>B||125<B?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):j=0<B?Math.floor(1e3/B):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(B){switch(f){case 1:case 2:case 3:var X=3;break;default:X=f}var _=f;f=X;try{return B()}finally{f=_}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(B,X){switch(B){case 1:case 2:case 3:case 4:case 5:break;default:B=3}var _=f;f=B;try{return X()}finally{f=_}},t.unstable_scheduleCallback=function(B,X,_){var he=t.unstable_now();switch(typeof _=="object"&&_!==null?(_=_.delay,_=typeof _=="number"&&0<_?he+_:he):_=he,B){case 1:var Oe=-1;break;case 2:Oe=250;break;case 5:Oe=1073741823;break;case 4:Oe=1e4;break;default:Oe=5e3}return Oe=_+Oe,B={id:c++,callback:X,priorityLevel:B,startTime:_,expirationTime:Oe,sortIndex:-1},_>he?(B.sortIndex=_,e(u,B),n(l)===null&&B===n(u)&&(y?(m(R),R=-1):y=!0,Me(x,_-he))):(B.sortIndex=Oe,e(l,B),p||h||(p=!0,we(C))),B},t.unstable_shouldYield=F,t.unstable_wrapCallback=function(B){var X=f;return function(){var _=f;f=X;try{return B.apply(this,arguments)}finally{f=_}}}})(QC);YC.exports=QC;var O$=YC.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var R$=A,$n=O$;function M(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var eT=new Set,bu={};function ba(t,e){Ao(t,e),Ao(t+"Capture",e)}function Ao(t,e){for(bu[t]=e,t=0;t<e.length;t++)eT.add(e[t])}var Pi=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),my=Object.prototype.hasOwnProperty,$$=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,I_={},O_={};function N$(t){return my.call(O_,t)?!0:my.call(I_,t)?!1:$$.test(t)?O_[t]=!0:(I_[t]=!0,!1)}function j$(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function M$(t,e,n,r){if(e===null||typeof e>"u"||j$(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function rn(t,e,n,r,i,s,a){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=a}var $t={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){$t[t]=new rn(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];$t[e]=new rn(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){$t[t]=new rn(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){$t[t]=new rn(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){$t[t]=new rn(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){$t[t]=new rn(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){$t[t]=new rn(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){$t[t]=new rn(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){$t[t]=new rn(t,5,!1,t.toLowerCase(),null,!1,!1)});var S0=/[\-:]([a-z])/g;function C0(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(S0,C0);$t[e]=new rn(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(S0,C0);$t[e]=new rn(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(S0,C0);$t[e]=new rn(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){$t[t]=new rn(t,1,!1,t.toLowerCase(),null,!1,!1)});$t.xlinkHref=new rn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){$t[t]=new rn(t,1,!1,t.toLowerCase(),null,!0,!0)});function T0(t,e,n,r){var i=$t.hasOwnProperty(e)?$t[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(M$(e,n,i,r)&&(n=null),r||i===null?N$(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var $i=R$.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Xc=Symbol.for("react.element"),Da=Symbol.for("react.portal"),Fa=Symbol.for("react.fragment"),P0=Symbol.for("react.strict_mode"),gy=Symbol.for("react.profiler"),tT=Symbol.for("react.provider"),nT=Symbol.for("react.context"),E0=Symbol.for("react.forward_ref"),yy=Symbol.for("react.suspense"),vy=Symbol.for("react.suspense_list"),A0=Symbol.for("react.memo"),Wi=Symbol.for("react.lazy"),rT=Symbol.for("react.offscreen"),R_=Symbol.iterator;function al(t){return t===null||typeof t!="object"?null:(t=R_&&t[R_]||t["@@iterator"],typeof t=="function"?t:null)}var rt=Object.assign,$m;function _l(t){if($m===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);$m=e&&e[1]||""}return`
`+$m+t}var Nm=!1;function jm(t,e){if(!t||Nm)return"";Nm=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var r=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){r=u}t.call(e.prototype)}else{try{throw Error()}catch(u){r=u}t()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),s=r.stack.split(`
`),a=i.length-1,o=s.length-1;1<=a&&0<=o&&i[a]!==s[o];)o--;for(;1<=a&&0<=o;a--,o--)if(i[a]!==s[o]){if(a!==1||o!==1)do if(a--,o--,0>o||i[a]!==s[o]){var l=`
`+i[a].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=a&&0<=o);break}}}finally{Nm=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?_l(t):""}function L$(t){switch(t.tag){case 5:return _l(t.type);case 16:return _l("Lazy");case 13:return _l("Suspense");case 19:return _l("SuspenseList");case 0:case 2:case 15:return t=jm(t.type,!1),t;case 11:return t=jm(t.type.render,!1),t;case 1:return t=jm(t.type,!0),t;default:return""}}function by(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Fa:return"Fragment";case Da:return"Portal";case gy:return"Profiler";case P0:return"StrictMode";case yy:return"Suspense";case vy:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case nT:return(t.displayName||"Context")+".Consumer";case tT:return(t._context.displayName||"Context")+".Provider";case E0:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case A0:return e=t.displayName||null,e!==null?e:by(t.type)||"Memo";case Wi:e=t._payload,t=t._init;try{return by(t(e))}catch{}}return null}function z$(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return by(e);case 8:return e===P0?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function fs(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function iT(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function D$(t){var e=iT(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(a){r=""+a,s.call(this,a)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(a){r=""+a},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Yc(t){t._valueTracker||(t._valueTracker=D$(t))}function sT(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=iT(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function Af(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function wy(t,e){var n=e.checked;return rt({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function $_(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=fs(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function aT(t,e){e=e.checked,e!=null&&T0(t,"checked",e,!1)}function _y(t,e){aT(t,e);var n=fs(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?xy(t,e.type,n):e.hasOwnProperty("defaultValue")&&xy(t,e.type,fs(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function N_(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function xy(t,e,n){(e!=="number"||Af(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var xl=Array.isArray;function co(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+fs(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function ky(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(M(91));return rt({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function j_(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(M(92));if(xl(n)){if(1<n.length)throw Error(M(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:fs(n)}}function oT(t,e){var n=fs(e.value),r=fs(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function M_(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function lT(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Sy(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?lT(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Qc,uT=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Qc=Qc||document.createElement("div"),Qc.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Qc.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function wu(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Wl={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},F$=["Webkit","ms","Moz","O"];Object.keys(Wl).forEach(function(t){F$.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Wl[e]=Wl[t]})});function cT(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Wl.hasOwnProperty(t)&&Wl[t]?(""+e).trim():e+"px"}function dT(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=cT(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var B$=rt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Cy(t,e){if(e){if(B$[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(M(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(M(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(M(61))}if(e.style!=null&&typeof e.style!="object")throw Error(M(62))}}function Ty(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Py=null;function I0(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Ey=null,fo=null,ho=null;function L_(t){if(t=vc(t)){if(typeof Ey!="function")throw Error(M(280));var e=t.stateNode;e&&(e=gp(e),Ey(t.stateNode,t.type,e))}}function fT(t){fo?ho?ho.push(t):ho=[t]:fo=t}function hT(){if(fo){var t=fo,e=ho;if(ho=fo=null,L_(t),e)for(t=0;t<e.length;t++)L_(e[t])}}function pT(t,e){return t(e)}function mT(){}var Mm=!1;function gT(t,e,n){if(Mm)return t(e,n);Mm=!0;try{return pT(t,e,n)}finally{Mm=!1,(fo!==null||ho!==null)&&(mT(),hT())}}function _u(t,e){var n=t.stateNode;if(n===null)return null;var r=gp(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(M(231,e,typeof n));return n}var Ay=!1;if(Pi)try{var ol={};Object.defineProperty(ol,"passive",{get:function(){Ay=!0}}),window.addEventListener("test",ol,ol),window.removeEventListener("test",ol,ol)}catch{Ay=!1}function V$(t,e,n,r,i,s,a,o,l){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(c){this.onError(c)}}var ql=!1,If=null,Of=!1,Iy=null,U$={onError:function(t){ql=!0,If=t}};function H$(t,e,n,r,i,s,a,o,l){ql=!1,If=null,V$.apply(U$,arguments)}function W$(t,e,n,r,i,s,a,o,l){if(H$.apply(this,arguments),ql){if(ql){var u=If;ql=!1,If=null}else throw Error(M(198));Of||(Of=!0,Iy=u)}}function wa(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function yT(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function z_(t){if(wa(t)!==t)throw Error(M(188))}function q$(t){var e=t.alternate;if(!e){if(e=wa(t),e===null)throw Error(M(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return z_(i),t;if(s===r)return z_(i),e;s=s.sibling}throw Error(M(188))}if(n.return!==r.return)n=i,r=s;else{for(var a=!1,o=i.child;o;){if(o===n){a=!0,n=i,r=s;break}if(o===r){a=!0,r=i,n=s;break}o=o.sibling}if(!a){for(o=s.child;o;){if(o===n){a=!0,n=s,r=i;break}if(o===r){a=!0,r=s,n=i;break}o=o.sibling}if(!a)throw Error(M(189))}}if(n.alternate!==r)throw Error(M(190))}if(n.tag!==3)throw Error(M(188));return n.stateNode.current===n?t:e}function vT(t){return t=q$(t),t!==null?bT(t):null}function bT(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=bT(t);if(e!==null)return e;t=t.sibling}return null}var wT=$n.unstable_scheduleCallback,D_=$n.unstable_cancelCallback,Z$=$n.unstable_shouldYield,G$=$n.unstable_requestPaint,dt=$n.unstable_now,K$=$n.unstable_getCurrentPriorityLevel,O0=$n.unstable_ImmediatePriority,_T=$n.unstable_UserBlockingPriority,Rf=$n.unstable_NormalPriority,J$=$n.unstable_LowPriority,xT=$n.unstable_IdlePriority,fp=null,Kr=null;function X$(t){if(Kr&&typeof Kr.onCommitFiberRoot=="function")try{Kr.onCommitFiberRoot(fp,t,void 0,(t.current.flags&128)===128)}catch{}}var kr=Math.clz32?Math.clz32:eN,Y$=Math.log,Q$=Math.LN2;function eN(t){return t>>>=0,t===0?32:31-(Y$(t)/Q$|0)|0}var ed=64,td=4194304;function kl(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function $f(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,s=t.pingedLanes,a=n&268435455;if(a!==0){var o=a&~i;o!==0?r=kl(o):(s&=a,s!==0&&(r=kl(s)))}else a=n&~i,a!==0?r=kl(a):s!==0&&(r=kl(s));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-kr(e),i=1<<n,r|=t[n],e&=~i;return r}function tN(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function nN(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var a=31-kr(s),o=1<<a,l=i[a];l===-1?(!(o&n)||o&r)&&(i[a]=tN(o,e)):l<=e&&(t.expiredLanes|=o),s&=~o}}function Oy(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function kT(){var t=ed;return ed<<=1,!(ed&4194240)&&(ed=64),t}function Lm(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function gc(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-kr(e),t[e]=n}function rN(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-kr(n),s=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~s}}function R0(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-kr(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var $e=0;function ST(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var CT,$0,TT,PT,ET,Ry=!1,nd=[],ns=null,rs=null,is=null,xu=new Map,ku=new Map,Ki=[],iN="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function F_(t,e){switch(t){case"focusin":case"focusout":ns=null;break;case"dragenter":case"dragleave":rs=null;break;case"mouseover":case"mouseout":is=null;break;case"pointerover":case"pointerout":xu.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":ku.delete(e.pointerId)}}function ll(t,e,n,r,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=vc(e),e!==null&&$0(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function sN(t,e,n,r,i){switch(e){case"focusin":return ns=ll(ns,t,e,n,r,i),!0;case"dragenter":return rs=ll(rs,t,e,n,r,i),!0;case"mouseover":return is=ll(is,t,e,n,r,i),!0;case"pointerover":var s=i.pointerId;return xu.set(s,ll(xu.get(s)||null,t,e,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,ku.set(s,ll(ku.get(s)||null,t,e,n,r,i)),!0}return!1}function AT(t){var e=Hs(t.target);if(e!==null){var n=wa(e);if(n!==null){if(e=n.tag,e===13){if(e=yT(n),e!==null){t.blockedOn=e,ET(t.priority,function(){TT(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Dd(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=$y(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);Py=r,n.target.dispatchEvent(r),Py=null}else return e=vc(n),e!==null&&$0(e),t.blockedOn=n,!1;e.shift()}return!0}function B_(t,e,n){Dd(t)&&n.delete(e)}function aN(){Ry=!1,ns!==null&&Dd(ns)&&(ns=null),rs!==null&&Dd(rs)&&(rs=null),is!==null&&Dd(is)&&(is=null),xu.forEach(B_),ku.forEach(B_)}function ul(t,e){t.blockedOn===e&&(t.blockedOn=null,Ry||(Ry=!0,$n.unstable_scheduleCallback($n.unstable_NormalPriority,aN)))}function Su(t){function e(i){return ul(i,t)}if(0<nd.length){ul(nd[0],t);for(var n=1;n<nd.length;n++){var r=nd[n];r.blockedOn===t&&(r.blockedOn=null)}}for(ns!==null&&ul(ns,t),rs!==null&&ul(rs,t),is!==null&&ul(is,t),xu.forEach(e),ku.forEach(e),n=0;n<Ki.length;n++)r=Ki[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<Ki.length&&(n=Ki[0],n.blockedOn===null);)AT(n),n.blockedOn===null&&Ki.shift()}var po=$i.ReactCurrentBatchConfig,Nf=!0;function oN(t,e,n,r){var i=$e,s=po.transition;po.transition=null;try{$e=1,N0(t,e,n,r)}finally{$e=i,po.transition=s}}function lN(t,e,n,r){var i=$e,s=po.transition;po.transition=null;try{$e=4,N0(t,e,n,r)}finally{$e=i,po.transition=s}}function N0(t,e,n,r){if(Nf){var i=$y(t,e,n,r);if(i===null)Zm(t,e,r,jf,n),F_(t,r);else if(sN(i,t,e,n,r))r.stopPropagation();else if(F_(t,r),e&4&&-1<iN.indexOf(t)){for(;i!==null;){var s=vc(i);if(s!==null&&CT(s),s=$y(t,e,n,r),s===null&&Zm(t,e,r,jf,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else Zm(t,e,r,null,n)}}var jf=null;function $y(t,e,n,r){if(jf=null,t=I0(r),t=Hs(t),t!==null)if(e=wa(t),e===null)t=null;else if(n=e.tag,n===13){if(t=yT(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return jf=t,null}function IT(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(K$()){case O0:return 1;case _T:return 4;case Rf:case J$:return 16;case xT:return 536870912;default:return 16}default:return 16}}var Qi=null,j0=null,Fd=null;function OT(){if(Fd)return Fd;var t,e=j0,n=e.length,r,i="value"in Qi?Qi.value:Qi.textContent,s=i.length;for(t=0;t<n&&e[t]===i[t];t++);var a=n-t;for(r=1;r<=a&&e[n-r]===i[s-r];r++);return Fd=i.slice(t,1<r?1-r:void 0)}function Bd(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function rd(){return!0}function V_(){return!1}function Ln(t){function e(n,r,i,s,a){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=a,this.currentTarget=null;for(var o in t)t.hasOwnProperty(o)&&(n=t[o],this[o]=n?n(s):s[o]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?rd:V_,this.isPropagationStopped=V_,this}return rt(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=rd)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=rd)},persist:function(){},isPersistent:rd}),e}var Ho={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},M0=Ln(Ho),yc=rt({},Ho,{view:0,detail:0}),uN=Ln(yc),zm,Dm,cl,hp=rt({},yc,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:L0,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==cl&&(cl&&t.type==="mousemove"?(zm=t.screenX-cl.screenX,Dm=t.screenY-cl.screenY):Dm=zm=0,cl=t),zm)},movementY:function(t){return"movementY"in t?t.movementY:Dm}}),U_=Ln(hp),cN=rt({},hp,{dataTransfer:0}),dN=Ln(cN),fN=rt({},yc,{relatedTarget:0}),Fm=Ln(fN),hN=rt({},Ho,{animationName:0,elapsedTime:0,pseudoElement:0}),pN=Ln(hN),mN=rt({},Ho,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),gN=Ln(mN),yN=rt({},Ho,{data:0}),H_=Ln(yN),vN={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},bN={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},wN={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function _N(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=wN[t])?!!e[t]:!1}function L0(){return _N}var xN=rt({},yc,{key:function(t){if(t.key){var e=vN[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Bd(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?bN[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:L0,charCode:function(t){return t.type==="keypress"?Bd(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Bd(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),kN=Ln(xN),SN=rt({},hp,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),W_=Ln(SN),CN=rt({},yc,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:L0}),TN=Ln(CN),PN=rt({},Ho,{propertyName:0,elapsedTime:0,pseudoElement:0}),EN=Ln(PN),AN=rt({},hp,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),IN=Ln(AN),ON=[9,13,27,32],z0=Pi&&"CompositionEvent"in window,Zl=null;Pi&&"documentMode"in document&&(Zl=document.documentMode);var RN=Pi&&"TextEvent"in window&&!Zl,RT=Pi&&(!z0||Zl&&8<Zl&&11>=Zl),q_=" ",Z_=!1;function $T(t,e){switch(t){case"keyup":return ON.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function NT(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Ba=!1;function $N(t,e){switch(t){case"compositionend":return NT(e);case"keypress":return e.which!==32?null:(Z_=!0,q_);case"textInput":return t=e.data,t===q_&&Z_?null:t;default:return null}}function NN(t,e){if(Ba)return t==="compositionend"||!z0&&$T(t,e)?(t=OT(),Fd=j0=Qi=null,Ba=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return RT&&e.locale!=="ko"?null:e.data;default:return null}}var jN={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function G_(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!jN[t.type]:e==="textarea"}function jT(t,e,n,r){fT(r),e=Mf(e,"onChange"),0<e.length&&(n=new M0("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Gl=null,Cu=null;function MN(t){qT(t,0)}function pp(t){var e=Ha(t);if(sT(e))return t}function LN(t,e){if(t==="change")return e}var MT=!1;if(Pi){var Bm;if(Pi){var Vm="oninput"in document;if(!Vm){var K_=document.createElement("div");K_.setAttribute("oninput","return;"),Vm=typeof K_.oninput=="function"}Bm=Vm}else Bm=!1;MT=Bm&&(!document.documentMode||9<document.documentMode)}function J_(){Gl&&(Gl.detachEvent("onpropertychange",LT),Cu=Gl=null)}function LT(t){if(t.propertyName==="value"&&pp(Cu)){var e=[];jT(e,Cu,t,I0(t)),gT(MN,e)}}function zN(t,e,n){t==="focusin"?(J_(),Gl=e,Cu=n,Gl.attachEvent("onpropertychange",LT)):t==="focusout"&&J_()}function DN(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return pp(Cu)}function FN(t,e){if(t==="click")return pp(e)}function BN(t,e){if(t==="input"||t==="change")return pp(e)}function VN(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Er=typeof Object.is=="function"?Object.is:VN;function Tu(t,e){if(Er(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!my.call(e,i)||!Er(t[i],e[i]))return!1}return!0}function X_(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Y_(t,e){var n=X_(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=X_(n)}}function zT(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?zT(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function DT(){for(var t=window,e=Af();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Af(t.document)}return e}function D0(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function UN(t){var e=DT(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&zT(n.ownerDocument.documentElement,n)){if(r!==null&&D0(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!t.extend&&s>r&&(i=r,r=s,s=i),i=Y_(n,s);var a=Y_(n,r);i&&a&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==a.node||t.focusOffset!==a.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>r?(t.addRange(e),t.extend(a.node,a.offset)):(e.setEnd(a.node,a.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var HN=Pi&&"documentMode"in document&&11>=document.documentMode,Va=null,Ny=null,Kl=null,jy=!1;function Q_(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;jy||Va==null||Va!==Af(r)||(r=Va,"selectionStart"in r&&D0(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Kl&&Tu(Kl,r)||(Kl=r,r=Mf(Ny,"onSelect"),0<r.length&&(e=new M0("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Va)))}function id(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Ua={animationend:id("Animation","AnimationEnd"),animationiteration:id("Animation","AnimationIteration"),animationstart:id("Animation","AnimationStart"),transitionend:id("Transition","TransitionEnd")},Um={},FT={};Pi&&(FT=document.createElement("div").style,"AnimationEvent"in window||(delete Ua.animationend.animation,delete Ua.animationiteration.animation,delete Ua.animationstart.animation),"TransitionEvent"in window||delete Ua.transitionend.transition);function mp(t){if(Um[t])return Um[t];if(!Ua[t])return t;var e=Ua[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in FT)return Um[t]=e[n];return t}var BT=mp("animationend"),VT=mp("animationiteration"),UT=mp("animationstart"),HT=mp("transitionend"),WT=new Map,ex="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function _s(t,e){WT.set(t,e),ba(e,[t])}for(var Hm=0;Hm<ex.length;Hm++){var Wm=ex[Hm],WN=Wm.toLowerCase(),qN=Wm[0].toUpperCase()+Wm.slice(1);_s(WN,"on"+qN)}_s(BT,"onAnimationEnd");_s(VT,"onAnimationIteration");_s(UT,"onAnimationStart");_s("dblclick","onDoubleClick");_s("focusin","onFocus");_s("focusout","onBlur");_s(HT,"onTransitionEnd");Ao("onMouseEnter",["mouseout","mouseover"]);Ao("onMouseLeave",["mouseout","mouseover"]);Ao("onPointerEnter",["pointerout","pointerover"]);Ao("onPointerLeave",["pointerout","pointerover"]);ba("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));ba("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));ba("onBeforeInput",["compositionend","keypress","textInput","paste"]);ba("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));ba("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));ba("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Sl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),ZN=new Set("cancel close invalid load scroll toggle".split(" ").concat(Sl));function tx(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,W$(r,e,void 0,t),t.currentTarget=null}function qT(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var a=r.length-1;0<=a;a--){var o=r[a],l=o.instance,u=o.currentTarget;if(o=o.listener,l!==s&&i.isPropagationStopped())break e;tx(i,o,u),s=l}else for(a=0;a<r.length;a++){if(o=r[a],l=o.instance,u=o.currentTarget,o=o.listener,l!==s&&i.isPropagationStopped())break e;tx(i,o,u),s=l}}}if(Of)throw t=Iy,Of=!1,Iy=null,t}function He(t,e){var n=e[Fy];n===void 0&&(n=e[Fy]=new Set);var r=t+"__bubble";n.has(r)||(ZT(e,t,2,!1),n.add(r))}function qm(t,e,n){var r=0;e&&(r|=4),ZT(n,t,r,e)}var sd="_reactListening"+Math.random().toString(36).slice(2);function Pu(t){if(!t[sd]){t[sd]=!0,eT.forEach(function(n){n!=="selectionchange"&&(ZN.has(n)||qm(n,!1,t),qm(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[sd]||(e[sd]=!0,qm("selectionchange",!1,e))}}function ZT(t,e,n,r){switch(IT(e)){case 1:var i=oN;break;case 4:i=lN;break;default:i=N0}n=i.bind(null,e,n,t),i=void 0,!Ay||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function Zm(t,e,n,r,i){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var a=r.tag;if(a===3||a===4){var o=r.stateNode.containerInfo;if(o===i||o.nodeType===8&&o.parentNode===i)break;if(a===4)for(a=r.return;a!==null;){var l=a.tag;if((l===3||l===4)&&(l=a.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;a=a.return}for(;o!==null;){if(a=Hs(o),a===null)return;if(l=a.tag,l===5||l===6){r=s=a;continue e}o=o.parentNode}}r=r.return}gT(function(){var u=s,c=I0(n),d=[];e:{var f=WT.get(t);if(f!==void 0){var h=M0,p=t;switch(t){case"keypress":if(Bd(n)===0)break e;case"keydown":case"keyup":h=kN;break;case"focusin":p="focus",h=Fm;break;case"focusout":p="blur",h=Fm;break;case"beforeblur":case"afterblur":h=Fm;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":h=U_;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":h=dN;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":h=TN;break;case BT:case VT:case UT:h=pN;break;case HT:h=EN;break;case"scroll":h=uN;break;case"wheel":h=IN;break;case"copy":case"cut":case"paste":h=gN;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":h=W_}var y=(e&4)!==0,b=!y&&t==="scroll",m=y?f!==null?f+"Capture":null:f;y=[];for(var g=u,v;g!==null;){v=g;var x=v.stateNode;if(v.tag===5&&x!==null&&(v=x,m!==null&&(x=_u(g,m),x!=null&&y.push(Eu(g,x,v)))),b)break;g=g.return}0<y.length&&(f=new h(f,p,null,n,c),d.push({event:f,listeners:y}))}}if(!(e&7)){e:{if(f=t==="mouseover"||t==="pointerover",h=t==="mouseout"||t==="pointerout",f&&n!==Py&&(p=n.relatedTarget||n.fromElement)&&(Hs(p)||p[Ei]))break e;if((h||f)&&(f=c.window===c?c:(f=c.ownerDocument)?f.defaultView||f.parentWindow:window,h?(p=n.relatedTarget||n.toElement,h=u,p=p?Hs(p):null,p!==null&&(b=wa(p),p!==b||p.tag!==5&&p.tag!==6)&&(p=null)):(h=null,p=u),h!==p)){if(y=U_,x="onMouseLeave",m="onMouseEnter",g="mouse",(t==="pointerout"||t==="pointerover")&&(y=W_,x="onPointerLeave",m="onPointerEnter",g="pointer"),b=h==null?f:Ha(h),v=p==null?f:Ha(p),f=new y(x,g+"leave",h,n,c),f.target=b,f.relatedTarget=v,x=null,Hs(c)===u&&(y=new y(m,g+"enter",p,n,c),y.target=v,y.relatedTarget=b,x=y),b=x,h&&p)t:{for(y=h,m=p,g=0,v=y;v;v=Ea(v))g++;for(v=0,x=m;x;x=Ea(x))v++;for(;0<g-v;)y=Ea(y),g--;for(;0<v-g;)m=Ea(m),v--;for(;g--;){if(y===m||m!==null&&y===m.alternate)break t;y=Ea(y),m=Ea(m)}y=null}else y=null;h!==null&&nx(d,f,h,y,!1),p!==null&&b!==null&&nx(d,b,p,y,!0)}}e:{if(f=u?Ha(u):window,h=f.nodeName&&f.nodeName.toLowerCase(),h==="select"||h==="input"&&f.type==="file")var C=LN;else if(G_(f))if(MT)C=BN;else{C=DN;var k=zN}else(h=f.nodeName)&&h.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(C=FN);if(C&&(C=C(t,u))){jT(d,C,n,c);break e}k&&k(t,f,u),t==="focusout"&&(k=f._wrapperState)&&k.controlled&&f.type==="number"&&xy(f,"number",f.value)}switch(k=u?Ha(u):window,t){case"focusin":(G_(k)||k.contentEditable==="true")&&(Va=k,Ny=u,Kl=null);break;case"focusout":Kl=Ny=Va=null;break;case"mousedown":jy=!0;break;case"contextmenu":case"mouseup":case"dragend":jy=!1,Q_(d,n,c);break;case"selectionchange":if(HN)break;case"keydown":case"keyup":Q_(d,n,c)}var I;if(z0)e:{switch(t){case"compositionstart":var R="onCompositionStart";break e;case"compositionend":R="onCompositionEnd";break e;case"compositionupdate":R="onCompositionUpdate";break e}R=void 0}else Ba?$T(t,n)&&(R="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(R="onCompositionStart");R&&(RT&&n.locale!=="ko"&&(Ba||R!=="onCompositionStart"?R==="onCompositionEnd"&&Ba&&(I=OT()):(Qi=c,j0="value"in Qi?Qi.value:Qi.textContent,Ba=!0)),k=Mf(u,R),0<k.length&&(R=new H_(R,t,null,n,c),d.push({event:R,listeners:k}),I?R.data=I:(I=NT(n),I!==null&&(R.data=I)))),(I=RN?$N(t,n):NN(t,n))&&(u=Mf(u,"onBeforeInput"),0<u.length&&(c=new H_("onBeforeInput","beforeinput",null,n,c),d.push({event:c,listeners:u}),c.data=I))}qT(d,e)})}function Eu(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Mf(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=_u(t,n),s!=null&&r.unshift(Eu(t,s,i)),s=_u(t,e),s!=null&&r.push(Eu(t,s,i))),t=t.return}return r}function Ea(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function nx(t,e,n,r,i){for(var s=e._reactName,a=[];n!==null&&n!==r;){var o=n,l=o.alternate,u=o.stateNode;if(l!==null&&l===r)break;o.tag===5&&u!==null&&(o=u,i?(l=_u(n,s),l!=null&&a.unshift(Eu(n,l,o))):i||(l=_u(n,s),l!=null&&a.push(Eu(n,l,o)))),n=n.return}a.length!==0&&t.push({event:e,listeners:a})}var GN=/\r\n?/g,KN=/\u0000|\uFFFD/g;function rx(t){return(typeof t=="string"?t:""+t).replace(GN,`
`).replace(KN,"")}function ad(t,e,n){if(e=rx(e),rx(t)!==e&&n)throw Error(M(425))}function Lf(){}var My=null,Ly=null;function zy(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Dy=typeof setTimeout=="function"?setTimeout:void 0,JN=typeof clearTimeout=="function"?clearTimeout:void 0,ix=typeof Promise=="function"?Promise:void 0,XN=typeof queueMicrotask=="function"?queueMicrotask:typeof ix<"u"?function(t){return ix.resolve(null).then(t).catch(YN)}:Dy;function YN(t){setTimeout(function(){throw t})}function Gm(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),Su(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);Su(e)}function ss(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function sx(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Wo=Math.random().toString(36).slice(2),Wr="__reactFiber$"+Wo,Au="__reactProps$"+Wo,Ei="__reactContainer$"+Wo,Fy="__reactEvents$"+Wo,QN="__reactListeners$"+Wo,ej="__reactHandles$"+Wo;function Hs(t){var e=t[Wr];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Ei]||n[Wr]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=sx(t);t!==null;){if(n=t[Wr])return n;t=sx(t)}return e}t=n,n=t.parentNode}return null}function vc(t){return t=t[Wr]||t[Ei],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Ha(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(M(33))}function gp(t){return t[Au]||null}var By=[],Wa=-1;function xs(t){return{current:t}}function qe(t){0>Wa||(t.current=By[Wa],By[Wa]=null,Wa--)}function Ve(t,e){Wa++,By[Wa]=t.current,t.current=e}var hs={},Wt=xs(hs),pn=xs(!1),la=hs;function Io(t,e){var n=t.type.contextTypes;if(!n)return hs;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=e[s];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function mn(t){return t=t.childContextTypes,t!=null}function zf(){qe(pn),qe(Wt)}function ax(t,e,n){if(Wt.current!==hs)throw Error(M(168));Ve(Wt,e),Ve(pn,n)}function GT(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(M(108,z$(t)||"Unknown",i));return rt({},n,r)}function Df(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||hs,la=Wt.current,Ve(Wt,t),Ve(pn,pn.current),!0}function ox(t,e,n){var r=t.stateNode;if(!r)throw Error(M(169));n?(t=GT(t,e,la),r.__reactInternalMemoizedMergedChildContext=t,qe(pn),qe(Wt),Ve(Wt,t)):qe(pn),Ve(pn,n)}var pi=null,yp=!1,Km=!1;function KT(t){pi===null?pi=[t]:pi.push(t)}function tj(t){yp=!0,KT(t)}function ks(){if(!Km&&pi!==null){Km=!0;var t=0,e=$e;try{var n=pi;for($e=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}pi=null,yp=!1}catch(i){throw pi!==null&&(pi=pi.slice(t+1)),wT(O0,ks),i}finally{$e=e,Km=!1}}return null}var qa=[],Za=0,Ff=null,Bf=0,qn=[],Zn=0,ua=null,yi=1,vi="";function $s(t,e){qa[Za++]=Bf,qa[Za++]=Ff,Ff=t,Bf=e}function JT(t,e,n){qn[Zn++]=yi,qn[Zn++]=vi,qn[Zn++]=ua,ua=t;var r=yi;t=vi;var i=32-kr(r)-1;r&=~(1<<i),n+=1;var s=32-kr(e)+i;if(30<s){var a=i-i%5;s=(r&(1<<a)-1).toString(32),r>>=a,i-=a,yi=1<<32-kr(e)+i|n<<i|r,vi=s+t}else yi=1<<s|n<<i|r,vi=t}function F0(t){t.return!==null&&($s(t,1),JT(t,1,0))}function B0(t){for(;t===Ff;)Ff=qa[--Za],qa[Za]=null,Bf=qa[--Za],qa[Za]=null;for(;t===ua;)ua=qn[--Zn],qn[Zn]=null,vi=qn[--Zn],qn[Zn]=null,yi=qn[--Zn],qn[Zn]=null}var An=null,En=null,Ke=!1,br=null;function XT(t,e){var n=Kn(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function lx(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,An=t,En=ss(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,An=t,En=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=ua!==null?{id:yi,overflow:vi}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Kn(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,An=t,En=null,!0):!1;default:return!1}}function Vy(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Uy(t){if(Ke){var e=En;if(e){var n=e;if(!lx(t,e)){if(Vy(t))throw Error(M(418));e=ss(n.nextSibling);var r=An;e&&lx(t,e)?XT(r,n):(t.flags=t.flags&-4097|2,Ke=!1,An=t)}}else{if(Vy(t))throw Error(M(418));t.flags=t.flags&-4097|2,Ke=!1,An=t}}}function ux(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;An=t}function od(t){if(t!==An)return!1;if(!Ke)return ux(t),Ke=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!zy(t.type,t.memoizedProps)),e&&(e=En)){if(Vy(t))throw YT(),Error(M(418));for(;e;)XT(t,e),e=ss(e.nextSibling)}if(ux(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(M(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){En=ss(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}En=null}}else En=An?ss(t.stateNode.nextSibling):null;return!0}function YT(){for(var t=En;t;)t=ss(t.nextSibling)}function Oo(){En=An=null,Ke=!1}function V0(t){br===null?br=[t]:br.push(t)}var nj=$i.ReactCurrentBatchConfig;function dl(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(M(309));var r=n.stateNode}if(!r)throw Error(M(147,t));var i=r,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(a){var o=i.refs;a===null?delete o[s]:o[s]=a},e._stringRef=s,e)}if(typeof t!="string")throw Error(M(284));if(!n._owner)throw Error(M(290,t))}return t}function ld(t,e){throw t=Object.prototype.toString.call(e),Error(M(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function cx(t){var e=t._init;return e(t._payload)}function QT(t){function e(m,g){if(t){var v=m.deletions;v===null?(m.deletions=[g],m.flags|=16):v.push(g)}}function n(m,g){if(!t)return null;for(;g!==null;)e(m,g),g=g.sibling;return null}function r(m,g){for(m=new Map;g!==null;)g.key!==null?m.set(g.key,g):m.set(g.index,g),g=g.sibling;return m}function i(m,g){return m=us(m,g),m.index=0,m.sibling=null,m}function s(m,g,v){return m.index=v,t?(v=m.alternate,v!==null?(v=v.index,v<g?(m.flags|=2,g):v):(m.flags|=2,g)):(m.flags|=1048576,g)}function a(m){return t&&m.alternate===null&&(m.flags|=2),m}function o(m,g,v,x){return g===null||g.tag!==6?(g=ng(v,m.mode,x),g.return=m,g):(g=i(g,v),g.return=m,g)}function l(m,g,v,x){var C=v.type;return C===Fa?c(m,g,v.props.children,x,v.key):g!==null&&(g.elementType===C||typeof C=="object"&&C!==null&&C.$$typeof===Wi&&cx(C)===g.type)?(x=i(g,v.props),x.ref=dl(m,g,v),x.return=m,x):(x=Gd(v.type,v.key,v.props,null,m.mode,x),x.ref=dl(m,g,v),x.return=m,x)}function u(m,g,v,x){return g===null||g.tag!==4||g.stateNode.containerInfo!==v.containerInfo||g.stateNode.implementation!==v.implementation?(g=rg(v,m.mode,x),g.return=m,g):(g=i(g,v.children||[]),g.return=m,g)}function c(m,g,v,x,C){return g===null||g.tag!==7?(g=ea(v,m.mode,x,C),g.return=m,g):(g=i(g,v),g.return=m,g)}function d(m,g,v){if(typeof g=="string"&&g!==""||typeof g=="number")return g=ng(""+g,m.mode,v),g.return=m,g;if(typeof g=="object"&&g!==null){switch(g.$$typeof){case Xc:return v=Gd(g.type,g.key,g.props,null,m.mode,v),v.ref=dl(m,null,g),v.return=m,v;case Da:return g=rg(g,m.mode,v),g.return=m,g;case Wi:var x=g._init;return d(m,x(g._payload),v)}if(xl(g)||al(g))return g=ea(g,m.mode,v,null),g.return=m,g;ld(m,g)}return null}function f(m,g,v,x){var C=g!==null?g.key:null;if(typeof v=="string"&&v!==""||typeof v=="number")return C!==null?null:o(m,g,""+v,x);if(typeof v=="object"&&v!==null){switch(v.$$typeof){case Xc:return v.key===C?l(m,g,v,x):null;case Da:return v.key===C?u(m,g,v,x):null;case Wi:return C=v._init,f(m,g,C(v._payload),x)}if(xl(v)||al(v))return C!==null?null:c(m,g,v,x,null);ld(m,v)}return null}function h(m,g,v,x,C){if(typeof x=="string"&&x!==""||typeof x=="number")return m=m.get(v)||null,o(g,m,""+x,C);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case Xc:return m=m.get(x.key===null?v:x.key)||null,l(g,m,x,C);case Da:return m=m.get(x.key===null?v:x.key)||null,u(g,m,x,C);case Wi:var k=x._init;return h(m,g,v,k(x._payload),C)}if(xl(x)||al(x))return m=m.get(v)||null,c(g,m,x,C,null);ld(g,x)}return null}function p(m,g,v,x){for(var C=null,k=null,I=g,R=g=0,j=null;I!==null&&R<v.length;R++){I.index>R?(j=I,I=null):j=I.sibling;var T=f(m,I,v[R],x);if(T===null){I===null&&(I=j);break}t&&I&&T.alternate===null&&e(m,I),g=s(T,g,R),k===null?C=T:k.sibling=T,k=T,I=j}if(R===v.length)return n(m,I),Ke&&$s(m,R),C;if(I===null){for(;R<v.length;R++)I=d(m,v[R],x),I!==null&&(g=s(I,g,R),k===null?C=I:k.sibling=I,k=I);return Ke&&$s(m,R),C}for(I=r(m,I);R<v.length;R++)j=h(I,m,R,v[R],x),j!==null&&(t&&j.alternate!==null&&I.delete(j.key===null?R:j.key),g=s(j,g,R),k===null?C=j:k.sibling=j,k=j);return t&&I.forEach(function(F){return e(m,F)}),Ke&&$s(m,R),C}function y(m,g,v,x){var C=al(v);if(typeof C!="function")throw Error(M(150));if(v=C.call(v),v==null)throw Error(M(151));for(var k=C=null,I=g,R=g=0,j=null,T=v.next();I!==null&&!T.done;R++,T=v.next()){I.index>R?(j=I,I=null):j=I.sibling;var F=f(m,I,T.value,x);if(F===null){I===null&&(I=j);break}t&&I&&F.alternate===null&&e(m,I),g=s(F,g,R),k===null?C=F:k.sibling=F,k=F,I=j}if(T.done)return n(m,I),Ke&&$s(m,R),C;if(I===null){for(;!T.done;R++,T=v.next())T=d(m,T.value,x),T!==null&&(g=s(T,g,R),k===null?C=T:k.sibling=T,k=T);return Ke&&$s(m,R),C}for(I=r(m,I);!T.done;R++,T=v.next())T=h(I,m,R,T.value,x),T!==null&&(t&&T.alternate!==null&&I.delete(T.key===null?R:T.key),g=s(T,g,R),k===null?C=T:k.sibling=T,k=T);return t&&I.forEach(function(q){return e(m,q)}),Ke&&$s(m,R),C}function b(m,g,v,x){if(typeof v=="object"&&v!==null&&v.type===Fa&&v.key===null&&(v=v.props.children),typeof v=="object"&&v!==null){switch(v.$$typeof){case Xc:e:{for(var C=v.key,k=g;k!==null;){if(k.key===C){if(C=v.type,C===Fa){if(k.tag===7){n(m,k.sibling),g=i(k,v.props.children),g.return=m,m=g;break e}}else if(k.elementType===C||typeof C=="object"&&C!==null&&C.$$typeof===Wi&&cx(C)===k.type){n(m,k.sibling),g=i(k,v.props),g.ref=dl(m,k,v),g.return=m,m=g;break e}n(m,k);break}else e(m,k);k=k.sibling}v.type===Fa?(g=ea(v.props.children,m.mode,x,v.key),g.return=m,m=g):(x=Gd(v.type,v.key,v.props,null,m.mode,x),x.ref=dl(m,g,v),x.return=m,m=x)}return a(m);case Da:e:{for(k=v.key;g!==null;){if(g.key===k)if(g.tag===4&&g.stateNode.containerInfo===v.containerInfo&&g.stateNode.implementation===v.implementation){n(m,g.sibling),g=i(g,v.children||[]),g.return=m,m=g;break e}else{n(m,g);break}else e(m,g);g=g.sibling}g=rg(v,m.mode,x),g.return=m,m=g}return a(m);case Wi:return k=v._init,b(m,g,k(v._payload),x)}if(xl(v))return p(m,g,v,x);if(al(v))return y(m,g,v,x);ld(m,v)}return typeof v=="string"&&v!==""||typeof v=="number"?(v=""+v,g!==null&&g.tag===6?(n(m,g.sibling),g=i(g,v),g.return=m,m=g):(n(m,g),g=ng(v,m.mode,x),g.return=m,m=g),a(m)):n(m,g)}return b}var Ro=QT(!0),eP=QT(!1),Vf=xs(null),Uf=null,Ga=null,U0=null;function H0(){U0=Ga=Uf=null}function W0(t){var e=Vf.current;qe(Vf),t._currentValue=e}function Hy(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function mo(t,e){Uf=t,U0=Ga=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(fn=!0),t.firstContext=null)}function Qn(t){var e=t._currentValue;if(U0!==t)if(t={context:t,memoizedValue:e,next:null},Ga===null){if(Uf===null)throw Error(M(308));Ga=t,Uf.dependencies={lanes:0,firstContext:t}}else Ga=Ga.next=t;return e}var Ws=null;function q0(t){Ws===null?Ws=[t]:Ws.push(t)}function tP(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,q0(e)):(n.next=i.next,i.next=n),e.interleaved=n,Ai(t,r)}function Ai(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var qi=!1;function Z0(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function nP(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function _i(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function as(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,be&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,Ai(t,n)}return i=r.interleaved,i===null?(e.next=e,q0(r)):(e.next=i.next,i.next=e),r.interleaved=e,Ai(t,n)}function Vd(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,R0(t,n)}}function dx(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=a:s=s.next=a,n=n.next}while(n!==null);s===null?i=s=e:s=s.next=e}else i=s=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Hf(t,e,n,r){var i=t.updateQueue;qi=!1;var s=i.firstBaseUpdate,a=i.lastBaseUpdate,o=i.shared.pending;if(o!==null){i.shared.pending=null;var l=o,u=l.next;l.next=null,a===null?s=u:a.next=u,a=l;var c=t.alternate;c!==null&&(c=c.updateQueue,o=c.lastBaseUpdate,o!==a&&(o===null?c.firstBaseUpdate=u:o.next=u,c.lastBaseUpdate=l))}if(s!==null){var d=i.baseState;a=0,c=u=l=null,o=s;do{var f=o.lane,h=o.eventTime;if((r&f)===f){c!==null&&(c=c.next={eventTime:h,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var p=t,y=o;switch(f=e,h=n,y.tag){case 1:if(p=y.payload,typeof p=="function"){d=p.call(h,d,f);break e}d=p;break e;case 3:p.flags=p.flags&-65537|128;case 0:if(p=y.payload,f=typeof p=="function"?p.call(h,d,f):p,f==null)break e;d=rt({},d,f);break e;case 2:qi=!0}}o.callback!==null&&o.lane!==0&&(t.flags|=64,f=i.effects,f===null?i.effects=[o]:f.push(o))}else h={eventTime:h,lane:f,tag:o.tag,payload:o.payload,callback:o.callback,next:null},c===null?(u=c=h,l=d):c=c.next=h,a|=f;if(o=o.next,o===null){if(o=i.shared.pending,o===null)break;f=o,o=f.next,f.next=null,i.lastBaseUpdate=f,i.shared.pending=null}}while(!0);if(c===null&&(l=d),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=c,e=i.shared.interleaved,e!==null){i=e;do a|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);da|=a,t.lanes=a,t.memoizedState=d}}function fx(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(M(191,i));i.call(r)}}}var bc={},Jr=xs(bc),Iu=xs(bc),Ou=xs(bc);function qs(t){if(t===bc)throw Error(M(174));return t}function G0(t,e){switch(Ve(Ou,e),Ve(Iu,t),Ve(Jr,bc),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Sy(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Sy(e,t)}qe(Jr),Ve(Jr,e)}function $o(){qe(Jr),qe(Iu),qe(Ou)}function rP(t){qs(Ou.current);var e=qs(Jr.current),n=Sy(e,t.type);e!==n&&(Ve(Iu,t),Ve(Jr,n))}function K0(t){Iu.current===t&&(qe(Jr),qe(Iu))}var et=xs(0);function Wf(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Jm=[];function J0(){for(var t=0;t<Jm.length;t++)Jm[t]._workInProgressVersionPrimary=null;Jm.length=0}var Ud=$i.ReactCurrentDispatcher,Xm=$i.ReactCurrentBatchConfig,ca=0,nt=null,vt=null,xt=null,qf=!1,Jl=!1,Ru=0,rj=0;function Nt(){throw Error(M(321))}function X0(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Er(t[n],e[n]))return!1;return!0}function Y0(t,e,n,r,i,s){if(ca=s,nt=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Ud.current=t===null||t.memoizedState===null?oj:lj,t=n(r,i),Jl){s=0;do{if(Jl=!1,Ru=0,25<=s)throw Error(M(301));s+=1,xt=vt=null,e.updateQueue=null,Ud.current=uj,t=n(r,i)}while(Jl)}if(Ud.current=Zf,e=vt!==null&&vt.next!==null,ca=0,xt=vt=nt=null,qf=!1,e)throw Error(M(300));return t}function Q0(){var t=Ru!==0;return Ru=0,t}function Lr(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return xt===null?nt.memoizedState=xt=t:xt=xt.next=t,xt}function er(){if(vt===null){var t=nt.alternate;t=t!==null?t.memoizedState:null}else t=vt.next;var e=xt===null?nt.memoizedState:xt.next;if(e!==null)xt=e,vt=t;else{if(t===null)throw Error(M(310));vt=t,t={memoizedState:vt.memoizedState,baseState:vt.baseState,baseQueue:vt.baseQueue,queue:vt.queue,next:null},xt===null?nt.memoizedState=xt=t:xt=xt.next=t}return xt}function $u(t,e){return typeof e=="function"?e(t):e}function Ym(t){var e=er(),n=e.queue;if(n===null)throw Error(M(311));n.lastRenderedReducer=t;var r=vt,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var a=i.next;i.next=s.next,s.next=a}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var o=a=null,l=null,u=s;do{var c=u.lane;if((ca&c)===c)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:t(r,u.action);else{var d={lane:c,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(o=l=d,a=r):l=l.next=d,nt.lanes|=c,da|=c}u=u.next}while(u!==null&&u!==s);l===null?a=r:l.next=o,Er(r,e.memoizedState)||(fn=!0),e.memoizedState=r,e.baseState=a,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do s=i.lane,nt.lanes|=s,da|=s,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Qm(t){var e=er(),n=e.queue;if(n===null)throw Error(M(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,s=e.memoizedState;if(i!==null){n.pending=null;var a=i=i.next;do s=t(s,a.action),a=a.next;while(a!==i);Er(s,e.memoizedState)||(fn=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,r]}function iP(){}function sP(t,e){var n=nt,r=er(),i=e(),s=!Er(r.memoizedState,i);if(s&&(r.memoizedState=i,fn=!0),r=r.queue,eb(lP.bind(null,n,r,t),[t]),r.getSnapshot!==e||s||xt!==null&&xt.memoizedState.tag&1){if(n.flags|=2048,Nu(9,oP.bind(null,n,r,i,e),void 0,null),kt===null)throw Error(M(349));ca&30||aP(n,e,i)}return i}function aP(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=nt.updateQueue,e===null?(e={lastEffect:null,stores:null},nt.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function oP(t,e,n,r){e.value=n,e.getSnapshot=r,uP(e)&&cP(t)}function lP(t,e,n){return n(function(){uP(e)&&cP(t)})}function uP(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Er(t,n)}catch{return!0}}function cP(t){var e=Ai(t,1);e!==null&&Sr(e,t,1,-1)}function hx(t){var e=Lr();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:$u,lastRenderedState:t},e.queue=t,t=t.dispatch=aj.bind(null,nt,t),[e.memoizedState,t]}function Nu(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=nt.updateQueue,e===null?(e={lastEffect:null,stores:null},nt.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function dP(){return er().memoizedState}function Hd(t,e,n,r){var i=Lr();nt.flags|=t,i.memoizedState=Nu(1|e,n,void 0,r===void 0?null:r)}function vp(t,e,n,r){var i=er();r=r===void 0?null:r;var s=void 0;if(vt!==null){var a=vt.memoizedState;if(s=a.destroy,r!==null&&X0(r,a.deps)){i.memoizedState=Nu(e,n,s,r);return}}nt.flags|=t,i.memoizedState=Nu(1|e,n,s,r)}function px(t,e){return Hd(8390656,8,t,e)}function eb(t,e){return vp(2048,8,t,e)}function fP(t,e){return vp(4,2,t,e)}function hP(t,e){return vp(4,4,t,e)}function pP(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function mP(t,e,n){return n=n!=null?n.concat([t]):null,vp(4,4,pP.bind(null,e,t),n)}function tb(){}function gP(t,e){var n=er();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&X0(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function yP(t,e){var n=er();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&X0(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function vP(t,e,n){return ca&21?(Er(n,e)||(n=kT(),nt.lanes|=n,da|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,fn=!0),t.memoizedState=n)}function ij(t,e){var n=$e;$e=n!==0&&4>n?n:4,t(!0);var r=Xm.transition;Xm.transition={};try{t(!1),e()}finally{$e=n,Xm.transition=r}}function bP(){return er().memoizedState}function sj(t,e,n){var r=ls(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},wP(t))_P(e,n);else if(n=tP(t,e,n,r),n!==null){var i=Yt();Sr(n,t,r,i),xP(n,e,r)}}function aj(t,e,n){var r=ls(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(wP(t))_P(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var a=e.lastRenderedState,o=s(a,n);if(i.hasEagerState=!0,i.eagerState=o,Er(o,a)){var l=e.interleaved;l===null?(i.next=i,q0(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}n=tP(t,e,i,r),n!==null&&(i=Yt(),Sr(n,t,r,i),xP(n,e,r))}}function wP(t){var e=t.alternate;return t===nt||e!==null&&e===nt}function _P(t,e){Jl=qf=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function xP(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,R0(t,n)}}var Zf={readContext:Qn,useCallback:Nt,useContext:Nt,useEffect:Nt,useImperativeHandle:Nt,useInsertionEffect:Nt,useLayoutEffect:Nt,useMemo:Nt,useReducer:Nt,useRef:Nt,useState:Nt,useDebugValue:Nt,useDeferredValue:Nt,useTransition:Nt,useMutableSource:Nt,useSyncExternalStore:Nt,useId:Nt,unstable_isNewReconciler:!1},oj={readContext:Qn,useCallback:function(t,e){return Lr().memoizedState=[t,e===void 0?null:e],t},useContext:Qn,useEffect:px,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Hd(4194308,4,pP.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Hd(4194308,4,t,e)},useInsertionEffect:function(t,e){return Hd(4,2,t,e)},useMemo:function(t,e){var n=Lr();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=Lr();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=sj.bind(null,nt,t),[r.memoizedState,t]},useRef:function(t){var e=Lr();return t={current:t},e.memoizedState=t},useState:hx,useDebugValue:tb,useDeferredValue:function(t){return Lr().memoizedState=t},useTransition:function(){var t=hx(!1),e=t[0];return t=ij.bind(null,t[1]),Lr().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=nt,i=Lr();if(Ke){if(n===void 0)throw Error(M(407));n=n()}else{if(n=e(),kt===null)throw Error(M(349));ca&30||aP(r,e,n)}i.memoizedState=n;var s={value:n,getSnapshot:e};return i.queue=s,px(lP.bind(null,r,s,t),[t]),r.flags|=2048,Nu(9,oP.bind(null,r,s,n,e),void 0,null),n},useId:function(){var t=Lr(),e=kt.identifierPrefix;if(Ke){var n=vi,r=yi;n=(r&~(1<<32-kr(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Ru++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=rj++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},lj={readContext:Qn,useCallback:gP,useContext:Qn,useEffect:eb,useImperativeHandle:mP,useInsertionEffect:fP,useLayoutEffect:hP,useMemo:yP,useReducer:Ym,useRef:dP,useState:function(){return Ym($u)},useDebugValue:tb,useDeferredValue:function(t){var e=er();return vP(e,vt.memoizedState,t)},useTransition:function(){var t=Ym($u)[0],e=er().memoizedState;return[t,e]},useMutableSource:iP,useSyncExternalStore:sP,useId:bP,unstable_isNewReconciler:!1},uj={readContext:Qn,useCallback:gP,useContext:Qn,useEffect:eb,useImperativeHandle:mP,useInsertionEffect:fP,useLayoutEffect:hP,useMemo:yP,useReducer:Qm,useRef:dP,useState:function(){return Qm($u)},useDebugValue:tb,useDeferredValue:function(t){var e=er();return vt===null?e.memoizedState=t:vP(e,vt.memoizedState,t)},useTransition:function(){var t=Qm($u)[0],e=er().memoizedState;return[t,e]},useMutableSource:iP,useSyncExternalStore:sP,useId:bP,unstable_isNewReconciler:!1};function gr(t,e){if(t&&t.defaultProps){e=rt({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function Wy(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:rt({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var bp={isMounted:function(t){return(t=t._reactInternals)?wa(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Yt(),i=ls(t),s=_i(r,i);s.payload=e,n!=null&&(s.callback=n),e=as(t,s,i),e!==null&&(Sr(e,t,i,r),Vd(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Yt(),i=ls(t),s=_i(r,i);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=as(t,s,i),e!==null&&(Sr(e,t,i,r),Vd(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Yt(),r=ls(t),i=_i(n,r);i.tag=2,e!=null&&(i.callback=e),e=as(t,i,r),e!==null&&(Sr(e,t,r,n),Vd(e,t,r))}};function mx(t,e,n,r,i,s,a){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,s,a):e.prototype&&e.prototype.isPureReactComponent?!Tu(n,r)||!Tu(i,s):!0}function kP(t,e,n){var r=!1,i=hs,s=e.contextType;return typeof s=="object"&&s!==null?s=Qn(s):(i=mn(e)?la:Wt.current,r=e.contextTypes,s=(r=r!=null)?Io(t,i):hs),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=bp,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function gx(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&bp.enqueueReplaceState(e,e.state,null)}function qy(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},Z0(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=Qn(s):(s=mn(e)?la:Wt.current,i.context=Io(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(Wy(t,e,s,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&bp.enqueueReplaceState(i,i.state,null),Hf(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function No(t,e){try{var n="",r=e;do n+=L$(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function eg(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function Zy(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var cj=typeof WeakMap=="function"?WeakMap:Map;function SP(t,e,n){n=_i(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Kf||(Kf=!0,rv=r),Zy(t,e)},n}function CP(t,e,n){n=_i(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){Zy(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){Zy(t,e),typeof r!="function"&&(os===null?os=new Set([this]):os.add(this));var a=e.stack;this.componentDidCatch(e.value,{componentStack:a!==null?a:""})}),n}function yx(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new cj;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=Sj.bind(null,t,e,n),e.then(t,t))}function vx(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function bx(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=_i(-1,1),e.tag=2,as(n,e,1))),n.lanes|=1),t)}var dj=$i.ReactCurrentOwner,fn=!1;function Kt(t,e,n,r){e.child=t===null?eP(e,null,n,r):Ro(e,t.child,n,r)}function wx(t,e,n,r,i){n=n.render;var s=e.ref;return mo(e,i),r=Y0(t,e,n,r,s,i),n=Q0(),t!==null&&!fn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Ii(t,e,i)):(Ke&&n&&F0(e),e.flags|=1,Kt(t,e,r,i),e.child)}function _x(t,e,n,r,i){if(t===null){var s=n.type;return typeof s=="function"&&!ub(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=s,TP(t,e,s,r,i)):(t=Gd(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var a=s.memoizedProps;if(n=n.compare,n=n!==null?n:Tu,n(a,r)&&t.ref===e.ref)return Ii(t,e,i)}return e.flags|=1,t=us(s,r),t.ref=e.ref,t.return=e,e.child=t}function TP(t,e,n,r,i){if(t!==null){var s=t.memoizedProps;if(Tu(s,r)&&t.ref===e.ref)if(fn=!1,e.pendingProps=r=s,(t.lanes&i)!==0)t.flags&131072&&(fn=!0);else return e.lanes=t.lanes,Ii(t,e,i)}return Gy(t,e,n,r,i)}function PP(t,e,n){var r=e.pendingProps,i=r.children,s=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ve(Ja,Tn),Tn|=n;else{if(!(n&1073741824))return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Ve(Ja,Tn),Tn|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,Ve(Ja,Tn),Tn|=r}else s!==null?(r=s.baseLanes|n,e.memoizedState=null):r=n,Ve(Ja,Tn),Tn|=r;return Kt(t,e,i,n),e.child}function EP(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function Gy(t,e,n,r,i){var s=mn(n)?la:Wt.current;return s=Io(e,s),mo(e,i),n=Y0(t,e,n,r,s,i),r=Q0(),t!==null&&!fn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Ii(t,e,i)):(Ke&&r&&F0(e),e.flags|=1,Kt(t,e,n,i),e.child)}function xx(t,e,n,r,i){if(mn(n)){var s=!0;Df(e)}else s=!1;if(mo(e,i),e.stateNode===null)Wd(t,e),kP(e,n,r),qy(e,n,r,i),r=!0;else if(t===null){var a=e.stateNode,o=e.memoizedProps;a.props=o;var l=a.context,u=n.contextType;typeof u=="object"&&u!==null?u=Qn(u):(u=mn(n)?la:Wt.current,u=Io(e,u));var c=n.getDerivedStateFromProps,d=typeof c=="function"||typeof a.getSnapshotBeforeUpdate=="function";d||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(o!==r||l!==u)&&gx(e,a,r,u),qi=!1;var f=e.memoizedState;a.state=f,Hf(e,r,a,i),l=e.memoizedState,o!==r||f!==l||pn.current||qi?(typeof c=="function"&&(Wy(e,n,c,r),l=e.memoizedState),(o=qi||mx(e,n,o,r,f,l,u))?(d||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(e.flags|=4194308)):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),a.props=r,a.state=l,a.context=u,r=o):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{a=e.stateNode,nP(t,e),o=e.memoizedProps,u=e.type===e.elementType?o:gr(e.type,o),a.props=u,d=e.pendingProps,f=a.context,l=n.contextType,typeof l=="object"&&l!==null?l=Qn(l):(l=mn(n)?la:Wt.current,l=Io(e,l));var h=n.getDerivedStateFromProps;(c=typeof h=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(o!==d||f!==l)&&gx(e,a,r,l),qi=!1,f=e.memoizedState,a.state=f,Hf(e,r,a,i);var p=e.memoizedState;o!==d||f!==p||pn.current||qi?(typeof h=="function"&&(Wy(e,n,h,r),p=e.memoizedState),(u=qi||mx(e,n,u,r,f,p,l)||!1)?(c||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(r,p,l),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(r,p,l)),typeof a.componentDidUpdate=="function"&&(e.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof a.componentDidUpdate!="function"||o===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||o===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=p),a.props=r,a.state=p,a.context=l,r=u):(typeof a.componentDidUpdate!="function"||o===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||o===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),r=!1)}return Ky(t,e,n,r,s,i)}function Ky(t,e,n,r,i,s){EP(t,e);var a=(e.flags&128)!==0;if(!r&&!a)return i&&ox(e,n,!1),Ii(t,e,s);r=e.stateNode,dj.current=e;var o=a&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&a?(e.child=Ro(e,t.child,null,s),e.child=Ro(e,null,o,s)):Kt(t,e,o,s),e.memoizedState=r.state,i&&ox(e,n,!0),e.child}function AP(t){var e=t.stateNode;e.pendingContext?ax(t,e.pendingContext,e.pendingContext!==e.context):e.context&&ax(t,e.context,!1),G0(t,e.containerInfo)}function kx(t,e,n,r,i){return Oo(),V0(i),e.flags|=256,Kt(t,e,n,r),e.child}var Jy={dehydrated:null,treeContext:null,retryLane:0};function Xy(t){return{baseLanes:t,cachePool:null,transitions:null}}function IP(t,e,n){var r=e.pendingProps,i=et.current,s=!1,a=(e.flags&128)!==0,o;if((o=a)||(o=t!==null&&t.memoizedState===null?!1:(i&2)!==0),o?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),Ve(et,i&1),t===null)return Uy(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(a=r.children,t=r.fallback,s?(r=e.mode,s=e.child,a={mode:"hidden",children:a},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=a):s=xp(a,r,0,null),t=ea(t,r,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=Xy(n),e.memoizedState=Jy,t):nb(e,a));if(i=t.memoizedState,i!==null&&(o=i.dehydrated,o!==null))return fj(t,e,a,r,o,i,n);if(s){s=r.fallback,a=e.mode,i=t.child,o=i.sibling;var l={mode:"hidden",children:r.children};return!(a&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=us(i,l),r.subtreeFlags=i.subtreeFlags&14680064),o!==null?s=us(o,s):(s=ea(s,a,n,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,a=t.child.memoizedState,a=a===null?Xy(n):{baseLanes:a.baseLanes|n,cachePool:null,transitions:a.transitions},s.memoizedState=a,s.childLanes=t.childLanes&~n,e.memoizedState=Jy,r}return s=t.child,t=s.sibling,r=us(s,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function nb(t,e){return e=xp({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function ud(t,e,n,r){return r!==null&&V0(r),Ro(e,t.child,null,n),t=nb(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function fj(t,e,n,r,i,s,a){if(n)return e.flags&256?(e.flags&=-257,r=eg(Error(M(422))),ud(t,e,a,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=r.fallback,i=e.mode,r=xp({mode:"visible",children:r.children},i,0,null),s=ea(s,i,a,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,e.mode&1&&Ro(e,t.child,null,a),e.child.memoizedState=Xy(a),e.memoizedState=Jy,s);if(!(e.mode&1))return ud(t,e,a,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var o=r.dgst;return r=o,s=Error(M(419)),r=eg(s,r,void 0),ud(t,e,a,r)}if(o=(a&t.childLanes)!==0,fn||o){if(r=kt,r!==null){switch(a&-a){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|a)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,Ai(t,i),Sr(r,t,i,-1))}return lb(),r=eg(Error(M(421))),ud(t,e,a,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=Cj.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,En=ss(i.nextSibling),An=e,Ke=!0,br=null,t!==null&&(qn[Zn++]=yi,qn[Zn++]=vi,qn[Zn++]=ua,yi=t.id,vi=t.overflow,ua=e),e=nb(e,r.children),e.flags|=4096,e)}function Sx(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),Hy(t.return,e,n)}function tg(t,e,n,r,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function OP(t,e,n){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(Kt(t,e,r.children,n),r=et.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Sx(t,n,e);else if(t.tag===19)Sx(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(Ve(et,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&Wf(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),tg(e,!1,i,n,s);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&Wf(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}tg(e,!0,n,null,s);break;case"together":tg(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Wd(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Ii(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),da|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(M(153));if(e.child!==null){for(t=e.child,n=us(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=us(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function hj(t,e,n){switch(e.tag){case 3:AP(e),Oo();break;case 5:rP(e);break;case 1:mn(e.type)&&Df(e);break;case 4:G0(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;Ve(Vf,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(Ve(et,et.current&1),e.flags|=128,null):n&e.child.childLanes?IP(t,e,n):(Ve(et,et.current&1),t=Ii(t,e,n),t!==null?t.sibling:null);Ve(et,et.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return OP(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Ve(et,et.current),r)break;return null;case 22:case 23:return e.lanes=0,PP(t,e,n)}return Ii(t,e,n)}var RP,Yy,$P,NP;RP=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Yy=function(){};$P=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,qs(Jr.current);var s=null;switch(n){case"input":i=wy(t,i),r=wy(t,r),s=[];break;case"select":i=rt({},i,{value:void 0}),r=rt({},r,{value:void 0}),s=[];break;case"textarea":i=ky(t,i),r=ky(t,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=Lf)}Cy(n,r);var a;n=null;for(u in i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var o=i[u];for(a in o)o.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(bu.hasOwnProperty(u)?s||(s=[]):(s=s||[]).push(u,null));for(u in r){var l=r[u];if(o=i!=null?i[u]:void 0,r.hasOwnProperty(u)&&l!==o&&(l!=null||o!=null))if(u==="style")if(o){for(a in o)!o.hasOwnProperty(a)||l&&l.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in l)l.hasOwnProperty(a)&&o[a]!==l[a]&&(n||(n={}),n[a]=l[a])}else n||(s||(s=[]),s.push(u,n)),n=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,o=o?o.__html:void 0,l!=null&&o!==l&&(s=s||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(bu.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&He("scroll",t),s||o===l||(s=[])):(s=s||[]).push(u,l))}n&&(s=s||[]).push("style",n);var u=s;(e.updateQueue=u)&&(e.flags|=4)}};NP=function(t,e,n,r){n!==r&&(e.flags|=4)};function fl(t,e){if(!Ke)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function jt(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function pj(t,e,n){var r=e.pendingProps;switch(B0(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return jt(e),null;case 1:return mn(e.type)&&zf(),jt(e),null;case 3:return r=e.stateNode,$o(),qe(pn),qe(Wt),J0(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(od(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,br!==null&&(av(br),br=null))),Yy(t,e),jt(e),null;case 5:K0(e);var i=qs(Ou.current);if(n=e.type,t!==null&&e.stateNode!=null)$P(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(M(166));return jt(e),null}if(t=qs(Jr.current),od(e)){r=e.stateNode,n=e.type;var s=e.memoizedProps;switch(r[Wr]=e,r[Au]=s,t=(e.mode&1)!==0,n){case"dialog":He("cancel",r),He("close",r);break;case"iframe":case"object":case"embed":He("load",r);break;case"video":case"audio":for(i=0;i<Sl.length;i++)He(Sl[i],r);break;case"source":He("error",r);break;case"img":case"image":case"link":He("error",r),He("load",r);break;case"details":He("toggle",r);break;case"input":$_(r,s),He("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},He("invalid",r);break;case"textarea":j_(r,s),He("invalid",r)}Cy(n,s),i=null;for(var a in s)if(s.hasOwnProperty(a)){var o=s[a];a==="children"?typeof o=="string"?r.textContent!==o&&(s.suppressHydrationWarning!==!0&&ad(r.textContent,o,t),i=["children",o]):typeof o=="number"&&r.textContent!==""+o&&(s.suppressHydrationWarning!==!0&&ad(r.textContent,o,t),i=["children",""+o]):bu.hasOwnProperty(a)&&o!=null&&a==="onScroll"&&He("scroll",r)}switch(n){case"input":Yc(r),N_(r,s,!0);break;case"textarea":Yc(r),M_(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=Lf)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{a=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=lT(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=a.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=a.createElement(n,{is:r.is}):(t=a.createElement(n),n==="select"&&(a=t,r.multiple?a.multiple=!0:r.size&&(a.size=r.size))):t=a.createElementNS(t,n),t[Wr]=e,t[Au]=r,RP(t,e,!1,!1),e.stateNode=t;e:{switch(a=Ty(n,r),n){case"dialog":He("cancel",t),He("close",t),i=r;break;case"iframe":case"object":case"embed":He("load",t),i=r;break;case"video":case"audio":for(i=0;i<Sl.length;i++)He(Sl[i],t);i=r;break;case"source":He("error",t),i=r;break;case"img":case"image":case"link":He("error",t),He("load",t),i=r;break;case"details":He("toggle",t),i=r;break;case"input":$_(t,r),i=wy(t,r),He("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=rt({},r,{value:void 0}),He("invalid",t);break;case"textarea":j_(t,r),i=ky(t,r),He("invalid",t);break;default:i=r}Cy(n,i),o=i;for(s in o)if(o.hasOwnProperty(s)){var l=o[s];s==="style"?dT(t,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&uT(t,l)):s==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&wu(t,l):typeof l=="number"&&wu(t,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(bu.hasOwnProperty(s)?l!=null&&s==="onScroll"&&He("scroll",t):l!=null&&T0(t,s,l,a))}switch(n){case"input":Yc(t),N_(t,r,!1);break;case"textarea":Yc(t),M_(t);break;case"option":r.value!=null&&t.setAttribute("value",""+fs(r.value));break;case"select":t.multiple=!!r.multiple,s=r.value,s!=null?co(t,!!r.multiple,s,!1):r.defaultValue!=null&&co(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=Lf)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return jt(e),null;case 6:if(t&&e.stateNode!=null)NP(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(M(166));if(n=qs(Ou.current),qs(Jr.current),od(e)){if(r=e.stateNode,n=e.memoizedProps,r[Wr]=e,(s=r.nodeValue!==n)&&(t=An,t!==null))switch(t.tag){case 3:ad(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&ad(r.nodeValue,n,(t.mode&1)!==0)}s&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Wr]=e,e.stateNode=r}return jt(e),null;case 13:if(qe(et),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Ke&&En!==null&&e.mode&1&&!(e.flags&128))YT(),Oo(),e.flags|=98560,s=!1;else if(s=od(e),r!==null&&r.dehydrated!==null){if(t===null){if(!s)throw Error(M(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(M(317));s[Wr]=e}else Oo(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;jt(e),s=!1}else br!==null&&(av(br),br=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||et.current&1?bt===0&&(bt=3):lb())),e.updateQueue!==null&&(e.flags|=4),jt(e),null);case 4:return $o(),Yy(t,e),t===null&&Pu(e.stateNode.containerInfo),jt(e),null;case 10:return W0(e.type._context),jt(e),null;case 17:return mn(e.type)&&zf(),jt(e),null;case 19:if(qe(et),s=e.memoizedState,s===null)return jt(e),null;if(r=(e.flags&128)!==0,a=s.rendering,a===null)if(r)fl(s,!1);else{if(bt!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(a=Wf(t),a!==null){for(e.flags|=128,fl(s,!1),r=a.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)s=n,t=r,s.flags&=14680066,a=s.alternate,a===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=a.childLanes,s.lanes=a.lanes,s.child=a.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=a.memoizedProps,s.memoizedState=a.memoizedState,s.updateQueue=a.updateQueue,s.type=a.type,t=a.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Ve(et,et.current&1|2),e.child}t=t.sibling}s.tail!==null&&dt()>jo&&(e.flags|=128,r=!0,fl(s,!1),e.lanes=4194304)}else{if(!r)if(t=Wf(a),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),fl(s,!0),s.tail===null&&s.tailMode==="hidden"&&!a.alternate&&!Ke)return jt(e),null}else 2*dt()-s.renderingStartTime>jo&&n!==1073741824&&(e.flags|=128,r=!0,fl(s,!1),e.lanes=4194304);s.isBackwards?(a.sibling=e.child,e.child=a):(n=s.last,n!==null?n.sibling=a:e.child=a,s.last=a)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=dt(),e.sibling=null,n=et.current,Ve(et,r?n&1|2:n&1),e):(jt(e),null);case 22:case 23:return ob(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Tn&1073741824&&(jt(e),e.subtreeFlags&6&&(e.flags|=8192)):jt(e),null;case 24:return null;case 25:return null}throw Error(M(156,e.tag))}function mj(t,e){switch(B0(e),e.tag){case 1:return mn(e.type)&&zf(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return $o(),qe(pn),qe(Wt),J0(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return K0(e),null;case 13:if(qe(et),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(M(340));Oo()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return qe(et),null;case 4:return $o(),null;case 10:return W0(e.type._context),null;case 22:case 23:return ob(),null;case 24:return null;default:return null}}var cd=!1,Dt=!1,gj=typeof WeakSet=="function"?WeakSet:Set,W=null;function Ka(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){lt(t,e,r)}else n.current=null}function Qy(t,e,n){try{n()}catch(r){lt(t,e,r)}}var Cx=!1;function yj(t,e){if(My=Nf,t=DT(),D0(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var a=0,o=-1,l=-1,u=0,c=0,d=t,f=null;t:for(;;){for(var h;d!==n||i!==0&&d.nodeType!==3||(o=a+i),d!==s||r!==0&&d.nodeType!==3||(l=a+r),d.nodeType===3&&(a+=d.nodeValue.length),(h=d.firstChild)!==null;)f=d,d=h;for(;;){if(d===t)break t;if(f===n&&++u===i&&(o=a),f===s&&++c===r&&(l=a),(h=d.nextSibling)!==null)break;d=f,f=d.parentNode}d=h}n=o===-1||l===-1?null:{start:o,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(Ly={focusedElem:t,selectionRange:n},Nf=!1,W=e;W!==null;)if(e=W,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,W=t;else for(;W!==null;){e=W;try{var p=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(p!==null){var y=p.memoizedProps,b=p.memoizedState,m=e.stateNode,g=m.getSnapshotBeforeUpdate(e.elementType===e.type?y:gr(e.type,y),b);m.__reactInternalSnapshotBeforeUpdate=g}break;case 3:var v=e.stateNode.containerInfo;v.nodeType===1?v.textContent="":v.nodeType===9&&v.documentElement&&v.removeChild(v.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(M(163))}}catch(x){lt(e,e.return,x)}if(t=e.sibling,t!==null){t.return=e.return,W=t;break}W=e.return}return p=Cx,Cx=!1,p}function Xl(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&Qy(e,n,s)}i=i.next}while(i!==r)}}function wp(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function ev(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function jP(t){var e=t.alternate;e!==null&&(t.alternate=null,jP(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Wr],delete e[Au],delete e[Fy],delete e[QN],delete e[ej])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function MP(t){return t.tag===5||t.tag===3||t.tag===4}function Tx(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||MP(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function tv(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Lf));else if(r!==4&&(t=t.child,t!==null))for(tv(t,e,n),t=t.sibling;t!==null;)tv(t,e,n),t=t.sibling}function nv(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(nv(t,e,n),t=t.sibling;t!==null;)nv(t,e,n),t=t.sibling}var Pt=null,vr=!1;function Mi(t,e,n){for(n=n.child;n!==null;)LP(t,e,n),n=n.sibling}function LP(t,e,n){if(Kr&&typeof Kr.onCommitFiberUnmount=="function")try{Kr.onCommitFiberUnmount(fp,n)}catch{}switch(n.tag){case 5:Dt||Ka(n,e);case 6:var r=Pt,i=vr;Pt=null,Mi(t,e,n),Pt=r,vr=i,Pt!==null&&(vr?(t=Pt,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):Pt.removeChild(n.stateNode));break;case 18:Pt!==null&&(vr?(t=Pt,n=n.stateNode,t.nodeType===8?Gm(t.parentNode,n):t.nodeType===1&&Gm(t,n),Su(t)):Gm(Pt,n.stateNode));break;case 4:r=Pt,i=vr,Pt=n.stateNode.containerInfo,vr=!0,Mi(t,e,n),Pt=r,vr=i;break;case 0:case 11:case 14:case 15:if(!Dt&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,a=s.destroy;s=s.tag,a!==void 0&&(s&2||s&4)&&Qy(n,e,a),i=i.next}while(i!==r)}Mi(t,e,n);break;case 1:if(!Dt&&(Ka(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(o){lt(n,e,o)}Mi(t,e,n);break;case 21:Mi(t,e,n);break;case 22:n.mode&1?(Dt=(r=Dt)||n.memoizedState!==null,Mi(t,e,n),Dt=r):Mi(t,e,n);break;default:Mi(t,e,n)}}function Px(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new gj),e.forEach(function(r){var i=Tj.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function or(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=t,a=e,o=a;e:for(;o!==null;){switch(o.tag){case 5:Pt=o.stateNode,vr=!1;break e;case 3:Pt=o.stateNode.containerInfo,vr=!0;break e;case 4:Pt=o.stateNode.containerInfo,vr=!0;break e}o=o.return}if(Pt===null)throw Error(M(160));LP(s,a,i),Pt=null,vr=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(u){lt(i,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)zP(e,t),e=e.sibling}function zP(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(or(e,t),Nr(t),r&4){try{Xl(3,t,t.return),wp(3,t)}catch(y){lt(t,t.return,y)}try{Xl(5,t,t.return)}catch(y){lt(t,t.return,y)}}break;case 1:or(e,t),Nr(t),r&512&&n!==null&&Ka(n,n.return);break;case 5:if(or(e,t),Nr(t),r&512&&n!==null&&Ka(n,n.return),t.flags&32){var i=t.stateNode;try{wu(i,"")}catch(y){lt(t,t.return,y)}}if(r&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,a=n!==null?n.memoizedProps:s,o=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{o==="input"&&s.type==="radio"&&s.name!=null&&aT(i,s),Ty(o,a);var u=Ty(o,s);for(a=0;a<l.length;a+=2){var c=l[a],d=l[a+1];c==="style"?dT(i,d):c==="dangerouslySetInnerHTML"?uT(i,d):c==="children"?wu(i,d):T0(i,c,d,u)}switch(o){case"input":_y(i,s);break;case"textarea":oT(i,s);break;case"select":var f=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var h=s.value;h!=null?co(i,!!s.multiple,h,!1):f!==!!s.multiple&&(s.defaultValue!=null?co(i,!!s.multiple,s.defaultValue,!0):co(i,!!s.multiple,s.multiple?[]:"",!1))}i[Au]=s}catch(y){lt(t,t.return,y)}}break;case 6:if(or(e,t),Nr(t),r&4){if(t.stateNode===null)throw Error(M(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(y){lt(t,t.return,y)}}break;case 3:if(or(e,t),Nr(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Su(e.containerInfo)}catch(y){lt(t,t.return,y)}break;case 4:or(e,t),Nr(t);break;case 13:or(e,t),Nr(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(sb=dt())),r&4&&Px(t);break;case 22:if(c=n!==null&&n.memoizedState!==null,t.mode&1?(Dt=(u=Dt)||c,or(e,t),Dt=u):or(e,t),Nr(t),r&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!c&&t.mode&1)for(W=t,c=t.child;c!==null;){for(d=W=c;W!==null;){switch(f=W,h=f.child,f.tag){case 0:case 11:case 14:case 15:Xl(4,f,f.return);break;case 1:Ka(f,f.return);var p=f.stateNode;if(typeof p.componentWillUnmount=="function"){r=f,n=f.return;try{e=r,p.props=e.memoizedProps,p.state=e.memoizedState,p.componentWillUnmount()}catch(y){lt(r,n,y)}}break;case 5:Ka(f,f.return);break;case 22:if(f.memoizedState!==null){Ax(d);continue}}h!==null?(h.return=f,W=h):Ax(d)}c=c.sibling}e:for(c=null,d=t;;){if(d.tag===5){if(c===null){c=d;try{i=d.stateNode,u?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(o=d.stateNode,l=d.memoizedProps.style,a=l!=null&&l.hasOwnProperty("display")?l.display:null,o.style.display=cT("display",a))}catch(y){lt(t,t.return,y)}}}else if(d.tag===6){if(c===null)try{d.stateNode.nodeValue=u?"":d.memoizedProps}catch(y){lt(t,t.return,y)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===t)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===t)break e;for(;d.sibling===null;){if(d.return===null||d.return===t)break e;c===d&&(c=null),d=d.return}c===d&&(c=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:or(e,t),Nr(t),r&4&&Px(t);break;case 21:break;default:or(e,t),Nr(t)}}function Nr(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(MP(n)){var r=n;break e}n=n.return}throw Error(M(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(wu(i,""),r.flags&=-33);var s=Tx(t);nv(t,s,i);break;case 3:case 4:var a=r.stateNode.containerInfo,o=Tx(t);tv(t,o,a);break;default:throw Error(M(161))}}catch(l){lt(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function vj(t,e,n){W=t,DP(t)}function DP(t,e,n){for(var r=(t.mode&1)!==0;W!==null;){var i=W,s=i.child;if(i.tag===22&&r){var a=i.memoizedState!==null||cd;if(!a){var o=i.alternate,l=o!==null&&o.memoizedState!==null||Dt;o=cd;var u=Dt;if(cd=a,(Dt=l)&&!u)for(W=i;W!==null;)a=W,l=a.child,a.tag===22&&a.memoizedState!==null?Ix(i):l!==null?(l.return=a,W=l):Ix(i);for(;s!==null;)W=s,DP(s),s=s.sibling;W=i,cd=o,Dt=u}Ex(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,W=s):Ex(t)}}function Ex(t){for(;W!==null;){var e=W;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Dt||wp(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Dt)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:gr(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&fx(e,s,r);break;case 3:var a=e.updateQueue;if(a!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}fx(e,a,n)}break;case 5:var o=e.stateNode;if(n===null&&e.flags&4){n=o;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var c=u.memoizedState;if(c!==null){var d=c.dehydrated;d!==null&&Su(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(M(163))}Dt||e.flags&512&&ev(e)}catch(f){lt(e,e.return,f)}}if(e===t){W=null;break}if(n=e.sibling,n!==null){n.return=e.return,W=n;break}W=e.return}}function Ax(t){for(;W!==null;){var e=W;if(e===t){W=null;break}var n=e.sibling;if(n!==null){n.return=e.return,W=n;break}W=e.return}}function Ix(t){for(;W!==null;){var e=W;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{wp(4,e)}catch(l){lt(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){lt(e,i,l)}}var s=e.return;try{ev(e)}catch(l){lt(e,s,l)}break;case 5:var a=e.return;try{ev(e)}catch(l){lt(e,a,l)}}}catch(l){lt(e,e.return,l)}if(e===t){W=null;break}var o=e.sibling;if(o!==null){o.return=e.return,W=o;break}W=e.return}}var bj=Math.ceil,Gf=$i.ReactCurrentDispatcher,rb=$i.ReactCurrentOwner,Xn=$i.ReactCurrentBatchConfig,be=0,kt=null,yt=null,Rt=0,Tn=0,Ja=xs(0),bt=0,ju=null,da=0,_p=0,ib=0,Yl=null,un=null,sb=0,jo=1/0,hi=null,Kf=!1,rv=null,os=null,dd=!1,es=null,Jf=0,Ql=0,iv=null,qd=-1,Zd=0;function Yt(){return be&6?dt():qd!==-1?qd:qd=dt()}function ls(t){return t.mode&1?be&2&&Rt!==0?Rt&-Rt:nj.transition!==null?(Zd===0&&(Zd=kT()),Zd):(t=$e,t!==0||(t=window.event,t=t===void 0?16:IT(t.type)),t):1}function Sr(t,e,n,r){if(50<Ql)throw Ql=0,iv=null,Error(M(185));gc(t,n,r),(!(be&2)||t!==kt)&&(t===kt&&(!(be&2)&&(_p|=n),bt===4&&Ji(t,Rt)),gn(t,r),n===1&&be===0&&!(e.mode&1)&&(jo=dt()+500,yp&&ks()))}function gn(t,e){var n=t.callbackNode;nN(t,e);var r=$f(t,t===kt?Rt:0);if(r===0)n!==null&&D_(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&D_(n),e===1)t.tag===0?tj(Ox.bind(null,t)):KT(Ox.bind(null,t)),XN(function(){!(be&6)&&ks()}),n=null;else{switch(ST(r)){case 1:n=O0;break;case 4:n=_T;break;case 16:n=Rf;break;case 536870912:n=xT;break;default:n=Rf}n=ZP(n,FP.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function FP(t,e){if(qd=-1,Zd=0,be&6)throw Error(M(327));var n=t.callbackNode;if(go()&&t.callbackNode!==n)return null;var r=$f(t,t===kt?Rt:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=Xf(t,r);else{e=r;var i=be;be|=2;var s=VP();(kt!==t||Rt!==e)&&(hi=null,jo=dt()+500,Qs(t,e));do try{xj();break}catch(o){BP(t,o)}while(!0);H0(),Gf.current=s,be=i,yt!==null?e=0:(kt=null,Rt=0,e=bt)}if(e!==0){if(e===2&&(i=Oy(t),i!==0&&(r=i,e=sv(t,i))),e===1)throw n=ju,Qs(t,0),Ji(t,r),gn(t,dt()),n;if(e===6)Ji(t,r);else{if(i=t.current.alternate,!(r&30)&&!wj(i)&&(e=Xf(t,r),e===2&&(s=Oy(t),s!==0&&(r=s,e=sv(t,s))),e===1))throw n=ju,Qs(t,0),Ji(t,r),gn(t,dt()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(M(345));case 2:Ns(t,un,hi);break;case 3:if(Ji(t,r),(r&130023424)===r&&(e=sb+500-dt(),10<e)){if($f(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){Yt(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=Dy(Ns.bind(null,t,un,hi),e);break}Ns(t,un,hi);break;case 4:if(Ji(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var a=31-kr(r);s=1<<a,a=e[a],a>i&&(i=a),r&=~s}if(r=i,r=dt()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*bj(r/1960))-r,10<r){t.timeoutHandle=Dy(Ns.bind(null,t,un,hi),r);break}Ns(t,un,hi);break;case 5:Ns(t,un,hi);break;default:throw Error(M(329))}}}return gn(t,dt()),t.callbackNode===n?FP.bind(null,t):null}function sv(t,e){var n=Yl;return t.current.memoizedState.isDehydrated&&(Qs(t,e).flags|=256),t=Xf(t,e),t!==2&&(e=un,un=n,e!==null&&av(e)),t}function av(t){un===null?un=t:un.push.apply(un,t)}function wj(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!Er(s(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Ji(t,e){for(e&=~ib,e&=~_p,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-kr(e),r=1<<n;t[n]=-1,e&=~r}}function Ox(t){if(be&6)throw Error(M(327));go();var e=$f(t,0);if(!(e&1))return gn(t,dt()),null;var n=Xf(t,e);if(t.tag!==0&&n===2){var r=Oy(t);r!==0&&(e=r,n=sv(t,r))}if(n===1)throw n=ju,Qs(t,0),Ji(t,e),gn(t,dt()),n;if(n===6)throw Error(M(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Ns(t,un,hi),gn(t,dt()),null}function ab(t,e){var n=be;be|=1;try{return t(e)}finally{be=n,be===0&&(jo=dt()+500,yp&&ks())}}function fa(t){es!==null&&es.tag===0&&!(be&6)&&go();var e=be;be|=1;var n=Xn.transition,r=$e;try{if(Xn.transition=null,$e=1,t)return t()}finally{$e=r,Xn.transition=n,be=e,!(be&6)&&ks()}}function ob(){Tn=Ja.current,qe(Ja)}function Qs(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,JN(n)),yt!==null)for(n=yt.return;n!==null;){var r=n;switch(B0(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&zf();break;case 3:$o(),qe(pn),qe(Wt),J0();break;case 5:K0(r);break;case 4:$o();break;case 13:qe(et);break;case 19:qe(et);break;case 10:W0(r.type._context);break;case 22:case 23:ob()}n=n.return}if(kt=t,yt=t=us(t.current,null),Rt=Tn=e,bt=0,ju=null,ib=_p=da=0,un=Yl=null,Ws!==null){for(e=0;e<Ws.length;e++)if(n=Ws[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var a=s.next;s.next=i,r.next=a}n.pending=r}Ws=null}return t}function BP(t,e){do{var n=yt;try{if(H0(),Ud.current=Zf,qf){for(var r=nt.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}qf=!1}if(ca=0,xt=vt=nt=null,Jl=!1,Ru=0,rb.current=null,n===null||n.return===null){bt=1,ju=e,yt=null;break}e:{var s=t,a=n.return,o=n,l=e;if(e=Rt,o.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,c=o,d=c.tag;if(!(c.mode&1)&&(d===0||d===11||d===15)){var f=c.alternate;f?(c.updateQueue=f.updateQueue,c.memoizedState=f.memoizedState,c.lanes=f.lanes):(c.updateQueue=null,c.memoizedState=null)}var h=vx(a);if(h!==null){h.flags&=-257,bx(h,a,o,s,e),h.mode&1&&yx(s,u,e),e=h,l=u;var p=e.updateQueue;if(p===null){var y=new Set;y.add(l),e.updateQueue=y}else p.add(l);break e}else{if(!(e&1)){yx(s,u,e),lb();break e}l=Error(M(426))}}else if(Ke&&o.mode&1){var b=vx(a);if(b!==null){!(b.flags&65536)&&(b.flags|=256),bx(b,a,o,s,e),V0(No(l,o));break e}}s=l=No(l,o),bt!==4&&(bt=2),Yl===null?Yl=[s]:Yl.push(s),s=a;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var m=SP(s,l,e);dx(s,m);break e;case 1:o=l;var g=s.type,v=s.stateNode;if(!(s.flags&128)&&(typeof g.getDerivedStateFromError=="function"||v!==null&&typeof v.componentDidCatch=="function"&&(os===null||!os.has(v)))){s.flags|=65536,e&=-e,s.lanes|=e;var x=CP(s,o,e);dx(s,x);break e}}s=s.return}while(s!==null)}HP(n)}catch(C){e=C,yt===n&&n!==null&&(yt=n=n.return);continue}break}while(!0)}function VP(){var t=Gf.current;return Gf.current=Zf,t===null?Zf:t}function lb(){(bt===0||bt===3||bt===2)&&(bt=4),kt===null||!(da&268435455)&&!(_p&268435455)||Ji(kt,Rt)}function Xf(t,e){var n=be;be|=2;var r=VP();(kt!==t||Rt!==e)&&(hi=null,Qs(t,e));do try{_j();break}catch(i){BP(t,i)}while(!0);if(H0(),be=n,Gf.current=r,yt!==null)throw Error(M(261));return kt=null,Rt=0,bt}function _j(){for(;yt!==null;)UP(yt)}function xj(){for(;yt!==null&&!Z$();)UP(yt)}function UP(t){var e=qP(t.alternate,t,Tn);t.memoizedProps=t.pendingProps,e===null?HP(t):yt=e,rb.current=null}function HP(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=mj(n,e),n!==null){n.flags&=32767,yt=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{bt=6,yt=null;return}}else if(n=pj(n,e,Tn),n!==null){yt=n;return}if(e=e.sibling,e!==null){yt=e;return}yt=e=t}while(e!==null);bt===0&&(bt=5)}function Ns(t,e,n){var r=$e,i=Xn.transition;try{Xn.transition=null,$e=1,kj(t,e,n,r)}finally{Xn.transition=i,$e=r}return null}function kj(t,e,n,r){do go();while(es!==null);if(be&6)throw Error(M(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(M(177));t.callbackNode=null,t.callbackPriority=0;var s=n.lanes|n.childLanes;if(rN(t,s),t===kt&&(yt=kt=null,Rt=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||dd||(dd=!0,ZP(Rf,function(){return go(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=Xn.transition,Xn.transition=null;var a=$e;$e=1;var o=be;be|=4,rb.current=null,yj(t,n),zP(n,t),UN(Ly),Nf=!!My,Ly=My=null,t.current=n,vj(n),G$(),be=o,$e=a,Xn.transition=s}else t.current=n;if(dd&&(dd=!1,es=t,Jf=i),s=t.pendingLanes,s===0&&(os=null),X$(n.stateNode),gn(t,dt()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Kf)throw Kf=!1,t=rv,rv=null,t;return Jf&1&&t.tag!==0&&go(),s=t.pendingLanes,s&1?t===iv?Ql++:(Ql=0,iv=t):Ql=0,ks(),null}function go(){if(es!==null){var t=ST(Jf),e=Xn.transition,n=$e;try{if(Xn.transition=null,$e=16>t?16:t,es===null)var r=!1;else{if(t=es,es=null,Jf=0,be&6)throw Error(M(331));var i=be;for(be|=4,W=t.current;W!==null;){var s=W,a=s.child;if(W.flags&16){var o=s.deletions;if(o!==null){for(var l=0;l<o.length;l++){var u=o[l];for(W=u;W!==null;){var c=W;switch(c.tag){case 0:case 11:case 15:Xl(8,c,s)}var d=c.child;if(d!==null)d.return=c,W=d;else for(;W!==null;){c=W;var f=c.sibling,h=c.return;if(jP(c),c===u){W=null;break}if(f!==null){f.return=h,W=f;break}W=h}}}var p=s.alternate;if(p!==null){var y=p.child;if(y!==null){p.child=null;do{var b=y.sibling;y.sibling=null,y=b}while(y!==null)}}W=s}}if(s.subtreeFlags&2064&&a!==null)a.return=s,W=a;else e:for(;W!==null;){if(s=W,s.flags&2048)switch(s.tag){case 0:case 11:case 15:Xl(9,s,s.return)}var m=s.sibling;if(m!==null){m.return=s.return,W=m;break e}W=s.return}}var g=t.current;for(W=g;W!==null;){a=W;var v=a.child;if(a.subtreeFlags&2064&&v!==null)v.return=a,W=v;else e:for(a=g;W!==null;){if(o=W,o.flags&2048)try{switch(o.tag){case 0:case 11:case 15:wp(9,o)}}catch(C){lt(o,o.return,C)}if(o===a){W=null;break e}var x=o.sibling;if(x!==null){x.return=o.return,W=x;break e}W=o.return}}if(be=i,ks(),Kr&&typeof Kr.onPostCommitFiberRoot=="function")try{Kr.onPostCommitFiberRoot(fp,t)}catch{}r=!0}return r}finally{$e=n,Xn.transition=e}}return!1}function Rx(t,e,n){e=No(n,e),e=SP(t,e,1),t=as(t,e,1),e=Yt(),t!==null&&(gc(t,1,e),gn(t,e))}function lt(t,e,n){if(t.tag===3)Rx(t,t,n);else for(;e!==null;){if(e.tag===3){Rx(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(os===null||!os.has(r))){t=No(n,t),t=CP(e,t,1),e=as(e,t,1),t=Yt(),e!==null&&(gc(e,1,t),gn(e,t));break}}e=e.return}}function Sj(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=Yt(),t.pingedLanes|=t.suspendedLanes&n,kt===t&&(Rt&n)===n&&(bt===4||bt===3&&(Rt&130023424)===Rt&&500>dt()-sb?Qs(t,0):ib|=n),gn(t,e)}function WP(t,e){e===0&&(t.mode&1?(e=td,td<<=1,!(td&130023424)&&(td=4194304)):e=1);var n=Yt();t=Ai(t,e),t!==null&&(gc(t,e,n),gn(t,n))}function Cj(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),WP(t,n)}function Tj(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(M(314))}r!==null&&r.delete(e),WP(t,n)}var qP;qP=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||pn.current)fn=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return fn=!1,hj(t,e,n);fn=!!(t.flags&131072)}else fn=!1,Ke&&e.flags&1048576&&JT(e,Bf,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Wd(t,e),t=e.pendingProps;var i=Io(e,Wt.current);mo(e,n),i=Y0(null,e,r,t,i,n);var s=Q0();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,mn(r)?(s=!0,Df(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,Z0(e),i.updater=bp,e.stateNode=i,i._reactInternals=e,qy(e,r,t,n),e=Ky(null,e,r,!0,s,n)):(e.tag=0,Ke&&s&&F0(e),Kt(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(Wd(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=Ej(r),t=gr(r,t),i){case 0:e=Gy(null,e,r,t,n);break e;case 1:e=xx(null,e,r,t,n);break e;case 11:e=wx(null,e,r,t,n);break e;case 14:e=_x(null,e,r,gr(r.type,t),n);break e}throw Error(M(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:gr(r,i),Gy(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:gr(r,i),xx(t,e,r,i,n);case 3:e:{if(AP(e),t===null)throw Error(M(387));r=e.pendingProps,s=e.memoizedState,i=s.element,nP(t,e),Hf(e,r,null,n);var a=e.memoizedState;if(r=a.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=No(Error(M(423)),e),e=kx(t,e,r,n,i);break e}else if(r!==i){i=No(Error(M(424)),e),e=kx(t,e,r,n,i);break e}else for(En=ss(e.stateNode.containerInfo.firstChild),An=e,Ke=!0,br=null,n=eP(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Oo(),r===i){e=Ii(t,e,n);break e}Kt(t,e,r,n)}e=e.child}return e;case 5:return rP(e),t===null&&Uy(e),r=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,a=i.children,zy(r,i)?a=null:s!==null&&zy(r,s)&&(e.flags|=32),EP(t,e),Kt(t,e,a,n),e.child;case 6:return t===null&&Uy(e),null;case 13:return IP(t,e,n);case 4:return G0(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Ro(e,null,r,n):Kt(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:gr(r,i),wx(t,e,r,i,n);case 7:return Kt(t,e,e.pendingProps,n),e.child;case 8:return Kt(t,e,e.pendingProps.children,n),e.child;case 12:return Kt(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,a=i.value,Ve(Vf,r._currentValue),r._currentValue=a,s!==null)if(Er(s.value,a)){if(s.children===i.children&&!pn.current){e=Ii(t,e,n);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var o=s.dependencies;if(o!==null){a=s.child;for(var l=o.firstContext;l!==null;){if(l.context===r){if(s.tag===1){l=_i(-1,n&-n),l.tag=2;var u=s.updateQueue;if(u!==null){u=u.shared;var c=u.pending;c===null?l.next=l:(l.next=c.next,c.next=l),u.pending=l}}s.lanes|=n,l=s.alternate,l!==null&&(l.lanes|=n),Hy(s.return,n,e),o.lanes|=n;break}l=l.next}}else if(s.tag===10)a=s.type===e.type?null:s.child;else if(s.tag===18){if(a=s.return,a===null)throw Error(M(341));a.lanes|=n,o=a.alternate,o!==null&&(o.lanes|=n),Hy(a,n,e),a=s.sibling}else a=s.child;if(a!==null)a.return=s;else for(a=s;a!==null;){if(a===e){a=null;break}if(s=a.sibling,s!==null){s.return=a.return,a=s;break}a=a.return}s=a}Kt(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,mo(e,n),i=Qn(i),r=r(i),e.flags|=1,Kt(t,e,r,n),e.child;case 14:return r=e.type,i=gr(r,e.pendingProps),i=gr(r.type,i),_x(t,e,r,i,n);case 15:return TP(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:gr(r,i),Wd(t,e),e.tag=1,mn(r)?(t=!0,Df(e)):t=!1,mo(e,n),kP(e,r,i),qy(e,r,i,n),Ky(null,e,r,!0,t,n);case 19:return OP(t,e,n);case 22:return PP(t,e,n)}throw Error(M(156,e.tag))};function ZP(t,e){return wT(t,e)}function Pj(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Kn(t,e,n,r){return new Pj(t,e,n,r)}function ub(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Ej(t){if(typeof t=="function")return ub(t)?1:0;if(t!=null){if(t=t.$$typeof,t===E0)return 11;if(t===A0)return 14}return 2}function us(t,e){var n=t.alternate;return n===null?(n=Kn(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Gd(t,e,n,r,i,s){var a=2;if(r=t,typeof t=="function")ub(t)&&(a=1);else if(typeof t=="string")a=5;else e:switch(t){case Fa:return ea(n.children,i,s,e);case P0:a=8,i|=8;break;case gy:return t=Kn(12,n,e,i|2),t.elementType=gy,t.lanes=s,t;case yy:return t=Kn(13,n,e,i),t.elementType=yy,t.lanes=s,t;case vy:return t=Kn(19,n,e,i),t.elementType=vy,t.lanes=s,t;case rT:return xp(n,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case tT:a=10;break e;case nT:a=9;break e;case E0:a=11;break e;case A0:a=14;break e;case Wi:a=16,r=null;break e}throw Error(M(130,t==null?t:typeof t,""))}return e=Kn(a,n,e,i),e.elementType=t,e.type=r,e.lanes=s,e}function ea(t,e,n,r){return t=Kn(7,t,r,e),t.lanes=n,t}function xp(t,e,n,r){return t=Kn(22,t,r,e),t.elementType=rT,t.lanes=n,t.stateNode={isHidden:!1},t}function ng(t,e,n){return t=Kn(6,t,null,e),t.lanes=n,t}function rg(t,e,n){return e=Kn(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function Aj(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Lm(0),this.expirationTimes=Lm(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Lm(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function cb(t,e,n,r,i,s,a,o,l){return t=new Aj(t,e,n,o,l),e===1?(e=1,s===!0&&(e|=8)):e=0,s=Kn(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Z0(s),t}function Ij(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Da,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function GP(t){if(!t)return hs;t=t._reactInternals;e:{if(wa(t)!==t||t.tag!==1)throw Error(M(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(mn(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(M(171))}if(t.tag===1){var n=t.type;if(mn(n))return GT(t,n,e)}return e}function KP(t,e,n,r,i,s,a,o,l){return t=cb(n,r,!0,t,i,s,a,o,l),t.context=GP(null),n=t.current,r=Yt(),i=ls(n),s=_i(r,i),s.callback=e??null,as(n,s,i),t.current.lanes=i,gc(t,i,r),gn(t,r),t}function kp(t,e,n,r){var i=e.current,s=Yt(),a=ls(i);return n=GP(n),e.context===null?e.context=n:e.pendingContext=n,e=_i(s,a),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=as(i,e,a),t!==null&&(Sr(t,i,a,s),Vd(t,i,a)),a}function Yf(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function $x(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function db(t,e){$x(t,e),(t=t.alternate)&&$x(t,e)}function Oj(){return null}var JP=typeof reportError=="function"?reportError:function(t){console.error(t)};function fb(t){this._internalRoot=t}Sp.prototype.render=fb.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(M(409));kp(t,e,null,null)};Sp.prototype.unmount=fb.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;fa(function(){kp(null,t,null,null)}),e[Ei]=null}};function Sp(t){this._internalRoot=t}Sp.prototype.unstable_scheduleHydration=function(t){if(t){var e=PT();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Ki.length&&e!==0&&e<Ki[n].priority;n++);Ki.splice(n,0,t),n===0&&AT(t)}};function hb(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Cp(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function Nx(){}function Rj(t,e,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var u=Yf(a);s.call(u)}}var a=KP(e,r,t,0,null,!1,!1,"",Nx);return t._reactRootContainer=a,t[Ei]=a.current,Pu(t.nodeType===8?t.parentNode:t),fa(),a}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var o=r;r=function(){var u=Yf(l);o.call(u)}}var l=cb(t,0,!1,null,null,!1,!1,"",Nx);return t._reactRootContainer=l,t[Ei]=l.current,Pu(t.nodeType===8?t.parentNode:t),fa(function(){kp(e,l,n,r)}),l}function Tp(t,e,n,r,i){var s=n._reactRootContainer;if(s){var a=s;if(typeof i=="function"){var o=i;i=function(){var l=Yf(a);o.call(l)}}kp(e,a,t,i)}else a=Rj(n,e,t,i,r);return Yf(a)}CT=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=kl(e.pendingLanes);n!==0&&(R0(e,n|1),gn(e,dt()),!(be&6)&&(jo=dt()+500,ks()))}break;case 13:fa(function(){var r=Ai(t,1);if(r!==null){var i=Yt();Sr(r,t,1,i)}}),db(t,1)}};$0=function(t){if(t.tag===13){var e=Ai(t,134217728);if(e!==null){var n=Yt();Sr(e,t,134217728,n)}db(t,134217728)}};TT=function(t){if(t.tag===13){var e=ls(t),n=Ai(t,e);if(n!==null){var r=Yt();Sr(n,t,e,r)}db(t,e)}};PT=function(){return $e};ET=function(t,e){var n=$e;try{return $e=t,e()}finally{$e=n}};Ey=function(t,e,n){switch(e){case"input":if(_y(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=gp(r);if(!i)throw Error(M(90));sT(r),_y(r,i)}}}break;case"textarea":oT(t,n);break;case"select":e=n.value,e!=null&&co(t,!!n.multiple,e,!1)}};pT=ab;mT=fa;var $j={usingClientEntryPoint:!1,Events:[vc,Ha,gp,fT,hT,ab]},hl={findFiberByHostInstance:Hs,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Nj={bundleType:hl.bundleType,version:hl.version,rendererPackageName:hl.rendererPackageName,rendererConfig:hl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:$i.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=vT(t),t===null?null:t.stateNode},findFiberByHostInstance:hl.findFiberByHostInstance||Oj,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var fd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!fd.isDisabled&&fd.supportsFiber)try{fp=fd.inject(Nj),Kr=fd}catch{}}Mn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=$j;Mn.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!hb(e))throw Error(M(200));return Ij(t,e,null,n)};Mn.createRoot=function(t,e){if(!hb(t))throw Error(M(299));var n=!1,r="",i=JP;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=cb(t,1,!1,null,null,n,!1,r,i),t[Ei]=e.current,Pu(t.nodeType===8?t.parentNode:t),new fb(e)};Mn.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(M(188)):(t=Object.keys(t).join(","),Error(M(268,t)));return t=vT(e),t=t===null?null:t.stateNode,t};Mn.flushSync=function(t){return fa(t)};Mn.hydrate=function(t,e,n){if(!Cp(e))throw Error(M(200));return Tp(null,t,e,!0,n)};Mn.hydrateRoot=function(t,e,n){if(!hb(t))throw Error(M(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",a=JP;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(a=n.onRecoverableError)),e=KP(e,null,t,1,n??null,i,!1,s,a),t[Ei]=e.current,Pu(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new Sp(e)};Mn.render=function(t,e,n){if(!Cp(e))throw Error(M(200));return Tp(null,t,e,!1,n)};Mn.unmountComponentAtNode=function(t){if(!Cp(t))throw Error(M(40));return t._reactRootContainer?(fa(function(){Tp(null,null,t,!1,function(){t._reactRootContainer=null,t[Ei]=null})}),!0):!1};Mn.unstable_batchedUpdates=ab;Mn.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Cp(n))throw Error(M(200));if(t==null||t._reactInternals===void 0)throw Error(M(38));return Tp(t,e,n,!1,r)};Mn.version="18.3.1-next-f1338f8080-20240426";function XP(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(XP)}catch(t){console.error(t)}}XP(),XC.exports=Mn;var pb=XC.exports,jx=pb;py.createRoot=jx.createRoot,py.hydrateRoot=jx.hydrateRoot;function jj(t){if(t.sheet)return t.sheet;for(var e=0;e<document.styleSheets.length;e++)if(document.styleSheets[e].ownerNode===t)return document.styleSheets[e]}function Mj(t){var e=document.createElement("style");return e.setAttribute("data-emotion",t.key),t.nonce!==void 0&&e.setAttribute("nonce",t.nonce),e.appendChild(document.createTextNode("")),e.setAttribute("data-s",""),e}var Lj=function(){function t(n){var r=this;this._insertTag=function(i){var s;r.tags.length===0?r.insertionPoint?s=r.insertionPoint.nextSibling:r.prepend?s=r.container.firstChild:s=r.before:s=r.tags[r.tags.length-1].nextSibling,r.container.insertBefore(i,s),r.tags.push(i)},this.isSpeedy=n.speedy===void 0?!0:n.speedy,this.tags=[],this.ctr=0,this.nonce=n.nonce,this.key=n.key,this.container=n.container,this.prepend=n.prepend,this.insertionPoint=n.insertionPoint,this.before=null}var e=t.prototype;return e.hydrate=function(r){r.forEach(this._insertTag)},e.insert=function(r){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(Mj(this));var i=this.tags[this.tags.length-1];if(this.isSpeedy){var s=jj(i);try{s.insertRule(r,s.cssRules.length)}catch{}}else i.appendChild(document.createTextNode(r));this.ctr++},e.flush=function(){this.tags.forEach(function(r){return r.parentNode&&r.parentNode.removeChild(r)}),this.tags=[],this.ctr=0},t}(),Mt="-ms-",Qf="-moz-",Te="-webkit-",YP="comm",mb="rule",gb="decl",zj="@import",QP="@keyframes",Dj="@layer",Fj=Math.abs,Pp=String.fromCharCode,Bj=Object.assign;function Vj(t,e){return It(t,0)^45?(((e<<2^It(t,0))<<2^It(t,1))<<2^It(t,2))<<2^It(t,3):0}function eE(t){return t.trim()}function Uj(t,e){return(t=e.exec(t))?t[0]:t}function Pe(t,e,n){return t.replace(e,n)}function ov(t,e){return t.indexOf(e)}function It(t,e){return t.charCodeAt(e)|0}function Mu(t,e,n){return t.slice(e,n)}function Vr(t){return t.length}function yb(t){return t.length}function hd(t,e){return e.push(t),t}function Hj(t,e){return t.map(e).join("")}var Ep=1,Mo=1,tE=0,vn=0,gt=0,qo="";function Ap(t,e,n,r,i,s,a){return{value:t,root:e,parent:n,type:r,props:i,children:s,line:Ep,column:Mo,length:a,return:""}}function pl(t,e){return Bj(Ap("",null,null,"",null,null,0),t,{length:-t.length},e)}function Wj(){return gt}function qj(){return gt=vn>0?It(qo,--vn):0,Mo--,gt===10&&(Mo=1,Ep--),gt}function In(){return gt=vn<tE?It(qo,vn++):0,Mo++,gt===10&&(Mo=1,Ep++),gt}function Xr(){return It(qo,vn)}function Kd(){return vn}function wc(t,e){return Mu(qo,t,e)}function Lu(t){switch(t){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function nE(t){return Ep=Mo=1,tE=Vr(qo=t),vn=0,[]}function rE(t){return qo="",t}function Jd(t){return eE(wc(vn-1,lv(t===91?t+2:t===40?t+1:t)))}function Zj(t){for(;(gt=Xr())&&gt<33;)In();return Lu(t)>2||Lu(gt)>3?"":" "}function Gj(t,e){for(;--e&&In()&&!(gt<48||gt>102||gt>57&&gt<65||gt>70&&gt<97););return wc(t,Kd()+(e<6&&Xr()==32&&In()==32))}function lv(t){for(;In();)switch(gt){case t:return vn;case 34:case 39:t!==34&&t!==39&&lv(gt);break;case 40:t===41&&lv(t);break;case 92:In();break}return vn}function Kj(t,e){for(;In()&&t+gt!==57;)if(t+gt===84&&Xr()===47)break;return"/*"+wc(e,vn-1)+"*"+Pp(t===47?t:In())}function Jj(t){for(;!Lu(Xr());)In();return wc(t,vn)}function Xj(t){return rE(Xd("",null,null,null,[""],t=nE(t),0,[0],t))}function Xd(t,e,n,r,i,s,a,o,l){for(var u=0,c=0,d=a,f=0,h=0,p=0,y=1,b=1,m=1,g=0,v="",x=i,C=s,k=r,I=v;b;)switch(p=g,g=In()){case 40:if(p!=108&&It(I,d-1)==58){ov(I+=Pe(Jd(g),"&","&\f"),"&\f")!=-1&&(m=-1);break}case 34:case 39:case 91:I+=Jd(g);break;case 9:case 10:case 13:case 32:I+=Zj(p);break;case 92:I+=Gj(Kd()-1,7);continue;case 47:switch(Xr()){case 42:case 47:hd(Yj(Kj(In(),Kd()),e,n),l);break;default:I+="/"}break;case 123*y:o[u++]=Vr(I)*m;case 125*y:case 59:case 0:switch(g){case 0:case 125:b=0;case 59+c:m==-1&&(I=Pe(I,/\f/g,"")),h>0&&Vr(I)-d&&hd(h>32?Lx(I+";",r,n,d-1):Lx(Pe(I," ","")+";",r,n,d-2),l);break;case 59:I+=";";default:if(hd(k=Mx(I,e,n,u,c,i,o,v,x=[],C=[],d),s),g===123)if(c===0)Xd(I,e,k,k,x,s,d,o,C);else switch(f===99&&It(I,3)===110?100:f){case 100:case 108:case 109:case 115:Xd(t,k,k,r&&hd(Mx(t,k,k,0,0,i,o,v,i,x=[],d),C),i,C,d,o,r?x:C);break;default:Xd(I,k,k,k,[""],C,0,o,C)}}u=c=h=0,y=m=1,v=I="",d=a;break;case 58:d=1+Vr(I),h=p;default:if(y<1){if(g==123)--y;else if(g==125&&y++==0&&qj()==125)continue}switch(I+=Pp(g),g*y){case 38:m=c>0?1:(I+="\f",-1);break;case 44:o[u++]=(Vr(I)-1)*m,m=1;break;case 64:Xr()===45&&(I+=Jd(In())),f=Xr(),c=d=Vr(v=I+=Jj(Kd())),g++;break;case 45:p===45&&Vr(I)==2&&(y=0)}}return s}function Mx(t,e,n,r,i,s,a,o,l,u,c){for(var d=i-1,f=i===0?s:[""],h=yb(f),p=0,y=0,b=0;p<r;++p)for(var m=0,g=Mu(t,d+1,d=Fj(y=a[p])),v=t;m<h;++m)(v=eE(y>0?f[m]+" "+g:Pe(g,/&\f/g,f[m])))&&(l[b++]=v);return Ap(t,e,n,i===0?mb:o,l,u,c)}function Yj(t,e,n){return Ap(t,e,n,YP,Pp(Wj()),Mu(t,2,-2),0)}function Lx(t,e,n,r){return Ap(t,e,n,gb,Mu(t,0,r),Mu(t,r+1,-1),r)}function yo(t,e){for(var n="",r=yb(t),i=0;i<r;i++)n+=e(t[i],i,t,e)||"";return n}function Qj(t,e,n,r){switch(t.type){case Dj:if(t.children.length)break;case zj:case gb:return t.return=t.return||t.value;case YP:return"";case QP:return t.return=t.value+"{"+yo(t.children,r)+"}";case mb:t.value=t.props.join(",")}return Vr(n=yo(t.children,r))?t.return=t.value+"{"+n+"}":""}function eM(t){var e=yb(t);return function(n,r,i,s){for(var a="",o=0;o<e;o++)a+=t[o](n,r,i,s)||"";return a}}function tM(t){return function(e){e.root||(e=e.return)&&t(e)}}var zx=function(e){var n=new WeakMap;return function(r){if(n.has(r))return n.get(r);var i=e(r);return n.set(r,i),i}};function iE(t){var e=Object.create(null);return function(n){return e[n]===void 0&&(e[n]=t(n)),e[n]}}var nM=function(e,n,r){for(var i=0,s=0;i=s,s=Xr(),i===38&&s===12&&(n[r]=1),!Lu(s);)In();return wc(e,vn)},rM=function(e,n){var r=-1,i=44;do switch(Lu(i)){case 0:i===38&&Xr()===12&&(n[r]=1),e[r]+=nM(vn-1,n,r);break;case 2:e[r]+=Jd(i);break;case 4:if(i===44){e[++r]=Xr()===58?"&\f":"",n[r]=e[r].length;break}default:e[r]+=Pp(i)}while(i=In());return e},iM=function(e,n){return rE(rM(nE(e),n))},Dx=new WeakMap,sM=function(e){if(!(e.type!=="rule"||!e.parent||e.length<1)){for(var n=e.value,r=e.parent,i=e.column===r.column&&e.line===r.line;r.type!=="rule";)if(r=r.parent,!r)return;if(!(e.props.length===1&&n.charCodeAt(0)!==58&&!Dx.get(r))&&!i){Dx.set(e,!0);for(var s=[],a=iM(n,s),o=r.props,l=0,u=0;l<a.length;l++)for(var c=0;c<o.length;c++,u++)e.props[u]=s[l]?a[l].replace(/&\f/g,o[c]):o[c]+" "+a[l]}}},aM=function(e){if(e.type==="decl"){var n=e.value;n.charCodeAt(0)===108&&n.charCodeAt(2)===98&&(e.return="",e.value="")}};function sE(t,e){switch(Vj(t,e)){case 5103:return Te+"print-"+t+t;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return Te+t+t;case 5349:case 4246:case 4810:case 6968:case 2756:return Te+t+Qf+t+Mt+t+t;case 6828:case 4268:return Te+t+Mt+t+t;case 6165:return Te+t+Mt+"flex-"+t+t;case 5187:return Te+t+Pe(t,/(\w+).+(:[^]+)/,Te+"box-$1$2"+Mt+"flex-$1$2")+t;case 5443:return Te+t+Mt+"flex-item-"+Pe(t,/flex-|-self/,"")+t;case 4675:return Te+t+Mt+"flex-line-pack"+Pe(t,/align-content|flex-|-self/,"")+t;case 5548:return Te+t+Mt+Pe(t,"shrink","negative")+t;case 5292:return Te+t+Mt+Pe(t,"basis","preferred-size")+t;case 6060:return Te+"box-"+Pe(t,"-grow","")+Te+t+Mt+Pe(t,"grow","positive")+t;case 4554:return Te+Pe(t,/([^-])(transform)/g,"$1"+Te+"$2")+t;case 6187:return Pe(Pe(Pe(t,/(zoom-|grab)/,Te+"$1"),/(image-set)/,Te+"$1"),t,"")+t;case 5495:case 3959:return Pe(t,/(image-set\([^]*)/,Te+"$1$`$1");case 4968:return Pe(Pe(t,/(.+:)(flex-)?(.*)/,Te+"box-pack:$3"+Mt+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+Te+t+t;case 4095:case 3583:case 4068:case 2532:return Pe(t,/(.+)-inline(.+)/,Te+"$1$2")+t;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(Vr(t)-1-e>6)switch(It(t,e+1)){case 109:if(It(t,e+4)!==45)break;case 102:return Pe(t,/(.+:)(.+)-([^]+)/,"$1"+Te+"$2-$3$1"+Qf+(It(t,e+3)==108?"$3":"$2-$3"))+t;case 115:return~ov(t,"stretch")?sE(Pe(t,"stretch","fill-available"),e)+t:t}break;case 4949:if(It(t,e+1)!==115)break;case 6444:switch(It(t,Vr(t)-3-(~ov(t,"!important")&&10))){case 107:return Pe(t,":",":"+Te)+t;case 101:return Pe(t,/(.+:)([^;!]+)(;|!.+)?/,"$1"+Te+(It(t,14)===45?"inline-":"")+"box$3$1"+Te+"$2$3$1"+Mt+"$2box$3")+t}break;case 5936:switch(It(t,e+11)){case 114:return Te+t+Mt+Pe(t,/[svh]\w+-[tblr]{2}/,"tb")+t;case 108:return Te+t+Mt+Pe(t,/[svh]\w+-[tblr]{2}/,"tb-rl")+t;case 45:return Te+t+Mt+Pe(t,/[svh]\w+-[tblr]{2}/,"lr")+t}return Te+t+Mt+t+t}return t}var oM=function(e,n,r,i){if(e.length>-1&&!e.return)switch(e.type){case gb:e.return=sE(e.value,e.length);break;case QP:return yo([pl(e,{value:Pe(e.value,"@","@"+Te)})],i);case mb:if(e.length)return Hj(e.props,function(s){switch(Uj(s,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return yo([pl(e,{props:[Pe(s,/:(read-\w+)/,":"+Qf+"$1")]})],i);case"::placeholder":return yo([pl(e,{props:[Pe(s,/:(plac\w+)/,":"+Te+"input-$1")]}),pl(e,{props:[Pe(s,/:(plac\w+)/,":"+Qf+"$1")]}),pl(e,{props:[Pe(s,/:(plac\w+)/,Mt+"input-$1")]})],i)}return""})}},lM=[oM],uM=function(e){var n=e.key;if(n==="css"){var r=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(r,function(y){var b=y.getAttribute("data-emotion");b.indexOf(" ")!==-1&&(document.head.appendChild(y),y.setAttribute("data-s",""))})}var i=e.stylisPlugins||lM,s={},a,o=[];a=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+n+' "]'),function(y){for(var b=y.getAttribute("data-emotion").split(" "),m=1;m<b.length;m++)s[b[m]]=!0;o.push(y)});var l,u=[sM,aM];{var c,d=[Qj,tM(function(y){c.insert(y)})],f=eM(u.concat(i,d)),h=function(b){return yo(Xj(b),f)};l=function(b,m,g,v){c=g,h(b?b+"{"+m.styles+"}":m.styles),v&&(p.inserted[m.name]=!0)}}var p={key:n,sheet:new Lj({key:n,container:a,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:s,registered:{},insert:l};return p.sheet.hydrate(o),p};function eh(){return eh=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},eh.apply(this,arguments)}var aE={exports:{}},Ne={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var St=typeof Symbol=="function"&&Symbol.for,vb=St?Symbol.for("react.element"):60103,bb=St?Symbol.for("react.portal"):60106,Ip=St?Symbol.for("react.fragment"):60107,Op=St?Symbol.for("react.strict_mode"):60108,Rp=St?Symbol.for("react.profiler"):60114,$p=St?Symbol.for("react.provider"):60109,Np=St?Symbol.for("react.context"):60110,wb=St?Symbol.for("react.async_mode"):60111,jp=St?Symbol.for("react.concurrent_mode"):60111,Mp=St?Symbol.for("react.forward_ref"):60112,Lp=St?Symbol.for("react.suspense"):60113,cM=St?Symbol.for("react.suspense_list"):60120,zp=St?Symbol.for("react.memo"):60115,Dp=St?Symbol.for("react.lazy"):60116,dM=St?Symbol.for("react.block"):60121,fM=St?Symbol.for("react.fundamental"):60117,hM=St?Symbol.for("react.responder"):60118,pM=St?Symbol.for("react.scope"):60119;function zn(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case vb:switch(t=t.type,t){case wb:case jp:case Ip:case Rp:case Op:case Lp:return t;default:switch(t=t&&t.$$typeof,t){case Np:case Mp:case Dp:case zp:case $p:return t;default:return e}}case bb:return e}}}function oE(t){return zn(t)===jp}Ne.AsyncMode=wb;Ne.ConcurrentMode=jp;Ne.ContextConsumer=Np;Ne.ContextProvider=$p;Ne.Element=vb;Ne.ForwardRef=Mp;Ne.Fragment=Ip;Ne.Lazy=Dp;Ne.Memo=zp;Ne.Portal=bb;Ne.Profiler=Rp;Ne.StrictMode=Op;Ne.Suspense=Lp;Ne.isAsyncMode=function(t){return oE(t)||zn(t)===wb};Ne.isConcurrentMode=oE;Ne.isContextConsumer=function(t){return zn(t)===Np};Ne.isContextProvider=function(t){return zn(t)===$p};Ne.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===vb};Ne.isForwardRef=function(t){return zn(t)===Mp};Ne.isFragment=function(t){return zn(t)===Ip};Ne.isLazy=function(t){return zn(t)===Dp};Ne.isMemo=function(t){return zn(t)===zp};Ne.isPortal=function(t){return zn(t)===bb};Ne.isProfiler=function(t){return zn(t)===Rp};Ne.isStrictMode=function(t){return zn(t)===Op};Ne.isSuspense=function(t){return zn(t)===Lp};Ne.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===Ip||t===jp||t===Rp||t===Op||t===Lp||t===cM||typeof t=="object"&&t!==null&&(t.$$typeof===Dp||t.$$typeof===zp||t.$$typeof===$p||t.$$typeof===Np||t.$$typeof===Mp||t.$$typeof===fM||t.$$typeof===hM||t.$$typeof===pM||t.$$typeof===dM)};Ne.typeOf=zn;aE.exports=Ne;var mM=aE.exports,lE=mM,gM={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},yM={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},uE={};uE[lE.ForwardRef]=gM;uE[lE.Memo]=yM;var vM=!0;function bM(t,e,n){var r="";return n.split(" ").forEach(function(i){t[i]!==void 0?e.push(t[i]+";"):r+=i+" "}),r}var cE=function(e,n,r){var i=e.key+"-"+n.name;(r===!1||vM===!1)&&e.registered[i]===void 0&&(e.registered[i]=n.styles)},dE=function(e,n,r){cE(e,n,r);var i=e.key+"-"+n.name;if(e.inserted[n.name]===void 0){var s=n;do e.insert(n===s?"."+i:"",s,e.sheet,!0),s=s.next;while(s!==void 0)}};function wM(t){for(var e=0,n,r=0,i=t.length;i>=4;++r,i-=4)n=t.charCodeAt(r)&255|(t.charCodeAt(++r)&255)<<8|(t.charCodeAt(++r)&255)<<16|(t.charCodeAt(++r)&255)<<24,n=(n&65535)*1540483477+((n>>>16)*59797<<16),n^=n>>>24,e=(n&65535)*1540483477+((n>>>16)*59797<<16)^(e&65535)*1540483477+((e>>>16)*59797<<16);switch(i){case 3:e^=(t.charCodeAt(r+2)&255)<<16;case 2:e^=(t.charCodeAt(r+1)&255)<<8;case 1:e^=t.charCodeAt(r)&255,e=(e&65535)*1540483477+((e>>>16)*59797<<16)}return e^=e>>>13,e=(e&65535)*1540483477+((e>>>16)*59797<<16),((e^e>>>15)>>>0).toString(36)}var _M={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},xM=/[A-Z]|^ms/g,kM=/_EMO_([^_]+?)_([^]*?)_EMO_/g,fE=function(e){return e.charCodeAt(1)===45},Fx=function(e){return e!=null&&typeof e!="boolean"},ig=iE(function(t){return fE(t)?t:t.replace(xM,"-$&").toLowerCase()}),Bx=function(e,n){switch(e){case"animation":case"animationName":if(typeof n=="string")return n.replace(kM,function(r,i,s){return Ur={name:i,styles:s,next:Ur},i})}return _M[e]!==1&&!fE(e)&&typeof n=="number"&&n!==0?n+"px":n};function zu(t,e,n){if(n==null)return"";if(n.__emotion_styles!==void 0)return n;switch(typeof n){case"boolean":return"";case"object":{if(n.anim===1)return Ur={name:n.name,styles:n.styles,next:Ur},n.name;if(n.styles!==void 0){var r=n.next;if(r!==void 0)for(;r!==void 0;)Ur={name:r.name,styles:r.styles,next:Ur},r=r.next;var i=n.styles+";";return i}return SM(t,e,n)}case"function":{if(t!==void 0){var s=Ur,a=n(t);return Ur=s,zu(t,e,a)}break}}if(e==null)return n;var o=e[n];return o!==void 0?o:n}function SM(t,e,n){var r="";if(Array.isArray(n))for(var i=0;i<n.length;i++)r+=zu(t,e,n[i])+";";else for(var s in n){var a=n[s];if(typeof a!="object")e!=null&&e[a]!==void 0?r+=s+"{"+e[a]+"}":Fx(a)&&(r+=ig(s)+":"+Bx(s,a)+";");else if(Array.isArray(a)&&typeof a[0]=="string"&&(e==null||e[a[0]]===void 0))for(var o=0;o<a.length;o++)Fx(a[o])&&(r+=ig(s)+":"+Bx(s,a[o])+";");else{var l=zu(t,e,a);switch(s){case"animation":case"animationName":{r+=ig(s)+":"+l+";";break}default:r+=s+"{"+l+"}"}}}return r}var Vx=/label:\s*([^\s;\n{]+)\s*(;|$)/g,Ur,_b=function(e,n,r){if(e.length===1&&typeof e[0]=="object"&&e[0]!==null&&e[0].styles!==void 0)return e[0];var i=!0,s="";Ur=void 0;var a=e[0];a==null||a.raw===void 0?(i=!1,s+=zu(r,n,a)):s+=a[0];for(var o=1;o<e.length;o++)s+=zu(r,n,e[o]),i&&(s+=a[o]);Vx.lastIndex=0;for(var l="",u;(u=Vx.exec(s))!==null;)l+="-"+u[1];var c=wM(s)+l;return{name:c,styles:s,next:Ur}},CM=function(e){return e()},hE=A_.useInsertionEffect?A_.useInsertionEffect:!1,TM=hE||CM,Ux=hE||A.useLayoutEffect,pE=A.createContext(typeof HTMLElement<"u"?uM({key:"css"}):null);pE.Provider;var mE=function(e){return A.forwardRef(function(n,r){var i=A.useContext(pE);return e(n,i,r)})},Du=A.createContext({}),PM=function(e,n){if(typeof n=="function"){var r=n(e);return r}return eh({},e,n)},EM=zx(function(t){return zx(function(e){return PM(t,e)})}),AM=function(e){var n=A.useContext(Du);return e.theme!==n&&(n=EM(n)(e.theme)),A.createElement(Du.Provider,{value:n},e.children)},Fp=mE(function(t,e){var n=t.styles,r=_b([n],void 0,A.useContext(Du)),i=A.useRef();return Ux(function(){var s=e.key+"-global",a=new e.sheet.constructor({key:s,nonce:e.sheet.nonce,container:e.sheet.container,speedy:e.sheet.isSpeedy}),o=!1,l=document.querySelector('style[data-emotion="'+s+" "+r.name+'"]');return e.sheet.tags.length&&(a.before=e.sheet.tags[0]),l!==null&&(o=!0,l.setAttribute("data-emotion",s),a.hydrate([l])),i.current=[a,o],function(){a.flush()}},[e]),Ux(function(){var s=i.current,a=s[0],o=s[1];if(o){s[1]=!1;return}if(r.next!==void 0&&dE(e,r.next,!0),a.tags.length){var l=a.tags[a.tags.length-1].nextElementSibling;a.before=l,a.flush()}e.insert("",r,a,!1)},[e,r.name]),null});function IM(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return _b(e)}var OM=function(){var e=IM.apply(void 0,arguments),n="animation-"+e.name;return{name:n,styles:"@keyframes "+n+"{"+e.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}},gE=String.raw,yE=gE`
  :root,
  :host {
    --chakra-vh: 100vh;
  }

  @supports (height: -webkit-fill-available) {
    :root,
    :host {
      --chakra-vh: -webkit-fill-available;
    }
  }

  @supports (height: -moz-fill-available) {
    :root,
    :host {
      --chakra-vh: -moz-fill-available;
    }
  }

  @supports (height: 100dvh) {
    :root,
    :host {
      --chakra-vh: 100dvh;
    }
  }
`,RM=()=>O.jsx(Fp,{styles:yE}),$M=({scope:t=""})=>O.jsx(Fp,{styles:gE`
      html {
        line-height: 1.5;
        -webkit-text-size-adjust: 100%;
        font-family: system-ui, sans-serif;
        -webkit-font-smoothing: antialiased;
        text-rendering: optimizeLegibility;
        -moz-osx-font-smoothing: grayscale;
        touch-action: manipulation;
      }

      body {
        position: relative;
        min-height: 100%;
        margin: 0;
        font-feature-settings: "kern";
      }

      ${t} :where(*, *::before, *::after) {
        border-width: 0;
        border-style: solid;
        box-sizing: border-box;
        word-wrap: break-word;
      }

      main {
        display: block;
      }

      ${t} hr {
        border-top-width: 1px;
        box-sizing: content-box;
        height: 0;
        overflow: visible;
      }

      ${t} :where(pre, code, kbd,samp) {
        font-family: SFMono-Regular, Menlo, Monaco, Consolas, monospace;
        font-size: 1em;
      }

      ${t} a {
        background-color: transparent;
        color: inherit;
        text-decoration: inherit;
      }

      ${t} abbr[title] {
        border-bottom: none;
        text-decoration: underline;
        -webkit-text-decoration: underline dotted;
        text-decoration: underline dotted;
      }

      ${t} :where(b, strong) {
        font-weight: bold;
      }

      ${t} small {
        font-size: 80%;
      }

      ${t} :where(sub,sup) {
        font-size: 75%;
        line-height: 0;
        position: relative;
        vertical-align: baseline;
      }

      ${t} sub {
        bottom: -0.25em;
      }

      ${t} sup {
        top: -0.5em;
      }

      ${t} img {
        border-style: none;
      }

      ${t} :where(button, input, optgroup, select, textarea) {
        font-family: inherit;
        font-size: 100%;
        line-height: 1.15;
        margin: 0;
      }

      ${t} :where(button, input) {
        overflow: visible;
      }

      ${t} :where(button, select) {
        text-transform: none;
      }

      ${t} :where(
          button::-moz-focus-inner,
          [type="button"]::-moz-focus-inner,
          [type="reset"]::-moz-focus-inner,
          [type="submit"]::-moz-focus-inner
        ) {
        border-style: none;
        padding: 0;
      }

      ${t} fieldset {
        padding: 0.35em 0.75em 0.625em;
      }

      ${t} legend {
        box-sizing: border-box;
        color: inherit;
        display: table;
        max-width: 100%;
        padding: 0;
        white-space: normal;
      }

      ${t} progress {
        vertical-align: baseline;
      }

      ${t} textarea {
        overflow: auto;
      }

      ${t} :where([type="checkbox"], [type="radio"]) {
        box-sizing: border-box;
        padding: 0;
      }

      ${t} input[type="number"]::-webkit-inner-spin-button,
      ${t} input[type="number"]::-webkit-outer-spin-button {
        -webkit-appearance: none !important;
      }

      ${t} input[type="number"] {
        -moz-appearance: textfield;
      }

      ${t} input[type="search"] {
        -webkit-appearance: textfield;
        outline-offset: -2px;
      }

      ${t} input[type="search"]::-webkit-search-decoration {
        -webkit-appearance: none !important;
      }

      ${t} ::-webkit-file-upload-button {
        -webkit-appearance: button;
        font: inherit;
      }

      ${t} details {
        display: block;
      }

      ${t} summary {
        display: list-item;
      }

      template {
        display: none;
      }

      [hidden] {
        display: none !important;
      }

      ${t} :where(
          blockquote,
          dl,
          dd,
          h1,
          h2,
          h3,
          h4,
          h5,
          h6,
          hr,
          figure,
          p,
          pre
        ) {
        margin: 0;
      }

      ${t} button {
        background: transparent;
        padding: 0;
      }

      ${t} fieldset {
        margin: 0;
        padding: 0;
      }

      ${t} :where(ol, ul) {
        margin: 0;
        padding: 0;
      }

      ${t} textarea {
        resize: vertical;
      }

      ${t} :where(button, [role="button"]) {
        cursor: pointer;
      }

      ${t} button::-moz-focus-inner {
        border: 0 !important;
      }

      ${t} table {
        border-collapse: collapse;
      }

      ${t} :where(h1, h2, h3, h4, h5, h6) {
        font-size: inherit;
        font-weight: inherit;
      }

      ${t} :where(button, input, optgroup, select, textarea) {
        padding: 0;
        line-height: inherit;
        color: inherit;
      }

      ${t} :where(img, svg, video, canvas, audio, iframe, embed, object) {
        display: block;
      }

      ${t} :where(img, video) {
        max-width: 100%;
        height: auto;
      }

      [data-js-focus-visible]
        :focus:not([data-focus-visible-added]):not(
          [data-focus-visible-disabled]
        ) {
        outline: none;
        box-shadow: none;
      }

      ${t} select::-ms-expand {
        display: none;
      }

      ${yE}
    `});function NM(t,e){return`${t} returned \`undefined\`. Seems you forgot to wrap component within ${e}`}function Dn(t={}){const{name:e,strict:n=!0,hookName:r="useContext",providerName:i="Provider",errorMessage:s,defaultValue:a}=t,o=A.createContext(a);o.displayName=e;function l(){var u;const c=A.useContext(o);if(!c&&n){const d=new Error(s??NM(r,i));throw d.name="ContextError",(u=Error.captureStackTrace)==null||u.call(Error,d,l),d}return c}return[o.Provider,l,o]}var[jM,MM]=Dn({strict:!1,name:"PortalManagerContext"});function vE(t){const{children:e,zIndex:n}=t;return O.jsx(jM,{value:{zIndex:n},children:e})}vE.displayName="PortalManager";var th=globalThis!=null&&globalThis.document?A.useLayoutEffect:A.useEffect,[bE,LM]=Dn({strict:!1,name:"PortalContext"}),xb="chakra-portal",zM=".chakra-portal",DM=t=>O.jsx("div",{className:"chakra-portal-zIndex",style:{position:"absolute",zIndex:t.zIndex,top:0,left:0,right:0},children:t.children}),FM=t=>{const{appendToParentPortal:e,children:n}=t,[r,i]=A.useState(null),s=A.useRef(null),[,a]=A.useState({});A.useEffect(()=>a({}),[]);const o=LM(),l=MM();th(()=>{if(!r)return;const c=r.ownerDocument,d=e?o??c.body:c.body;if(!d)return;s.current=c.createElement("div"),s.current.className=xb,d.appendChild(s.current),a({});const f=s.current;return()=>{d.contains(f)&&d.removeChild(f)}},[r]);const u=l!=null&&l.zIndex?O.jsx(DM,{zIndex:l==null?void 0:l.zIndex,children:n}):n;return s.current?pb.createPortal(O.jsx(bE,{value:s.current,children:u}),s.current):O.jsx("span",{ref:c=>{c&&i(c)}})},BM=t=>{const{children:e,containerRef:n,appendToParentPortal:r}=t,i=n.current,s=i??(typeof window<"u"?document.body:void 0),a=A.useMemo(()=>{const l=i==null?void 0:i.ownerDocument.createElement("div");return l&&(l.className=xb),l},[i]),[,o]=A.useState({});return th(()=>o({}),[]),th(()=>{if(!(!a||!s))return s.appendChild(a),()=>{s.removeChild(a)}},[a,s]),s&&a?pb.createPortal(O.jsx(bE,{value:r?a:null,children:e}),a):null};function Bp(t){const e={appendToParentPortal:!0,...t},{containerRef:n,...r}=e;return n?O.jsx(BM,{containerRef:n,...r}):O.jsx(FM,{...r})}Bp.className=xb;Bp.selector=zM;Bp.displayName="Portal";function VM(){const t=A.useContext(Du);if(!t)throw Error("useTheme: `theme` is undefined. Seems you forgot to wrap your app in `<ChakraProvider />` or `<ThemeProvider />`");return t}var kb=A.createContext({});kb.displayName="ColorModeContext";function Sb(){const t=A.useContext(kb);if(t===void 0)throw new Error("useColorMode must be used within a ColorModeProvider");return t}var pd={light:"chakra-ui-light",dark:"chakra-ui-dark"};function UM(t={}){const{preventTransition:e=!0}=t,n={setDataset:r=>{const i=e?n.preventTransition():void 0;document.documentElement.dataset.theme=r,document.documentElement.style.colorScheme=r,i==null||i()},setClassName(r){document.body.classList.add(r?pd.dark:pd.light),document.body.classList.remove(r?pd.light:pd.dark)},query(){return window.matchMedia("(prefers-color-scheme: dark)")},getSystemTheme(r){var i;return((i=n.query().matches)!=null?i:r==="dark")?"dark":"light"},addListener(r){const i=n.query(),s=a=>{r(a.matches?"dark":"light")};return typeof i.addListener=="function"?i.addListener(s):i.addEventListener("change",s),()=>{typeof i.removeListener=="function"?i.removeListener(s):i.removeEventListener("change",s)}},preventTransition(){const r=document.createElement("style");return r.appendChild(document.createTextNode("*{-webkit-transition:none!important;-moz-transition:none!important;-o-transition:none!important;-ms-transition:none!important;transition:none!important}")),document.head.appendChild(r),()=>{window.getComputedStyle(document.body),requestAnimationFrame(()=>{requestAnimationFrame(()=>{document.head.removeChild(r)})})}}};return n}var HM="chakra-ui-color-mode";function WM(t){return{ssr:!1,type:"localStorage",get(e){if(!(globalThis!=null&&globalThis.document))return e;let n;try{n=localStorage.getItem(t)||e}catch{}return n||e},set(e){try{localStorage.setItem(t,e)}catch{}}}}var qM=WM(HM),Hx=()=>{};function Wx(t,e){return t.type==="cookie"&&t.ssr?t.get(e):e}function wE(t){const{value:e,children:n,options:{useSystemColorMode:r,initialColorMode:i,disableTransitionOnChange:s}={},colorModeManager:a=qM}=t,o=i==="dark"?"dark":"light",[l,u]=A.useState(()=>Wx(a,o)),[c,d]=A.useState(()=>Wx(a)),{getSystemTheme:f,setClassName:h,setDataset:p,addListener:y}=A.useMemo(()=>UM({preventTransition:s}),[s]),b=i==="system"&&!l?c:l,m=A.useCallback(x=>{const C=x==="system"?f():x;u(C),h(C==="dark"),p(C),a.set(C)},[a,f,h,p]);th(()=>{i==="system"&&d(f())},[]),A.useEffect(()=>{const x=a.get();if(x){m(x);return}if(i==="system"){m("system");return}m(o)},[a,o,i,m]);const g=A.useCallback(()=>{m(b==="dark"?"light":"dark")},[b,m]);A.useEffect(()=>{if(r)return y(m)},[r,y,m]);const v=A.useMemo(()=>({colorMode:e??b,toggleColorMode:e?Hx:g,setColorMode:e?Hx:m,forced:e!==void 0}),[b,g,m,e]);return O.jsx(kb.Provider,{value:v,children:n})}wE.displayName="ColorModeProvider";function ZM(){const t=Sb(),e=VM();return{...t,theme:e}}var it=(...t)=>t.filter(Boolean).join(" ");function GM(){return!1}function Cr(t){const e=typeof t;return t!=null&&(e==="object"||e==="function")&&!Array.isArray(t)}var _c=t=>{const{condition:e,message:n}=t;e&&GM()&&console.warn(n)};function ts(t,...e){return KM(t)?t(...e):t}var KM=t=>typeof t=="function",zr=t=>t?"":void 0,sg=t=>t?!0:void 0;function eu(...t){return function(n){t.some(r=>(r==null||r(n),n==null?void 0:n.defaultPrevented))}}var nh={exports:{}};nh.exports;(function(t,e){var n=200,r="__lodash_hash_undefined__",i=800,s=16,a=9007199254740991,o="[object Arguments]",l="[object Array]",u="[object AsyncFunction]",c="[object Boolean]",d="[object Date]",f="[object Error]",h="[object Function]",p="[object GeneratorFunction]",y="[object Map]",b="[object Number]",m="[object Null]",g="[object Object]",v="[object Proxy]",x="[object RegExp]",C="[object Set]",k="[object String]",I="[object Undefined]",R="[object WeakMap]",j="[object ArrayBuffer]",T="[object DataView]",F="[object Float32Array]",q="[object Float64Array]",ue="[object Int8Array]",_e="[object Int16Array]",J="[object Int32Array]",we="[object Uint8Array]",Me="[object Uint8ClampedArray]",B="[object Uint16Array]",X="[object Uint32Array]",_=/[\\^$.*+?()[\]{}|]/g,he=/^\[object .+?Constructor\]$/,Oe=/^(?:0|[1-9]\d*)$/,S={};S[F]=S[q]=S[ue]=S[_e]=S[J]=S[we]=S[Me]=S[B]=S[X]=!0,S[o]=S[l]=S[j]=S[c]=S[T]=S[d]=S[f]=S[h]=S[y]=S[b]=S[g]=S[x]=S[C]=S[k]=S[R]=!1;var at=typeof za=="object"&&za&&za.Object===Object&&za,wn=typeof self=="object"&&self&&self.Object===Object&&self,xe=at||wn||Function("return this")(),_n=e&&!e.nodeType&&e,sn=_n&&!0&&t&&!t.nodeType&&t,ai=sn&&sn.exports===_n,rr=ai&&at.process,ka=function(){try{var w=sn&&sn.require&&sn.require("util").types;return w||rr&&rr.binding&&rr.binding("util")}catch{}}(),Dc=ka&&ka.isTypedArray;function wm(w,E,$){switch($.length){case 0:return w.call(E);case 1:return w.call(E,$[0]);case 2:return w.call(E,$[0],$[1]);case 3:return w.call(E,$[0],$[1],$[2])}return w.apply(E,$)}function Fc(w,E){for(var $=-1,Z=Array(w);++$<w;)Z[$]=E($);return Z}function Bc(w){return function(E){return w(E)}}function Vc(w,E){return w==null?void 0:w[E]}function _m(w,E){return function($){return w(E($))}}var Uc=Array.prototype,Hc=Function.prototype,Sa=Object.prototype,nl=xe["__core-js_shared__"],Ca=Hc.toString,Rr=Sa.hasOwnProperty,Wc=function(){var w=/[^.]+$/.exec(nl&&nl.keys&&nl.keys.IE_PROTO||"");return w?"Symbol(src)_1."+w:""}(),N=Sa.toString,V=Ca.call(Object),re=RegExp("^"+Ca.call(Rr).replace(_,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),ae=ai?xe.Buffer:void 0,ke=xe.Symbol,an=xe.Uint8Array;ae&&ae.allocUnsafe;var $r=_m(Object.getPrototypeOf,Object),Fn=Object.create,Ts=Sa.propertyIsEnumerable,Ps=Uc.splice,ut=ke?ke.toStringTag:void 0,ir=function(){try{var w=Sm(Object,"defineProperty");return w({},"",{}),w}catch{}}(),sr=ae?ae.isBuffer:void 0,p_=Math.max,a2=Date.now,m_=Sm(xe,"Map"),rl=Sm(Object,"create"),o2=function(){function w(){}return function(E){if(!As(E))return{};if(Fn)return Fn(E);w.prototype=E;var $=new w;return w.prototype=void 0,$}}();function Es(w){var E=-1,$=w==null?0:w.length;for(this.clear();++E<$;){var Z=w[E];this.set(Z[0],Z[1])}}function l2(){this.__data__=rl?rl(null):{},this.size=0}function u2(w){var E=this.has(w)&&delete this.__data__[w];return this.size-=E?1:0,E}function c2(w){var E=this.__data__;if(rl){var $=E[w];return $===r?void 0:$}return Rr.call(E,w)?E[w]:void 0}function d2(w){var E=this.__data__;return rl?E[w]!==void 0:Rr.call(E,w)}function f2(w,E){var $=this.__data__;return this.size+=this.has(w)?0:1,$[w]=rl&&E===void 0?r:E,this}Es.prototype.clear=l2,Es.prototype.delete=u2,Es.prototype.get=c2,Es.prototype.has=d2,Es.prototype.set=f2;function oi(w){var E=-1,$=w==null?0:w.length;for(this.clear();++E<$;){var Z=w[E];this.set(Z[0],Z[1])}}function h2(){this.__data__=[],this.size=0}function p2(w){var E=this.__data__,$=qc(E,w);if($<0)return!1;var Z=E.length-1;return $==Z?E.pop():Ps.call(E,$,1),--this.size,!0}function m2(w){var E=this.__data__,$=qc(E,w);return $<0?void 0:E[$][1]}function g2(w){return qc(this.__data__,w)>-1}function y2(w,E){var $=this.__data__,Z=qc($,w);return Z<0?(++this.size,$.push([w,E])):$[Z][1]=E,this}oi.prototype.clear=h2,oi.prototype.delete=p2,oi.prototype.get=m2,oi.prototype.has=g2,oi.prototype.set=y2;function Ta(w){var E=-1,$=w==null?0:w.length;for(this.clear();++E<$;){var Z=w[E];this.set(Z[0],Z[1])}}function v2(){this.size=0,this.__data__={hash:new Es,map:new(m_||oi),string:new Es}}function b2(w){var E=Gc(this,w).delete(w);return this.size-=E?1:0,E}function w2(w){return Gc(this,w).get(w)}function _2(w){return Gc(this,w).has(w)}function x2(w,E){var $=Gc(this,w),Z=$.size;return $.set(w,E),this.size+=$.size==Z?0:1,this}Ta.prototype.clear=v2,Ta.prototype.delete=b2,Ta.prototype.get=w2,Ta.prototype.has=_2,Ta.prototype.set=x2;function Pa(w){var E=this.__data__=new oi(w);this.size=E.size}function k2(){this.__data__=new oi,this.size=0}function S2(w){var E=this.__data__,$=E.delete(w);return this.size=E.size,$}function C2(w){return this.__data__.get(w)}function T2(w){return this.__data__.has(w)}function P2(w,E){var $=this.__data__;if($ instanceof oi){var Z=$.__data__;if(!m_||Z.length<n-1)return Z.push([w,E]),this.size=++$.size,this;$=this.__data__=new Ta(Z)}return $.set(w,E),this.size=$.size,this}Pa.prototype.clear=k2,Pa.prototype.delete=S2,Pa.prototype.get=C2,Pa.prototype.has=T2,Pa.prototype.set=P2;function E2(w,E){var $=Pm(w),Z=!$&&Tm(w),ge=!$&&!Z&&w_(w),Le=!$&&!Z&&!ge&&x_(w),Ze=$||Z||ge||Le,Se=Ze?Fc(w.length,String):[],Ge=Se.length;for(var ar in w)Ze&&(ar=="length"||ge&&(ar=="offset"||ar=="parent")||Le&&(ar=="buffer"||ar=="byteLength"||ar=="byteOffset")||v_(ar,Ge))||Se.push(ar);return Se}function xm(w,E,$){($!==void 0&&!Kc(w[E],$)||$===void 0&&!(E in w))&&km(w,E,$)}function A2(w,E,$){var Z=w[E];(!(Rr.call(w,E)&&Kc(Z,$))||$===void 0&&!(E in w))&&km(w,E,$)}function qc(w,E){for(var $=w.length;$--;)if(Kc(w[$][0],E))return $;return-1}function km(w,E,$){E=="__proto__"&&ir?ir(w,E,{configurable:!0,enumerable:!0,value:$,writable:!0}):w[E]=$}var I2=U2();function Zc(w){return w==null?w===void 0?I:m:ut&&ut in Object(w)?H2(w):J2(w)}function g_(w){return il(w)&&Zc(w)==o}function O2(w){if(!As(w)||G2(w))return!1;var E=Am(w)?re:he;return E.test(e$(w))}function R2(w){return il(w)&&__(w.length)&&!!S[Zc(w)]}function $2(w){if(!As(w))return K2(w);var E=b_(w),$=[];for(var Z in w)Z=="constructor"&&(E||!Rr.call(w,Z))||$.push(Z);return $}function y_(w,E,$,Z,ge){w!==E&&I2(E,function(Le,Ze){if(ge||(ge=new Pa),As(Le))N2(w,E,Ze,$,y_,Z,ge);else{var Se=Z?Z(Cm(w,Ze),Le,Ze+"",w,E,ge):void 0;Se===void 0&&(Se=Le),xm(w,Ze,Se)}},k_)}function N2(w,E,$,Z,ge,Le,Ze){var Se=Cm(w,$),Ge=Cm(E,$),ar=Ze.get(Ge);if(ar){xm(w,$,ar);return}var xn=Le?Le(Se,Ge,$+"",w,E,Ze):void 0,sl=xn===void 0;if(sl){var Im=Pm(Ge),Om=!Im&&w_(Ge),C_=!Im&&!Om&&x_(Ge);xn=Ge,Im||Om||C_?Pm(Se)?xn=Se:t$(Se)?xn=F2(Se):Om?(sl=!1,xn=L2(Ge)):C_?(sl=!1,xn=D2(Ge)):xn=[]:n$(Ge)||Tm(Ge)?(xn=Se,Tm(Se)?xn=r$(Se):(!As(Se)||Am(Se))&&(xn=W2(Ge))):sl=!1}sl&&(Ze.set(Ge,xn),ge(xn,Ge,Z,Le,Ze),Ze.delete(Ge)),xm(w,$,xn)}function j2(w,E){return Y2(X2(w,E,S_),w+"")}var M2=ir?function(w,E){return ir(w,"toString",{configurable:!0,enumerable:!1,value:s$(E),writable:!0})}:S_;function L2(w,E){return w.slice()}function z2(w){var E=new w.constructor(w.byteLength);return new an(E).set(new an(w)),E}function D2(w,E){var $=z2(w.buffer);return new w.constructor($,w.byteOffset,w.length)}function F2(w,E){var $=-1,Z=w.length;for(E||(E=Array(Z));++$<Z;)E[$]=w[$];return E}function B2(w,E,$,Z){var ge=!$;$||($={});for(var Le=-1,Ze=E.length;++Le<Ze;){var Se=E[Le],Ge=void 0;Ge===void 0&&(Ge=w[Se]),ge?km($,Se,Ge):A2($,Se,Ge)}return $}function V2(w){return j2(function(E,$){var Z=-1,ge=$.length,Le=ge>1?$[ge-1]:void 0,Ze=ge>2?$[2]:void 0;for(Le=w.length>3&&typeof Le=="function"?(ge--,Le):void 0,Ze&&q2($[0],$[1],Ze)&&(Le=ge<3?void 0:Le,ge=1),E=Object(E);++Z<ge;){var Se=$[Z];Se&&w(E,Se,Z,Le)}return E})}function U2(w){return function(E,$,Z){for(var ge=-1,Le=Object(E),Ze=Z(E),Se=Ze.length;Se--;){var Ge=Ze[++ge];if($(Le[Ge],Ge,Le)===!1)break}return E}}function Gc(w,E){var $=w.__data__;return Z2(E)?$[typeof E=="string"?"string":"hash"]:$.map}function Sm(w,E){var $=Vc(w,E);return O2($)?$:void 0}function H2(w){var E=Rr.call(w,ut),$=w[ut];try{w[ut]=void 0;var Z=!0}catch{}var ge=N.call(w);return Z&&(E?w[ut]=$:delete w[ut]),ge}function W2(w){return typeof w.constructor=="function"&&!b_(w)?o2($r(w)):{}}function v_(w,E){var $=typeof w;return E=E??a,!!E&&($=="number"||$!="symbol"&&Oe.test(w))&&w>-1&&w%1==0&&w<E}function q2(w,E,$){if(!As($))return!1;var Z=typeof E;return(Z=="number"?Em($)&&v_(E,$.length):Z=="string"&&E in $)?Kc($[E],w):!1}function Z2(w){var E=typeof w;return E=="string"||E=="number"||E=="symbol"||E=="boolean"?w!=="__proto__":w===null}function G2(w){return!!Wc&&Wc in w}function b_(w){var E=w&&w.constructor,$=typeof E=="function"&&E.prototype||Sa;return w===$}function K2(w){var E=[];if(w!=null)for(var $ in Object(w))E.push($);return E}function J2(w){return N.call(w)}function X2(w,E,$){return E=p_(E===void 0?w.length-1:E,0),function(){for(var Z=arguments,ge=-1,Le=p_(Z.length-E,0),Ze=Array(Le);++ge<Le;)Ze[ge]=Z[E+ge];ge=-1;for(var Se=Array(E+1);++ge<E;)Se[ge]=Z[ge];return Se[E]=$(Ze),wm(w,this,Se)}}function Cm(w,E){if(!(E==="constructor"&&typeof w[E]=="function")&&E!="__proto__")return w[E]}var Y2=Q2(M2);function Q2(w){var E=0,$=0;return function(){var Z=a2(),ge=s-(Z-$);if($=Z,ge>0){if(++E>=i)return arguments[0]}else E=0;return w.apply(void 0,arguments)}}function e$(w){if(w!=null){try{return Ca.call(w)}catch{}try{return w+""}catch{}}return""}function Kc(w,E){return w===E||w!==w&&E!==E}var Tm=g_(function(){return arguments}())?g_:function(w){return il(w)&&Rr.call(w,"callee")&&!Ts.call(w,"callee")},Pm=Array.isArray;function Em(w){return w!=null&&__(w.length)&&!Am(w)}function t$(w){return il(w)&&Em(w)}var w_=sr||a$;function Am(w){if(!As(w))return!1;var E=Zc(w);return E==h||E==p||E==u||E==v}function __(w){return typeof w=="number"&&w>-1&&w%1==0&&w<=a}function As(w){var E=typeof w;return w!=null&&(E=="object"||E=="function")}function il(w){return w!=null&&typeof w=="object"}function n$(w){if(!il(w)||Zc(w)!=g)return!1;var E=$r(w);if(E===null)return!0;var $=Rr.call(E,"constructor")&&E.constructor;return typeof $=="function"&&$ instanceof $&&Ca.call($)==V}var x_=Dc?Bc(Dc):R2;function r$(w){return B2(w,k_(w))}function k_(w){return Em(w)?E2(w):$2(w)}var i$=V2(function(w,E,$,Z){y_(w,E,$,Z)});function s$(w){return function(){return w}}function S_(w){return w}function a$(){return!1}t.exports=i$})(nh,nh.exports);var JM=nh.exports;const Jn=va(JM);var XM=t=>/!(important)?$/.test(t),qx=t=>typeof t=="string"?t.replace(/!(important)?$/,"").trim():t,YM=(t,e)=>n=>{const r=String(e),i=XM(r),s=qx(r),a=t?`${t}.${s}`:s;let o=Cr(n.__cssMap)&&a in n.__cssMap?n.__cssMap[a].varRef:e;return o=qx(o),i?`${o} !important`:o};function Cb(t){const{scale:e,transform:n,compose:r}=t;return(s,a)=>{var o;const l=YM(e,s)(a);let u=(o=n==null?void 0:n(l,a))!=null?o:l;return r&&(u=r(u,a)),u}}var md=(...t)=>e=>t.reduce((n,r)=>r(n),e);function Bn(t,e){return n=>{const r={property:n,scale:t};return r.transform=Cb({scale:t,transform:e}),r}}var QM=({rtl:t,ltr:e})=>n=>n.direction==="rtl"?t:e;function eL(t){const{property:e,scale:n,transform:r}=t;return{scale:n,property:QM(e),transform:n?Cb({scale:n,compose:r}):r}}var _E=["rotate(var(--chakra-rotate, 0))","scaleX(var(--chakra-scale-x, 1))","scaleY(var(--chakra-scale-y, 1))","skewX(var(--chakra-skew-x, 0))","skewY(var(--chakra-skew-y, 0))"];function tL(){return["translateX(var(--chakra-translate-x, 0))","translateY(var(--chakra-translate-y, 0))",..._E].join(" ")}function nL(){return["translate3d(var(--chakra-translate-x, 0), var(--chakra-translate-y, 0), 0)",..._E].join(" ")}var rL={"--chakra-blur":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-brightness":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-contrast":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-grayscale":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-hue-rotate":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-invert":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-saturate":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-sepia":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-drop-shadow":"var(--chakra-empty,/*!*/ /*!*/)",filter:["var(--chakra-blur)","var(--chakra-brightness)","var(--chakra-contrast)","var(--chakra-grayscale)","var(--chakra-hue-rotate)","var(--chakra-invert)","var(--chakra-saturate)","var(--chakra-sepia)","var(--chakra-drop-shadow)"].join(" ")},iL={backdropFilter:["var(--chakra-backdrop-blur)","var(--chakra-backdrop-brightness)","var(--chakra-backdrop-contrast)","var(--chakra-backdrop-grayscale)","var(--chakra-backdrop-hue-rotate)","var(--chakra-backdrop-invert)","var(--chakra-backdrop-opacity)","var(--chakra-backdrop-saturate)","var(--chakra-backdrop-sepia)"].join(" "),"--chakra-backdrop-blur":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-backdrop-brightness":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-backdrop-contrast":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-backdrop-grayscale":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-backdrop-hue-rotate":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-backdrop-invert":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-backdrop-opacity":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-backdrop-saturate":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-backdrop-sepia":"var(--chakra-empty,/*!*/ /*!*/)"};function sL(t){return{"--chakra-ring-offset-shadow":"var(--chakra-ring-inset) 0 0 0 var(--chakra-ring-offset-width) var(--chakra-ring-offset-color)","--chakra-ring-shadow":"var(--chakra-ring-inset) 0 0 0 calc(var(--chakra-ring-width) + var(--chakra-ring-offset-width)) var(--chakra-ring-color)","--chakra-ring-width":t,boxShadow:["var(--chakra-ring-offset-shadow)","var(--chakra-ring-shadow)","var(--chakra-shadow, 0 0 #0000)"].join(", ")}}var aL={"row-reverse":{space:"--chakra-space-x-reverse",divide:"--chakra-divide-x-reverse"},"column-reverse":{space:"--chakra-space-y-reverse",divide:"--chakra-divide-y-reverse"}},uv={"to-t":"to top","to-tr":"to top right","to-r":"to right","to-br":"to bottom right","to-b":"to bottom","to-bl":"to bottom left","to-l":"to left","to-tl":"to top left"},oL=new Set(Object.values(uv)),cv=new Set(["none","-moz-initial","inherit","initial","revert","unset"]),lL=t=>t.trim();function uL(t,e){if(t==null||cv.has(t))return t;if(!(dv(t)||cv.has(t)))return`url('${t}')`;const i=/(^[a-z-A-Z]+)\((.*)\)/g.exec(t),s=i==null?void 0:i[1],a=i==null?void 0:i[2];if(!s||!a)return t;const o=s.includes("-gradient")?s:`${s}-gradient`,[l,...u]=a.split(",").map(lL).filter(Boolean);if((u==null?void 0:u.length)===0)return t;const c=l in uv?uv[l]:l;u.unshift(c);const d=u.map(f=>{if(oL.has(f))return f;const h=f.indexOf(" "),[p,y]=h!==-1?[f.substr(0,h),f.substr(h+1)]:[f],b=dv(y)?y:y&&y.split(" "),m=`colors.${p}`,g=m in e.__cssMap?e.__cssMap[m].varRef:p;return b?[g,...Array.isArray(b)?b:[b]].join(" "):g});return`${o}(${d.join(", ")})`}var dv=t=>typeof t=="string"&&t.includes("(")&&t.includes(")"),cL=(t,e)=>uL(t,e??{});function dL(t){return/^var\(--.+\)$/.test(t)}var fL=t=>{const e=parseFloat(t.toString()),n=t.toString().replace(String(e),"");return{unitless:!n,value:e,unit:n}},jr=t=>e=>`${t}(${e})`,pe={filter(t){return t!=="auto"?t:rL},backdropFilter(t){return t!=="auto"?t:iL},ring(t){return sL(pe.px(t))},bgClip(t){return t==="text"?{color:"transparent",backgroundClip:"text"}:{backgroundClip:t}},transform(t){return t==="auto"?tL():t==="auto-gpu"?nL():t},vh(t){return t==="$100vh"?"var(--chakra-vh)":t},px(t){if(t==null)return t;const{unitless:e}=fL(t);return e||typeof t=="number"?`${t}px`:t},fraction(t){return typeof t!="number"||t>1?t:`${t*100}%`},float(t,e){const n={left:"right",right:"left"};return e.direction==="rtl"?n[t]:t},degree(t){if(dL(t)||t==null)return t;const e=typeof t=="string"&&!t.endsWith("deg");return typeof t=="number"||e?`${t}deg`:t},gradient:cL,blur:jr("blur"),opacity:jr("opacity"),brightness:jr("brightness"),contrast:jr("contrast"),dropShadow:jr("drop-shadow"),grayscale:jr("grayscale"),hueRotate:t=>jr("hue-rotate")(pe.degree(t)),invert:jr("invert"),saturate:jr("saturate"),sepia:jr("sepia"),bgImage(t){return t==null||dv(t)||cv.has(t)?t:`url(${t})`},outline(t){const e=String(t)==="0"||String(t)==="none";return t!==null&&e?{outline:"2px solid transparent",outlineOffset:"2px"}:{outline:t}},flexDirection(t){var e;const{space:n,divide:r}=(e=aL[t])!=null?e:{},i={flexDirection:t};return n&&(i[n]=1),r&&(i[r]=1),i}},P={borderWidths:Bn("borderWidths"),borderStyles:Bn("borderStyles"),colors:Bn("colors"),borders:Bn("borders"),gradients:Bn("gradients",pe.gradient),radii:Bn("radii",pe.px),space:Bn("space",md(pe.vh,pe.px)),spaceT:Bn("space",md(pe.vh,pe.px)),degreeT(t){return{property:t,transform:pe.degree}},prop(t,e,n){return{property:t,scale:e,...e&&{transform:Cb({scale:e,transform:n})}}},propT(t,e){return{property:t,transform:e}},sizes:Bn("sizes",md(pe.vh,pe.px)),sizesT:Bn("sizes",md(pe.vh,pe.fraction)),shadows:Bn("shadows"),logical:eL,blur:Bn("blur",pe.blur)},Yd={background:P.colors("background"),backgroundColor:P.colors("backgroundColor"),backgroundImage:P.gradients("backgroundImage"),backgroundSize:!0,backgroundPosition:!0,backgroundRepeat:!0,backgroundAttachment:!0,backgroundClip:{transform:pe.bgClip},bgSize:P.prop("backgroundSize"),bgPosition:P.prop("backgroundPosition"),bg:P.colors("background"),bgColor:P.colors("backgroundColor"),bgPos:P.prop("backgroundPosition"),bgRepeat:P.prop("backgroundRepeat"),bgAttachment:P.prop("backgroundAttachment"),bgGradient:P.gradients("backgroundImage"),bgClip:{transform:pe.bgClip}};Object.assign(Yd,{bgImage:Yd.backgroundImage,bgImg:Yd.backgroundImage});var Ce={border:P.borders("border"),borderWidth:P.borderWidths("borderWidth"),borderStyle:P.borderStyles("borderStyle"),borderColor:P.colors("borderColor"),borderRadius:P.radii("borderRadius"),borderTop:P.borders("borderTop"),borderBlockStart:P.borders("borderBlockStart"),borderTopLeftRadius:P.radii("borderTopLeftRadius"),borderStartStartRadius:P.logical({scale:"radii",property:{ltr:"borderTopLeftRadius",rtl:"borderTopRightRadius"}}),borderEndStartRadius:P.logical({scale:"radii",property:{ltr:"borderBottomLeftRadius",rtl:"borderBottomRightRadius"}}),borderTopRightRadius:P.radii("borderTopRightRadius"),borderStartEndRadius:P.logical({scale:"radii",property:{ltr:"borderTopRightRadius",rtl:"borderTopLeftRadius"}}),borderEndEndRadius:P.logical({scale:"radii",property:{ltr:"borderBottomRightRadius",rtl:"borderBottomLeftRadius"}}),borderRight:P.borders("borderRight"),borderInlineEnd:P.borders("borderInlineEnd"),borderBottom:P.borders("borderBottom"),borderBlockEnd:P.borders("borderBlockEnd"),borderBottomLeftRadius:P.radii("borderBottomLeftRadius"),borderBottomRightRadius:P.radii("borderBottomRightRadius"),borderLeft:P.borders("borderLeft"),borderInlineStart:{property:"borderInlineStart",scale:"borders"},borderInlineStartRadius:P.logical({scale:"radii",property:{ltr:["borderTopLeftRadius","borderBottomLeftRadius"],rtl:["borderTopRightRadius","borderBottomRightRadius"]}}),borderInlineEndRadius:P.logical({scale:"radii",property:{ltr:["borderTopRightRadius","borderBottomRightRadius"],rtl:["borderTopLeftRadius","borderBottomLeftRadius"]}}),borderX:P.borders(["borderLeft","borderRight"]),borderInline:P.borders("borderInline"),borderY:P.borders(["borderTop","borderBottom"]),borderBlock:P.borders("borderBlock"),borderTopWidth:P.borderWidths("borderTopWidth"),borderBlockStartWidth:P.borderWidths("borderBlockStartWidth"),borderTopColor:P.colors("borderTopColor"),borderBlockStartColor:P.colors("borderBlockStartColor"),borderTopStyle:P.borderStyles("borderTopStyle"),borderBlockStartStyle:P.borderStyles("borderBlockStartStyle"),borderBottomWidth:P.borderWidths("borderBottomWidth"),borderBlockEndWidth:P.borderWidths("borderBlockEndWidth"),borderBottomColor:P.colors("borderBottomColor"),borderBlockEndColor:P.colors("borderBlockEndColor"),borderBottomStyle:P.borderStyles("borderBottomStyle"),borderBlockEndStyle:P.borderStyles("borderBlockEndStyle"),borderLeftWidth:P.borderWidths("borderLeftWidth"),borderInlineStartWidth:P.borderWidths("borderInlineStartWidth"),borderLeftColor:P.colors("borderLeftColor"),borderInlineStartColor:P.colors("borderInlineStartColor"),borderLeftStyle:P.borderStyles("borderLeftStyle"),borderInlineStartStyle:P.borderStyles("borderInlineStartStyle"),borderRightWidth:P.borderWidths("borderRightWidth"),borderInlineEndWidth:P.borderWidths("borderInlineEndWidth"),borderRightColor:P.colors("borderRightColor"),borderInlineEndColor:P.colors("borderInlineEndColor"),borderRightStyle:P.borderStyles("borderRightStyle"),borderInlineEndStyle:P.borderStyles("borderInlineEndStyle"),borderTopRadius:P.radii(["borderTopLeftRadius","borderTopRightRadius"]),borderBottomRadius:P.radii(["borderBottomLeftRadius","borderBottomRightRadius"]),borderLeftRadius:P.radii(["borderTopLeftRadius","borderBottomLeftRadius"]),borderRightRadius:P.radii(["borderTopRightRadius","borderBottomRightRadius"])};Object.assign(Ce,{rounded:Ce.borderRadius,roundedTop:Ce.borderTopRadius,roundedTopLeft:Ce.borderTopLeftRadius,roundedTopRight:Ce.borderTopRightRadius,roundedTopStart:Ce.borderStartStartRadius,roundedTopEnd:Ce.borderStartEndRadius,roundedBottom:Ce.borderBottomRadius,roundedBottomLeft:Ce.borderBottomLeftRadius,roundedBottomRight:Ce.borderBottomRightRadius,roundedBottomStart:Ce.borderEndStartRadius,roundedBottomEnd:Ce.borderEndEndRadius,roundedLeft:Ce.borderLeftRadius,roundedRight:Ce.borderRightRadius,roundedStart:Ce.borderInlineStartRadius,roundedEnd:Ce.borderInlineEndRadius,borderStart:Ce.borderInlineStart,borderEnd:Ce.borderInlineEnd,borderTopStartRadius:Ce.borderStartStartRadius,borderTopEndRadius:Ce.borderStartEndRadius,borderBottomStartRadius:Ce.borderEndStartRadius,borderBottomEndRadius:Ce.borderEndEndRadius,borderStartRadius:Ce.borderInlineStartRadius,borderEndRadius:Ce.borderInlineEndRadius,borderStartWidth:Ce.borderInlineStartWidth,borderEndWidth:Ce.borderInlineEndWidth,borderStartColor:Ce.borderInlineStartColor,borderEndColor:Ce.borderInlineEndColor,borderStartStyle:Ce.borderInlineStartStyle,borderEndStyle:Ce.borderInlineEndStyle});var hL={color:P.colors("color"),textColor:P.colors("color"),fill:P.colors("fill"),stroke:P.colors("stroke")},fv={boxShadow:P.shadows("boxShadow"),mixBlendMode:!0,blendMode:P.prop("mixBlendMode"),backgroundBlendMode:!0,bgBlendMode:P.prop("backgroundBlendMode"),opacity:!0};Object.assign(fv,{shadow:fv.boxShadow});var pL={filter:{transform:pe.filter},blur:P.blur("--chakra-blur"),brightness:P.propT("--chakra-brightness",pe.brightness),contrast:P.propT("--chakra-contrast",pe.contrast),hueRotate:P.propT("--chakra-hue-rotate",pe.hueRotate),invert:P.propT("--chakra-invert",pe.invert),saturate:P.propT("--chakra-saturate",pe.saturate),dropShadow:P.propT("--chakra-drop-shadow",pe.dropShadow),backdropFilter:{transform:pe.backdropFilter},backdropBlur:P.blur("--chakra-backdrop-blur"),backdropBrightness:P.propT("--chakra-backdrop-brightness",pe.brightness),backdropContrast:P.propT("--chakra-backdrop-contrast",pe.contrast),backdropHueRotate:P.propT("--chakra-backdrop-hue-rotate",pe.hueRotate),backdropInvert:P.propT("--chakra-backdrop-invert",pe.invert),backdropSaturate:P.propT("--chakra-backdrop-saturate",pe.saturate)},rh={alignItems:!0,alignContent:!0,justifyItems:!0,justifyContent:!0,flexWrap:!0,flexDirection:{transform:pe.flexDirection},flex:!0,flexFlow:!0,flexGrow:!0,flexShrink:!0,flexBasis:P.sizes("flexBasis"),justifySelf:!0,alignSelf:!0,order:!0,placeItems:!0,placeContent:!0,placeSelf:!0,gap:P.space("gap"),rowGap:P.space("rowGap"),columnGap:P.space("columnGap")};Object.assign(rh,{flexDir:rh.flexDirection});var xE={gridGap:P.space("gridGap"),gridColumnGap:P.space("gridColumnGap"),gridRowGap:P.space("gridRowGap"),gridColumn:!0,gridRow:!0,gridAutoFlow:!0,gridAutoColumns:!0,gridColumnStart:!0,gridColumnEnd:!0,gridRowStart:!0,gridRowEnd:!0,gridAutoRows:!0,gridTemplate:!0,gridTemplateColumns:!0,gridTemplateRows:!0,gridTemplateAreas:!0,gridArea:!0},mL={appearance:!0,cursor:!0,resize:!0,userSelect:!0,pointerEvents:!0,outline:{transform:pe.outline},outlineOffset:!0,outlineColor:P.colors("outlineColor")},Un={width:P.sizesT("width"),inlineSize:P.sizesT("inlineSize"),height:P.sizes("height"),blockSize:P.sizes("blockSize"),boxSize:P.sizes(["width","height"]),minWidth:P.sizes("minWidth"),minInlineSize:P.sizes("minInlineSize"),minHeight:P.sizes("minHeight"),minBlockSize:P.sizes("minBlockSize"),maxWidth:P.sizes("maxWidth"),maxInlineSize:P.sizes("maxInlineSize"),maxHeight:P.sizes("maxHeight"),maxBlockSize:P.sizes("maxBlockSize"),overflow:!0,overflowX:!0,overflowY:!0,overscrollBehavior:!0,overscrollBehaviorX:!0,overscrollBehaviorY:!0,display:!0,aspectRatio:!0,hideFrom:{scale:"breakpoints",transform:(t,e)=>{var n,r,i;return{[`@media screen and (min-width: ${(i=(r=(n=e.__breakpoints)==null?void 0:n.get(t))==null?void 0:r.minW)!=null?i:t})`]:{display:"none"}}}},hideBelow:{scale:"breakpoints",transform:(t,e)=>{var n,r,i;return{[`@media screen and (max-width: ${(i=(r=(n=e.__breakpoints)==null?void 0:n.get(t))==null?void 0:r._minW)!=null?i:t})`]:{display:"none"}}}},verticalAlign:!0,boxSizing:!0,boxDecorationBreak:!0,float:P.propT("float",pe.float),objectFit:!0,objectPosition:!0,visibility:!0,isolation:!0};Object.assign(Un,{w:Un.width,h:Un.height,minW:Un.minWidth,maxW:Un.maxWidth,minH:Un.minHeight,maxH:Un.maxHeight,overscroll:Un.overscrollBehavior,overscrollX:Un.overscrollBehaviorX,overscrollY:Un.overscrollBehaviorY});var gL={listStyleType:!0,listStylePosition:!0,listStylePos:P.prop("listStylePosition"),listStyleImage:!0,listStyleImg:P.prop("listStyleImage")};function yL(t,e,n,r){const i=typeof e=="string"?e.split("."):[e];for(r=0;r<i.length&&t;r+=1)t=t[i[r]];return t===void 0?n:t}var vL=t=>{const e=new WeakMap;return(r,i,s,a)=>{if(typeof r>"u")return t(r,i,s);e.has(r)||e.set(r,new Map);const o=e.get(r);if(o.has(i))return o.get(i);const l=t(r,i,s,a);return o.set(i,l),l}},bL=vL(yL),wL={border:"0px",clip:"rect(0, 0, 0, 0)",width:"1px",height:"1px",margin:"-1px",padding:"0px",overflow:"hidden",whiteSpace:"nowrap",position:"absolute"},_L={position:"static",width:"auto",height:"auto",clip:"auto",padding:"0",margin:"0",overflow:"visible",whiteSpace:"normal"},ag=(t,e,n)=>{const r={},i=bL(t,e,{});for(const s in i)s in n&&n[s]!=null||(r[s]=i[s]);return r},xL={srOnly:{transform(t){return t===!0?wL:t==="focusable"?_L:{}}},layerStyle:{processResult:!0,transform:(t,e,n)=>ag(e,`layerStyles.${t}`,n)},textStyle:{processResult:!0,transform:(t,e,n)=>ag(e,`textStyles.${t}`,n)},apply:{processResult:!0,transform:(t,e,n)=>ag(e,t,n)}},tu={position:!0,pos:P.prop("position"),zIndex:P.prop("zIndex","zIndices"),inset:P.spaceT("inset"),insetX:P.spaceT(["left","right"]),insetInline:P.spaceT("insetInline"),insetY:P.spaceT(["top","bottom"]),insetBlock:P.spaceT("insetBlock"),top:P.spaceT("top"),insetBlockStart:P.spaceT("insetBlockStart"),bottom:P.spaceT("bottom"),insetBlockEnd:P.spaceT("insetBlockEnd"),left:P.spaceT("left"),insetInlineStart:P.logical({scale:"space",property:{ltr:"left",rtl:"right"}}),right:P.spaceT("right"),insetInlineEnd:P.logical({scale:"space",property:{ltr:"right",rtl:"left"}})};Object.assign(tu,{insetStart:tu.insetInlineStart,insetEnd:tu.insetInlineEnd});var kL={ring:{transform:pe.ring},ringColor:P.colors("--chakra-ring-color"),ringOffset:P.prop("--chakra-ring-offset-width"),ringOffsetColor:P.colors("--chakra-ring-offset-color"),ringInset:P.prop("--chakra-ring-inset")},We={margin:P.spaceT("margin"),marginTop:P.spaceT("marginTop"),marginBlockStart:P.spaceT("marginBlockStart"),marginRight:P.spaceT("marginRight"),marginInlineEnd:P.spaceT("marginInlineEnd"),marginBottom:P.spaceT("marginBottom"),marginBlockEnd:P.spaceT("marginBlockEnd"),marginLeft:P.spaceT("marginLeft"),marginInlineStart:P.spaceT("marginInlineStart"),marginX:P.spaceT(["marginInlineStart","marginInlineEnd"]),marginInline:P.spaceT("marginInline"),marginY:P.spaceT(["marginTop","marginBottom"]),marginBlock:P.spaceT("marginBlock"),padding:P.space("padding"),paddingTop:P.space("paddingTop"),paddingBlockStart:P.space("paddingBlockStart"),paddingRight:P.space("paddingRight"),paddingBottom:P.space("paddingBottom"),paddingBlockEnd:P.space("paddingBlockEnd"),paddingLeft:P.space("paddingLeft"),paddingInlineStart:P.space("paddingInlineStart"),paddingInlineEnd:P.space("paddingInlineEnd"),paddingX:P.space(["paddingInlineStart","paddingInlineEnd"]),paddingInline:P.space("paddingInline"),paddingY:P.space(["paddingTop","paddingBottom"]),paddingBlock:P.space("paddingBlock")};Object.assign(We,{m:We.margin,mt:We.marginTop,mr:We.marginRight,me:We.marginInlineEnd,marginEnd:We.marginInlineEnd,mb:We.marginBottom,ml:We.marginLeft,ms:We.marginInlineStart,marginStart:We.marginInlineStart,mx:We.marginX,my:We.marginY,p:We.padding,pt:We.paddingTop,py:We.paddingY,px:We.paddingX,pb:We.paddingBottom,pl:We.paddingLeft,ps:We.paddingInlineStart,paddingStart:We.paddingInlineStart,pr:We.paddingRight,pe:We.paddingInlineEnd,paddingEnd:We.paddingInlineEnd});var SL={textDecorationColor:P.colors("textDecorationColor"),textDecoration:!0,textDecor:{property:"textDecoration"},textDecorationLine:!0,textDecorationStyle:!0,textDecorationThickness:!0,textUnderlineOffset:!0,textShadow:P.shadows("textShadow")},CL={clipPath:!0,transform:P.propT("transform",pe.transform),transformOrigin:!0,translateX:P.spaceT("--chakra-translate-x"),translateY:P.spaceT("--chakra-translate-y"),skewX:P.degreeT("--chakra-skew-x"),skewY:P.degreeT("--chakra-skew-y"),scaleX:P.prop("--chakra-scale-x"),scaleY:P.prop("--chakra-scale-y"),scale:P.prop(["--chakra-scale-x","--chakra-scale-y"]),rotate:P.degreeT("--chakra-rotate")},TL={transition:!0,transitionDelay:!0,animation:!0,willChange:!0,transitionDuration:P.prop("transitionDuration","transition.duration"),transitionProperty:P.prop("transitionProperty","transition.property"),transitionTimingFunction:P.prop("transitionTimingFunction","transition.easing")},PL={fontFamily:P.prop("fontFamily","fonts"),fontSize:P.prop("fontSize","fontSizes",pe.px),fontWeight:P.prop("fontWeight","fontWeights"),lineHeight:P.prop("lineHeight","lineHeights"),letterSpacing:P.prop("letterSpacing","letterSpacings"),textAlign:!0,fontStyle:!0,textIndent:!0,wordBreak:!0,overflowWrap:!0,textOverflow:!0,textTransform:!0,whiteSpace:!0,isTruncated:{transform(t){if(t===!0)return{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"}}},noOfLines:{static:{overflow:"hidden",textOverflow:"ellipsis",display:"-webkit-box",WebkitBoxOrient:"vertical",WebkitLineClamp:"var(--chakra-line-clamp)"},property:"--chakra-line-clamp"}},EL={scrollBehavior:!0,scrollSnapAlign:!0,scrollSnapStop:!0,scrollSnapType:!0,scrollMargin:P.spaceT("scrollMargin"),scrollMarginTop:P.spaceT("scrollMarginTop"),scrollMarginBottom:P.spaceT("scrollMarginBottom"),scrollMarginLeft:P.spaceT("scrollMarginLeft"),scrollMarginRight:P.spaceT("scrollMarginRight"),scrollMarginX:P.spaceT(["scrollMarginLeft","scrollMarginRight"]),scrollMarginY:P.spaceT(["scrollMarginTop","scrollMarginBottom"]),scrollPadding:P.spaceT("scrollPadding"),scrollPaddingTop:P.spaceT("scrollPaddingTop"),scrollPaddingBottom:P.spaceT("scrollPaddingBottom"),scrollPaddingLeft:P.spaceT("scrollPaddingLeft"),scrollPaddingRight:P.spaceT("scrollPaddingRight"),scrollPaddingX:P.spaceT(["scrollPaddingLeft","scrollPaddingRight"]),scrollPaddingY:P.spaceT(["scrollPaddingTop","scrollPaddingBottom"])};function kE(t){return Cr(t)&&t.reference?t.reference:String(t)}var Vp=(t,...e)=>e.map(kE).join(` ${t} `).replace(/calc/g,""),Zx=(...t)=>`calc(${Vp("+",...t)})`,Gx=(...t)=>`calc(${Vp("-",...t)})`,hv=(...t)=>`calc(${Vp("*",...t)})`,Kx=(...t)=>`calc(${Vp("/",...t)})`,Jx=t=>{const e=kE(t);return e!=null&&!Number.isNaN(parseFloat(e))?String(e).startsWith("-")?String(e).slice(1):`-${e}`:hv(e,-1)},zs=Object.assign(t=>({add:(...e)=>zs(Zx(t,...e)),subtract:(...e)=>zs(Gx(t,...e)),multiply:(...e)=>zs(hv(t,...e)),divide:(...e)=>zs(Kx(t,...e)),negate:()=>zs(Jx(t)),toString:()=>t.toString()}),{add:Zx,subtract:Gx,multiply:hv,divide:Kx,negate:Jx});function AL(t,e="-"){return t.replace(/\s+/g,e)}function IL(t){const e=AL(t.toString());return RL(OL(e))}function OL(t){return t.includes("\\.")?t:!Number.isInteger(parseFloat(t.toString()))?t.replace(".","\\."):t}function RL(t){return t.replace(/[!-,/:-@[-^`{-~]/g,"\\$&")}function $L(t,e=""){return[e,t].filter(Boolean).join("-")}function NL(t,e){return`var(${t}${e?`, ${e}`:""})`}function jL(t,e=""){return IL(`--${$L(t,e)}`)}function ee(t,e,n){const r=jL(t,n);return{variable:r,reference:NL(r,e)}}function ML(t,e){const n={};for(const r of e){if(Array.isArray(r)){const[i,s]=r;n[i]=ee(`${t}-${i}`,s);continue}n[r]=ee(`${t}-${r}`)}return n}function LL(t){const e=t==null?0:t.length;return e?t[e-1]:void 0}function zL(t){const e=parseFloat(t.toString()),n=t.toString().replace(String(e),"");return{unitless:!n,value:e,unit:n}}function pv(t){if(t==null)return t;const{unitless:e}=zL(t);return e||typeof t=="number"?`${t}px`:t}var SE=(t,e)=>parseInt(t[1],10)>parseInt(e[1],10)?1:-1,Tb=t=>Object.fromEntries(Object.entries(t).sort(SE));function Xx(t){const e=Tb(t);return Object.assign(Object.values(e),e)}function DL(t){const e=Object.keys(Tb(t));return new Set(e)}function Yx(t){var e;if(!t)return t;t=(e=pv(t))!=null?e:t;const n=-.02;return typeof t=="number"?`${t+n}`:t.replace(/(\d+\.?\d*)/u,r=>`${parseFloat(r)+n}`)}function Cl(t,e){const n=["@media screen"];return t&&n.push("and",`(min-width: ${pv(t)})`),e&&n.push("and",`(max-width: ${pv(e)})`),n.join(" ")}function FL(t){var e;if(!t)return null;t.base=(e=t.base)!=null?e:"0px";const n=Xx(t),r=Object.entries(t).sort(SE).map(([a,o],l,u)=>{var c;let[,d]=(c=u[l+1])!=null?c:[];return d=parseFloat(d)>0?Yx(d):void 0,{_minW:Yx(o),breakpoint:a,minW:o,maxW:d,maxWQuery:Cl(null,d),minWQuery:Cl(o),minMaxQuery:Cl(o,d)}}),i=DL(t),s=Array.from(i.values());return{keys:i,normalized:n,isResponsive(a){const o=Object.keys(a);return o.length>0&&o.every(l=>i.has(l))},asObject:Tb(t),asArray:Xx(t),details:r,get(a){return r.find(o=>o.breakpoint===a)},media:[null,...n.map(a=>Cl(a)).slice(1)],toArrayValue(a){if(!Cr(a))throw new Error("toArrayValue: value must be an object");const o=s.map(l=>{var u;return(u=a[l])!=null?u:null});for(;LL(o)===null;)o.pop();return o},toObjectValue(a){if(!Array.isArray(a))throw new Error("toObjectValue: value must be an array");return a.reduce((o,l,u)=>{const c=s[u];return c!=null&&l!=null&&(o[c]=l),o},{})}}}var Ct={hover:(t,e)=>`${t}:hover ${e}, ${t}[data-hover] ${e}`,focus:(t,e)=>`${t}:focus ${e}, ${t}[data-focus] ${e}`,focusVisible:(t,e)=>`${t}:focus-visible ${e}`,focusWithin:(t,e)=>`${t}:focus-within ${e}`,active:(t,e)=>`${t}:active ${e}, ${t}[data-active] ${e}`,disabled:(t,e)=>`${t}:disabled ${e}, ${t}[data-disabled] ${e}`,invalid:(t,e)=>`${t}:invalid ${e}, ${t}[data-invalid] ${e}`,checked:(t,e)=>`${t}:checked ${e}, ${t}[data-checked] ${e}`,indeterminate:(t,e)=>`${t}:indeterminate ${e}, ${t}[aria-checked=mixed] ${e}, ${t}[data-indeterminate] ${e}`,readOnly:(t,e)=>`${t}:read-only ${e}, ${t}[readonly] ${e}, ${t}[data-read-only] ${e}`,expanded:(t,e)=>`${t}:read-only ${e}, ${t}[aria-expanded=true] ${e}, ${t}[data-expanded] ${e}`,placeholderShown:(t,e)=>`${t}:placeholder-shown ${e}`},Li=t=>CE(e=>t(e,"&"),"[role=group]","[data-group]",".group"),li=t=>CE(e=>t(e,"~ &"),"[data-peer]",".peer"),CE=(t,...e)=>e.map(t).join(", "),Up={_hover:"&:hover, &[data-hover]",_active:"&:active, &[data-active]",_focus:"&:focus, &[data-focus]",_highlighted:"&[data-highlighted]",_focusWithin:"&:focus-within",_focusVisible:"&:focus-visible, &[data-focus-visible]",_disabled:"&:disabled, &[disabled], &[aria-disabled=true], &[data-disabled]",_readOnly:"&[aria-readonly=true], &[readonly], &[data-readonly]",_before:"&::before",_after:"&::after",_empty:"&:empty",_expanded:"&[aria-expanded=true], &[data-expanded]",_checked:"&[aria-checked=true], &[data-checked]",_grabbed:"&[aria-grabbed=true], &[data-grabbed]",_pressed:"&[aria-pressed=true], &[data-pressed]",_invalid:"&[aria-invalid=true], &[data-invalid]",_valid:"&[data-valid], &[data-state=valid]",_loading:"&[data-loading], &[aria-busy=true]",_selected:"&[aria-selected=true], &[data-selected]",_hidden:"&[hidden], &[data-hidden]",_autofill:"&:-webkit-autofill",_even:"&:nth-of-type(even)",_odd:"&:nth-of-type(odd)",_first:"&:first-of-type",_firstLetter:"&::first-letter",_last:"&:last-of-type",_notFirst:"&:not(:first-of-type)",_notLast:"&:not(:last-of-type)",_visited:"&:visited",_activeLink:"&[aria-current=page]",_activeStep:"&[aria-current=step]",_indeterminate:"&:indeterminate, &[aria-checked=mixed], &[data-indeterminate]",_groupHover:Li(Ct.hover),_peerHover:li(Ct.hover),_groupFocus:Li(Ct.focus),_peerFocus:li(Ct.focus),_groupFocusVisible:Li(Ct.focusVisible),_peerFocusVisible:li(Ct.focusVisible),_groupActive:Li(Ct.active),_peerActive:li(Ct.active),_groupDisabled:Li(Ct.disabled),_peerDisabled:li(Ct.disabled),_groupInvalid:Li(Ct.invalid),_peerInvalid:li(Ct.invalid),_groupChecked:Li(Ct.checked),_peerChecked:li(Ct.checked),_groupFocusWithin:Li(Ct.focusWithin),_peerFocusWithin:li(Ct.focusWithin),_peerPlaceholderShown:li(Ct.placeholderShown),_placeholder:"&::placeholder",_placeholderShown:"&:placeholder-shown",_fullScreen:"&:fullscreen",_selection:"&::selection",_rtl:"[dir=rtl] &, &[dir=rtl]",_ltr:"[dir=ltr] &, &[dir=ltr]",_mediaDark:"@media (prefers-color-scheme: dark)",_mediaReduceMotion:"@media (prefers-reduced-motion: reduce)",_dark:".chakra-ui-dark &:not([data-theme]),[data-theme=dark] &:not([data-theme]),&[data-theme=dark]",_light:".chakra-ui-light &:not([data-theme]),[data-theme=light] &:not([data-theme]),&[data-theme=light]",_horizontal:"&[data-orientation=horizontal]",_vertical:"&[data-orientation=vertical]"},TE=Object.keys(Up);function Qx(t,e){return ee(String(t).replace(/\./g,"-"),void 0,e)}function BL(t,e){let n={};const r={};for(const[i,s]of Object.entries(t)){const{isSemantic:a,value:o}=s,{variable:l,reference:u}=Qx(i,e==null?void 0:e.cssVarPrefix);if(!a){if(i.startsWith("space")){const f=i.split("."),[h,...p]=f,y=`${h}.-${p.join(".")}`,b=zs.negate(o),m=zs.negate(u);r[y]={value:b,var:l,varRef:m}}n[l]=o,r[i]={value:o,var:l,varRef:u};continue}const c=f=>{const p=[String(i).split(".")[0],f].join(".");if(!t[p])return f;const{reference:b}=Qx(p,e==null?void 0:e.cssVarPrefix);return b},d=Cr(o)?o:{default:o};n=Jn(n,Object.entries(d).reduce((f,[h,p])=>{var y,b;if(!p)return f;const m=c(`${p}`);if(h==="default")return f[l]=m,f;const g=(b=(y=Up)==null?void 0:y[h])!=null?b:h;return f[g]={[l]:m},f},{})),r[i]={value:u,var:l,varRef:u}}return{cssVars:n,cssMap:r}}function VL(t,e=[]){const n=Object.assign({},t);for(const r of e)r in n&&delete n[r];return n}function UL(t,e){const n={};for(const r of e)r in t&&(n[r]=t[r]);return n}function HL(t){return typeof t=="object"&&t!=null&&!Array.isArray(t)}function e1(t,e,n={}){const{stop:r,getKey:i}=n;function s(a,o=[]){var l;if(HL(a)||Array.isArray(a)){const u={};for(const[c,d]of Object.entries(a)){const f=(l=i==null?void 0:i(c))!=null?l:c,h=[...o,f];if(r!=null&&r(a,h))return e(a,o);u[f]=s(d,h)}return u}return e(a,o)}return s(t)}var WL=["colors","borders","borderWidths","borderStyles","fonts","fontSizes","fontWeights","gradients","letterSpacings","lineHeights","radii","space","shadows","sizes","zIndices","transition","blur","breakpoints"];function qL(t){return UL(t,WL)}function ZL(t){return t.semanticTokens}function GL(t){const{__cssMap:e,__cssVars:n,__breakpoints:r,...i}=t;return i}var KL=t=>TE.includes(t)||t==="default";function JL({tokens:t,semanticTokens:e}){const n={};return e1(t,(r,i)=>{r!=null&&(n[i.join(".")]={isSemantic:!1,value:r})}),e1(e,(r,i)=>{r!=null&&(n[i.join(".")]={isSemantic:!0,value:r})},{stop:r=>Object.keys(r).every(KL)}),n}function XL(t){var e;const n=GL(t),r=qL(n),i=ZL(n),s=JL({tokens:r,semanticTokens:i}),a=(e=n.config)==null?void 0:e.cssVarPrefix,{cssMap:o,cssVars:l}=BL(s,{cssVarPrefix:a});return Object.assign(n,{__cssVars:{...{"--chakra-ring-inset":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-ring-offset-width":"0px","--chakra-ring-offset-color":"#fff","--chakra-ring-color":"rgba(66, 153, 225, 0.6)","--chakra-ring-offset-shadow":"0 0 #0000","--chakra-ring-shadow":"0 0 #0000","--chakra-space-x-reverse":"0","--chakra-space-y-reverse":"0"},...l},__cssMap:o,__breakpoints:FL(n.breakpoints)}),n}var Pb=Jn({},Yd,Ce,hL,rh,Un,pL,kL,mL,xE,xL,tu,fv,We,EL,PL,SL,CL,gL,TL);Object.assign({},We,Un,rh,xE,tu);var YL=[...Object.keys(Pb),...TE],QL={...Pb,...Up},ez=t=>t in QL,tz=t=>e=>{if(!e.__breakpoints)return t;const{isResponsive:n,toArrayValue:r,media:i}=e.__breakpoints,s={};for(const a in t){let o=ts(t[a],e);if(o==null)continue;if(o=Cr(o)&&n(o)?r(o):o,!Array.isArray(o)){s[a]=o;continue}const l=o.slice(0,i.length).length;for(let u=0;u<l;u+=1){const c=i==null?void 0:i[u];if(!c){s[a]=o[u];continue}s[c]=s[c]||{},o[u]!=null&&(s[c][a]=o[u])}}return s};function nz(t){const e=[];let n="",r=!1;for(let i=0;i<t.length;i++){const s=t[i];s==="("?(r=!0,n+=s):s===")"?(r=!1,n+=s):s===","&&!r?(e.push(n),n=""):n+=s}return n=n.trim(),n&&e.push(n),e}function rz(t){return/^var\(--.+\)$/.test(t)}var iz=(t,e)=>t.startsWith("--")&&typeof e=="string"&&!rz(e),sz=(t,e)=>{var n,r;if(e==null)return e;const i=l=>{var u,c;return(c=(u=t.__cssMap)==null?void 0:u[l])==null?void 0:c.varRef},s=l=>{var u;return(u=i(l))!=null?u:l},[a,o]=nz(e);return e=(r=(n=i(a))!=null?n:s(o))!=null?r:s(e),e};function az(t){const{configs:e={},pseudos:n={},theme:r}=t,i=(s,a=!1)=>{var o,l,u;const c=ts(s,r),d=tz(c)(r);let f={};for(let h in d){const p=d[h];let y=ts(p,r);h in n&&(h=n[h]),iz(h,y)&&(y=sz(r,y));let b=e[h];if(b===!0&&(b={property:h}),Cr(y)){f[h]=(o=f[h])!=null?o:{},f[h]=Jn({},f[h],i(y,!0));continue}let m=(u=(l=b==null?void 0:b.transform)==null?void 0:l.call(b,y,r,c))!=null?u:y;m=b!=null&&b.processResult?i(m,!0):m;const g=ts(b==null?void 0:b.property,r);if(!a&&(b!=null&&b.static)){const v=ts(b.static,r);f=Jn({},f,v)}if(g&&Array.isArray(g)){for(const v of g)f[v]=m;continue}if(g){g==="&"&&Cr(m)?f=Jn({},f,m):f[g]=m;continue}if(Cr(m)){f=Jn({},f,m);continue}f[h]=m}return f};return i}var PE=t=>e=>az({theme:e,pseudos:Up,configs:Pb})(t);function Ue(t){return{definePartsStyle(e){return e},defineMultiStyleConfig(e){return{parts:t,...e}}}}function oz(t,e){if(Array.isArray(t))return t;if(Cr(t))return e(t);if(t!=null)return[t]}function lz(t,e){for(let n=e+1;n<t.length;n++)if(t[n]!=null)return n;return-1}function uz(t){const e=t.__breakpoints;return function(r,i,s,a){var o,l;if(!e)return;const u={},c=oz(s,e.toArrayValue);if(!c)return u;const d=c.length,f=d===1,h=!!r.parts;for(let p=0;p<d;p++){const y=e.details[p],b=e.details[lz(c,p)],m=Cl(y.minW,b==null?void 0:b._minW),g=ts((o=r[i])==null?void 0:o[c[p]],a);if(g){if(h){(l=r.parts)==null||l.forEach(v=>{Jn(u,{[v]:f?g[v]:{[m]:g[v]}})});continue}if(!h){f?Jn(u,g):u[m]=g;continue}u[m]=g}}return u}}function cz(t){return e=>{var n;const{variant:r,size:i,theme:s}=e,a=uz(s);return Jn({},ts((n=t.baseStyle)!=null?n:{},e),a(t,"sizes",i,e),a(t,"variants",r,e))}}function ii(t){return VL(t,["styleConfig","size","variant","colorScheme"])}var dz=["borders","breakpoints","colors","components","config","direction","fonts","fontSizes","fontWeights","letterSpacings","lineHeights","radii","shadows","sizes","space","styles","transition","zIndices"];function fz(t){return Cr(t)?dz.every(e=>Object.prototype.hasOwnProperty.call(t,e)):!1}var hz={common:"background-color, border-color, color, fill, stroke, opacity, box-shadow, transform",colors:"background-color, border-color, color, fill, stroke",dimensions:"width, height",position:"left, right, top, bottom",background:"background-color, background-image, background-position"},pz={"ease-in":"cubic-bezier(0.4, 0, 1, 1)","ease-out":"cubic-bezier(0, 0, 0.2, 1)","ease-in-out":"cubic-bezier(0.4, 0, 0.2, 1)"},mz={"ultra-fast":"50ms",faster:"100ms",fast:"150ms",normal:"200ms",slow:"300ms",slower:"400ms","ultra-slow":"500ms"},gz={property:hz,easing:pz,duration:mz},yz=gz,vz={hide:-1,auto:"auto",base:0,docked:10,dropdown:1e3,sticky:1100,banner:1200,overlay:1300,modal:1400,popover:1500,skipLink:1600,toast:1700,tooltip:1800},bz=vz,wz={none:0,"1px":"1px solid","2px":"2px solid","4px":"4px solid","8px":"8px solid"},_z=wz,xz={base:"0em",sm:"30em",md:"48em",lg:"62em",xl:"80em","2xl":"96em"},kz=xz,Sz={transparent:"transparent",current:"currentColor",black:"#000000",white:"#FFFFFF",whiteAlpha:{50:"rgba(255, 255, 255, 0.04)",100:"rgba(255, 255, 255, 0.06)",200:"rgba(255, 255, 255, 0.08)",300:"rgba(255, 255, 255, 0.16)",400:"rgba(255, 255, 255, 0.24)",500:"rgba(255, 255, 255, 0.36)",600:"rgba(255, 255, 255, 0.48)",700:"rgba(255, 255, 255, 0.64)",800:"rgba(255, 255, 255, 0.80)",900:"rgba(255, 255, 255, 0.92)"},blackAlpha:{50:"rgba(0, 0, 0, 0.04)",100:"rgba(0, 0, 0, 0.06)",200:"rgba(0, 0, 0, 0.08)",300:"rgba(0, 0, 0, 0.16)",400:"rgba(0, 0, 0, 0.24)",500:"rgba(0, 0, 0, 0.36)",600:"rgba(0, 0, 0, 0.48)",700:"rgba(0, 0, 0, 0.64)",800:"rgba(0, 0, 0, 0.80)",900:"rgba(0, 0, 0, 0.92)"},gray:{50:"#F7FAFC",100:"#EDF2F7",200:"#E2E8F0",300:"#CBD5E0",400:"#A0AEC0",500:"#718096",600:"#4A5568",700:"#2D3748",800:"#1A202C",900:"#171923"},red:{50:"#FFF5F5",100:"#FED7D7",200:"#FEB2B2",300:"#FC8181",400:"#F56565",500:"#E53E3E",600:"#C53030",700:"#9B2C2C",800:"#822727",900:"#63171B"},orange:{50:"#FFFAF0",100:"#FEEBC8",200:"#FBD38D",300:"#F6AD55",400:"#ED8936",500:"#DD6B20",600:"#C05621",700:"#9C4221",800:"#7B341E",900:"#652B19"},yellow:{50:"#FFFFF0",100:"#FEFCBF",200:"#FAF089",300:"#F6E05E",400:"#ECC94B",500:"#D69E2E",600:"#B7791F",700:"#975A16",800:"#744210",900:"#5F370E"},green:{50:"#F0FFF4",100:"#C6F6D5",200:"#9AE6B4",300:"#68D391",400:"#48BB78",500:"#38A169",600:"#2F855A",700:"#276749",800:"#22543D",900:"#1C4532"},teal:{50:"#E6FFFA",100:"#B2F5EA",200:"#81E6D9",300:"#4FD1C5",400:"#38B2AC",500:"#319795",600:"#2C7A7B",700:"#285E61",800:"#234E52",900:"#1D4044"},blue:{50:"#ebf8ff",100:"#bee3f8",200:"#90cdf4",300:"#63b3ed",400:"#4299e1",500:"#3182ce",600:"#2b6cb0",700:"#2c5282",800:"#2a4365",900:"#1A365D"},cyan:{50:"#EDFDFD",100:"#C4F1F9",200:"#9DECF9",300:"#76E4F7",400:"#0BC5EA",500:"#00B5D8",600:"#00A3C4",700:"#0987A0",800:"#086F83",900:"#065666"},purple:{50:"#FAF5FF",100:"#E9D8FD",200:"#D6BCFA",300:"#B794F4",400:"#9F7AEA",500:"#805AD5",600:"#6B46C1",700:"#553C9A",800:"#44337A",900:"#322659"},pink:{50:"#FFF5F7",100:"#FED7E2",200:"#FBB6CE",300:"#F687B3",400:"#ED64A6",500:"#D53F8C",600:"#B83280",700:"#97266D",800:"#702459",900:"#521B41"},linkedin:{50:"#E8F4F9",100:"#CFEDFB",200:"#9BDAF3",300:"#68C7EC",400:"#34B3E4",500:"#00A0DC",600:"#008CC9",700:"#0077B5",800:"#005E93",900:"#004471"},facebook:{50:"#E8F4F9",100:"#D9DEE9",200:"#B7C2DA",300:"#6482C0",400:"#4267B2",500:"#385898",600:"#314E89",700:"#29487D",800:"#223B67",900:"#1E355B"},messenger:{50:"#D0E6FF",100:"#B9DAFF",200:"#A2CDFF",300:"#7AB8FF",400:"#2E90FF",500:"#0078FF",600:"#0063D1",700:"#0052AC",800:"#003C7E",900:"#002C5C"},whatsapp:{50:"#dffeec",100:"#b9f5d0",200:"#90edb3",300:"#65e495",400:"#3cdd78",500:"#22c35e",600:"#179848",700:"#0c6c33",800:"#01421c",900:"#001803"},twitter:{50:"#E5F4FD",100:"#C8E9FB",200:"#A8DCFA",300:"#83CDF7",400:"#57BBF5",500:"#1DA1F2",600:"#1A94DA",700:"#1681BF",800:"#136B9E",900:"#0D4D71"},telegram:{50:"#E3F2F9",100:"#C5E4F3",200:"#A2D4EC",300:"#7AC1E4",400:"#47A9DA",500:"#0088CC",600:"#007AB8",700:"#006BA1",800:"#005885",900:"#003F5E"}},Cz=Sz,Tz={none:"0",sm:"0.125rem",base:"0.25rem",md:"0.375rem",lg:"0.5rem",xl:"0.75rem","2xl":"1rem","3xl":"1.5rem",full:"9999px"},Pz=Tz,Ez={xs:"0 0 0 1px rgba(0, 0, 0, 0.05)",sm:"0 1px 2px 0 rgba(0, 0, 0, 0.05)",base:"0 1px 3px 0 rgba(0, 0, 0, 0.1), 0 1px 2px 0 rgba(0, 0, 0, 0.06)",md:"0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06)",lg:"0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05)",xl:"0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04)","2xl":"0 25px 50px -12px rgba(0, 0, 0, 0.25)",outline:"0 0 0 3px rgba(66, 153, 225, 0.6)",inner:"inset 0 2px 4px 0 rgba(0,0,0,0.06)",none:"none","dark-lg":"rgba(0, 0, 0, 0.1) 0px 0px 0px 1px, rgba(0, 0, 0, 0.2) 0px 5px 10px, rgba(0, 0, 0, 0.4) 0px 15px 40px"},Az=Ez,Iz={none:0,sm:"4px",base:"8px",md:"12px",lg:"16px",xl:"24px","2xl":"40px","3xl":"64px"},Oz=Iz,Rz={letterSpacings:{tighter:"-0.05em",tight:"-0.025em",normal:"0",wide:"0.025em",wider:"0.05em",widest:"0.1em"},lineHeights:{normal:"normal",none:1,shorter:1.25,short:1.375,base:1.5,tall:1.625,taller:"2",3:".75rem",4:"1rem",5:"1.25rem",6:"1.5rem",7:"1.75rem",8:"2rem",9:"2.25rem",10:"2.5rem"},fontWeights:{hairline:100,thin:200,light:300,normal:400,medium:500,semibold:600,bold:700,extrabold:800,black:900},fonts:{heading:'-apple-system, BlinkMacSystemFont, "Segoe UI", Helvetica, Arial, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol"',body:'-apple-system, BlinkMacSystemFont, "Segoe UI", Helvetica, Arial, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol"',mono:'SFMono-Regular,Menlo,Monaco,Consolas,"Liberation Mono","Courier New",monospace'},fontSizes:{"3xs":"0.45rem","2xs":"0.625rem",xs:"0.75rem",sm:"0.875rem",md:"1rem",lg:"1.125rem",xl:"1.25rem","2xl":"1.5rem","3xl":"1.875rem","4xl":"2.25rem","5xl":"3rem","6xl":"3.75rem","7xl":"4.5rem","8xl":"6rem","9xl":"8rem"}},EE=Rz,AE={px:"1px",.5:"0.125rem",1:"0.25rem",1.5:"0.375rem",2:"0.5rem",2.5:"0.625rem",3:"0.75rem",3.5:"0.875rem",4:"1rem",5:"1.25rem",6:"1.5rem",7:"1.75rem",8:"2rem",9:"2.25rem",10:"2.5rem",12:"3rem",14:"3.5rem",16:"4rem",20:"5rem",24:"6rem",28:"7rem",32:"8rem",36:"9rem",40:"10rem",44:"11rem",48:"12rem",52:"13rem",56:"14rem",60:"15rem",64:"16rem",72:"18rem",80:"20rem",96:"24rem"},$z={max:"max-content",min:"min-content",full:"100%","3xs":"14rem","2xs":"16rem",xs:"20rem",sm:"24rem",md:"28rem",lg:"32rem",xl:"36rem","2xl":"42rem","3xl":"48rem","4xl":"56rem","5xl":"64rem","6xl":"72rem","7xl":"80rem","8xl":"90rem",prose:"60ch"},Nz={sm:"640px",md:"768px",lg:"1024px",xl:"1280px"},jz={...AE,...$z,container:Nz},IE=jz,Mz={breakpoints:kz,zIndices:bz,radii:Pz,blur:Oz,colors:Cz,...EE,sizes:IE,shadows:Az,space:AE,borders:_z,transition:yz},{defineMultiStyleConfig:Lz,definePartsStyle:Tl}=Ue(["stepper","step","title","description","indicator","separator","icon","number"]),mi=ee("stepper-indicator-size"),Xa=ee("stepper-icon-size"),Ya=ee("stepper-title-font-size"),Pl=ee("stepper-description-font-size"),ml=ee("stepper-accent-color"),zz=Tl(({colorScheme:t})=>({stepper:{display:"flex",justifyContent:"space-between",gap:"4","&[data-orientation=vertical]":{flexDirection:"column",alignItems:"flex-start"},"&[data-orientation=horizontal]":{flexDirection:"row",alignItems:"center"},[ml.variable]:`colors.${t}.500`,_dark:{[ml.variable]:`colors.${t}.200`}},title:{fontSize:Ya.reference,fontWeight:"medium"},description:{fontSize:Pl.reference,color:"chakra-subtle-text"},number:{fontSize:Ya.reference},step:{flexShrink:0,position:"relative",display:"flex",gap:"2","&[data-orientation=horizontal]":{alignItems:"center"},flex:"1","&:last-of-type:not([data-stretch])":{flex:"initial"}},icon:{flexShrink:0,width:Xa.reference,height:Xa.reference},indicator:{flexShrink:0,borderRadius:"full",width:mi.reference,height:mi.reference,display:"flex",justifyContent:"center",alignItems:"center","&[data-status=active]":{borderWidth:"2px",borderColor:ml.reference},"&[data-status=complete]":{bg:ml.reference,color:"chakra-inverse-text"},"&[data-status=incomplete]":{borderWidth:"2px"}},separator:{bg:"chakra-border-color",flex:"1","&[data-status=complete]":{bg:ml.reference},"&[data-orientation=horizontal]":{width:"100%",height:"2px",marginStart:"2"},"&[data-orientation=vertical]":{width:"2px",position:"absolute",height:"100%",maxHeight:`calc(100% - ${mi.reference} - 8px)`,top:`calc(${mi.reference} + 4px)`,insetStart:`calc(${mi.reference} / 2 - 1px)`}}})),Dz=Lz({baseStyle:zz,sizes:{xs:Tl({stepper:{[mi.variable]:"sizes.4",[Xa.variable]:"sizes.3",[Ya.variable]:"fontSizes.xs",[Pl.variable]:"fontSizes.xs"}}),sm:Tl({stepper:{[mi.variable]:"sizes.6",[Xa.variable]:"sizes.4",[Ya.variable]:"fontSizes.sm",[Pl.variable]:"fontSizes.xs"}}),md:Tl({stepper:{[mi.variable]:"sizes.8",[Xa.variable]:"sizes.5",[Ya.variable]:"fontSizes.md",[Pl.variable]:"fontSizes.sm"}}),lg:Tl({stepper:{[mi.variable]:"sizes.10",[Xa.variable]:"sizes.6",[Ya.variable]:"fontSizes.lg",[Pl.variable]:"fontSizes.md"}})},defaultProps:{size:"md",colorScheme:"blue"}});function Ie(t,e={}){let n=!1;function r(){if(!n){n=!0;return}throw new Error("[anatomy] .part(...) should only be called once. Did you mean to use .extend(...) ?")}function i(...c){r();for(const d of c)e[d]=l(d);return Ie(t,e)}function s(...c){for(const d of c)d in e||(e[d]=l(d));return Ie(t,e)}function a(){return Object.fromEntries(Object.entries(e).map(([d,f])=>[d,f.selector]))}function o(){return Object.fromEntries(Object.entries(e).map(([d,f])=>[d,f.className]))}function l(c){const h=`chakra-${(["container","root"].includes(c??"")?[t]:[t,c]).filter(Boolean).join("__")}`;return{className:h,selector:`.${h}`,toString:()=>c}}return{parts:i,toPart:l,extend:s,selectors:a,classnames:o,get keys(){return Object.keys(e)},__type:{}}}var Fz=Ie("accordion").parts("root","container","button","panel").extend("icon"),Bz=Ie("alert").parts("title","description","container").extend("icon","spinner"),Vz=Ie("avatar").parts("label","badge","container").extend("excessLabel","group"),Uz=Ie("breadcrumb").parts("link","item","container").extend("separator");Ie("button").parts();var Hz=Ie("checkbox").parts("control","icon","container").extend("label");Ie("progress").parts("track","filledTrack").extend("label");var Wz=Ie("drawer").parts("overlay","dialogContainer","dialog").extend("header","closeButton","body","footer"),qz=Ie("editable").parts("preview","input","textarea"),Zz=Ie("form").parts("container","requiredIndicator","helperText"),Gz=Ie("formError").parts("text","icon"),Kz=Ie("input").parts("addon","field","element","group"),Jz=Ie("list").parts("container","item","icon"),Xz=Ie("menu").parts("button","list","item").extend("groupTitle","icon","command","divider"),Yz=Ie("modal").parts("overlay","dialogContainer","dialog").extend("header","closeButton","body","footer"),Qz=Ie("numberinput").parts("root","field","stepperGroup","stepper");Ie("pininput").parts("field");var eD=Ie("popover").parts("content","header","body","footer").extend("popper","arrow","closeButton"),tD=Ie("progress").parts("label","filledTrack","track"),nD=Ie("radio").parts("container","control","label"),rD=Ie("select").parts("field","icon"),iD=Ie("slider").parts("container","track","thumb","filledTrack","mark"),sD=Ie("stat").parts("container","label","helpText","number","icon"),aD=Ie("switch").parts("container","track","thumb","label"),oD=Ie("table").parts("table","thead","tbody","tr","th","td","tfoot","caption"),lD=Ie("tabs").parts("root","tab","tablist","tabpanel","tabpanels","indicator"),uD=Ie("tag").parts("container","label","closeButton"),cD=Ie("card").parts("container","header","body","footer");Ie("stepper").parts("stepper","step","title","description","indicator","separator","icon","number");function Zs(t,e,n){return Math.min(Math.max(t,n),e)}class dD extends Error{constructor(e){super(`Failed to parse color: "${e}"`)}}var El=dD;function Eb(t){if(typeof t!="string")throw new El(t);if(t.trim().toLowerCase()==="transparent")return[0,0,0,0];let e=t.trim();e=bD.test(t)?pD(t):t;const n=mD.exec(e);if(n){const a=Array.from(n).slice(1);return[...a.slice(0,3).map(o=>parseInt(Fu(o,2),16)),parseInt(Fu(a[3]||"f",2),16)/255]}const r=gD.exec(e);if(r){const a=Array.from(r).slice(1);return[...a.slice(0,3).map(o=>parseInt(o,16)),parseInt(a[3]||"ff",16)/255]}const i=yD.exec(e);if(i){const a=Array.from(i).slice(1);return[...a.slice(0,3).map(o=>parseInt(o,10)),parseFloat(a[3]||"1")]}const s=vD.exec(e);if(s){const[a,o,l,u]=Array.from(s).slice(1).map(parseFloat);if(Zs(0,100,o)!==o)throw new El(t);if(Zs(0,100,l)!==l)throw new El(t);return[...wD(a,o,l),Number.isNaN(u)?1:u]}throw new El(t)}function fD(t){let e=5381,n=t.length;for(;n;)e=e*33^t.charCodeAt(--n);return(e>>>0)%2341}const t1=t=>parseInt(t.replace(/_/g,""),36),hD="1q29ehhb 1n09sgk7 1kl1ekf_ _yl4zsno 16z9eiv3 1p29lhp8 _bd9zg04 17u0____ _iw9zhe5 _to73___ _r45e31e _7l6g016 _jh8ouiv _zn3qba8 1jy4zshs 11u87k0u 1ro9yvyo 1aj3xael 1gz9zjz0 _3w8l4xo 1bf1ekf_ _ke3v___ _4rrkb__ 13j776yz _646mbhl _nrjr4__ _le6mbhl 1n37ehkb _m75f91n _qj3bzfz 1939yygw 11i5z6x8 _1k5f8xs 1509441m 15t5lwgf _ae2th1n _tg1ugcv 1lp1ugcv 16e14up_ _h55rw7n _ny9yavn _7a11xb_ 1ih442g9 _pv442g9 1mv16xof 14e6y7tu 1oo9zkds 17d1cisi _4v9y70f _y98m8kc 1019pq0v 12o9zda8 _348j4f4 1et50i2o _8epa8__ _ts6senj 1o350i2o 1mi9eiuo 1259yrp0 1ln80gnw _632xcoy 1cn9zldc _f29edu4 1n490c8q _9f9ziet 1b94vk74 _m49zkct 1kz6s73a 1eu9dtog _q58s1rz 1dy9sjiq __u89jo3 _aj5nkwg _ld89jo3 13h9z6wx _qa9z2ii _l119xgq _bs5arju 1hj4nwk9 1qt4nwk9 1ge6wau6 14j9zlcw 11p1edc_ _ms1zcxe _439shk6 _jt9y70f _754zsow 1la40eju _oq5p___ _x279qkz 1fa5r3rv _yd2d9ip _424tcku _8y1di2_ _zi2uabw _yy7rn9h 12yz980_ __39ljp6 1b59zg0x _n39zfzp 1fy9zest _b33k___ _hp9wq92 1il50hz4 _io472ub _lj9z3eo 19z9ykg0 _8t8iu3a 12b9bl4a 1ak5yw0o _896v4ku _tb8k8lv _s59zi6t _c09ze0p 1lg80oqn 1id9z8wb _238nba5 1kq6wgdi _154zssg _tn3zk49 _da9y6tc 1sg7cv4f _r12jvtt 1gq5fmkz 1cs9rvci _lp9jn1c _xw1tdnb 13f9zje6 16f6973h _vo7ir40 _bt5arjf _rc45e4t _hr4e100 10v4e100 _hc9zke2 _w91egv_ _sj2r1kk 13c87yx8 _vqpds__ _ni8ggk8 _tj9yqfb 1ia2j4r4 _7x9b10u 1fc9ld4j 1eq9zldr _5j9lhpx _ez9zl6o _md61fzm".split(" ").reduce((t,e)=>{const n=t1(e.substring(0,3)),r=t1(e.substring(3)).toString(16);let i="";for(let s=0;s<6-r.length;s++)i+="0";return t[n]=`${i}${r}`,t},{});function pD(t){const e=t.toLowerCase().trim(),n=hD[fD(e)];if(!n)throw new El(t);return`#${n}`}const Fu=(t,e)=>Array.from(Array(e)).map(()=>t).join(""),mD=new RegExp(`^#${Fu("([a-f0-9])",3)}([a-f0-9])?$`,"i"),gD=new RegExp(`^#${Fu("([a-f0-9]{2})",3)}([a-f0-9]{2})?$`,"i"),yD=new RegExp(`^rgba?\\(\\s*(\\d+)\\s*${Fu(",\\s*(\\d+)\\s*",2)}(?:,\\s*([\\d.]+))?\\s*\\)$`,"i"),vD=/^hsla?\(\s*([\d.]+)\s*,\s*([\d.]+)%\s*,\s*([\d.]+)%(?:\s*,\s*([\d.]+))?\s*\)$/i,bD=/^[a-z]+$/i,n1=t=>Math.round(t*255),wD=(t,e,n)=>{let r=n/100;if(e===0)return[r,r,r].map(n1);const i=(t%360+360)%360/60,s=(1-Math.abs(2*r-1))*(e/100),a=s*(1-Math.abs(i%2-1));let o=0,l=0,u=0;i>=0&&i<1?(o=s,l=a):i>=1&&i<2?(o=a,l=s):i>=2&&i<3?(l=s,u=a):i>=3&&i<4?(l=a,u=s):i>=4&&i<5?(o=a,u=s):i>=5&&i<6&&(o=s,u=a);const c=r-s/2,d=o+c,f=l+c,h=u+c;return[d,f,h].map(n1)};function _D(t,e,n,r){return`rgba(${Zs(0,255,t).toFixed()}, ${Zs(0,255,e).toFixed()}, ${Zs(0,255,n).toFixed()}, ${parseFloat(Zs(0,1,r).toFixed(3))})`}function xD(t,e){const[n,r,i,s]=Eb(t);return _D(n,r,i,s-e)}function kD(t){const[e,n,r,i]=Eb(t);let s=a=>{const o=Zs(0,255,a).toString(16);return o.length===1?`0${o}`:o};return`#${s(e)}${s(n)}${s(r)}${i<1?s(Math.round(i*255)):""}`}function SD(t,e,n,r,i){for(e=e.split?e.split("."):e,r=0;r<e.length;r++)t=t?t[e[r]]:i;return t===i?n:t}var CD=t=>Object.keys(t).length===0,Xt=(t,e,n)=>{const r=SD(t,`colors.${e}`,e);try{return kD(r),r}catch{return n??"#000000"}},TD=t=>{const[e,n,r]=Eb(t);return(e*299+n*587+r*114)/1e3},PD=t=>e=>{const n=Xt(e,t);return TD(n)<128?"dark":"light"},ED=t=>e=>PD(t)(e)==="dark",Lo=(t,e)=>n=>{const r=Xt(n,t);return xD(r,1-e)};function r1(t="1rem",e="rgba(255, 255, 255, 0.15)"){return{backgroundImage:`linear-gradient(
    45deg,
    ${e} 25%,
    transparent 25%,
    transparent 50%,
    ${e} 50%,
    ${e} 75%,
    transparent 75%,
    transparent
  )`,backgroundSize:`${t} ${t}`}}var AD=()=>`#${Math.floor(Math.random()*16777215).toString(16).padEnd(6,"0")}`;function ID(t){const e=AD();return!t||CD(t)?e:t.string&&t.colors?RD(t.string,t.colors):t.string&&!t.colors?OD(t.string):t.colors&&!t.string?$D(t.colors):e}function OD(t){let e=0;if(t.length===0)return e.toString();for(let r=0;r<t.length;r+=1)e=t.charCodeAt(r)+((e<<5)-e),e=e&e;let n="#";for(let r=0;r<3;r+=1){const i=e>>r*8&255;n+=`00${i.toString(16)}`.substr(-2)}return n}function RD(t,e){let n=0;if(t.length===0)return e[0];for(let r=0;r<t.length;r+=1)n=t.charCodeAt(r)+((n<<5)-n),n=n&n;return n=(n%e.length+e.length)%e.length,e[n]}function $D(t){return t[Math.floor(Math.random()*t.length)]}function Y(t,e){return n=>n.colorMode==="dark"?e:t}function Ab(t){const{orientation:e,vertical:n,horizontal:r}=t;return e?e==="vertical"?n:r:{}}function OE(t){return Cr(t)&&t.reference?t.reference:String(t)}var Hp=(t,...e)=>e.map(OE).join(` ${t} `).replace(/calc/g,""),i1=(...t)=>`calc(${Hp("+",...t)})`,s1=(...t)=>`calc(${Hp("-",...t)})`,mv=(...t)=>`calc(${Hp("*",...t)})`,a1=(...t)=>`calc(${Hp("/",...t)})`,o1=t=>{const e=OE(t);return e!=null&&!Number.isNaN(parseFloat(e))?String(e).startsWith("-")?String(e).slice(1):`-${e}`:mv(e,-1)},gi=Object.assign(t=>({add:(...e)=>gi(i1(t,...e)),subtract:(...e)=>gi(s1(t,...e)),multiply:(...e)=>gi(mv(t,...e)),divide:(...e)=>gi(a1(t,...e)),negate:()=>gi(o1(t)),toString:()=>t.toString()}),{add:i1,subtract:s1,multiply:mv,divide:a1,negate:o1});function ND(t){return!Number.isInteger(parseFloat(t.toString()))}function jD(t,e="-"){return t.replace(/\s+/g,e)}function RE(t){const e=jD(t.toString());return e.includes("\\.")?t:ND(t)?e.replace(".","\\."):t}function MD(t,e=""){return[e,RE(t)].filter(Boolean).join("-")}function LD(t,e){return`var(${RE(t)}${e?`, ${e}`:""})`}function zD(t,e=""){return`--${MD(t,e)}`}function wt(t,e){const n=zD(t,void 0);return{variable:n,reference:LD(n,DD(void 0))}}function DD(t){return typeof t=="string"?t:t==null?void 0:t.reference}var{defineMultiStyleConfig:FD,definePartsStyle:Qd}=Ue(aD.keys),nu=wt("switch-track-width"),ta=wt("switch-track-height"),og=wt("switch-track-diff"),BD=gi.subtract(nu,ta),gv=wt("switch-thumb-x"),gl=wt("switch-bg"),VD=t=>{const{colorScheme:e}=t;return{borderRadius:"full",p:"0.5",width:[nu.reference],height:[ta.reference],transitionProperty:"common",transitionDuration:"fast",[gl.variable]:"colors.gray.300",_dark:{[gl.variable]:"colors.whiteAlpha.400"},_focusVisible:{boxShadow:"outline"},_disabled:{opacity:.4,cursor:"not-allowed"},_checked:{[gl.variable]:`colors.${e}.500`,_dark:{[gl.variable]:`colors.${e}.200`}},bg:gl.reference}},UD={bg:"white",transitionProperty:"transform",transitionDuration:"normal",borderRadius:"inherit",width:[ta.reference],height:[ta.reference],_checked:{transform:`translateX(${gv.reference})`}},HD=Qd(t=>({container:{[og.variable]:BD,[gv.variable]:og.reference,_rtl:{[gv.variable]:gi(og).negate().toString()}},track:VD(t),thumb:UD})),WD={sm:Qd({container:{[nu.variable]:"1.375rem",[ta.variable]:"sizes.3"}}),md:Qd({container:{[nu.variable]:"1.875rem",[ta.variable]:"sizes.4"}}),lg:Qd({container:{[nu.variable]:"2.875rem",[ta.variable]:"sizes.6"}})},qD=FD({baseStyle:HD,sizes:WD,defaultProps:{size:"md",colorScheme:"blue"}}),{defineMultiStyleConfig:ZD,definePartsStyle:vo}=Ue(oD.keys),GD=vo({table:{fontVariantNumeric:"lining-nums tabular-nums",borderCollapse:"collapse",width:"full"},th:{fontFamily:"heading",fontWeight:"bold",textTransform:"uppercase",letterSpacing:"wider",textAlign:"start"},td:{textAlign:"start"},caption:{mt:4,fontFamily:"heading",textAlign:"center",fontWeight:"medium"}}),ih={"&[data-is-numeric=true]":{textAlign:"end"}},KD=vo(t=>{const{colorScheme:e}=t;return{th:{color:Y("gray.600","gray.400")(t),borderBottom:"1px",borderColor:Y(`${e}.100`,`${e}.700`)(t),...ih},td:{borderBottom:"1px",borderColor:Y(`${e}.100`,`${e}.700`)(t),...ih},caption:{color:Y("gray.600","gray.100")(t)},tfoot:{tr:{"&:last-of-type":{th:{borderBottomWidth:0}}}}}}),JD=vo(t=>{const{colorScheme:e}=t;return{th:{color:Y("gray.600","gray.400")(t),borderBottom:"1px",borderColor:Y(`${e}.100`,`${e}.700`)(t),...ih},td:{borderBottom:"1px",borderColor:Y(`${e}.100`,`${e}.700`)(t),...ih},caption:{color:Y("gray.600","gray.100")(t)},tbody:{tr:{"&:nth-of-type(odd)":{"th, td":{borderBottomWidth:"1px",borderColor:Y(`${e}.100`,`${e}.700`)(t)},td:{background:Y(`${e}.100`,`${e}.700`)(t)}}}},tfoot:{tr:{"&:last-of-type":{th:{borderBottomWidth:0}}}}}}),XD={simple:KD,striped:JD,unstyled:{}},YD={sm:vo({th:{px:"4",py:"1",lineHeight:"4",fontSize:"xs"},td:{px:"4",py:"2",fontSize:"sm",lineHeight:"4"},caption:{px:"4",py:"2",fontSize:"xs"}}),md:vo({th:{px:"6",py:"3",lineHeight:"4",fontSize:"xs"},td:{px:"6",py:"4",lineHeight:"5"},caption:{px:"6",py:"2",fontSize:"sm"}}),lg:vo({th:{px:"8",py:"4",lineHeight:"5",fontSize:"sm"},td:{px:"8",py:"5",lineHeight:"6"},caption:{px:"6",py:"2",fontSize:"md"}})},QD=ZD({baseStyle:GD,variants:XD,sizes:YD,defaultProps:{variant:"simple",size:"md",colorScheme:"gray"}}),cn=ee("tabs-color"),wr=ee("tabs-bg"),gd=ee("tabs-border-color"),{defineMultiStyleConfig:e4,definePartsStyle:Yr}=Ue(lD.keys),t4=t=>{const{orientation:e}=t;return{display:e==="vertical"?"flex":"block"}},n4=t=>{const{isFitted:e}=t;return{flex:e?1:void 0,transitionProperty:"common",transitionDuration:"normal",_focusVisible:{zIndex:1,boxShadow:"outline"},_disabled:{cursor:"not-allowed",opacity:.4}}},r4=t=>{const{align:e="start",orientation:n}=t;return{justifyContent:{end:"flex-end",center:"center",start:"flex-start"}[e],flexDirection:n==="vertical"?"column":"row"}},i4={p:4},s4=Yr(t=>({root:t4(t),tab:n4(t),tablist:r4(t),tabpanel:i4})),a4={sm:Yr({tab:{py:1,px:4,fontSize:"sm"}}),md:Yr({tab:{fontSize:"md",py:2,px:4}}),lg:Yr({tab:{fontSize:"lg",py:3,px:4}})},o4=Yr(t=>{const{colorScheme:e,orientation:n}=t,r=n==="vertical",i=r?"borderStart":"borderBottom",s=r?"marginStart":"marginBottom";return{tablist:{[i]:"2px solid",borderColor:"inherit"},tab:{[i]:"2px solid",borderColor:"transparent",[s]:"-2px",_selected:{[cn.variable]:`colors.${e}.600`,_dark:{[cn.variable]:`colors.${e}.300`},borderColor:"currentColor"},_active:{[wr.variable]:"colors.gray.200",_dark:{[wr.variable]:"colors.whiteAlpha.300"}},_disabled:{_active:{bg:"none"}},color:cn.reference,bg:wr.reference}}}),l4=Yr(t=>{const{colorScheme:e}=t;return{tab:{borderTopRadius:"md",border:"1px solid",borderColor:"transparent",mb:"-1px",[gd.variable]:"transparent",_selected:{[cn.variable]:`colors.${e}.600`,[gd.variable]:"colors.white",_dark:{[cn.variable]:`colors.${e}.300`,[gd.variable]:"colors.gray.800"},borderColor:"inherit",borderBottomColor:gd.reference},color:cn.reference},tablist:{mb:"-1px",borderBottom:"1px solid",borderColor:"inherit"}}}),u4=Yr(t=>{const{colorScheme:e}=t;return{tab:{border:"1px solid",borderColor:"inherit",[wr.variable]:"colors.gray.50",_dark:{[wr.variable]:"colors.whiteAlpha.50"},mb:"-1px",_notLast:{marginEnd:"-1px"},_selected:{[wr.variable]:"colors.white",[cn.variable]:`colors.${e}.600`,_dark:{[wr.variable]:"colors.gray.800",[cn.variable]:`colors.${e}.300`},borderColor:"inherit",borderTopColor:"currentColor",borderBottomColor:"transparent"},color:cn.reference,bg:wr.reference},tablist:{mb:"-1px",borderBottom:"1px solid",borderColor:"inherit"}}}),c4=Yr(t=>{const{colorScheme:e,theme:n}=t;return{tab:{borderRadius:"full",fontWeight:"semibold",color:"gray.600",_selected:{color:Xt(n,`${e}.700`),bg:Xt(n,`${e}.100`)}}}}),d4=Yr(t=>{const{colorScheme:e}=t;return{tab:{borderRadius:"full",fontWeight:"semibold",[cn.variable]:"colors.gray.600",_dark:{[cn.variable]:"inherit"},_selected:{[cn.variable]:"colors.white",[wr.variable]:`colors.${e}.600`,_dark:{[cn.variable]:"colors.gray.800",[wr.variable]:`colors.${e}.300`}},color:cn.reference,bg:wr.reference}}}),f4=Yr({}),h4={line:o4,enclosed:l4,"enclosed-colored":u4,"soft-rounded":c4,"solid-rounded":d4,unstyled:f4},p4=e4({baseStyle:s4,sizes:a4,variants:h4,defaultProps:{size:"md",variant:"line",colorScheme:"blue"}}),ft=ML("badge",["bg","color","shadow"]),m4={px:1,textTransform:"uppercase",fontSize:"xs",borderRadius:"sm",fontWeight:"bold",bg:ft.bg.reference,color:ft.color.reference,boxShadow:ft.shadow.reference},g4=t=>{const{colorScheme:e,theme:n}=t,r=Lo(`${e}.500`,.6)(n);return{[ft.bg.variable]:`colors.${e}.500`,[ft.color.variable]:"colors.white",_dark:{[ft.bg.variable]:r,[ft.color.variable]:"colors.whiteAlpha.800"}}},y4=t=>{const{colorScheme:e,theme:n}=t,r=Lo(`${e}.200`,.16)(n);return{[ft.bg.variable]:`colors.${e}.100`,[ft.color.variable]:`colors.${e}.800`,_dark:{[ft.bg.variable]:r,[ft.color.variable]:`colors.${e}.200`}}},v4=t=>{const{colorScheme:e,theme:n}=t,r=Lo(`${e}.200`,.8)(n);return{[ft.color.variable]:`colors.${e}.500`,_dark:{[ft.color.variable]:r},[ft.shadow.variable]:`inset 0 0 0px 1px ${ft.color.reference}`}},b4={solid:g4,subtle:y4,outline:v4},ru={baseStyle:m4,variants:b4,defaultProps:{variant:"subtle",colorScheme:"gray"}},{defineMultiStyleConfig:w4,definePartsStyle:na}=Ue(uD.keys),l1=ee("tag-bg"),u1=ee("tag-color"),lg=ee("tag-shadow"),ef=ee("tag-min-height"),tf=ee("tag-min-width"),nf=ee("tag-font-size"),rf=ee("tag-padding-inline"),_4={fontWeight:"medium",lineHeight:1.2,outline:0,[u1.variable]:ft.color.reference,[l1.variable]:ft.bg.reference,[lg.variable]:ft.shadow.reference,color:u1.reference,bg:l1.reference,boxShadow:lg.reference,borderRadius:"md",minH:ef.reference,minW:tf.reference,fontSize:nf.reference,px:rf.reference,_focusVisible:{[lg.variable]:"shadows.outline"}},x4={lineHeight:1.2,overflow:"visible"},k4={fontSize:"lg",w:"5",h:"5",transitionProperty:"common",transitionDuration:"normal",borderRadius:"full",marginStart:"1.5",marginEnd:"-1",opacity:.5,_disabled:{opacity:.4},_focusVisible:{boxShadow:"outline",bg:"rgba(0, 0, 0, 0.14)"},_hover:{opacity:.8},_active:{opacity:1}},S4=na({container:_4,label:x4,closeButton:k4}),C4={sm:na({container:{[ef.variable]:"sizes.5",[tf.variable]:"sizes.5",[nf.variable]:"fontSizes.xs",[rf.variable]:"space.2"},closeButton:{marginEnd:"-2px",marginStart:"0.35rem"}}),md:na({container:{[ef.variable]:"sizes.6",[tf.variable]:"sizes.6",[nf.variable]:"fontSizes.sm",[rf.variable]:"space.2"}}),lg:na({container:{[ef.variable]:"sizes.8",[tf.variable]:"sizes.8",[nf.variable]:"fontSizes.md",[rf.variable]:"space.3"}})},T4={subtle:na(t=>{var e;return{container:(e=ru.variants)==null?void 0:e.subtle(t)}}),solid:na(t=>{var e;return{container:(e=ru.variants)==null?void 0:e.solid(t)}}),outline:na(t=>{var e;return{container:(e=ru.variants)==null?void 0:e.outline(t)}})},P4=w4({variants:T4,baseStyle:S4,sizes:C4,defaultProps:{size:"md",variant:"subtle",colorScheme:"gray"}}),{definePartsStyle:bi,defineMultiStyleConfig:E4}=Ue(Kz.keys),Qa=ee("input-height"),eo=ee("input-font-size"),to=ee("input-padding"),no=ee("input-border-radius"),A4=bi({addon:{height:Qa.reference,fontSize:eo.reference,px:to.reference,borderRadius:no.reference},field:{width:"100%",height:Qa.reference,fontSize:eo.reference,px:to.reference,borderRadius:no.reference,minWidth:0,outline:0,position:"relative",appearance:"none",transitionProperty:"common",transitionDuration:"normal",_disabled:{opacity:.4,cursor:"not-allowed"}}}),zi={lg:{[eo.variable]:"fontSizes.lg",[to.variable]:"space.4",[no.variable]:"radii.md",[Qa.variable]:"sizes.12"},md:{[eo.variable]:"fontSizes.md",[to.variable]:"space.4",[no.variable]:"radii.md",[Qa.variable]:"sizes.10"},sm:{[eo.variable]:"fontSizes.sm",[to.variable]:"space.3",[no.variable]:"radii.sm",[Qa.variable]:"sizes.8"},xs:{[eo.variable]:"fontSizes.xs",[to.variable]:"space.2",[no.variable]:"radii.sm",[Qa.variable]:"sizes.6"}},I4={lg:bi({field:zi.lg,group:zi.lg}),md:bi({field:zi.md,group:zi.md}),sm:bi({field:zi.sm,group:zi.sm}),xs:bi({field:zi.xs,group:zi.xs})};function Ib(t){const{focusBorderColor:e,errorBorderColor:n}=t;return{focusBorderColor:e||Y("blue.500","blue.300")(t),errorBorderColor:n||Y("red.500","red.300")(t)}}var O4=bi(t=>{const{theme:e}=t,{focusBorderColor:n,errorBorderColor:r}=Ib(t);return{field:{border:"1px solid",borderColor:"inherit",bg:"inherit",_hover:{borderColor:Y("gray.300","whiteAlpha.400")(t)},_readOnly:{boxShadow:"none !important",userSelect:"all"},_invalid:{borderColor:Xt(e,r),boxShadow:`0 0 0 1px ${Xt(e,r)}`},_focusVisible:{zIndex:1,borderColor:Xt(e,n),boxShadow:`0 0 0 1px ${Xt(e,n)}`}},addon:{border:"1px solid",borderColor:Y("inherit","whiteAlpha.50")(t),bg:Y("gray.100","whiteAlpha.300")(t)}}}),R4=bi(t=>{const{theme:e}=t,{focusBorderColor:n,errorBorderColor:r}=Ib(t);return{field:{border:"2px solid",borderColor:"transparent",bg:Y("gray.100","whiteAlpha.50")(t),_hover:{bg:Y("gray.200","whiteAlpha.100")(t)},_readOnly:{boxShadow:"none !important",userSelect:"all"},_invalid:{borderColor:Xt(e,r)},_focusVisible:{bg:"transparent",borderColor:Xt(e,n)}},addon:{border:"2px solid",borderColor:"transparent",bg:Y("gray.100","whiteAlpha.50")(t)}}}),$4=bi(t=>{const{theme:e}=t,{focusBorderColor:n,errorBorderColor:r}=Ib(t);return{field:{borderBottom:"1px solid",borderColor:"inherit",borderRadius:"0",px:"0",bg:"transparent",_readOnly:{boxShadow:"none !important",userSelect:"all"},_invalid:{borderColor:Xt(e,r),boxShadow:`0px 1px 0px 0px ${Xt(e,r)}`},_focusVisible:{borderColor:Xt(e,n),boxShadow:`0px 1px 0px 0px ${Xt(e,n)}`}},addon:{borderBottom:"2px solid",borderColor:"inherit",borderRadius:"0",px:"0",bg:"transparent"}}}),N4=bi({field:{bg:"transparent",px:"0",height:"auto"},addon:{bg:"transparent",px:"0",height:"auto"}}),j4={outline:O4,filled:R4,flushed:$4,unstyled:N4},Ee=E4({baseStyle:A4,sizes:I4,variants:j4,defaultProps:{size:"md",variant:"outline"}}),c1,M4={...(c1=Ee.baseStyle)==null?void 0:c1.field,paddingY:"2",minHeight:"20",lineHeight:"short",verticalAlign:"top"},d1,f1,L4={outline:t=>{var e,n;return(n=(e=Ee.variants)==null?void 0:e.outline(t).field)!=null?n:{}},flushed:t=>{var e,n;return(n=(e=Ee.variants)==null?void 0:e.flushed(t).field)!=null?n:{}},filled:t=>{var e,n;return(n=(e=Ee.variants)==null?void 0:e.filled(t).field)!=null?n:{}},unstyled:(f1=(d1=Ee.variants)==null?void 0:d1.unstyled.field)!=null?f1:{}},h1,p1,m1,g1,y1,v1,b1,w1,z4={xs:(p1=(h1=Ee.sizes)==null?void 0:h1.xs.field)!=null?p1:{},sm:(g1=(m1=Ee.sizes)==null?void 0:m1.sm.field)!=null?g1:{},md:(v1=(y1=Ee.sizes)==null?void 0:y1.md.field)!=null?v1:{},lg:(w1=(b1=Ee.sizes)==null?void 0:b1.lg.field)!=null?w1:{}},D4={baseStyle:M4,sizes:z4,variants:L4,defaultProps:{size:"md",variant:"outline"}},yd=wt("tooltip-bg"),ug=wt("tooltip-fg"),F4=wt("popper-arrow-bg"),B4={bg:yd.reference,color:ug.reference,[yd.variable]:"colors.gray.700",[ug.variable]:"colors.whiteAlpha.900",_dark:{[yd.variable]:"colors.gray.300",[ug.variable]:"colors.gray.900"},[F4.variable]:yd.reference,px:"2",py:"0.5",borderRadius:"sm",fontWeight:"medium",fontSize:"sm",boxShadow:"md",maxW:"xs",zIndex:"tooltip"},V4={baseStyle:B4},{defineMultiStyleConfig:U4,definePartsStyle:Al}=Ue(tD.keys),H4=t=>{const{colorScheme:e,theme:n,isIndeterminate:r,hasStripe:i}=t,s=Y(r1(),r1("1rem","rgba(0,0,0,0.1)"))(t),a=Y(`${e}.500`,`${e}.200`)(t),o=`linear-gradient(
    to right,
    transparent 0%,
    ${Xt(n,a)} 50%,
    transparent 100%
  )`;return{...!r&&i&&s,...r?{bgImage:o}:{bgColor:a}}},W4={lineHeight:"1",fontSize:"0.25em",fontWeight:"bold",color:"white"},q4=t=>({bg:Y("gray.100","whiteAlpha.300")(t)}),Z4=t=>({transitionProperty:"common",transitionDuration:"slow",...H4(t)}),G4=Al(t=>({label:W4,filledTrack:Z4(t),track:q4(t)})),K4={xs:Al({track:{h:"1"}}),sm:Al({track:{h:"2"}}),md:Al({track:{h:"3"}}),lg:Al({track:{h:"4"}})},J4=U4({sizes:K4,baseStyle:G4,defaultProps:{size:"md",colorScheme:"blue"}}),X4=t=>typeof t=="function";function Qt(t,...e){return X4(t)?t(...e):t}var{definePartsStyle:sf,defineMultiStyleConfig:Y4}=Ue(Hz.keys),iu=ee("checkbox-size"),Q4=t=>{const{colorScheme:e}=t;return{w:iu.reference,h:iu.reference,transitionProperty:"box-shadow",transitionDuration:"normal",border:"2px solid",borderRadius:"sm",borderColor:"inherit",color:"white",_checked:{bg:Y(`${e}.500`,`${e}.200`)(t),borderColor:Y(`${e}.500`,`${e}.200`)(t),color:Y("white","gray.900")(t),_hover:{bg:Y(`${e}.600`,`${e}.300`)(t),borderColor:Y(`${e}.600`,`${e}.300`)(t)},_disabled:{borderColor:Y("gray.200","transparent")(t),bg:Y("gray.200","whiteAlpha.300")(t),color:Y("gray.500","whiteAlpha.500")(t)}},_indeterminate:{bg:Y(`${e}.500`,`${e}.200`)(t),borderColor:Y(`${e}.500`,`${e}.200`)(t),color:Y("white","gray.900")(t)},_disabled:{bg:Y("gray.100","whiteAlpha.100")(t),borderColor:Y("gray.100","transparent")(t)},_focusVisible:{boxShadow:"outline"},_invalid:{borderColor:Y("red.500","red.300")(t)}}},eF={_disabled:{cursor:"not-allowed"}},tF={userSelect:"none",_disabled:{opacity:.4}},nF={transitionProperty:"transform",transitionDuration:"normal"},rF=sf(t=>({icon:nF,container:eF,control:Qt(Q4,t),label:tF})),iF={sm:sf({control:{[iu.variable]:"sizes.3"},label:{fontSize:"sm"},icon:{fontSize:"3xs"}}),md:sf({control:{[iu.variable]:"sizes.4"},label:{fontSize:"md"},icon:{fontSize:"2xs"}}),lg:sf({control:{[iu.variable]:"sizes.5"},label:{fontSize:"lg"},icon:{fontSize:"2xs"}})},sh=Y4({baseStyle:rF,sizes:iF,defaultProps:{size:"md",colorScheme:"blue"}}),{defineMultiStyleConfig:sF,definePartsStyle:af}=Ue(nD.keys),aF=t=>{var e;const n=(e=Qt(sh.baseStyle,t))==null?void 0:e.control;return{...n,borderRadius:"full",_checked:{...n==null?void 0:n._checked,_before:{content:'""',display:"inline-block",pos:"relative",w:"50%",h:"50%",borderRadius:"50%",bg:"currentColor"}}}},oF=af(t=>{var e,n,r,i;return{label:(n=(e=sh).baseStyle)==null?void 0:n.call(e,t).label,container:(i=(r=sh).baseStyle)==null?void 0:i.call(r,t).container,control:aF(t)}}),lF={md:af({control:{w:"4",h:"4"},label:{fontSize:"md"}}),lg:af({control:{w:"5",h:"5"},label:{fontSize:"lg"}}),sm:af({control:{width:"3",height:"3"},label:{fontSize:"sm"}})},uF=sF({baseStyle:oF,sizes:lF,defaultProps:{size:"md",colorScheme:"blue"}}),{defineMultiStyleConfig:cF,definePartsStyle:dF}=Ue(rD.keys),vd=ee("select-bg"),_1,fF={...(_1=Ee.baseStyle)==null?void 0:_1.field,appearance:"none",paddingBottom:"1px",lineHeight:"normal",bg:vd.reference,[vd.variable]:"colors.white",_dark:{[vd.variable]:"colors.gray.700"},"> option, > optgroup":{bg:vd.reference}},hF={width:"6",height:"100%",insetEnd:"2",position:"relative",color:"currentColor",fontSize:"xl",_disabled:{opacity:.5}},pF=dF({field:fF,icon:hF}),bd={paddingInlineEnd:"8"},x1,k1,S1,C1,T1,P1,E1,A1,mF={lg:{...(x1=Ee.sizes)==null?void 0:x1.lg,field:{...(k1=Ee.sizes)==null?void 0:k1.lg.field,...bd}},md:{...(S1=Ee.sizes)==null?void 0:S1.md,field:{...(C1=Ee.sizes)==null?void 0:C1.md.field,...bd}},sm:{...(T1=Ee.sizes)==null?void 0:T1.sm,field:{...(P1=Ee.sizes)==null?void 0:P1.sm.field,...bd}},xs:{...(E1=Ee.sizes)==null?void 0:E1.xs,field:{...(A1=Ee.sizes)==null?void 0:A1.xs.field,...bd},icon:{insetEnd:"1"}}},gF=cF({baseStyle:pF,sizes:mF,variants:Ee.variants,defaultProps:Ee.defaultProps}),cg=ee("skeleton-start-color"),dg=ee("skeleton-end-color"),yF={[cg.variable]:"colors.gray.100",[dg.variable]:"colors.gray.400",_dark:{[cg.variable]:"colors.gray.800",[dg.variable]:"colors.gray.600"},background:cg.reference,borderColor:dg.reference,opacity:.7,borderRadius:"sm"},vF={baseStyle:yF},fg=ee("skip-link-bg"),bF={borderRadius:"md",fontWeight:"semibold",_focusVisible:{boxShadow:"outline",padding:"4",position:"fixed",top:"6",insetStart:"6",[fg.variable]:"colors.white",_dark:{[fg.variable]:"colors.gray.700"},bg:fg.reference}},wF={baseStyle:bF},{defineMultiStyleConfig:_F,definePartsStyle:Wp}=Ue(iD.keys),Bu=ee("slider-thumb-size"),Vu=ee("slider-track-size"),Xi=ee("slider-bg"),xF=t=>{const{orientation:e}=t;return{display:"inline-block",position:"relative",cursor:"pointer",_disabled:{opacity:.6,cursor:"default",pointerEvents:"none"},...Ab({orientation:e,vertical:{h:"100%"},horizontal:{w:"100%"}})}},kF=t=>({...Ab({orientation:t.orientation,horizontal:{h:Vu.reference},vertical:{w:Vu.reference}}),overflow:"hidden",borderRadius:"sm",[Xi.variable]:"colors.gray.200",_dark:{[Xi.variable]:"colors.whiteAlpha.200"},_disabled:{[Xi.variable]:"colors.gray.300",_dark:{[Xi.variable]:"colors.whiteAlpha.300"}},bg:Xi.reference}),SF=t=>{const{orientation:e}=t;return{...Ab({orientation:e,vertical:{left:"50%",transform:"translateX(-50%)",_active:{transform:"translateX(-50%) scale(1.15)"}},horizontal:{top:"50%",transform:"translateY(-50%)",_active:{transform:"translateY(-50%) scale(1.15)"}}}),w:Bu.reference,h:Bu.reference,display:"flex",alignItems:"center",justifyContent:"center",position:"absolute",outline:0,zIndex:1,borderRadius:"full",bg:"white",boxShadow:"base",border:"1px solid",borderColor:"transparent",transitionProperty:"transform",transitionDuration:"normal",_focusVisible:{boxShadow:"outline"},_disabled:{bg:"gray.300"}}},CF=t=>{const{colorScheme:e}=t;return{width:"inherit",height:"inherit",[Xi.variable]:`colors.${e}.500`,_dark:{[Xi.variable]:`colors.${e}.200`},bg:Xi.reference}},TF=Wp(t=>({container:xF(t),track:kF(t),thumb:SF(t),filledTrack:CF(t)})),PF=Wp({container:{[Bu.variable]:"sizes.4",[Vu.variable]:"sizes.1"}}),EF=Wp({container:{[Bu.variable]:"sizes.3.5",[Vu.variable]:"sizes.1"}}),AF=Wp({container:{[Bu.variable]:"sizes.2.5",[Vu.variable]:"sizes.0.5"}}),IF={lg:PF,md:EF,sm:AF},OF=_F({baseStyle:TF,sizes:IF,defaultProps:{size:"md",colorScheme:"blue"}}),Ds=wt("spinner-size"),RF={width:[Ds.reference],height:[Ds.reference]},$F={xs:{[Ds.variable]:"sizes.3"},sm:{[Ds.variable]:"sizes.4"},md:{[Ds.variable]:"sizes.6"},lg:{[Ds.variable]:"sizes.8"},xl:{[Ds.variable]:"sizes.12"}},NF={baseStyle:RF,sizes:$F,defaultProps:{size:"md"}},{defineMultiStyleConfig:jF,definePartsStyle:$E}=Ue(sD.keys),MF={fontWeight:"medium"},LF={opacity:.8,marginBottom:"2"},zF={verticalAlign:"baseline",fontWeight:"semibold"},DF={marginEnd:1,w:"3.5",h:"3.5",verticalAlign:"middle"},FF=$E({container:{},label:MF,helpText:LF,number:zF,icon:DF}),BF={md:$E({label:{fontSize:"sm"},helpText:{fontSize:"sm"},number:{fontSize:"2xl"}})},VF=jF({baseStyle:FF,sizes:BF,defaultProps:{size:"md"}}),hg=ee("kbd-bg"),UF={[hg.variable]:"colors.gray.100",_dark:{[hg.variable]:"colors.whiteAlpha.100"},bg:hg.reference,borderRadius:"md",borderWidth:"1px",borderBottomWidth:"3px",fontSize:"0.8em",fontWeight:"bold",lineHeight:"normal",px:"0.4em",whiteSpace:"nowrap"},HF={baseStyle:UF},WF={transitionProperty:"common",transitionDuration:"fast",transitionTimingFunction:"ease-out",cursor:"pointer",textDecoration:"none",outline:"none",color:"inherit",_hover:{textDecoration:"underline"},_focusVisible:{boxShadow:"outline"}},qF={baseStyle:WF},{defineMultiStyleConfig:ZF,definePartsStyle:GF}=Ue(Jz.keys),KF={marginEnd:"2",display:"inline",verticalAlign:"text-bottom"},JF=GF({icon:KF}),XF=ZF({baseStyle:JF}),{defineMultiStyleConfig:YF,definePartsStyle:QF}=Ue(Xz.keys),Fr=ee("menu-bg"),pg=ee("menu-shadow"),e5={[Fr.variable]:"#fff",[pg.variable]:"shadows.sm",_dark:{[Fr.variable]:"colors.gray.700",[pg.variable]:"shadows.dark-lg"},color:"inherit",minW:"3xs",py:"2",zIndex:1,borderRadius:"md",borderWidth:"1px",bg:Fr.reference,boxShadow:pg.reference},t5={py:"1.5",px:"3",transitionProperty:"background",transitionDuration:"ultra-fast",transitionTimingFunction:"ease-in",_focus:{[Fr.variable]:"colors.gray.100",_dark:{[Fr.variable]:"colors.whiteAlpha.100"}},_active:{[Fr.variable]:"colors.gray.200",_dark:{[Fr.variable]:"colors.whiteAlpha.200"}},_expanded:{[Fr.variable]:"colors.gray.100",_dark:{[Fr.variable]:"colors.whiteAlpha.100"}},_disabled:{opacity:.4,cursor:"not-allowed"},bg:Fr.reference},n5={mx:4,my:2,fontWeight:"semibold",fontSize:"sm"},r5={display:"inline-flex",alignItems:"center",justifyContent:"center",flexShrink:0},i5={opacity:.6},s5={border:0,borderBottom:"1px solid",borderColor:"inherit",my:"2",opacity:.6},a5={transitionProperty:"common",transitionDuration:"normal"},o5=QF({button:a5,list:e5,item:t5,groupTitle:n5,icon:r5,command:i5,divider:s5}),l5=YF({baseStyle:o5}),{defineMultiStyleConfig:u5,definePartsStyle:yv}=Ue(Yz.keys),mg=ee("modal-bg"),gg=ee("modal-shadow"),c5={bg:"blackAlpha.600",zIndex:"modal"},d5=t=>{const{isCentered:e,scrollBehavior:n}=t;return{display:"flex",zIndex:"modal",justifyContent:"center",alignItems:e?"center":"flex-start",overflow:n==="inside"?"hidden":"auto",overscrollBehaviorY:"none"}},f5=t=>{const{isCentered:e,scrollBehavior:n}=t;return{borderRadius:"md",color:"inherit",my:e?"auto":"16",mx:e?"auto":void 0,zIndex:"modal",maxH:n==="inside"?"calc(100% - 7.5rem)":void 0,[mg.variable]:"colors.white",[gg.variable]:"shadows.lg",_dark:{[mg.variable]:"colors.gray.700",[gg.variable]:"shadows.dark-lg"},bg:mg.reference,boxShadow:gg.reference}},h5={px:"6",py:"4",fontSize:"xl",fontWeight:"semibold"},p5={position:"absolute",top:"2",insetEnd:"3"},m5=t=>{const{scrollBehavior:e}=t;return{px:"6",py:"2",flex:"1",overflow:e==="inside"?"auto":void 0}},g5={px:"6",py:"4"},y5=yv(t=>({overlay:c5,dialogContainer:Qt(d5,t),dialog:Qt(f5,t),header:h5,closeButton:p5,body:Qt(m5,t),footer:g5}));function lr(t){return yv(t==="full"?{dialog:{maxW:"100vw",minH:"$100vh",my:"0",borderRadius:"0"}}:{dialog:{maxW:t}})}var v5={xs:lr("xs"),sm:lr("sm"),md:lr("md"),lg:lr("lg"),xl:lr("xl"),"2xl":lr("2xl"),"3xl":lr("3xl"),"4xl":lr("4xl"),"5xl":lr("5xl"),"6xl":lr("6xl"),full:lr("full")},b5=u5({baseStyle:y5,sizes:v5,defaultProps:{size:"md"}}),{defineMultiStyleConfig:w5,definePartsStyle:NE}=Ue(Qz.keys),Ob=wt("number-input-stepper-width"),jE=wt("number-input-input-padding"),_5=gi(Ob).add("0.5rem").toString(),yg=wt("number-input-bg"),vg=wt("number-input-color"),bg=wt("number-input-border-color"),x5={[Ob.variable]:"sizes.6",[jE.variable]:_5},k5=t=>{var e,n;return(n=(e=Qt(Ee.baseStyle,t))==null?void 0:e.field)!=null?n:{}},S5={width:Ob.reference},C5={borderStart:"1px solid",borderStartColor:bg.reference,color:vg.reference,bg:yg.reference,[vg.variable]:"colors.chakra-body-text",[bg.variable]:"colors.chakra-border-color",_dark:{[vg.variable]:"colors.whiteAlpha.800",[bg.variable]:"colors.whiteAlpha.300"},_active:{[yg.variable]:"colors.gray.200",_dark:{[yg.variable]:"colors.whiteAlpha.300"}},_disabled:{opacity:.4,cursor:"not-allowed"}},T5=NE(t=>{var e;return{root:x5,field:(e=Qt(k5,t))!=null?e:{},stepperGroup:S5,stepper:C5}});function wd(t){var e,n,r;const i=(e=Ee.sizes)==null?void 0:e[t],s={lg:"md",md:"md",sm:"sm",xs:"sm"},a=(r=(n=i.field)==null?void 0:n.fontSize)!=null?r:"md",o=EE.fontSizes[a];return NE({field:{...i.field,paddingInlineEnd:jE.reference,verticalAlign:"top"},stepper:{fontSize:gi(o).multiply(.75).toString(),_first:{borderTopEndRadius:s[t]},_last:{borderBottomEndRadius:s[t],mt:"-1px",borderTopWidth:1}}})}var P5={xs:wd("xs"),sm:wd("sm"),md:wd("md"),lg:wd("lg")},E5=w5({baseStyle:T5,sizes:P5,variants:Ee.variants,defaultProps:Ee.defaultProps}),I1,A5={...(I1=Ee.baseStyle)==null?void 0:I1.field,textAlign:"center"},I5={lg:{fontSize:"lg",w:12,h:12,borderRadius:"md"},md:{fontSize:"md",w:10,h:10,borderRadius:"md"},sm:{fontSize:"sm",w:8,h:8,borderRadius:"sm"},xs:{fontSize:"xs",w:6,h:6,borderRadius:"sm"}},O1,R1,O5={outline:t=>{var e,n,r;return(r=(n=Qt((e=Ee.variants)==null?void 0:e.outline,t))==null?void 0:n.field)!=null?r:{}},flushed:t=>{var e,n,r;return(r=(n=Qt((e=Ee.variants)==null?void 0:e.flushed,t))==null?void 0:n.field)!=null?r:{}},filled:t=>{var e,n,r;return(r=(n=Qt((e=Ee.variants)==null?void 0:e.filled,t))==null?void 0:n.field)!=null?r:{}},unstyled:(R1=(O1=Ee.variants)==null?void 0:O1.unstyled.field)!=null?R1:{}},R5={baseStyle:A5,sizes:I5,variants:O5,defaultProps:Ee.defaultProps},{defineMultiStyleConfig:$5,definePartsStyle:N5}=Ue(eD.keys),_d=wt("popper-bg"),j5=wt("popper-arrow-bg"),$1=wt("popper-arrow-shadow-color"),M5={zIndex:10},L5={[_d.variable]:"colors.white",bg:_d.reference,[j5.variable]:_d.reference,[$1.variable]:"colors.gray.200",_dark:{[_d.variable]:"colors.gray.700",[$1.variable]:"colors.whiteAlpha.300"},width:"xs",border:"1px solid",borderColor:"inherit",borderRadius:"md",boxShadow:"sm",zIndex:"inherit",_focusVisible:{outline:0,boxShadow:"outline"}},z5={px:3,py:2,borderBottomWidth:"1px"},D5={px:3,py:2},F5={px:3,py:2,borderTopWidth:"1px"},B5={position:"absolute",borderRadius:"md",top:1,insetEnd:2,padding:2},V5=N5({popper:M5,content:L5,header:z5,body:D5,footer:F5,closeButton:B5}),U5=$5({baseStyle:V5}),{definePartsStyle:vv,defineMultiStyleConfig:H5}=Ue(Wz.keys),wg=ee("drawer-bg"),_g=ee("drawer-box-shadow");function Aa(t){return vv(t==="full"?{dialog:{maxW:"100vw",h:"100vh"}}:{dialog:{maxW:t}})}var W5={bg:"blackAlpha.600",zIndex:"modal"},q5={display:"flex",zIndex:"modal",justifyContent:"center"},Z5=t=>{const{isFullHeight:e}=t;return{...e&&{height:"100vh"},zIndex:"modal",maxH:"100vh",color:"inherit",[wg.variable]:"colors.white",[_g.variable]:"shadows.lg",_dark:{[wg.variable]:"colors.gray.700",[_g.variable]:"shadows.dark-lg"},bg:wg.reference,boxShadow:_g.reference}},G5={px:"6",py:"4",fontSize:"xl",fontWeight:"semibold"},K5={position:"absolute",top:"2",insetEnd:"3"},J5={px:"6",py:"2",flex:"1",overflow:"auto"},X5={px:"6",py:"4"},Y5=vv(t=>({overlay:W5,dialogContainer:q5,dialog:Qt(Z5,t),header:G5,closeButton:K5,body:J5,footer:X5})),Q5={xs:Aa("xs"),sm:Aa("md"),md:Aa("lg"),lg:Aa("2xl"),xl:Aa("4xl"),full:Aa("full")},e3=H5({baseStyle:Y5,sizes:Q5,defaultProps:{size:"xs"}}),{definePartsStyle:t3,defineMultiStyleConfig:n3}=Ue(qz.keys),r3={borderRadius:"md",py:"1",transitionProperty:"common",transitionDuration:"normal"},i3={borderRadius:"md",py:"1",transitionProperty:"common",transitionDuration:"normal",width:"full",_focusVisible:{boxShadow:"outline"},_placeholder:{opacity:.6}},s3={borderRadius:"md",py:"1",transitionProperty:"common",transitionDuration:"normal",width:"full",_focusVisible:{boxShadow:"outline"},_placeholder:{opacity:.6}},a3=t3({preview:r3,input:i3,textarea:s3}),o3=n3({baseStyle:a3}),{definePartsStyle:l3,defineMultiStyleConfig:u3}=Ue(Zz.keys),bo=ee("form-control-color"),c3={marginStart:"1",[bo.variable]:"colors.red.500",_dark:{[bo.variable]:"colors.red.300"},color:bo.reference},d3={mt:"2",[bo.variable]:"colors.gray.600",_dark:{[bo.variable]:"colors.whiteAlpha.600"},color:bo.reference,lineHeight:"normal",fontSize:"sm"},f3=l3({container:{width:"100%",position:"relative"},requiredIndicator:c3,helperText:d3}),h3=u3({baseStyle:f3}),{definePartsStyle:p3,defineMultiStyleConfig:m3}=Ue(Gz.keys),wo=ee("form-error-color"),g3={[wo.variable]:"colors.red.500",_dark:{[wo.variable]:"colors.red.300"},color:wo.reference,mt:"2",fontSize:"sm",lineHeight:"normal"},y3={marginEnd:"0.5em",[wo.variable]:"colors.red.500",_dark:{[wo.variable]:"colors.red.300"},color:wo.reference},v3=p3({text:g3,icon:y3}),b3=m3({baseStyle:v3}),w3={fontSize:"md",marginEnd:"3",mb:"2",fontWeight:"medium",transitionProperty:"common",transitionDuration:"normal",opacity:1,_disabled:{opacity:.4}},_3={baseStyle:w3},x3={fontFamily:"heading",fontWeight:"bold"},k3={"4xl":{fontSize:["6xl",null,"7xl"],lineHeight:1},"3xl":{fontSize:["5xl",null,"6xl"],lineHeight:1},"2xl":{fontSize:["4xl",null,"5xl"],lineHeight:[1.2,null,1]},xl:{fontSize:["3xl",null,"4xl"],lineHeight:[1.33,null,1.2]},lg:{fontSize:["2xl",null,"3xl"],lineHeight:[1.33,null,1.2]},md:{fontSize:"xl",lineHeight:1.2},sm:{fontSize:"md",lineHeight:1.2},xs:{fontSize:"sm",lineHeight:1.2}},S3={baseStyle:x3,sizes:k3,defaultProps:{size:"xl"}},{defineMultiStyleConfig:C3,definePartsStyle:T3}=Ue(Uz.keys),xg=ee("breadcrumb-link-decor"),P3={transitionProperty:"common",transitionDuration:"fast",transitionTimingFunction:"ease-out",outline:"none",color:"inherit",textDecoration:xg.reference,[xg.variable]:"none","&:not([aria-current=page])":{cursor:"pointer",_hover:{[xg.variable]:"underline"},_focusVisible:{boxShadow:"outline"}}},E3=T3({link:P3}),A3=C3({baseStyle:E3}),I3={lineHeight:"1.2",borderRadius:"md",fontWeight:"semibold",transitionProperty:"common",transitionDuration:"normal",_focusVisible:{boxShadow:"outline"},_disabled:{opacity:.4,cursor:"not-allowed",boxShadow:"none"},_hover:{_disabled:{bg:"initial"}}},ME=t=>{const{colorScheme:e,theme:n}=t;if(e==="gray")return{color:Y("gray.800","whiteAlpha.900")(t),_hover:{bg:Y("gray.100","whiteAlpha.200")(t)},_active:{bg:Y("gray.200","whiteAlpha.300")(t)}};const r=Lo(`${e}.200`,.12)(n),i=Lo(`${e}.200`,.24)(n);return{color:Y(`${e}.600`,`${e}.200`)(t),bg:"transparent",_hover:{bg:Y(`${e}.50`,r)(t)},_active:{bg:Y(`${e}.100`,i)(t)}}},O3=t=>{const{colorScheme:e}=t,n=Y("gray.200","whiteAlpha.300")(t);return{border:"1px solid",borderColor:e==="gray"?n:"currentColor",".chakra-button__group[data-attached][data-orientation=horizontal] > &:not(:last-of-type)":{marginEnd:"-1px"},".chakra-button__group[data-attached][data-orientation=vertical] > &:not(:last-of-type)":{marginBottom:"-1px"},...Qt(ME,t)}},R3={yellow:{bg:"yellow.400",color:"black",hoverBg:"yellow.500",activeBg:"yellow.600"},cyan:{bg:"cyan.400",color:"black",hoverBg:"cyan.500",activeBg:"cyan.600"}},$3=t=>{var e;const{colorScheme:n}=t;if(n==="gray"){const l=Y("gray.100","whiteAlpha.200")(t);return{bg:l,color:Y("gray.800","whiteAlpha.900")(t),_hover:{bg:Y("gray.200","whiteAlpha.300")(t),_disabled:{bg:l}},_active:{bg:Y("gray.300","whiteAlpha.400")(t)}}}const{bg:r=`${n}.500`,color:i="white",hoverBg:s=`${n}.600`,activeBg:a=`${n}.700`}=(e=R3[n])!=null?e:{},o=Y(r,`${n}.200`)(t);return{bg:o,color:Y(i,"gray.800")(t),_hover:{bg:Y(s,`${n}.300`)(t),_disabled:{bg:o}},_active:{bg:Y(a,`${n}.400`)(t)}}},N3=t=>{const{colorScheme:e}=t;return{padding:0,height:"auto",lineHeight:"normal",verticalAlign:"baseline",color:Y(`${e}.500`,`${e}.200`)(t),_hover:{textDecoration:"underline",_disabled:{textDecoration:"none"}},_active:{color:Y(`${e}.700`,`${e}.500`)(t)}}},j3={bg:"none",color:"inherit",display:"inline",lineHeight:"inherit",m:"0",p:"0"},M3={ghost:ME,outline:O3,solid:$3,link:N3,unstyled:j3},L3={lg:{h:"12",minW:"12",fontSize:"lg",px:"6"},md:{h:"10",minW:"10",fontSize:"md",px:"4"},sm:{h:"8",minW:"8",fontSize:"sm",px:"3"},xs:{h:"6",minW:"6",fontSize:"xs",px:"2"}},z3={baseStyle:I3,variants:M3,sizes:L3,defaultProps:{variant:"solid",size:"md",colorScheme:"gray"}},{definePartsStyle:ra,defineMultiStyleConfig:D3}=Ue(cD.keys),ah=ee("card-bg"),xi=ee("card-padding"),LE=ee("card-shadow"),of=ee("card-radius"),zE=ee("card-border-width","0"),DE=ee("card-border-color"),F3=ra({container:{[ah.variable]:"colors.chakra-body-bg",backgroundColor:ah.reference,boxShadow:LE.reference,borderRadius:of.reference,color:"chakra-body-text",borderWidth:zE.reference,borderColor:DE.reference},body:{padding:xi.reference,flex:"1 1 0%"},header:{padding:xi.reference},footer:{padding:xi.reference}}),B3={sm:ra({container:{[of.variable]:"radii.base",[xi.variable]:"space.3"}}),md:ra({container:{[of.variable]:"radii.md",[xi.variable]:"space.5"}}),lg:ra({container:{[of.variable]:"radii.xl",[xi.variable]:"space.7"}})},V3={elevated:ra({container:{[LE.variable]:"shadows.base",_dark:{[ah.variable]:"colors.gray.700"}}}),outline:ra({container:{[zE.variable]:"1px",[DE.variable]:"colors.chakra-border-color"}}),filled:ra({container:{[ah.variable]:"colors.chakra-subtle-bg"}}),unstyled:{body:{[xi.variable]:0},header:{[xi.variable]:0},footer:{[xi.variable]:0}}},U3=D3({baseStyle:F3,variants:V3,sizes:B3,defaultProps:{variant:"elevated",size:"md"}}),su=wt("close-button-size"),yl=wt("close-button-bg"),H3={w:[su.reference],h:[su.reference],borderRadius:"md",transitionProperty:"common",transitionDuration:"normal",_disabled:{opacity:.4,cursor:"not-allowed",boxShadow:"none"},_hover:{[yl.variable]:"colors.blackAlpha.100",_dark:{[yl.variable]:"colors.whiteAlpha.100"}},_active:{[yl.variable]:"colors.blackAlpha.200",_dark:{[yl.variable]:"colors.whiteAlpha.200"}},_focusVisible:{boxShadow:"outline"},bg:yl.reference},W3={lg:{[su.variable]:"sizes.10",fontSize:"md"},md:{[su.variable]:"sizes.8",fontSize:"xs"},sm:{[su.variable]:"sizes.6",fontSize:"2xs"}},q3={baseStyle:H3,sizes:W3,defaultProps:{size:"md"}},{variants:Z3,defaultProps:G3}=ru,K3={fontFamily:"mono",fontSize:"sm",px:"0.2em",borderRadius:"sm",bg:ft.bg.reference,color:ft.color.reference,boxShadow:ft.shadow.reference},J3={baseStyle:K3,variants:Z3,defaultProps:G3},X3={w:"100%",mx:"auto",maxW:"prose",px:"4"},Y3={baseStyle:X3},Q3={opacity:.6,borderColor:"inherit"},eB={borderStyle:"solid"},tB={borderStyle:"dashed"},nB={solid:eB,dashed:tB},rB={baseStyle:Q3,variants:nB,defaultProps:{variant:"solid"}},{definePartsStyle:iB,defineMultiStyleConfig:sB}=Ue(Fz.keys),aB={borderTopWidth:"1px",borderColor:"inherit",_last:{borderBottomWidth:"1px"}},oB={transitionProperty:"common",transitionDuration:"normal",fontSize:"md",_focusVisible:{boxShadow:"outline"},_hover:{bg:"blackAlpha.50"},_disabled:{opacity:.4,cursor:"not-allowed"},px:"4",py:"2"},lB={pt:"2",px:"4",pb:"5"},uB={fontSize:"1.25em"},cB=iB({container:aB,button:oB,panel:lB,icon:uB}),dB=sB({baseStyle:cB}),{definePartsStyle:xc,defineMultiStyleConfig:fB}=Ue(Bz.keys),On=ee("alert-fg"),Oi=ee("alert-bg"),hB=xc({container:{bg:Oi.reference,px:"4",py:"3"},title:{fontWeight:"bold",lineHeight:"6",marginEnd:"2"},description:{lineHeight:"6"},icon:{color:On.reference,flexShrink:0,marginEnd:"3",w:"5",h:"6"},spinner:{color:On.reference,flexShrink:0,marginEnd:"3",w:"5",h:"5"}});function Rb(t){const{theme:e,colorScheme:n}=t,r=Lo(`${n}.200`,.16)(e);return{light:`colors.${n}.100`,dark:r}}var pB=xc(t=>{const{colorScheme:e}=t,n=Rb(t);return{container:{[On.variable]:`colors.${e}.600`,[Oi.variable]:n.light,_dark:{[On.variable]:`colors.${e}.200`,[Oi.variable]:n.dark}}}}),mB=xc(t=>{const{colorScheme:e}=t,n=Rb(t);return{container:{[On.variable]:`colors.${e}.600`,[Oi.variable]:n.light,_dark:{[On.variable]:`colors.${e}.200`,[Oi.variable]:n.dark},paddingStart:"3",borderStartWidth:"4px",borderStartColor:On.reference}}}),gB=xc(t=>{const{colorScheme:e}=t,n=Rb(t);return{container:{[On.variable]:`colors.${e}.600`,[Oi.variable]:n.light,_dark:{[On.variable]:`colors.${e}.200`,[Oi.variable]:n.dark},pt:"2",borderTopWidth:"4px",borderTopColor:On.reference}}}),yB=xc(t=>{const{colorScheme:e}=t;return{container:{[On.variable]:"colors.white",[Oi.variable]:`colors.${e}.600`,_dark:{[On.variable]:"colors.gray.900",[Oi.variable]:`colors.${e}.200`},color:On.reference}}}),vB={subtle:pB,"left-accent":mB,"top-accent":gB,solid:yB},bB=fB({baseStyle:hB,variants:vB,defaultProps:{variant:"subtle",colorScheme:"blue"}}),{definePartsStyle:FE,defineMultiStyleConfig:wB}=Ue(Vz.keys),_o=ee("avatar-border-color"),au=ee("avatar-bg"),Uu=ee("avatar-font-size"),zo=ee("avatar-size"),_B={borderRadius:"full",border:"0.2em solid",borderColor:_o.reference,[_o.variable]:"white",_dark:{[_o.variable]:"colors.gray.800"}},xB={bg:au.reference,fontSize:Uu.reference,width:zo.reference,height:zo.reference,lineHeight:"1",[au.variable]:"colors.gray.200",_dark:{[au.variable]:"colors.whiteAlpha.400"}},kB=t=>{const{name:e,theme:n}=t,r=e?ID({string:e}):"colors.gray.400",i=ED(r)(n);let s="white";return i||(s="gray.800"),{bg:au.reference,fontSize:Uu.reference,color:s,borderColor:_o.reference,verticalAlign:"top",width:zo.reference,height:zo.reference,"&:not([data-loaded])":{[au.variable]:r},[_o.variable]:"colors.white",_dark:{[_o.variable]:"colors.gray.800"}}},SB={fontSize:Uu.reference,lineHeight:"1"},CB=FE(t=>({badge:Qt(_B,t),excessLabel:Qt(xB,t),container:Qt(kB,t),label:SB}));function Di(t){const e=t!=="100%"?IE[t]:void 0;return FE({container:{[zo.variable]:e??t,[Uu.variable]:`calc(${e??t} / 2.5)`},excessLabel:{[zo.variable]:e??t,[Uu.variable]:`calc(${e??t} / 2.5)`}})}var TB={"2xs":Di(4),xs:Di(6),sm:Di(8),md:Di(12),lg:Di(16),xl:Di(24),"2xl":Di(32),full:Di("100%")},PB=wB({baseStyle:CB,sizes:TB,defaultProps:{size:"md"}}),EB={Accordion:dB,Alert:bB,Avatar:PB,Badge:ru,Breadcrumb:A3,Button:z3,Checkbox:sh,CloseButton:q3,Code:J3,Container:Y3,Divider:rB,Drawer:e3,Editable:o3,Form:h3,FormError:b3,FormLabel:_3,Heading:S3,Input:Ee,Kbd:HF,Link:qF,List:XF,Menu:l5,Modal:b5,NumberInput:E5,PinInput:R5,Popover:U5,Progress:J4,Radio:uF,Select:gF,Skeleton:vF,SkipLink:wF,Slider:OF,Spinner:NF,Stat:VF,Switch:qD,Table:QD,Tabs:p4,Tag:P4,Textarea:D4,Tooltip:V4,Card:U3,Stepper:Dz},AB={colors:{"chakra-body-text":{_light:"gray.800",_dark:"whiteAlpha.900"},"chakra-body-bg":{_light:"white",_dark:"gray.800"},"chakra-border-color":{_light:"gray.200",_dark:"whiteAlpha.300"},"chakra-inverse-text":{_light:"white",_dark:"gray.800"},"chakra-subtle-bg":{_light:"gray.100",_dark:"gray.700"},"chakra-subtle-text":{_light:"gray.600",_dark:"gray.400"},"chakra-placeholder-color":{_light:"gray.500",_dark:"whiteAlpha.400"}}},IB={global:{body:{fontFamily:"body",color:"chakra-body-text",bg:"chakra-body-bg",transitionProperty:"background-color",transitionDuration:"normal",lineHeight:"base"},"*::placeholder":{color:"chakra-placeholder-color"},"*, *::before, &::after":{borderColor:"chakra-border-color"}}},OB="ltr",RB={useSystemColorMode:!1,initialColorMode:"light",cssVarPrefix:"chakra"},BE={semanticTokens:AB,direction:OB,...Mz,components:EB,styles:IB,config:RB};function Il(t){return typeof t=="function"}function $B(...t){return e=>t.reduce((n,r)=>r(n),e)}var NB=t=>function(...n){let r=[...n],i=n[n.length-1];return fz(i)&&r.length>1?r=r.slice(0,r.length-1):i=t,$B(...r.map(s=>a=>Il(s)?s(a):MB(a,s)))(i)},jB=NB(BE);function MB(...t){return Jn({},...t,VE)}function VE(t,e,n,r){if((Il(t)||Il(e))&&Object.prototype.hasOwnProperty.call(r,n))return(...i)=>{const s=Il(t)?t(...i):t,a=Il(e)?e(...i):e;return Jn({},s,a,VE)}}function LB(t,e){const n={};return Object.keys(t).forEach(r=>{e.includes(r)||(n[r]=t[r])}),n}function zB(t,e,n,r){const i=typeof e=="string"?e.split("."):[e];for(r=0;r<i.length&&t;r+=1)t=t[i[r]];return t===void 0?n:t}var DB=t=>{const e=new WeakMap;return(r,i,s,a)=>{if(typeof r>"u")return t(r,i,s);e.has(r)||e.set(r,new Map);const o=e.get(r);if(o.has(i))return o.get(i);const l=t(r,i,s,a);return o.set(i,l),l}},UE=DB(zB);function HE(t,e){const n={};return Object.keys(t).forEach(r=>{const i=t[r];e(i,r,t)&&(n[r]=i)}),n}var WE=t=>HE(t,e=>e!=null);function FB(t){return typeof t=="function"}function qE(t,...e){return FB(t)?t(...e):t}var BB=typeof Element<"u",VB=typeof Map=="function",UB=typeof Set=="function",HB=typeof ArrayBuffer=="function"&&!!ArrayBuffer.isView;function lf(t,e){if(t===e)return!0;if(t&&e&&typeof t=="object"&&typeof e=="object"){if(t.constructor!==e.constructor)return!1;var n,r,i;if(Array.isArray(t)){if(n=t.length,n!=e.length)return!1;for(r=n;r--!==0;)if(!lf(t[r],e[r]))return!1;return!0}var s;if(VB&&t instanceof Map&&e instanceof Map){if(t.size!==e.size)return!1;for(s=t.entries();!(r=s.next()).done;)if(!e.has(r.value[0]))return!1;for(s=t.entries();!(r=s.next()).done;)if(!lf(r.value[1],e.get(r.value[0])))return!1;return!0}if(UB&&t instanceof Set&&e instanceof Set){if(t.size!==e.size)return!1;for(s=t.entries();!(r=s.next()).done;)if(!e.has(r.value[0]))return!1;return!0}if(HB&&ArrayBuffer.isView(t)&&ArrayBuffer.isView(e)){if(n=t.length,n!=e.length)return!1;for(r=n;r--!==0;)if(t[r]!==e[r])return!1;return!0}if(t.constructor===RegExp)return t.source===e.source&&t.flags===e.flags;if(t.valueOf!==Object.prototype.valueOf&&typeof t.valueOf=="function"&&typeof e.valueOf=="function")return t.valueOf()===e.valueOf();if(t.toString!==Object.prototype.toString&&typeof t.toString=="function"&&typeof e.toString=="function")return t.toString()===e.toString();if(i=Object.keys(t),n=i.length,n!==Object.keys(e).length)return!1;for(r=n;r--!==0;)if(!Object.prototype.hasOwnProperty.call(e,i[r]))return!1;if(BB&&t instanceof Element)return!1;for(r=n;r--!==0;)if(!((i[r]==="_owner"||i[r]==="__v"||i[r]==="__o")&&t.$$typeof)&&!lf(t[i[r]],e[i[r]]))return!1;return!0}return t!==t&&e!==e}var WB=function(e,n){try{return lf(e,n)}catch(r){if((r.message||"").match(/stack|recursion/i))return console.warn("react-fast-compare cannot handle circular refs"),!1;throw r}};const qB=va(WB);function ZE(t,e={}){var n;const{styleConfig:r,...i}=e,{theme:s,colorMode:a}=ZM(),o=t?UE(s,`components.${t}`):void 0,l=r||o,u=Jn({theme:s,colorMode:a},(n=l==null?void 0:l.defaultProps)!=null?n:{},WE(LB(i,["children"]))),c=A.useRef({});if(l){const f=cz(l)(u);qB(c.current,f)||(c.current=f)}return c.current}function Zo(t,e={}){return ZE(t,e)}function kc(t,e={}){return ZE(t,e)}var ZB=new Set([...YL,"textStyle","layerStyle","apply","noOfLines","focusBorderColor","errorBorderColor","as","__css","css","sx"]),GB=new Set(["htmlWidth","htmlHeight","htmlSize","htmlTranslate"]);function KB(t){return GB.has(t)||!ZB.has(t)}function JB(t,...e){if(t==null)throw new TypeError("Cannot convert undefined or null to object");const n={...t};for(const r of e)if(r!=null)for(const i in r)Object.prototype.hasOwnProperty.call(r,i)&&(i in n&&delete n[i],n[i]=r[i]);return n}function XB(t){const e=Object.assign({},t);for(let n in e)e[n]===void 0&&delete e[n];return e}var YB=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|disableRemotePlayback|download|draggable|encType|enterKeyHint|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,QB=iE(function(t){return YB.test(t)||t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&t.charCodeAt(2)<91}),e6=QB,t6=function(e){return e!=="theme"},N1=function(e){return typeof e=="string"&&e.charCodeAt(0)>96?e6:t6},j1=function(e,n,r){var i;if(n){var s=n.shouldForwardProp;i=e.__emotion_forwardProp&&s?function(a){return e.__emotion_forwardProp(a)&&s(a)}:s}return typeof i!="function"&&r&&(i=e.__emotion_forwardProp),i},n6=function(e){var n=e.cache,r=e.serialized,i=e.isStringTag;return cE(n,r,i),TM(function(){return dE(n,r,i)}),null},r6=function t(e,n){var r=e.__emotion_real===e,i=r&&e.__emotion_base||e,s,a;n!==void 0&&(s=n.label,a=n.target);var o=j1(e,n,r),l=o||N1(i),u=!l("as");return function(){var c=arguments,d=r&&e.__emotion_styles!==void 0?e.__emotion_styles.slice(0):[];if(s!==void 0&&d.push("label:"+s+";"),c[0]==null||c[0].raw===void 0)d.push.apply(d,c);else{d.push(c[0][0]);for(var f=c.length,h=1;h<f;h++)d.push(c[h],c[0][h])}var p=mE(function(y,b,m){var g=u&&y.as||i,v="",x=[],C=y;if(y.theme==null){C={};for(var k in y)C[k]=y[k];C.theme=A.useContext(Du)}typeof y.className=="string"?v=bM(b.registered,x,y.className):y.className!=null&&(v=y.className+" ");var I=_b(d.concat(x),b.registered,C);v+=b.key+"-"+I.name,a!==void 0&&(v+=" "+a);var R=u&&o===void 0?N1(g):l,j={};for(var T in y)u&&T==="as"||R(T)&&(j[T]=y[T]);return j.className=v,j.ref=m,A.createElement(A.Fragment,null,A.createElement(n6,{cache:b,serialized:I,isStringTag:typeof g=="string"}),A.createElement(g,j))});return p.displayName=s!==void 0?s:"Styled("+(typeof i=="string"?i:i.displayName||i.name||"Component")+")",p.defaultProps=e.defaultProps,p.__emotion_real=p,p.__emotion_base=i,p.__emotion_styles=d,p.__emotion_forwardProp=o,Object.defineProperty(p,"toString",{value:function(){return"."+a}}),p.withComponent=function(y,b){return t(y,eh({},n,b,{shouldForwardProp:j1(p,b,!0)})).apply(void 0,d)},p}},i6=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"],oh=r6.bind();i6.forEach(function(t){oh[t]=oh(t)});var M1,s6=(M1=oh.default)!=null?M1:oh,a6=({baseStyle:t})=>e=>{const{theme:n,css:r,__css:i,sx:s,...a}=e,o=HE(a,(d,f)=>ez(f)),l=qE(t,e),u=JB({},i,l,WE(o),s),c=PE(u)(e.theme);return r?[c,r]:c};function kg(t,e){const{baseStyle:n,...r}=e??{};r.shouldForwardProp||(r.shouldForwardProp=KB);const i=a6({baseStyle:n}),s=s6(t,r)(i);return Ef.forwardRef(function(l,u){const{colorMode:c,forced:d}=Sb();return Ef.createElement(s,{ref:u,"data-theme":d?c:void 0,...l})})}function o6(){const t=new Map;return new Proxy(kg,{apply(e,n,r){return kg(...r)},get(e,n){return t.has(n)||t.set(n,kg(n)),t.get(n)}})}var je=o6();function st(t){return A.forwardRef(t)}function l6(t={}){const{strict:e=!0,errorMessage:n="useContext: `context` is undefined. Seems you forgot to wrap component within the Provider",name:r}=t,i=A.createContext(void 0);i.displayName=r;function s(){var a;const o=A.useContext(i);if(!o&&e){const l=new Error(n);throw l.name="ContextError",(a=Error.captureStackTrace)==null||a.call(Error,l,s),l}return o}return[i.Provider,s,i]}function u6(t){const{cssVarsRoot:e,theme:n,children:r}=t,i=A.useMemo(()=>XL(n),[n]);return O.jsxs(AM,{theme:i,children:[O.jsx(c6,{root:e}),r]})}function c6({root:t=":host, :root"}){const e=[t,"[data-theme]"].join(",");return O.jsx(Fp,{styles:n=>({[e]:n.__cssVars})})}l6({name:"StylesContext",errorMessage:"useStyles: `styles` is undefined. Seems you forgot to wrap the components in `<StylesProvider />` "});function d6(){const{colorMode:t}=Sb();return O.jsx(Fp,{styles:e=>{const n=UE(e,"styles.global"),r=qE(n,{theme:e,colorMode:t});return r?PE(r)(e):void 0}})}var GE=A.createContext({getDocument(){return document},getWindow(){return window}});GE.displayName="EnvironmentContext";function KE(t){const{children:e,environment:n,disabled:r}=t,i=A.useRef(null),s=A.useMemo(()=>n||{getDocument:()=>{var o,l;return(l=(o=i.current)==null?void 0:o.ownerDocument)!=null?l:document},getWindow:()=>{var o,l;return(l=(o=i.current)==null?void 0:o.ownerDocument.defaultView)!=null?l:window}},[n]),a=!r||!n;return O.jsxs(GE.Provider,{value:s,children:[e,a&&O.jsx("span",{id:"__chakra_env",hidden:!0,ref:i})]})}KE.displayName="EnvironmentProvider";var f6=t=>{const{children:e,colorModeManager:n,portalZIndex:r,resetScope:i,resetCSS:s=!0,theme:a={},environment:o,cssVarsRoot:l,disableEnvironment:u,disableGlobalStyle:c}=t,d=O.jsx(KE,{environment:o,disabled:u,children:e});return O.jsx(u6,{theme:a,cssVarsRoot:l,children:O.jsxs(wE,{colorModeManager:n,options:a.config,children:[s?O.jsx($M,{scope:i}):O.jsx(RM,{}),!c&&O.jsx(d6,{}),r?O.jsx(vE,{zIndex:r,children:d}):d]})})},h6=(t,e)=>t.find(n=>n.id===e);function L1(t,e){const n=JE(t,e),r=n?t[n].findIndex(i=>i.id===e):-1;return{position:n,index:r}}function JE(t,e){for(const[n,r]of Object.entries(t))if(h6(r,e))return n}function p6(t){const e=t.includes("right"),n=t.includes("left");let r="center";return e&&(r="flex-end"),n&&(r="flex-start"),{display:"flex",flexDirection:"column",alignItems:r}}function m6(t){const n=t==="top"||t==="bottom"?"0 auto":void 0,r=t.includes("top")?"env(safe-area-inset-top, 0px)":void 0,i=t.includes("bottom")?"env(safe-area-inset-bottom, 0px)":void 0,s=t.includes("left")?void 0:"env(safe-area-inset-right, 0px)",a=t.includes("right")?void 0:"env(safe-area-inset-left, 0px)";return{position:"fixed",zIndex:"var(--toast-z-index, 5500)",pointerEvents:"none",display:"flex",flexDirection:"column",margin:n,top:r,bottom:i,right:s,left:a}}function uf(t,e=[]){const n=A.useRef(t);return A.useEffect(()=>{n.current=t}),A.useCallback((...r)=>{var i;return(i=n.current)==null?void 0:i.call(n,...r)},e)}function g6(t,e){const n=uf(t);A.useEffect(()=>{if(e==null)return;let r=null;return r=window.setTimeout(()=>{n()},e),()=>{r&&window.clearTimeout(r)}},[e,n])}function z1(t,e){const n=A.useRef(!1),r=A.useRef(!1);A.useEffect(()=>{if(n.current&&r.current)return t();r.current=!0},e),A.useEffect(()=>(n.current=!0,()=>{n.current=!1}),[])}const $b=A.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"}),qp=A.createContext({}),Sc=A.createContext(null),Nb=typeof document<"u",jb=Nb?A.useLayoutEffect:A.useEffect,XE=A.createContext({strict:!1}),Mb=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),y6="framerAppearId",YE="data-"+Mb(y6),v6={skipAnimations:!1,useManualTiming:!1};let D1=class{constructor(){this.order=[],this.scheduled=new Set}add(e){if(!this.scheduled.has(e))return this.scheduled.add(e),this.order.push(e),!0}remove(e){const n=this.order.indexOf(e);n!==-1&&(this.order.splice(n,1),this.scheduled.delete(e))}clear(){this.order.length=0,this.scheduled.clear()}};function b6(t){let e=new D1,n=new D1,r=0,i=!1,s=!1;const a=new WeakSet,o={schedule:(l,u=!1,c=!1)=>{const d=c&&i,f=d?e:n;return u&&a.add(l),f.add(l)&&d&&i&&(r=e.order.length),l},cancel:l=>{n.remove(l),a.delete(l)},process:l=>{if(i){s=!0;return}if(i=!0,[e,n]=[n,e],n.clear(),r=e.order.length,r)for(let u=0;u<r;u++){const c=e.order[u];a.has(c)&&(o.schedule(c),t()),c(l)}i=!1,s&&(s=!1,o.process(l))}};return o}const xd=["read","resolveKeyframes","update","preRender","render","postRender"],w6=40;function QE(t,e){let n=!1,r=!0;const i={delta:0,timestamp:0,isProcessing:!1},s=xd.reduce((d,f)=>(d[f]=b6(()=>n=!0),d),{}),a=d=>{s[d].process(i)},o=()=>{const d=performance.now();n=!1,i.delta=r?1e3/60:Math.max(Math.min(d-i.timestamp,w6),1),i.timestamp=d,i.isProcessing=!0,xd.forEach(a),i.isProcessing=!1,n&&e&&(r=!1,t(o))},l=()=>{n=!0,r=!0,i.isProcessing||t(o)};return{schedule:xd.reduce((d,f)=>{const h=s[f];return d[f]=(p,y=!1,b=!1)=>(n||l(),h.schedule(p,y,b)),d},{}),cancel:d=>xd.forEach(f=>s[f].cancel(d)),state:i,steps:s}}const{schedule:Lb,cancel:Ete}=QE(queueMicrotask,!1);function _6(t,e,n,r){const{visualElement:i}=A.useContext(qp),s=A.useContext(XE),a=A.useContext(Sc),o=A.useContext($b).reducedMotion,l=A.useRef();r=r||s.renderer,!l.current&&r&&(l.current=r(t,{visualState:e,parent:i,props:n,presenceContext:a,blockInitialAnimation:a?a.initial===!1:!1,reducedMotionConfig:o}));const u=l.current;A.useInsertionEffect(()=>{u&&u.update(n,a)});const c=A.useRef(!!(n[YE]&&!window.HandoffComplete));return jb(()=>{u&&(Lb.postRender(u.render),c.current&&u.animationState&&u.animationState.animateChanges())}),A.useEffect(()=>{u&&(u.updateFeatures(),!c.current&&u.animationState&&u.animationState.animateChanges(),c.current&&(c.current=!1,window.HandoffComplete=!0))}),u}function ro(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function x6(t,e,n){return A.useCallback(r=>{r&&t.mount&&t.mount(r),e&&(r?e.mount(r):e.unmount()),n&&(typeof n=="function"?n(r):ro(n)&&(n.current=r))},[e])}function Hu(t){return typeof t=="string"||Array.isArray(t)}function Zp(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}const zb=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Db=["initial",...zb];function Gp(t){return Zp(t.animate)||Db.some(e=>Hu(t[e]))}function eA(t){return!!(Gp(t)||t.variants)}function k6(t,e){if(Gp(t)){const{initial:n,animate:r}=t;return{initial:n===!1||Hu(n)?n:void 0,animate:Hu(r)?r:void 0}}return t.inherit!==!1?e:{}}function S6(t){const{initial:e,animate:n}=k6(t,A.useContext(qp));return A.useMemo(()=>({initial:e,animate:n}),[F1(e),F1(n)])}function F1(t){return Array.isArray(t)?t.join(" "):t}const B1={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Wu={};for(const t in B1)Wu[t]={isEnabled:e=>B1[t].some(n=>!!e[n])};function C6(t){for(const e in t)Wu[e]={...Wu[e],...t[e]}}const Fb=A.createContext({}),tA=A.createContext({}),T6=Symbol.for("motionComponentSymbol");function P6({preloadedFeatures:t,createVisualElement:e,useRender:n,useVisualState:r,Component:i}){t&&C6(t);function s(o,l){let u;const c={...A.useContext($b),...o,layoutId:E6(o)},{isStatic:d}=c,f=S6(o),h=r(o,d);if(!d&&Nb){f.visualElement=_6(i,h,c,e);const p=A.useContext(tA),y=A.useContext(XE).strict;f.visualElement&&(u=f.visualElement.loadFeatures(c,y,t,p))}return O.jsxs(qp.Provider,{value:f,children:[u&&f.visualElement?O.jsx(u,{visualElement:f.visualElement,...c}):null,n(i,o,x6(h,f.visualElement,l),h,d,f.visualElement)]})}const a=A.forwardRef(s);return a[T6]=i,a}function E6({layoutId:t}){const e=A.useContext(Fb).id;return e&&t!==void 0?e+"-"+t:t}function A6(t){function e(r,i={}){return P6(t(r,i))}if(typeof Proxy>"u")return e;const n=new Map;return new Proxy(e,{get:(r,i)=>(n.has(i)||n.set(i,e(i)),n.get(i))})}const I6=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Bb(t){return typeof t!="string"||t.includes("-")?!1:!!(I6.indexOf(t)>-1||/[A-Z]/u.test(t))}const lh={};function O6(t){Object.assign(lh,t)}const Cc=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],_a=new Set(Cc);function nA(t,{layout:e,layoutId:n}){return _a.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!lh[t]||t==="opacity")}const Bt=t=>!!(t&&t.getVelocity),R6={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},$6=Cc.length;function N6(t,{enableHardwareAcceleration:e=!0,allowTransformNone:n=!0},r,i){let s="";for(let a=0;a<$6;a++){const o=Cc[a];if(t[o]!==void 0){const l=R6[o]||o;s+=`${l}(${t[o]}) `}}return e&&!t.z&&(s+="translateZ(0)"),s=s.trim(),i?s=i(t,r?"":s):n&&r&&(s="none"),s}const rA=t=>e=>typeof e=="string"&&e.startsWith(t),iA=rA("--"),j6=rA("var(--"),Vb=t=>j6(t)?M6.test(t.split("/*")[0].trim()):!1,M6=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,L6=(t,e)=>e&&typeof t=="number"?e.transform(t):t,ps=(t,e,n)=>n>e?e:n<t?t:n,Go={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},ou={...Go,transform:t=>ps(0,1,t)},kd={...Go,default:1},lu=t=>Math.round(t*1e5)/1e5,Ub=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu,z6=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu,D6=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu;function Tc(t){return typeof t=="string"}const Pc=t=>({test:e=>Tc(e)&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),Hi=Pc("deg"),Qr=Pc("%"),te=Pc("px"),F6=Pc("vh"),B6=Pc("vw"),V1={...Qr,parse:t=>Qr.parse(t)/100,transform:t=>Qr.transform(t*100)},U1={...Go,transform:Math.round},sA={borderWidth:te,borderTopWidth:te,borderRightWidth:te,borderBottomWidth:te,borderLeftWidth:te,borderRadius:te,radius:te,borderTopLeftRadius:te,borderTopRightRadius:te,borderBottomRightRadius:te,borderBottomLeftRadius:te,width:te,maxWidth:te,height:te,maxHeight:te,size:te,top:te,right:te,bottom:te,left:te,padding:te,paddingTop:te,paddingRight:te,paddingBottom:te,paddingLeft:te,margin:te,marginTop:te,marginRight:te,marginBottom:te,marginLeft:te,rotate:Hi,rotateX:Hi,rotateY:Hi,rotateZ:Hi,scale:kd,scaleX:kd,scaleY:kd,scaleZ:kd,skew:Hi,skewX:Hi,skewY:Hi,distance:te,translateX:te,translateY:te,translateZ:te,x:te,y:te,z:te,perspective:te,transformPerspective:te,opacity:ou,originX:V1,originY:V1,originZ:te,zIndex:U1,backgroundPositionX:te,backgroundPositionY:te,fillOpacity:ou,strokeOpacity:ou,numOctaves:U1};function Hb(t,e,n,r){const{style:i,vars:s,transform:a,transformOrigin:o}=t;let l=!1,u=!1,c=!0;for(const d in e){const f=e[d];if(iA(d)){s[d]=f;continue}const h=sA[d],p=L6(f,h);if(_a.has(d)){if(l=!0,a[d]=p,!c)continue;f!==(h.default||0)&&(c=!1)}else d.startsWith("origin")?(u=!0,o[d]=p):i[d]=p}if(e.transform||(l||r?i.transform=N6(t.transform,n,c,r):i.transform&&(i.transform="none")),u){const{originX:d="50%",originY:f="50%",originZ:h=0}=o;i.transformOrigin=`${d} ${f} ${h}`}}const Wb=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function aA(t,e,n){for(const r in e)!Bt(e[r])&&!nA(r,n)&&(t[r]=e[r])}function V6({transformTemplate:t},e,n){return A.useMemo(()=>{const r=Wb();return Hb(r,e,{enableHardwareAcceleration:!n},t),Object.assign({},r.vars,r.style)},[e])}function U6(t,e,n){const r=t.style||{},i={};return aA(i,r,t),Object.assign(i,V6(t,e,n)),i}function H6(t,e,n){const r={},i=U6(t,e,n);return t.drag&&t.dragListener!==!1&&(r.draggable=!1,i.userSelect=i.WebkitUserSelect=i.WebkitTouchCallout="none",i.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(r.tabIndex=0),r.style=i,r}const W6=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function uh(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||W6.has(t)}let oA=t=>!uh(t);function q6(t){t&&(oA=e=>e.startsWith("on")?!uh(e):t(e))}try{q6(require("@emotion/is-prop-valid").default)}catch{}function Z6(t,e,n){const r={};for(const i in t)i==="values"&&typeof t.values=="object"||(oA(i)||n===!0&&uh(i)||!e&&!uh(i)||t.draggable&&i.startsWith("onDrag"))&&(r[i]=t[i]);return r}function H1(t,e,n){return typeof t=="string"?t:te.transform(e+n*t)}function G6(t,e,n){const r=H1(e,t.x,t.width),i=H1(n,t.y,t.height);return`${r} ${i}`}const K6={offset:"stroke-dashoffset",array:"stroke-dasharray"},J6={offset:"strokeDashoffset",array:"strokeDasharray"};function X6(t,e,n=1,r=0,i=!0){t.pathLength=1;const s=i?K6:J6;t[s.offset]=te.transform(-r);const a=te.transform(e),o=te.transform(n);t[s.array]=`${a} ${o}`}function qb(t,{attrX:e,attrY:n,attrScale:r,originX:i,originY:s,pathLength:a,pathSpacing:o=1,pathOffset:l=0,...u},c,d,f){if(Hb(t,u,c,f),d){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:h,style:p,dimensions:y}=t;h.transform&&(y&&(p.transform=h.transform),delete h.transform),y&&(i!==void 0||s!==void 0||p.transform)&&(p.transformOrigin=G6(y,i!==void 0?i:.5,s!==void 0?s:.5)),e!==void 0&&(h.x=e),n!==void 0&&(h.y=n),r!==void 0&&(h.scale=r),a!==void 0&&X6(h,a,o,l,!1)}const lA=()=>({...Wb(),attrs:{}}),Zb=t=>typeof t=="string"&&t.toLowerCase()==="svg";function Y6(t,e,n,r){const i=A.useMemo(()=>{const s=lA();return qb(s,e,{enableHardwareAcceleration:!1},Zb(r),t.transformTemplate),{...s.attrs,style:{...s.style}}},[e]);if(t.style){const s={};aA(s,t.style,t),i.style={...s,...i.style}}return i}function Q6(t=!1){return(n,r,i,{latestValues:s},a)=>{const l=(Bb(n)?Y6:H6)(r,s,a,n),u=Z6(r,typeof n=="string",t),c=n!==A.Fragment?{...u,...l,ref:i}:{},{children:d}=r,f=A.useMemo(()=>Bt(d)?d.get():d,[d]);return A.createElement(n,{...c,children:f})}}function uA(t,{style:e,vars:n},r,i){Object.assign(t.style,e,i&&i.getProjectionStyles(r));for(const s in n)t.style.setProperty(s,n[s])}const cA=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function dA(t,e,n,r){uA(t,e,void 0,r);for(const i in e.attrs)t.setAttribute(cA.has(i)?i:Mb(i),e.attrs[i])}function Gb(t,e,n){var r;const{style:i}=t,s={};for(const a in i)(Bt(i[a])||e.style&&Bt(e.style[a])||nA(a,t)||((r=n==null?void 0:n.getValue(a))===null||r===void 0?void 0:r.liveStyle)!==void 0)&&(s[a]=i[a]);return s}function fA(t,e,n){const r=Gb(t,e,n);for(const i in t)if(Bt(t[i])||Bt(e[i])){const s=Cc.indexOf(i)!==-1?"attr"+i.charAt(0).toUpperCase()+i.substring(1):i;r[s]=t[i]}return r}function Kb(t,e,n,r={},i={}){return typeof e=="function"&&(e=e(n!==void 0?n:t.custom,r,i)),typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"&&(e=e(n!==void 0?n:t.custom,r,i)),e}function hA(t){const e=A.useRef(null);return e.current===null&&(e.current=t()),e.current}const bv=t=>Array.isArray(t),e9=t=>!!(t&&typeof t=="object"&&t.mix&&t.toValue),t9=t=>bv(t)?t[t.length-1]||0:t;function cf(t){const e=Bt(t)?t.get():t;return e9(e)?e.toValue():e}function n9({scrapeMotionValuesFromProps:t,createRenderState:e,onMount:n},r,i,s){const a={latestValues:r9(r,i,s,t),renderState:e()};return n&&(a.mount=o=>n(r,o,a)),a}const pA=t=>(e,n)=>{const r=A.useContext(qp),i=A.useContext(Sc),s=()=>n9(t,e,r,i);return n?s():hA(s)};function r9(t,e,n,r){const i={},s=r(t,{});for(const f in s)i[f]=cf(s[f]);let{initial:a,animate:o}=t;const l=Gp(t),u=eA(t);e&&u&&!l&&t.inherit!==!1&&(a===void 0&&(a=e.initial),o===void 0&&(o=e.animate));let c=n?n.initial===!1:!1;c=c||a===!1;const d=c?o:a;return d&&typeof d!="boolean"&&!Zp(d)&&(Array.isArray(d)?d:[d]).forEach(h=>{const p=Kb(t,h);if(!p)return;const{transitionEnd:y,transition:b,...m}=p;for(const g in m){let v=m[g];if(Array.isArray(v)){const x=c?v.length-1:0;v=v[x]}v!==null&&(i[g]=v)}for(const g in y)i[g]=y[g]}),i}const Ut=t=>t,{schedule:ze,cancel:ms,state:Et,steps:Sg}=QE(typeof requestAnimationFrame<"u"?requestAnimationFrame:Ut,!0),i9={useVisualState:pA({scrapeMotionValuesFromProps:fA,createRenderState:lA,onMount:(t,e,{renderState:n,latestValues:r})=>{ze.read(()=>{try{n.dimensions=typeof e.getBBox=="function"?e.getBBox():e.getBoundingClientRect()}catch{n.dimensions={x:0,y:0,width:0,height:0}}}),ze.render(()=>{qb(n,r,{enableHardwareAcceleration:!1},Zb(e.tagName),t.transformTemplate),dA(e,n)})}})},s9={useVisualState:pA({scrapeMotionValuesFromProps:Gb,createRenderState:Wb})};function a9(t,{forwardMotionProps:e=!1},n,r){return{...Bb(t)?i9:s9,preloadedFeatures:n,useRender:Q6(e),createVisualElement:r,Component:t}}function wi(t,e,n,r={passive:!0}){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n)}const mA=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1;function Kp(t,e="page"){return{point:{x:t[`${e}X`],y:t[`${e}Y`]}}}const o9=t=>e=>mA(e)&&t(e,Kp(e));function ki(t,e,n,r){return wi(t,e,o9(n),r)}const l9=(t,e)=>n=>e(t(n)),Si=(...t)=>t.reduce(l9);function gA(t){let e=null;return()=>{const n=()=>{e=null};return e===null?(e=t,n):!1}}const W1=gA("dragHorizontal"),q1=gA("dragVertical");function yA(t){let e=!1;if(t==="y")e=q1();else if(t==="x")e=W1();else{const n=W1(),r=q1();n&&r?e=()=>{n(),r()}:(n&&n(),r&&r())}return e}function vA(){const t=yA(!0);return t?(t(),!1):!0}class Ss{constructor(e){this.isMounted=!1,this.node=e}update(){}}function Z1(t,e){const n=e?"pointerenter":"pointerleave",r=e?"onHoverStart":"onHoverEnd",i=(s,a)=>{if(s.pointerType==="touch"||vA())return;const o=t.getProps();t.animationState&&o.whileHover&&t.animationState.setActive("whileHover",e);const l=o[r];l&&ze.postRender(()=>l(s,a))};return ki(t.current,n,i,{passive:!t.getProps()[r]})}class u9 extends Ss{mount(){this.unmount=Si(Z1(this.node,!0),Z1(this.node,!1))}unmount(){}}class c9 extends Ss{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Si(wi(this.node.current,"focus",()=>this.onFocus()),wi(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}const bA=(t,e)=>e?t===e?!0:bA(t,e.parentElement):!1;function Cg(t,e){if(!e)return;const n=new PointerEvent("pointer"+t);e(n,Kp(n))}class d9 extends Ss{constructor(){super(...arguments),this.removeStartListeners=Ut,this.removeEndListeners=Ut,this.removeAccessibleListeners=Ut,this.startPointerPress=(e,n)=>{if(this.isPressing)return;this.removeEndListeners();const r=this.node.getProps(),s=ki(window,"pointerup",(o,l)=>{if(!this.checkPressEnd())return;const{onTap:u,onTapCancel:c,globalTapTarget:d}=this.node.getProps(),f=!d&&!bA(this.node.current,o.target)?c:u;f&&ze.update(()=>f(o,l))},{passive:!(r.onTap||r.onPointerUp)}),a=ki(window,"pointercancel",(o,l)=>this.cancelPress(o,l),{passive:!(r.onTapCancel||r.onPointerCancel)});this.removeEndListeners=Si(s,a),this.startPress(e,n)},this.startAccessiblePress=()=>{const e=s=>{if(s.key!=="Enter"||this.isPressing)return;const a=o=>{o.key!=="Enter"||!this.checkPressEnd()||Cg("up",(l,u)=>{const{onTap:c}=this.node.getProps();c&&ze.postRender(()=>c(l,u))})};this.removeEndListeners(),this.removeEndListeners=wi(this.node.current,"keyup",a),Cg("down",(o,l)=>{this.startPress(o,l)})},n=wi(this.node.current,"keydown",e),r=()=>{this.isPressing&&Cg("cancel",(s,a)=>this.cancelPress(s,a))},i=wi(this.node.current,"blur",r);this.removeAccessibleListeners=Si(n,i)}}startPress(e,n){this.isPressing=!0;const{onTapStart:r,whileTap:i}=this.node.getProps();i&&this.node.animationState&&this.node.animationState.setActive("whileTap",!0),r&&ze.postRender(()=>r(e,n))}checkPressEnd(){return this.removeEndListeners(),this.isPressing=!1,this.node.getProps().whileTap&&this.node.animationState&&this.node.animationState.setActive("whileTap",!1),!vA()}cancelPress(e,n){if(!this.checkPressEnd())return;const{onTapCancel:r}=this.node.getProps();r&&ze.postRender(()=>r(e,n))}mount(){const e=this.node.getProps(),n=ki(e.globalTapTarget?window:this.node.current,"pointerdown",this.startPointerPress,{passive:!(e.onTapStart||e.onPointerStart)}),r=wi(this.node.current,"focus",this.startAccessiblePress);this.removeStartListeners=Si(n,r)}unmount(){this.removeStartListeners(),this.removeEndListeners(),this.removeAccessibleListeners()}}const wv=new WeakMap,Tg=new WeakMap,f9=t=>{const e=wv.get(t.target);e&&e(t)},h9=t=>{t.forEach(f9)};function p9({root:t,...e}){const n=t||document;Tg.has(n)||Tg.set(n,{});const r=Tg.get(n),i=JSON.stringify(e);return r[i]||(r[i]=new IntersectionObserver(h9,{root:t,...e})),r[i]}function m9(t,e,n){const r=p9(e);return wv.set(t,n),r.observe(t),()=>{wv.delete(t),r.unobserve(t)}}const g9={some:0,all:1};class y9 extends Ss{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:r,amount:i="some",once:s}=e,a={root:n?n.current:void 0,rootMargin:r,threshold:typeof i=="number"?i:g9[i]},o=l=>{const{isIntersecting:u}=l;if(this.isInView===u||(this.isInView=u,s&&!u&&this.hasEnteredView))return;u&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",u);const{onViewportEnter:c,onViewportLeave:d}=this.node.getProps(),f=u?c:d;f&&f(l)};return m9(this.node.current,a,o)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(v9(e,n))&&this.startObserver()}unmount(){}}function v9({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const b9={inView:{Feature:y9},tap:{Feature:d9},focus:{Feature:c9},hover:{Feature:u9}};function wA(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let r=0;r<n;r++)if(e[r]!==t[r])return!1;return!0}function w9(t){const e={};return t.values.forEach((n,r)=>e[r]=n.get()),e}function _9(t){const e={};return t.values.forEach((n,r)=>e[r]=n.getVelocity()),e}function Jp(t,e,n){const r=t.getProps();return Kb(r,e,n!==void 0?n:r.custom,w9(t),_9(t))}const cs=t=>t*1e3,Ci=t=>t/1e3,x9={type:"spring",stiffness:500,damping:25,restSpeed:10},k9=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),S9={type:"keyframes",duration:.8},C9={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},T9=(t,{keyframes:e})=>e.length>2?S9:_a.has(t)?t.startsWith("scale")?k9(e[1]):x9:C9;function P9({when:t,delay:e,delayChildren:n,staggerChildren:r,staggerDirection:i,repeat:s,repeatType:a,repeatDelay:o,from:l,elapsed:u,...c}){return!!Object.keys(c).length}function Jb(t,e){return t[e]||t.default||t}const E9=t=>t!==null;function Xp(t,{repeat:e,repeatType:n="loop"},r){const i=t.filter(E9),s=e&&n!=="loop"&&e%2===1?0:i.length-1;return!s||r===void 0?i[s]:r}let df;function A9(){df=void 0}const ds={now:()=>(df===void 0&&ds.set(Et.isProcessing||v6.useManualTiming?Et.timestamp:performance.now()),df),set:t=>{df=t,queueMicrotask(A9)}},_A=t=>/^0[^.\s]+$/u.test(t);function I9(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||_A(t):!0}let _v=Ut;const xA=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t),O9=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function R9(t){const e=O9.exec(t);if(!e)return[,];const[,n,r,i]=e;return[`--${n??r}`,i]}function kA(t,e,n=1){const[r,i]=R9(t);if(!r)return;const s=window.getComputedStyle(e).getPropertyValue(r);if(s){const a=s.trim();return xA(a)?parseFloat(a):a}return Vb(i)?kA(i,e,n+1):i}const $9=new Set(["width","height","top","left","right","bottom","x","y","translateX","translateY"]),G1=t=>t===Go||t===te,K1=(t,e)=>parseFloat(t.split(", ")[e]),J1=(t,e)=>(n,{transform:r})=>{if(r==="none"||!r)return 0;const i=r.match(/^matrix3d\((.+)\)$/u);if(i)return K1(i[1],e);{const s=r.match(/^matrix\((.+)\)$/u);return s?K1(s[1],t):0}},N9=new Set(["x","y","z"]),j9=Cc.filter(t=>!N9.has(t));function M9(t){const e=[];return j9.forEach(n=>{const r=t.getValue(n);r!==void 0&&(e.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),e}const Do={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:J1(4,13),y:J1(5,14)};Do.translateX=Do.x;Do.translateY=Do.y;const SA=t=>e=>e.test(t),L9={test:t=>t==="auto",parse:t=>t},CA=[Go,te,Qr,Hi,B6,F6,L9],X1=t=>CA.find(SA(t)),ia=new Set;let xv=!1,kv=!1;function TA(){if(kv){const t=Array.from(ia).filter(r=>r.needsMeasurement),e=new Set(t.map(r=>r.element)),n=new Map;e.forEach(r=>{const i=M9(r);i.length&&(n.set(r,i),r.render())}),t.forEach(r=>r.measureInitialState()),e.forEach(r=>{r.render();const i=n.get(r);i&&i.forEach(([s,a])=>{var o;(o=r.getValue(s))===null||o===void 0||o.set(a)})}),t.forEach(r=>r.measureEndState()),t.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}kv=!1,xv=!1,ia.forEach(t=>t.complete()),ia.clear()}function PA(){ia.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(kv=!0)})}function z9(){PA(),TA()}class Xb{constructor(e,n,r,i,s,a=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=r,this.motionValue=i,this.element=s,this.isAsync=a}scheduleResolve(){this.isScheduled=!0,this.isAsync?(ia.add(this),xv||(xv=!0,ze.read(PA),ze.resolveKeyframes(TA))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:r,motionValue:i}=this;for(let s=0;s<e.length;s++)if(e[s]===null)if(s===0){const a=i==null?void 0:i.get(),o=e[e.length-1];if(a!==void 0)e[0]=a;else if(r&&n){const l=r.readValue(n,o);l!=null&&(e[0]=l)}e[0]===void 0&&(e[0]=o),i&&a===void 0&&i.set(e[0])}else e[s]=e[s-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),ia.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,ia.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const Yb=(t,e)=>n=>!!(Tc(n)&&D6.test(n)&&n.startsWith(t)||e&&Object.prototype.hasOwnProperty.call(n,e)),EA=(t,e,n)=>r=>{if(!Tc(r))return r;const[i,s,a,o]=r.match(Ub);return{[t]:parseFloat(i),[e]:parseFloat(s),[n]:parseFloat(a),alpha:o!==void 0?parseFloat(o):1}},D9=t=>ps(0,255,t),Pg={...Go,transform:t=>Math.round(D9(t))},Gs={test:Yb("rgb","red"),parse:EA("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:r=1})=>"rgba("+Pg.transform(t)+", "+Pg.transform(e)+", "+Pg.transform(n)+", "+lu(ou.transform(r))+")"};function F9(t){let e="",n="",r="",i="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),r=t.substring(5,7),i=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),r=t.substring(3,4),i=t.substring(4,5),e+=e,n+=n,r+=r,i+=i),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:i?parseInt(i,16)/255:1}}const Sv={test:Yb("#"),parse:F9,transform:Gs.transform},io={test:Yb("hsl","hue"),parse:EA("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:r=1})=>"hsla("+Math.round(t)+", "+Qr.transform(lu(e))+", "+Qr.transform(lu(n))+", "+lu(ou.transform(r))+")"},zt={test:t=>Gs.test(t)||Sv.test(t)||io.test(t),parse:t=>Gs.test(t)?Gs.parse(t):io.test(t)?io.parse(t):Sv.parse(t),transform:t=>Tc(t)?t:t.hasOwnProperty("red")?Gs.transform(t):io.transform(t)};function B9(t){var e,n;return isNaN(t)&&Tc(t)&&(((e=t.match(Ub))===null||e===void 0?void 0:e.length)||0)+(((n=t.match(z6))===null||n===void 0?void 0:n.length)||0)>0}const AA="number",IA="color",V9="var",U9="var(",Y1="${}",H9=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function ch(t){const e=t.toString(),n=[],r={color:[],number:[],var:[]},i=[];let s=0;const o=e.replace(H9,l=>(zt.test(l)?(r.color.push(s),i.push(IA),n.push(zt.parse(l))):l.startsWith(U9)?(r.var.push(s),i.push(V9),n.push(l)):(r.number.push(s),i.push(AA),n.push(parseFloat(l))),++s,Y1)).split(Y1);return{values:n,split:o,indexes:r,types:i}}function OA(t){return ch(t).values}function RA(t){const{split:e,types:n}=ch(t),r=e.length;return i=>{let s="";for(let a=0;a<r;a++)if(s+=e[a],i[a]!==void 0){const o=n[a];o===AA?s+=lu(i[a]):o===IA?s+=zt.transform(i[a]):s+=i[a]}return s}}const W9=t=>typeof t=="number"?0:t;function q9(t){const e=OA(t);return RA(t)(e.map(W9))}const gs={test:B9,parse:OA,createTransformer:RA,getAnimatableNone:q9},Z9=new Set(["brightness","contrast","saturate","opacity"]);function G9(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[r]=n.match(Ub)||[];if(!r)return t;const i=n.replace(r,"");let s=Z9.has(e)?1:0;return r!==n&&(s*=100),e+"("+s+i+")"}const K9=/\b([a-z-]*)\(.*?\)/gu,Cv={...gs,getAnimatableNone:t=>{const e=t.match(K9);return e?e.map(G9).join(" "):t}},J9={...sA,color:zt,backgroundColor:zt,outlineColor:zt,fill:zt,stroke:zt,borderColor:zt,borderTopColor:zt,borderRightColor:zt,borderBottomColor:zt,borderLeftColor:zt,filter:Cv,WebkitFilter:Cv},Qb=t=>J9[t];function $A(t,e){let n=Qb(t);return n!==Cv&&(n=gs),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const X9=new Set(["auto","none","0"]);function Y9(t,e,n){let r=0,i;for(;r<t.length&&!i;){const s=t[r];typeof s=="string"&&!X9.has(s)&&(i=t[r]),r++}if(i&&n)for(const s of e)t[s]=$A(n,i)}class NA extends Xb{constructor(e,n,r,i){super(e,n,r,i,i==null?void 0:i.owner,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:r}=this;if(!n.current)return;super.readKeyframes();for(let l=0;l<e.length;l++){const u=e[l];if(typeof u=="string"&&Vb(u)){const c=kA(u,n.current);c!==void 0&&(e[l]=c),l===e.length-1&&(this.finalKeyframe=u)}}if(this.resolveNoneKeyframes(),!$9.has(r)||e.length!==2)return;const[i,s]=e,a=X1(i),o=X1(s);if(a!==o)if(G1(a)&&G1(o))for(let l=0;l<e.length;l++){const u=e[l];typeof u=="string"&&(e[l]=parseFloat(u))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,r=[];for(let i=0;i<e.length;i++)I9(e[i])&&r.push(i);r.length&&Y9(e,r,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:r}=this;if(!e.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Do[r](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const i=n[n.length-1];i!==void 0&&e.getValue(r,i).jump(i,!1)}measureEndState(){var e;const{element:n,name:r,unresolvedKeyframes:i}=this;if(!n.current)return;const s=n.getValue(r);s&&s.jump(this.measuredOrigin,!1);const a=i.length-1,o=i[a];i[a]=Do[r](n.measureViewportBox(),window.getComputedStyle(n.current)),o!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=o),!((e=this.removedTransforms)===null||e===void 0)&&e.length&&this.removedTransforms.forEach(([l,u])=>{n.getValue(l).set(u)}),this.resolveNoneKeyframes()}}function Q9(t){let e;return()=>(e===void 0&&(e=t()),e)}const Q1=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(gs.test(t)||t==="0")&&!t.startsWith("url("));function eV(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function tV(t,e,n,r){const i=t[0];if(i===null)return!1;const s=t[t.length-1],a=Q1(i,e),o=Q1(s,e);return!a||!o?!1:eV(t)||n==="spring"&&r}class jA{constructor({autoplay:e=!0,delay:n=0,type:r="keyframes",repeat:i=0,repeatDelay:s=0,repeatType:a="loop",...o}){this.isStopped=!1,this.hasAttemptedResolve=!1,this.options={autoplay:e,delay:n,type:r,repeat:i,repeatDelay:s,repeatType:a,...o},this.updateFinishedPromise()}get resolved(){return!this._resolved&&!this.hasAttemptedResolve&&z9(),this._resolved}onKeyframesResolved(e,n){this.hasAttemptedResolve=!0;const{name:r,type:i,velocity:s,delay:a,onComplete:o,onUpdate:l,isGenerator:u}=this.options;if(!u&&!tV(e,r,i,s))if(a)this.options.duration=0;else{l==null||l(Xp(e,this.options,n)),o==null||o(),this.resolveFinishedPromise();return}const c=this.initPlayback(e,n);c!==!1&&(this._resolved={keyframes:e,finalKeyframe:n,...c},this.onPostResolved())}onPostResolved(){}then(e,n){return this.currentFinishedPromise.then(e,n)}updateFinishedPromise(){this.currentFinishedPromise=new Promise(e=>{this.resolveFinishedPromise=e})}}function MA(t,e){return e?t*(1e3/e):0}const nV=5;function LA(t,e,n){const r=Math.max(e-nV,0);return MA(n-t(r),e-r)}const Eg=.001,rV=.01,iV=10,sV=.05,aV=1;function oV({duration:t=800,bounce:e=.25,velocity:n=0,mass:r=1}){let i,s,a=1-e;a=ps(sV,aV,a),t=ps(rV,iV,Ci(t)),a<1?(i=u=>{const c=u*a,d=c*t,f=c-n,h=Tv(u,a),p=Math.exp(-d);return Eg-f/h*p},s=u=>{const d=u*a*t,f=d*n+n,h=Math.pow(a,2)*Math.pow(u,2)*t,p=Math.exp(-d),y=Tv(Math.pow(u,2),a);return(-i(u)+Eg>0?-1:1)*((f-h)*p)/y}):(i=u=>{const c=Math.exp(-u*t),d=(u-n)*t+1;return-Eg+c*d},s=u=>{const c=Math.exp(-u*t),d=(n-u)*(t*t);return c*d});const o=5/t,l=uV(i,s,o);if(t=cs(t),isNaN(l))return{stiffness:100,damping:10,duration:t};{const u=Math.pow(l,2)*r;return{stiffness:u,damping:a*2*Math.sqrt(r*u),duration:t}}}const lV=12;function uV(t,e,n){let r=n;for(let i=1;i<lV;i++)r=r-t(r)/e(r);return r}function Tv(t,e){return t*Math.sqrt(1-e*e)}const cV=["duration","bounce"],dV=["stiffness","damping","mass"];function ek(t,e){return e.some(n=>t[n]!==void 0)}function fV(t){let e={velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1,...t};if(!ek(t,dV)&&ek(t,cV)){const n=oV(t);e={...e,...n,mass:1},e.isResolvedFromDuration=!0}return e}function zA({keyframes:t,restDelta:e,restSpeed:n,...r}){const i=t[0],s=t[t.length-1],a={done:!1,value:i},{stiffness:o,damping:l,mass:u,duration:c,velocity:d,isResolvedFromDuration:f}=fV({...r,velocity:-Ci(r.velocity||0)}),h=d||0,p=l/(2*Math.sqrt(o*u)),y=s-i,b=Ci(Math.sqrt(o/u)),m=Math.abs(y)<5;n||(n=m?.01:2),e||(e=m?.005:.5);let g;if(p<1){const v=Tv(b,p);g=x=>{const C=Math.exp(-p*b*x);return s-C*((h+p*b*y)/v*Math.sin(v*x)+y*Math.cos(v*x))}}else if(p===1)g=v=>s-Math.exp(-b*v)*(y+(h+b*y)*v);else{const v=b*Math.sqrt(p*p-1);g=x=>{const C=Math.exp(-p*b*x),k=Math.min(v*x,300);return s-C*((h+p*b*y)*Math.sinh(k)+v*y*Math.cosh(k))/v}}return{calculatedDuration:f&&c||null,next:v=>{const x=g(v);if(f)a.done=v>=c;else{let C=h;v!==0&&(p<1?C=LA(g,v,x):C=0);const k=Math.abs(C)<=n,I=Math.abs(s-x)<=e;a.done=k&&I}return a.value=a.done?s:x,a}}}function tk({keyframes:t,velocity:e=0,power:n=.8,timeConstant:r=325,bounceDamping:i=10,bounceStiffness:s=500,modifyTarget:a,min:o,max:l,restDelta:u=.5,restSpeed:c}){const d=t[0],f={done:!1,value:d},h=R=>o!==void 0&&R<o||l!==void 0&&R>l,p=R=>o===void 0?l:l===void 0||Math.abs(o-R)<Math.abs(l-R)?o:l;let y=n*e;const b=d+y,m=a===void 0?b:a(b);m!==b&&(y=m-d);const g=R=>-y*Math.exp(-R/r),v=R=>m+g(R),x=R=>{const j=g(R),T=v(R);f.done=Math.abs(j)<=u,f.value=f.done?m:T};let C,k;const I=R=>{h(f.value)&&(C=R,k=zA({keyframes:[f.value,p(f.value)],velocity:LA(v,R,f.value),damping:i,stiffness:s,restDelta:u,restSpeed:c}))};return I(0),{calculatedDuration:null,next:R=>{let j=!1;return!k&&C===void 0&&(j=!0,x(R),I(R)),C!==void 0&&R>=C?k.next(R-C):(!j&&x(R),f)}}}const DA=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,hV=1e-7,pV=12;function mV(t,e,n,r,i){let s,a,o=0;do a=e+(n-e)/2,s=DA(a,r,i)-t,s>0?n=a:e=a;while(Math.abs(s)>hV&&++o<pV);return a}function Ec(t,e,n,r){if(t===e&&n===r)return Ut;const i=s=>mV(s,0,1,t,n);return s=>s===0||s===1?s:DA(i(s),e,r)}const gV=Ec(.42,0,1,1),yV=Ec(0,0,.58,1),FA=Ec(.42,0,.58,1),vV=t=>Array.isArray(t)&&typeof t[0]!="number",BA=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,VA=t=>e=>1-t(1-e),ew=t=>1-Math.sin(Math.acos(t)),UA=VA(ew),bV=BA(ew),HA=Ec(.33,1.53,.69,.99),tw=VA(HA),wV=BA(tw),_V=t=>(t*=2)<1?.5*tw(t):.5*(2-Math.pow(2,-10*(t-1))),nk={linear:Ut,easeIn:gV,easeInOut:FA,easeOut:yV,circIn:ew,circInOut:bV,circOut:UA,backIn:tw,backInOut:wV,backOut:HA,anticipate:_V},rk=t=>{if(Array.isArray(t)){_v(t.length===4);const[e,n,r,i]=t;return Ec(e,n,r,i)}else if(typeof t=="string")return _v(nk[t]!==void 0),nk[t];return t},qu=(t,e,n)=>{const r=e-t;return r===0?1:(n-t)/r},tt=(t,e,n)=>t+(e-t)*n;function Ag(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function xV({hue:t,saturation:e,lightness:n,alpha:r}){t/=360,e/=100,n/=100;let i=0,s=0,a=0;if(!e)i=s=a=n;else{const o=n<.5?n*(1+e):n+e-n*e,l=2*n-o;i=Ag(l,o,t+1/3),s=Ag(l,o,t),a=Ag(l,o,t-1/3)}return{red:Math.round(i*255),green:Math.round(s*255),blue:Math.round(a*255),alpha:r}}const Ig=(t,e,n)=>{const r=t*t,i=n*(e*e-r)+r;return i<0?0:Math.sqrt(i)},kV=[Sv,Gs,io],SV=t=>kV.find(e=>e.test(t));function ik(t){const e=SV(t);let n=e.parse(t);return e===io&&(n=xV(n)),n}const sk=(t,e)=>{const n=ik(t),r=ik(e),i={...n};return s=>(i.red=Ig(n.red,r.red,s),i.green=Ig(n.green,r.green,s),i.blue=Ig(n.blue,r.blue,s),i.alpha=tt(n.alpha,r.alpha,s),Gs.transform(i))};function Pv(t,e){return n=>n>0?e:t}function CV(t,e){return n=>tt(t,e,n)}function nw(t){return typeof t=="number"?CV:typeof t=="string"?Vb(t)?Pv:zt.test(t)?sk:EV:Array.isArray(t)?WA:typeof t=="object"?zt.test(t)?sk:TV:Pv}function WA(t,e){const n=[...t],r=n.length,i=t.map((s,a)=>nw(s)(s,e[a]));return s=>{for(let a=0;a<r;a++)n[a]=i[a](s);return n}}function TV(t,e){const n={...t,...e},r={};for(const i in n)t[i]!==void 0&&e[i]!==void 0&&(r[i]=nw(t[i])(t[i],e[i]));return i=>{for(const s in r)n[s]=r[s](i);return n}}function PV(t,e){var n;const r=[],i={color:0,var:0,number:0};for(let s=0;s<e.values.length;s++){const a=e.types[s],o=t.indexes[a][i[a]],l=(n=t.values[o])!==null&&n!==void 0?n:0;r[s]=l,i[a]++}return r}const EV=(t,e)=>{const n=gs.createTransformer(e),r=ch(t),i=ch(e);return r.indexes.var.length===i.indexes.var.length&&r.indexes.color.length===i.indexes.color.length&&r.indexes.number.length>=i.indexes.number.length?Si(WA(PV(r,i),i.values),n):Pv(t,e)};function qA(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?tt(t,e,n):nw(t)(t,e)}function AV(t,e,n){const r=[],i=n||qA,s=t.length-1;for(let a=0;a<s;a++){let o=i(t[a],t[a+1]);if(e){const l=Array.isArray(e)?e[a]||Ut:e;o=Si(l,o)}r.push(o)}return r}function IV(t,e,{clamp:n=!0,ease:r,mixer:i}={}){const s=t.length;if(_v(s===e.length),s===1)return()=>e[0];if(s===2&&t[0]===t[1])return()=>e[1];t[0]>t[s-1]&&(t=[...t].reverse(),e=[...e].reverse());const a=AV(e,r,i),o=a.length,l=u=>{let c=0;if(o>1)for(;c<t.length-2&&!(u<t[c+1]);c++);const d=qu(t[c],t[c+1],u);return a[c](d)};return n?u=>l(ps(t[0],t[s-1],u)):l}function OV(t,e){const n=t[t.length-1];for(let r=1;r<=e;r++){const i=qu(0,e,r);t.push(tt(n,1,i))}}function RV(t){const e=[0];return OV(e,t.length-1),e}function $V(t,e){return t.map(n=>n*e)}function NV(t,e){return t.map(()=>e||FA).splice(0,t.length-1)}function dh({duration:t=300,keyframes:e,times:n,ease:r="easeInOut"}){const i=vV(r)?r.map(rk):rk(r),s={done:!1,value:e[0]},a=$V(n&&n.length===e.length?n:RV(e),t),o=IV(a,e,{ease:Array.isArray(i)?i:NV(e,i)});return{calculatedDuration:t,next:l=>(s.value=o(l),s.done=l>=t,s)}}const ak=2e4;function jV(t){let e=0;const n=50;let r=t.next(e);for(;!r.done&&e<ak;)e+=n,r=t.next(e);return e>=ak?1/0:e}const MV=t=>{const e=({timestamp:n})=>t(n);return{start:()=>ze.update(e,!0),stop:()=>ms(e),now:()=>Et.isProcessing?Et.timestamp:ds.now()}},LV={decay:tk,inertia:tk,tween:dh,keyframes:dh,spring:zA},zV=t=>t/100;class rw extends jA{constructor({KeyframeResolver:e=Xb,...n}){super(n),this.holdTime=null,this.startTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.teardown();const{onStop:o}=this.options;o&&o()};const{name:r,motionValue:i,keyframes:s}=this.options,a=(o,l)=>this.onKeyframesResolved(o,l);r&&i&&i.owner?this.resolver=i.owner.resolveKeyframes(s,a,r,i):this.resolver=new e(s,a,r,i),this.resolver.scheduleResolve()}initPlayback(e){const{type:n="keyframes",repeat:r=0,repeatDelay:i=0,repeatType:s,velocity:a=0}=this.options,o=LV[n]||dh;let l,u;o!==dh&&typeof e[0]!="number"&&(l=Si(zV,qA(e[0],e[1])),e=[0,100]);const c=o({...this.options,keyframes:e});s==="mirror"&&(u=o({...this.options,keyframes:[...e].reverse(),velocity:-a})),c.calculatedDuration===null&&(c.calculatedDuration=jV(c));const{calculatedDuration:d}=c,f=d+i,h=f*(r+1)-i;return{generator:c,mirroredGenerator:u,mapPercentToKeyframes:l,calculatedDuration:d,resolvedDuration:f,totalDuration:h}}onPostResolved(){const{autoplay:e=!0}=this.options;this.play(),this.pendingPlayState==="paused"||!e?this.pause():this.state=this.pendingPlayState}tick(e,n=!1){const{resolved:r}=this;if(!r){const{keyframes:R}=this.options;return{done:!0,value:R[R.length-1]}}const{finalKeyframe:i,generator:s,mirroredGenerator:a,mapPercentToKeyframes:o,keyframes:l,calculatedDuration:u,totalDuration:c,resolvedDuration:d}=r;if(this.startTime===null)return s.next(0);const{delay:f,repeat:h,repeatType:p,repeatDelay:y,onUpdate:b}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-c/this.speed,this.startTime)),n?this.currentTime=e:this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=Math.round(e-this.startTime)*this.speed;const m=this.currentTime-f*(this.speed>=0?1:-1),g=this.speed>=0?m<0:m>c;this.currentTime=Math.max(m,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=c);let v=this.currentTime,x=s;if(h){const R=Math.min(this.currentTime,c)/d;let j=Math.floor(R),T=R%1;!T&&R>=1&&(T=1),T===1&&j--,j=Math.min(j,h+1),!!(j%2)&&(p==="reverse"?(T=1-T,y&&(T-=y/d)):p==="mirror"&&(x=a)),v=ps(0,1,T)*d}const C=g?{done:!1,value:l[0]}:x.next(v);o&&(C.value=o(C.value));let{done:k}=C;!g&&u!==null&&(k=this.speed>=0?this.currentTime>=c:this.currentTime<=0);const I=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&k);return I&&i!==void 0&&(C.value=Xp(l,this.options,i)),b&&b(C.value),I&&this.finish(),C}get duration(){const{resolved:e}=this;return e?Ci(e.calculatedDuration):0}get time(){return Ci(this.currentTime)}set time(e){e=cs(e),this.currentTime=e,this.holdTime!==null||this.speed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.speed)}get speed(){return this.playbackSpeed}set speed(e){const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=Ci(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved){this.pendingPlayState="running";return}if(this.isStopped)return;const{driver:e=MV,onPlay:n}=this.options;this.driver||(this.driver=e(i=>this.tick(i))),n&&n();const r=this.driver.now();this.holdTime!==null?this.startTime=r-this.holdTime:(!this.startTime||this.state==="finished")&&(this.startTime=r),this.state==="finished"&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){var e;if(!this._resolved){this.pendingPlayState="paused";return}this.state="paused",this.holdTime=(e=this.currentTime)!==null&&e!==void 0?e:0}complete(){this.state!=="running"&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:e}=this.options;e&&e()}cancel(){this.cancelTime!==null&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}}const ZA=t=>Array.isArray(t)&&typeof t[0]=="number";function GA(t){return!!(!t||typeof t=="string"&&t in iw||ZA(t)||Array.isArray(t)&&t.every(GA))}const Ol=([t,e,n,r])=>`cubic-bezier(${t}, ${e}, ${n}, ${r})`,iw={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Ol([0,.65,.55,1]),circOut:Ol([.55,0,1,.45]),backIn:Ol([.31,.01,.66,-.59]),backOut:Ol([.33,1.53,.69,.99])};function DV(t){return KA(t)||iw.easeOut}function KA(t){if(t)return ZA(t)?Ol(t):Array.isArray(t)?t.map(DV):iw[t]}function FV(t,e,n,{delay:r=0,duration:i=300,repeat:s=0,repeatType:a="loop",ease:o,times:l}={}){const u={[e]:n};l&&(u.offset=l);const c=KA(o);return Array.isArray(c)&&(u.easing=c),t.animate(u,{delay:r,duration:i,easing:Array.isArray(c)?"linear":c,fill:"both",iterations:s+1,direction:a==="reverse"?"alternate":"normal"})}const BV=Q9(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),VV=new Set(["opacity","clipPath","filter","transform"]),fh=10,UV=2e4;function HV(t){return t.type==="spring"||t.name==="backgroundColor"||!GA(t.ease)}function WV(t,e){const n=new rw({...e,keyframes:t,repeat:0,delay:0,isGenerator:!0});let r={done:!1,value:t[0]};const i=[];let s=0;for(;!r.done&&s<UV;)r=n.sample(s),i.push(r.value),s+=fh;return{times:void 0,keyframes:i,duration:s-fh,ease:"linear"}}class ok extends jA{constructor(e){super(e);const{name:n,motionValue:r,keyframes:i}=this.options;this.resolver=new NA(i,(s,a)=>this.onKeyframesResolved(s,a),n,r),this.resolver.scheduleResolve()}initPlayback(e,n){var r;let{duration:i=300,times:s,ease:a,type:o,motionValue:l,name:u}=this.options;if(!(!((r=l.owner)===null||r===void 0)&&r.current))return!1;if(HV(this.options)){const{onComplete:d,onUpdate:f,motionValue:h,...p}=this.options,y=WV(e,p);e=y.keyframes,e.length===1&&(e[1]=e[0]),i=y.duration,s=y.times,a=y.ease,o="keyframes"}const c=FV(l.owner.current,u,e,{...this.options,duration:i,times:s,ease:a});return c.startTime=ds.now(),this.pendingTimeline?(c.timeline=this.pendingTimeline,this.pendingTimeline=void 0):c.onfinish=()=>{const{onComplete:d}=this.options;l.set(Xp(e,this.options,n)),d&&d(),this.cancel(),this.resolveFinishedPromise()},{animation:c,duration:i,times:s,type:o,ease:a,keyframes:e}}get duration(){const{resolved:e}=this;if(!e)return 0;const{duration:n}=e;return Ci(n)}get time(){const{resolved:e}=this;if(!e)return 0;const{animation:n}=e;return Ci(n.currentTime||0)}set time(e){const{resolved:n}=this;if(!n)return;const{animation:r}=n;r.currentTime=cs(e)}get speed(){const{resolved:e}=this;if(!e)return 1;const{animation:n}=e;return n.playbackRate}set speed(e){const{resolved:n}=this;if(!n)return;const{animation:r}=n;r.playbackRate=e}get state(){const{resolved:e}=this;if(!e)return"idle";const{animation:n}=e;return n.playState}attachTimeline(e){if(!this._resolved)this.pendingTimeline=e;else{const{resolved:n}=this;if(!n)return Ut;const{animation:r}=n;r.timeline=e,r.onfinish=null}return Ut}play(){if(this.isStopped)return;const{resolved:e}=this;if(!e)return;const{animation:n}=e;n.playState==="finished"&&this.updateFinishedPromise(),n.play()}pause(){const{resolved:e}=this;if(!e)return;const{animation:n}=e;n.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;const{resolved:e}=this;if(!e)return;const{animation:n,keyframes:r,duration:i,type:s,ease:a,times:o}=e;if(!(n.playState==="idle"||n.playState==="finished")){if(this.time){const{motionValue:l,onUpdate:u,onComplete:c,...d}=this.options,f=new rw({...d,keyframes:r,duration:i,type:s,ease:a,times:o,isGenerator:!0}),h=cs(this.time);l.setWithVelocity(f.sample(h-fh).value,f.sample(h).value,fh)}this.cancel()}}complete(){const{resolved:e}=this;e&&e.animation.finish()}cancel(){const{resolved:e}=this;e&&e.animation.cancel()}static supports(e){const{motionValue:n,name:r,repeatDelay:i,repeatType:s,damping:a,type:o}=e;return BV()&&r&&VV.has(r)&&n&&n.owner&&n.owner.current instanceof HTMLElement&&!n.owner.getProps().onUpdate&&!i&&s!=="mirror"&&a!==0&&o!=="inertia"}}const sw=(t,e,n,r={},i,s)=>a=>{const o=Jb(r,t)||{},l=o.delay||r.delay||0;let{elapsed:u=0}=r;u=u-cs(l);let c={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...o,delay:-u,onUpdate:f=>{e.set(f),o.onUpdate&&o.onUpdate(f)},onComplete:()=>{a(),o.onComplete&&o.onComplete()},name:t,motionValue:e,element:s?void 0:i};P9(o)||(c={...c,...T9(t,c)}),c.duration&&(c.duration=cs(c.duration)),c.repeatDelay&&(c.repeatDelay=cs(c.repeatDelay)),c.from!==void 0&&(c.keyframes[0]=c.from);let d=!1;if((c.type===!1||c.duration===0&&!c.repeatDelay)&&(c.duration=0,c.delay===0&&(d=!0)),d&&!s&&e.get()!==void 0){const f=Xp(c.keyframes,o);if(f!==void 0){ze.update(()=>{c.onUpdate(f),c.onComplete()});return}}return!s&&ok.supports(c)?new ok(c):new rw(c)};function hh(t){return!!(Bt(t)&&t.add)}function aw(t,e){t.indexOf(e)===-1&&t.push(e)}function ow(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}class lw{constructor(){this.subscriptions=[]}add(e){return aw(this.subscriptions,e),()=>ow(this.subscriptions,e)}notify(e,n,r){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](e,n,r);else for(let s=0;s<i;s++){const a=this.subscriptions[s];a&&a(e,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const lk=30,qV=t=>!isNaN(parseFloat(t));class ZV{constructor(e,n={}){this.version="11.1.9",this.canTrackVelocity=!1,this.events={},this.updateAndNotify=(r,i=!0)=>{const s=ds.now();this.updatedAt!==s&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),i&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent(e),this.canTrackVelocity=qV(this.current),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=ds.now()}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new lw);const r=this.events[e].add(n);return e==="change"?()=>{r(),ze.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e,n=!0){!n||!this.passiveEffect?this.updateAndNotify(e,n):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,n,r){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-r}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=ds.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>lk)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,lk);return MA(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Zu(t,e){return new ZV(t,e)}function GV(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,Zu(n))}function KV(t,e){const n=Jp(t,e);let{transitionEnd:r={},transition:i={},...s}=n||{};s={...s,...r};for(const a in s){const o=t9(s[a]);GV(t,a,o)}}function JV({protectedKeys:t,needsAnimating:e},n){const r=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,r}function JA(t,e,{delay:n=0,transitionOverride:r,type:i}={}){var s;let{transition:a=t.getDefaultTransition(),transitionEnd:o,...l}=e;const u=t.getValue("willChange");r&&(a=r);const c=[],d=i&&t.animationState&&t.animationState.getState()[i];for(const f in l){const h=t.getValue(f,(s=t.latestValues[f])!==null&&s!==void 0?s:null),p=l[f];if(p===void 0||d&&JV(d,f))continue;const y={delay:n,elapsed:0,...Jb(a||{},f)};let b=!1;if(window.HandoffAppearAnimations){const v=t.getProps()[YE];if(v){const x=window.HandoffAppearAnimations(v,f);x!==null&&(y.elapsed=x,b=!0)}}h.start(sw(f,h,p,t.shouldReduceMotion&&_a.has(f)?{type:!1}:y,t,b));const m=h.animation;m&&(hh(u)&&(u.add(f),m.then(()=>u.remove(f))),c.push(m))}return o&&Promise.all(c).then(()=>{ze.update(()=>{o&&KV(t,o)})}),c}function Ev(t,e,n={}){var r;const i=Jp(t,e,n.type==="exit"?(r=t.presenceContext)===null||r===void 0?void 0:r.custom:void 0);let{transition:s=t.getDefaultTransition()||{}}=i||{};n.transitionOverride&&(s=n.transitionOverride);const a=i?()=>Promise.all(JA(t,i,n)):()=>Promise.resolve(),o=t.variantChildren&&t.variantChildren.size?(u=0)=>{const{delayChildren:c=0,staggerChildren:d,staggerDirection:f}=s;return XV(t,e,c+u,d,f,n)}:()=>Promise.resolve(),{when:l}=s;if(l){const[u,c]=l==="beforeChildren"?[a,o]:[o,a];return u().then(()=>c())}else return Promise.all([a(),o(n.delay)])}function XV(t,e,n=0,r=0,i=1,s){const a=[],o=(t.variantChildren.size-1)*r,l=i===1?(u=0)=>u*r:(u=0)=>o-u*r;return Array.from(t.variantChildren).sort(YV).forEach((u,c)=>{u.notify("AnimationStart",e),a.push(Ev(u,e,{...s,delay:n+l(c)}).then(()=>u.notify("AnimationComplete",e)))}),Promise.all(a)}function YV(t,e){return t.sortNodePosition(e)}function QV(t,e,n={}){t.notify("AnimationStart",e);let r;if(Array.isArray(e)){const i=e.map(s=>Ev(t,s,n));r=Promise.all(i)}else if(typeof e=="string")r=Ev(t,e,n);else{const i=typeof e=="function"?Jp(t,e,n.custom):e;r=Promise.all(JA(t,i,n))}return r.then(()=>{ze.postRender(()=>{t.notify("AnimationComplete",e)})})}const eU=[...zb].reverse(),tU=zb.length;function nU(t){return e=>Promise.all(e.map(({animation:n,options:r})=>QV(t,n,r)))}function rU(t){let e=nU(t);const n=sU();let r=!0;const i=l=>(u,c)=>{var d;const f=Jp(t,c,l==="exit"?(d=t.presenceContext)===null||d===void 0?void 0:d.custom:void 0);if(f){const{transition:h,transitionEnd:p,...y}=f;u={...u,...y,...p}}return u};function s(l){e=l(t)}function a(l){const u=t.getProps(),c=t.getVariantContext(!0)||{},d=[],f=new Set;let h={},p=1/0;for(let b=0;b<tU;b++){const m=eU[b],g=n[m],v=u[m]!==void 0?u[m]:c[m],x=Hu(v),C=m===l?g.isActive:null;C===!1&&(p=b);let k=v===c[m]&&v!==u[m]&&x;if(k&&r&&t.manuallyAnimateOnMount&&(k=!1),g.protectedKeys={...h},!g.isActive&&C===null||!v&&!g.prevProp||Zp(v)||typeof v=="boolean")continue;let R=iU(g.prevProp,v)||m===l&&g.isActive&&!k&&x||b>p&&x,j=!1;const T=Array.isArray(v)?v:[v];let F=T.reduce(i(m),{});C===!1&&(F={});const{prevResolvedValues:q={}}=g,ue={...q,...F},_e=J=>{R=!0,f.has(J)&&(j=!0,f.delete(J)),g.needsAnimating[J]=!0;const we=t.getValue(J);we&&(we.liveStyle=!1)};for(const J in ue){const we=F[J],Me=q[J];if(h.hasOwnProperty(J))continue;let B=!1;bv(we)&&bv(Me)?B=!wA(we,Me):B=we!==Me,B?we!=null?_e(J):f.add(J):we!==void 0&&f.has(J)?_e(J):g.protectedKeys[J]=!0}g.prevProp=v,g.prevResolvedValues=F,g.isActive&&(h={...h,...F}),r&&t.blockInitialAnimation&&(R=!1),R&&(!k||j)&&d.push(...T.map(J=>({animation:J,options:{type:m}})))}if(f.size){const b={};f.forEach(m=>{const g=t.getBaseTarget(m),v=t.getValue(m);v&&(v.liveStyle=!0),b[m]=g??null}),d.push({animation:b})}let y=!!d.length;return r&&(u.initial===!1||u.initial===u.animate)&&!t.manuallyAnimateOnMount&&(y=!1),r=!1,y?e(d):Promise.resolve()}function o(l,u){var c;if(n[l].isActive===u)return Promise.resolve();(c=t.variantChildren)===null||c===void 0||c.forEach(f=>{var h;return(h=f.animationState)===null||h===void 0?void 0:h.setActive(l,u)}),n[l].isActive=u;const d=a(l);for(const f in n)n[f].protectedKeys={};return d}return{animateChanges:a,setActive:o,setAnimateFunction:s,getState:()=>n}}function iU(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!wA(e,t):!1}function Is(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function sU(){return{animate:Is(!0),whileInView:Is(),whileHover:Is(),whileTap:Is(),whileDrag:Is(),whileFocus:Is(),exit:Is()}}class aU extends Ss{constructor(e){super(e),e.animationState||(e.animationState=rU(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();this.unmount(),Zp(e)&&(this.unmount=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){}}let oU=0;class lU extends Ss{constructor(){super(...arguments),this.id=oU++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===r)return;const i=this.node.animationState.setActive("exit",!e);n&&!e&&i.then(()=>n(this.id))}mount(){const{register:e}=this.node.presenceContext||{};e&&(this.unmount=e(this.id))}unmount(){}}const uU={animation:{Feature:aU},exit:{Feature:lU}},uk=(t,e)=>Math.abs(t-e);function cU(t,e){const n=uk(t.x,e.x),r=uk(t.y,e.y);return Math.sqrt(n**2+r**2)}class XA{constructor(e,n,{transformPagePoint:r,contextWindow:i,dragSnapToOrigin:s=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const d=Rg(this.lastMoveEventInfo,this.history),f=this.startEvent!==null,h=cU(d.offset,{x:0,y:0})>=3;if(!f&&!h)return;const{point:p}=d,{timestamp:y}=Et;this.history.push({...p,timestamp:y});const{onStart:b,onMove:m}=this.handlers;f||(b&&b(this.lastMoveEvent,d),this.startEvent=this.lastMoveEvent),m&&m(this.lastMoveEvent,d)},this.handlePointerMove=(d,f)=>{this.lastMoveEvent=d,this.lastMoveEventInfo=Og(f,this.transformPagePoint),ze.update(this.updatePoint,!0)},this.handlePointerUp=(d,f)=>{this.end();const{onEnd:h,onSessionEnd:p,resumeAnimation:y}=this.handlers;if(this.dragSnapToOrigin&&y&&y(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const b=Rg(d.type==="pointercancel"?this.lastMoveEventInfo:Og(f,this.transformPagePoint),this.history);this.startEvent&&h&&h(d,b),p&&p(d,b)},!mA(e))return;this.dragSnapToOrigin=s,this.handlers=n,this.transformPagePoint=r,this.contextWindow=i||window;const a=Kp(e),o=Og(a,this.transformPagePoint),{point:l}=o,{timestamp:u}=Et;this.history=[{...l,timestamp:u}];const{onSessionStart:c}=n;c&&c(e,Rg(o,this.history)),this.removeListeners=Si(ki(this.contextWindow,"pointermove",this.handlePointerMove),ki(this.contextWindow,"pointerup",this.handlePointerUp),ki(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),ms(this.updatePoint)}}function Og(t,e){return e?{point:e(t.point)}:t}function ck(t,e){return{x:t.x-e.x,y:t.y-e.y}}function Rg({point:t},e){return{point:t,delta:ck(t,YA(e)),offset:ck(t,dU(e)),velocity:fU(e,.1)}}function dU(t){return t[0]}function YA(t){return t[t.length-1]}function fU(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,r=null;const i=YA(t);for(;n>=0&&(r=t[n],!(i.timestamp-r.timestamp>cs(e)));)n--;if(!r)return{x:0,y:0};const s=Ci(i.timestamp-r.timestamp);if(s===0)return{x:0,y:0};const a={x:(i.x-r.x)/s,y:(i.y-r.y)/s};return a.x===1/0&&(a.x=0),a.y===1/0&&(a.y=0),a}function Nn(t){return t.max-t.min}function Av(t,e=0,n=.01){return Math.abs(t-e)<=n}function dk(t,e,n,r=.5){t.origin=r,t.originPoint=tt(e.min,e.max,t.origin),t.scale=Nn(n)/Nn(e),(Av(t.scale,1,1e-4)||isNaN(t.scale))&&(t.scale=1),t.translate=tt(n.min,n.max,t.origin)-t.originPoint,(Av(t.translate)||isNaN(t.translate))&&(t.translate=0)}function uu(t,e,n,r){dk(t.x,e.x,n.x,r?r.originX:void 0),dk(t.y,e.y,n.y,r?r.originY:void 0)}function fk(t,e,n){t.min=n.min+e.min,t.max=t.min+Nn(e)}function hU(t,e,n){fk(t.x,e.x,n.x),fk(t.y,e.y,n.y)}function hk(t,e,n){t.min=e.min-n.min,t.max=t.min+Nn(e)}function cu(t,e,n){hk(t.x,e.x,n.x),hk(t.y,e.y,n.y)}function pU(t,{min:e,max:n},r){return e!==void 0&&t<e?t=r?tt(e,t,r.min):Math.max(t,e):n!==void 0&&t>n&&(t=r?tt(n,t,r.max):Math.min(t,n)),t}function pk(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function mU(t,{top:e,left:n,bottom:r,right:i}){return{x:pk(t.x,n,i),y:pk(t.y,e,r)}}function mk(t,e){let n=e.min-t.min,r=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,r]=[r,n]),{min:n,max:r}}function gU(t,e){return{x:mk(t.x,e.x),y:mk(t.y,e.y)}}function yU(t,e){let n=.5;const r=Nn(t),i=Nn(e);return i>r?n=qu(e.min,e.max-r,t.min):r>i&&(n=qu(t.min,t.max-i,e.min)),ps(0,1,n)}function vU(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const Iv=.35;function bU(t=Iv){return t===!1?t=0:t===!0&&(t=Iv),{x:gk(t,"left","right"),y:gk(t,"top","bottom")}}function gk(t,e,n){return{min:yk(t,e),max:yk(t,n)}}function yk(t,e){return typeof t=="number"?t:t[e]||0}const vk=()=>({translate:0,scale:1,origin:0,originPoint:0}),so=()=>({x:vk(),y:vk()}),bk=()=>({min:0,max:0}),ct=()=>({x:bk(),y:bk()});function Hn(t){return[t("x"),t("y")]}function QA({top:t,left:e,right:n,bottom:r}){return{x:{min:e,max:n},y:{min:t,max:r}}}function wU({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function _U(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),r=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function $g(t){return t===void 0||t===1}function Ov({scale:t,scaleX:e,scaleY:n}){return!$g(t)||!$g(e)||!$g(n)}function js(t){return Ov(t)||eI(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function eI(t){return wk(t.x)||wk(t.y)}function wk(t){return t&&t!=="0%"}function ph(t,e,n){const r=t-n,i=e*r;return n+i}function _k(t,e,n,r,i){return i!==void 0&&(t=ph(t,i,r)),ph(t,n,r)+e}function Rv(t,e=0,n=1,r,i){t.min=_k(t.min,e,n,r,i),t.max=_k(t.max,e,n,r,i)}function tI(t,{x:e,y:n}){Rv(t.x,e.translate,e.scale,e.originPoint),Rv(t.y,n.translate,n.scale,n.originPoint)}function xU(t,e,n,r=!1){const i=n.length;if(!i)return;e.x=e.y=1;let s,a;for(let o=0;o<i;o++){s=n[o],a=s.projectionDelta;const l=s.instance;l&&l.style&&l.style.display==="contents"||(r&&s.options.layoutScroll&&s.scroll&&s!==s.root&&ao(t,{x:-s.scroll.offset.x,y:-s.scroll.offset.y}),a&&(e.x*=a.x.scale,e.y*=a.y.scale,tI(t,a)),r&&js(s.latestValues)&&ao(t,s.latestValues))}e.x=xk(e.x),e.y=xk(e.y)}function xk(t){return Number.isInteger(t)||t>1.0000000000001||t<.999999999999?t:1}function Zi(t,e){t.min=t.min+e,t.max=t.max+e}function kk(t,e,[n,r,i]){const s=e[i]!==void 0?e[i]:.5,a=tt(t.min,t.max,s);Rv(t,e[n],e[r],a,e.scale)}const kU=["x","scaleX","originX"],SU=["y","scaleY","originY"];function ao(t,e){kk(t.x,e,kU),kk(t.y,e,SU)}function nI(t,e){return QA(_U(t.getBoundingClientRect(),e))}function CU(t,e,n){const r=nI(t,n),{scroll:i}=e;return i&&(Zi(r.x,i.offset.x),Zi(r.y,i.offset.y)),r}const rI=({current:t})=>t?t.ownerDocument.defaultView:null,TU=new WeakMap;class PU{constructor(e){this.openGlobalLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=ct(),this.visualElement=e}start(e,{snapToCursor:n=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const i=c=>{const{dragSnapToOrigin:d}=this.getProps();d?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(Kp(c,"page").point)},s=(c,d)=>{const{drag:f,dragPropagation:h,onDragStart:p}=this.getProps();if(f&&!h&&(this.openGlobalLock&&this.openGlobalLock(),this.openGlobalLock=yA(f),!this.openGlobalLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Hn(b=>{let m=this.getAxisMotionValue(b).get()||0;if(Qr.test(m)){const{projection:g}=this.visualElement;if(g&&g.layout){const v=g.layout.layoutBox[b];v&&(m=Nn(v)*(parseFloat(m)/100))}}this.originPoint[b]=m}),p&&ze.postRender(()=>p(c,d));const{animationState:y}=this.visualElement;y&&y.setActive("whileDrag",!0)},a=(c,d)=>{const{dragPropagation:f,dragDirectionLock:h,onDirectionLock:p,onDrag:y}=this.getProps();if(!f&&!this.openGlobalLock)return;const{offset:b}=d;if(h&&this.currentDirection===null){this.currentDirection=EU(b),this.currentDirection!==null&&p&&p(this.currentDirection);return}this.updateAxis("x",d.point,b),this.updateAxis("y",d.point,b),this.visualElement.render(),y&&y(c,d)},o=(c,d)=>this.stop(c,d),l=()=>Hn(c=>{var d;return this.getAnimationState(c)==="paused"&&((d=this.getAxisMotionValue(c).animation)===null||d===void 0?void 0:d.play())}),{dragSnapToOrigin:u}=this.getProps();this.panSession=new XA(e,{onSessionStart:i,onStart:s,onMove:a,onSessionEnd:o,resumeAnimation:l},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:u,contextWindow:rI(this.visualElement)})}stop(e,n){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:i}=n;this.startAnimation(i);const{onDragEnd:s}=this.getProps();s&&ze.postRender(()=>s(e,n))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openGlobalLock&&(this.openGlobalLock(),this.openGlobalLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,r){const{drag:i}=this.getProps();if(!r||!Sd(e,i,this.currentDirection))return;const s=this.getAxisMotionValue(e);let a=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(a=pU(a,this.constraints[e],this.elastic[e])),s.set(a)}resolveConstraints(){var e;const{dragConstraints:n,dragElastic:r}=this.getProps(),i=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(e=this.visualElement.projection)===null||e===void 0?void 0:e.layout,s=this.constraints;n&&ro(n)?this.constraints||(this.constraints=this.resolveRefConstraints()):n&&i?this.constraints=mU(i.layoutBox,n):this.constraints=!1,this.elastic=bU(r),s!==this.constraints&&i&&this.constraints&&!this.hasMutatedConstraints&&Hn(a=>{this.constraints!==!1&&this.getAxisMotionValue(a)&&(this.constraints[a]=vU(i.layoutBox[a],this.constraints[a]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!ro(e))return!1;const r=e.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const s=CU(r,i.root,this.visualElement.getTransformPagePoint());let a=gU(i.layout.layoutBox,s);if(n){const o=n(wU(a));this.hasMutatedConstraints=!!o,o&&(a=QA(o))}return a}startAnimation(e){const{drag:n,dragMomentum:r,dragElastic:i,dragTransition:s,dragSnapToOrigin:a,onDragTransitionEnd:o}=this.getProps(),l=this.constraints||{},u=Hn(c=>{if(!Sd(c,n,this.currentDirection))return;let d=l&&l[c]||{};a&&(d={min:0,max:0});const f=i?200:1e6,h=i?40:1e7,p={type:"inertia",velocity:r?e[c]:0,bounceStiffness:f,bounceDamping:h,timeConstant:750,restDelta:1,restSpeed:10,...s,...d};return this.startAxisValueAnimation(c,p)});return Promise.all(u).then(o)}startAxisValueAnimation(e,n){const r=this.getAxisMotionValue(e);return r.start(sw(e,r,0,n,this.visualElement))}stopAnimation(){Hn(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){Hn(e=>{var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.pause()})}getAnimationState(e){var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,r=this.visualElement.getProps(),i=r[n];return i||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){Hn(n=>{const{drag:r}=this.getProps();if(!Sd(n,r,this.currentDirection))return;const{projection:i}=this.visualElement,s=this.getAxisMotionValue(n);if(i&&i.layout){const{min:a,max:o}=i.layout.layoutBox[n];s.set(e[n]-tt(a,o,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!ro(n)||!r||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};Hn(a=>{const o=this.getAxisMotionValue(a);if(o&&this.constraints!==!1){const l=o.get();i[a]=yU({min:l,max:l},this.constraints[a])}});const{transformTemplate:s}=this.visualElement.getProps();this.visualElement.current.style.transform=s?s({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),Hn(a=>{if(!Sd(a,e,null))return;const o=this.getAxisMotionValue(a),{min:l,max:u}=this.constraints[a];o.set(tt(l,u,i[a]))})}addListeners(){if(!this.visualElement.current)return;TU.set(this.visualElement,this);const e=this.visualElement.current,n=ki(e,"pointerdown",l=>{const{drag:u,dragListener:c=!0}=this.getProps();u&&c&&this.start(l)}),r=()=>{const{dragConstraints:l}=this.getProps();ro(l)&&(this.constraints=this.resolveRefConstraints())},{projection:i}=this.visualElement,s=i.addEventListener("measure",r);i&&!i.layout&&(i.root&&i.root.updateScroll(),i.updateLayout()),r();const a=wi(window,"resize",()=>this.scalePositionWithinConstraints()),o=i.addEventListener("didUpdate",({delta:l,hasLayoutChanged:u})=>{this.isDragging&&u&&(Hn(c=>{const d=this.getAxisMotionValue(c);d&&(this.originPoint[c]+=l[c].translate,d.set(d.get()+l[c].translate))}),this.visualElement.render())});return()=>{a(),n(),s(),o&&o()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:i=!1,dragConstraints:s=!1,dragElastic:a=Iv,dragMomentum:o=!0}=e;return{...e,drag:n,dragDirectionLock:r,dragPropagation:i,dragConstraints:s,dragElastic:a,dragMomentum:o}}}function Sd(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function EU(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class AU extends Ss{constructor(e){super(e),this.removeGroupControls=Ut,this.removeListeners=Ut,this.controls=new PU(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Ut}unmount(){this.removeGroupControls(),this.removeListeners()}}const Sk=t=>(e,n)=>{t&&ze.postRender(()=>t(e,n))};class IU extends Ss{constructor(){super(...arguments),this.removePointerDownListener=Ut}onPointerDown(e){this.session=new XA(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:rI(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:r,onPanEnd:i}=this.node.getProps();return{onSessionStart:Sk(e),onStart:Sk(n),onMove:r,onEnd:(s,a)=>{delete this.session,i&&ze.postRender(()=>i(s,a))}}}mount(){this.removePointerDownListener=ki(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}function OU(){const t=A.useContext(Sc);if(t===null)return[!0,null];const{isPresent:e,onExitComplete:n,register:r}=t,i=A.useId();return A.useEffect(()=>r(i),[]),!e&&n?[!1,()=>n&&n(i)]:[!0]}function RU(){return $U(A.useContext(Sc))}function $U(t){return t===null?!0:t.isPresent}const ff={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function Ck(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const vl={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(te.test(t))t=parseFloat(t);else return t;const n=Ck(t,e.target.x),r=Ck(t,e.target.y);return`${n}% ${r}%`}},NU={correct:(t,{treeScale:e,projectionDelta:n})=>{const r=t,i=gs.parse(t);if(i.length>5)return r;const s=gs.createTransformer(t),a=typeof i[0]!="number"?1:0,o=n.x.scale*e.x,l=n.y.scale*e.y;i[0+a]/=o,i[1+a]/=l;const u=tt(o,l,.5);return typeof i[2+a]=="number"&&(i[2+a]/=u),typeof i[3+a]=="number"&&(i[3+a]/=u),s(i)}};class jU extends A.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r,layoutId:i}=this.props,{projection:s}=e;O6(MU),s&&(n.group&&n.group.add(s),r&&r.register&&i&&r.register(s),s.root.didUpdate(),s.addEventListener("animationComplete",()=>{this.safeToRemove()}),s.setOptions({...s.options,onExitComplete:()=>this.safeToRemove()})),ff.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:r,drag:i,isPresent:s}=this.props,a=r.projection;return a&&(a.isPresent=s,i||e.layoutDependency!==n||n===void 0?a.willUpdate():this.safeToRemove(),e.isPresent!==s&&(s?a.promote():a.relegate()||ze.postRender(()=>{const o=a.getStack();(!o||!o.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),Lb.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:i}=e;i&&(i.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(i),r&&r.deregister&&r.deregister(i))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function iI(t){const[e,n]=OU(),r=A.useContext(Fb);return O.jsx(jU,{...t,layoutGroup:r,switchLayoutGroup:A.useContext(tA),isPresent:e,safeToRemove:n})}const MU={borderRadius:{...vl,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:vl,borderTopRightRadius:vl,borderBottomLeftRadius:vl,borderBottomRightRadius:vl,boxShadow:NU},sI=["TopLeft","TopRight","BottomLeft","BottomRight"],LU=sI.length,Tk=t=>typeof t=="string"?parseFloat(t):t,Pk=t=>typeof t=="number"||te.test(t);function zU(t,e,n,r,i,s){i?(t.opacity=tt(0,n.opacity!==void 0?n.opacity:1,DU(r)),t.opacityExit=tt(e.opacity!==void 0?e.opacity:1,0,FU(r))):s&&(t.opacity=tt(e.opacity!==void 0?e.opacity:1,n.opacity!==void 0?n.opacity:1,r));for(let a=0;a<LU;a++){const o=`border${sI[a]}Radius`;let l=Ek(e,o),u=Ek(n,o);if(l===void 0&&u===void 0)continue;l||(l=0),u||(u=0),l===0||u===0||Pk(l)===Pk(u)?(t[o]=Math.max(tt(Tk(l),Tk(u),r),0),(Qr.test(u)||Qr.test(l))&&(t[o]+="%")):t[o]=u}(e.rotate||n.rotate)&&(t.rotate=tt(e.rotate||0,n.rotate||0,r))}function Ek(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const DU=aI(0,.5,UA),FU=aI(.5,.95,Ut);function aI(t,e,n){return r=>r<t?0:r>e?1:n(qu(t,e,r))}function Ak(t,e){t.min=e.min,t.max=e.max}function Vn(t,e){Ak(t.x,e.x),Ak(t.y,e.y)}function Ik(t,e,n,r,i){return t-=e,t=ph(t,1/n,r),i!==void 0&&(t=ph(t,1/i,r)),t}function BU(t,e=0,n=1,r=.5,i,s=t,a=t){if(Qr.test(e)&&(e=parseFloat(e),e=tt(a.min,a.max,e/100)-a.min),typeof e!="number")return;let o=tt(s.min,s.max,r);t===s&&(o-=e),t.min=Ik(t.min,e,n,o,i),t.max=Ik(t.max,e,n,o,i)}function Ok(t,e,[n,r,i],s,a){BU(t,e[n],e[r],e[i],e.scale,s,a)}const VU=["x","scaleX","originX"],UU=["y","scaleY","originY"];function Rk(t,e,n,r){Ok(t.x,e,VU,n?n.x:void 0,r?r.x:void 0),Ok(t.y,e,UU,n?n.y:void 0,r?r.y:void 0)}function $k(t){return t.translate===0&&t.scale===1}function oI(t){return $k(t.x)&&$k(t.y)}function HU(t,e){return t.x.min===e.x.min&&t.x.max===e.x.max&&t.y.min===e.y.min&&t.y.max===e.y.max}function lI(t,e){return Math.round(t.x.min)===Math.round(e.x.min)&&Math.round(t.x.max)===Math.round(e.x.max)&&Math.round(t.y.min)===Math.round(e.y.min)&&Math.round(t.y.max)===Math.round(e.y.max)}function Nk(t){return Nn(t.x)/Nn(t.y)}class WU{constructor(){this.members=[]}add(e){aw(this.members,e),e.scheduleRender()}remove(e){if(ow(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(i=>e===i);if(n===0)return!1;let r;for(let i=n;i>=0;i--){const s=this.members[i];if(s.isPresent!==!1){r=s;break}}return r?(this.promote(r),!0):!1}promote(e,n){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,n&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:i}=e.options;i===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:r}=e;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function jk(t,e,n){let r="";const i=t.x.translate/e.x,s=t.y.translate/e.y,a=(n==null?void 0:n.z)||0;if((i||s||a)&&(r=`translate3d(${i}px, ${s}px, ${a}px) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:u,rotate:c,rotateX:d,rotateY:f,skewX:h,skewY:p}=n;u&&(r=`perspective(${u}px) ${r}`),c&&(r+=`rotate(${c}deg) `),d&&(r+=`rotateX(${d}deg) `),f&&(r+=`rotateY(${f}deg) `),h&&(r+=`skewX(${h}deg) `),p&&(r+=`skewY(${p}deg) `)}const o=t.x.scale*e.x,l=t.y.scale*e.y;return(o!==1||l!==1)&&(r+=`scale(${o}, ${l})`),r||"none"}const qU=(t,e)=>t.depth-e.depth;class ZU{constructor(){this.children=[],this.isDirty=!1}add(e){aw(this.children,e),this.isDirty=!0}remove(e){ow(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(qU),this.isDirty=!1,this.children.forEach(e)}}function GU(t,e){const n=ds.now(),r=({timestamp:i})=>{const s=i-n;s>=e&&(ms(r),t(s-e))};return ze.read(r,!0),()=>ms(r)}function KU(t){window.MotionDebug&&window.MotionDebug.record(t)}function JU(t){return t instanceof SVGElement&&t.tagName!=="svg"}function XU(t,e,n){const r=Bt(t)?t:Zu(t);return r.start(sw("",r,e,n)),r.animation}const Ng=["","X","Y","Z"],YU={visibility:"hidden"},Mk=1e3;let QU=0;const Ms={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0};function jg(t,e,n,r){const{latestValues:i}=e;i[t]&&(n[t]=i[t],e.setStaticValue(t,0),r&&(r[t]=0))}function uI({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:r,resetTransform:i}){return class{constructor(a={},o=e==null?void 0:e()){this.id=QU++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,Ms.totalNodes=Ms.resolvedTargetDeltas=Ms.recalculatedProjection=0,this.nodes.forEach(n8),this.nodes.forEach(o8),this.nodes.forEach(l8),this.nodes.forEach(r8),KU(Ms)},this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=a,this.root=o?o.root||o:this,this.path=o?[...o.path,o]:[],this.parent=o,this.depth=o?o.depth+1:0;for(let l=0;l<this.path.length;l++)this.path[l].shouldResetTransform=!0;this.root===this&&(this.nodes=new ZU)}addEventListener(a,o){return this.eventHandlers.has(a)||this.eventHandlers.set(a,new lw),this.eventHandlers.get(a).add(o)}notifyListeners(a,...o){const l=this.eventHandlers.get(a);l&&l.notify(...o)}hasListeners(a){return this.eventHandlers.has(a)}mount(a,o=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=JU(a),this.instance=a;const{layoutId:l,layout:u,visualElement:c}=this.options;if(c&&!c.current&&c.mount(a),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),o&&(u||l)&&(this.isLayoutDirty=!0),t){let d;const f=()=>this.root.updateBlockedByResize=!1;t(a,()=>{this.root.updateBlockedByResize=!0,d&&d(),d=GU(f,250),ff.hasAnimatedSinceResize&&(ff.hasAnimatedSinceResize=!1,this.nodes.forEach(zk))})}l&&this.root.registerSharedNode(l,this),this.options.animate!==!1&&c&&(l||u)&&this.addEventListener("didUpdate",({delta:d,hasLayoutChanged:f,hasRelativeTargetChanged:h,layout:p})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const y=this.options.transition||c.getDefaultTransition()||h8,{onLayoutAnimationStart:b,onLayoutAnimationComplete:m}=c.getProps(),g=!this.targetLayout||!lI(this.targetLayout,p)||h,v=!f&&h;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||v||f&&(g||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(d,v);const x={...Jb(y,"layout"),onPlay:b,onComplete:m};(c.shouldReduceMotion||this.options.layoutRoot)&&(x.delay=0,x.type=!1),this.startAnimation(x)}else f||zk(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=p})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const a=this.getStack();a&&a.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,ms(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(u8),this.animationId++)}getTransformTemplate(){const{visualElement:a}=this.options;return a&&a.getProps().transformTemplate}willUpdate(a=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let c=0;c<this.path.length;c++){const d=this.path[c];d.shouldResetTransform=!0,d.updateScroll("snapshot"),d.options.layoutRoot&&d.willUpdate(!1)}const{layoutId:o,layout:l}=this.options;if(o===void 0&&!l)return;const u=this.getTransformTemplate();this.prevTransformTemplateValue=u?u(this.latestValues,""):void 0,this.updateSnapshot(),a&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(Lk);return}this.isUpdating||this.nodes.forEach(s8),this.isUpdating=!1,window.HandoffCancelAllAnimations&&window.HandoffCancelAllAnimations(),this.nodes.forEach(a8),this.nodes.forEach(e8),this.nodes.forEach(t8),this.clearAllSnapshots();const o=ds.now();Et.delta=ps(0,1e3/60,o-Et.timestamp),Et.timestamp=o,Et.isProcessing=!0,Sg.update.process(Et),Sg.preRender.process(Et),Sg.render.process(Et),Et.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,Lb.read(()=>this.update()))}clearAllSnapshots(){this.nodes.forEach(i8),this.sharedNodes.forEach(c8)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,ze.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){ze.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let l=0;l<this.path.length;l++)this.path[l].updateScroll();const a=this.layout;this.layout=this.measure(!1),this.layoutCorrected=ct(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:o}=this.options;o&&o.notify("LayoutMeasure",this.layout.layoutBox,a?a.layoutBox:void 0)}updateScroll(a="measure"){let o=!!(this.options.layoutScroll&&this.instance);this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===a&&(o=!1),o&&(this.scroll={animationId:this.root.animationId,phase:a,isRoot:r(this.instance),offset:n(this.instance)})}resetTransform(){if(!i)return;const a=this.isLayoutDirty||this.shouldResetTransform,o=this.projectionDelta&&!oI(this.projectionDelta),l=this.getTransformTemplate(),u=l?l(this.latestValues,""):void 0,c=u!==this.prevTransformTemplateValue;a&&(o||js(this.latestValues)||c)&&(i(this.instance,u),this.shouldResetTransform=!1,this.scheduleRender())}measure(a=!0){const o=this.measurePageBox();let l=this.removeElementScroll(o);return a&&(l=this.removeTransform(l)),p8(l),{animationId:this.root.animationId,measuredBox:o,layoutBox:l,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:a}=this.options;if(!a)return ct();const o=a.measureViewportBox(),{scroll:l}=this.root;return l&&(Zi(o.x,l.offset.x),Zi(o.y,l.offset.y)),o}removeElementScroll(a){const o=ct();Vn(o,a);for(let l=0;l<this.path.length;l++){const u=this.path[l],{scroll:c,options:d}=u;if(u!==this.root&&c&&d.layoutScroll){if(c.isRoot){Vn(o,a);const{scroll:f}=this.root;f&&(Zi(o.x,-f.offset.x),Zi(o.y,-f.offset.y))}Zi(o.x,c.offset.x),Zi(o.y,c.offset.y)}}return o}applyTransform(a,o=!1){const l=ct();Vn(l,a);for(let u=0;u<this.path.length;u++){const c=this.path[u];!o&&c.options.layoutScroll&&c.scroll&&c!==c.root&&ao(l,{x:-c.scroll.offset.x,y:-c.scroll.offset.y}),js(c.latestValues)&&ao(l,c.latestValues)}return js(this.latestValues)&&ao(l,this.latestValues),l}removeTransform(a){const o=ct();Vn(o,a);for(let l=0;l<this.path.length;l++){const u=this.path[l];if(!u.instance||!js(u.latestValues))continue;Ov(u.latestValues)&&u.updateSnapshot();const c=ct(),d=u.measurePageBox();Vn(c,d),Rk(o,u.latestValues,u.snapshot?u.snapshot.layoutBox:void 0,c)}return js(this.latestValues)&&Rk(o,this.latestValues),o}setTargetDelta(a){this.targetDelta=a,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(a){this.options={...this.options,...a,crossfade:a.crossfade!==void 0?a.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Et.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(a=!1){var o;const l=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=l.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=l.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=l.isSharedProjectionDirty);const u=!!this.resumingFrom||this!==l;if(!(a||u&&this.isSharedProjectionDirty||this.isProjectionDirty||!((o=this.parent)===null||o===void 0)&&o.isProjectionDirty||this.attemptToResolveRelativeTarget))return;const{layout:d,layoutId:f}=this.options;if(!(!this.layout||!(d||f))){if(this.resolvedRelativeTargetAt=Et.timestamp,!this.targetDelta&&!this.relativeTarget){const h=this.getClosestProjectingParent();h&&h.layout&&this.animationProgress!==1?(this.relativeParent=h,this.forceRelativeParentToResolveTarget(),this.relativeTarget=ct(),this.relativeTargetOrigin=ct(),cu(this.relativeTargetOrigin,this.layout.layoutBox,h.layout.layoutBox),Vn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=ct(),this.targetWithTransforms=ct()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),hU(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Vn(this.target,this.layout.layoutBox),tI(this.target,this.targetDelta)):Vn(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const h=this.getClosestProjectingParent();h&&!!h.resumingFrom==!!this.resumingFrom&&!h.options.layoutScroll&&h.target&&this.animationProgress!==1?(this.relativeParent=h,this.forceRelativeParentToResolveTarget(),this.relativeTarget=ct(),this.relativeTargetOrigin=ct(),cu(this.relativeTargetOrigin,this.target,h.target),Vn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}Ms.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||Ov(this.parent.latestValues)||eI(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var a;const o=this.getLead(),l=!!this.resumingFrom||this!==o;let u=!0;if((this.isProjectionDirty||!((a=this.parent)===null||a===void 0)&&a.isProjectionDirty)&&(u=!1),l&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(u=!1),this.resolvedRelativeTargetAt===Et.timestamp&&(u=!1),u)return;const{layout:c,layoutId:d}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(c||d))return;Vn(this.layoutCorrected,this.layout.layoutBox);const f=this.treeScale.x,h=this.treeScale.y;xU(this.layoutCorrected,this.treeScale,this.path,l),o.layout&&!o.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(o.target=o.layout.layoutBox,o.targetWithTransforms=ct());const{target:p}=o;if(!p){this.projectionTransform&&(this.projectionDelta=so(),this.projectionTransform="none",this.scheduleRender());return}this.projectionDelta||(this.projectionDelta=so(),this.projectionDeltaWithTransform=so());const y=this.projectionTransform;uu(this.projectionDelta,this.layoutCorrected,p,this.latestValues),this.projectionTransform=jk(this.projectionDelta,this.treeScale),(this.projectionTransform!==y||this.treeScale.x!==f||this.treeScale.y!==h)&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",p)),Ms.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(a=!0){if(this.options.scheduleRender&&this.options.scheduleRender(),a){const o=this.getStack();o&&o.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}setAnimationOrigin(a,o=!1){const l=this.snapshot,u=l?l.latestValues:{},c={...this.latestValues},d=so();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!o;const f=ct(),h=l?l.source:void 0,p=this.layout?this.layout.source:void 0,y=h!==p,b=this.getStack(),m=!b||b.members.length<=1,g=!!(y&&!m&&this.options.crossfade===!0&&!this.path.some(f8));this.animationProgress=0;let v;this.mixTargetDelta=x=>{const C=x/1e3;Dk(d.x,a.x,C),Dk(d.y,a.y,C),this.setTargetDelta(d),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(cu(f,this.layout.layoutBox,this.relativeParent.layout.layoutBox),d8(this.relativeTarget,this.relativeTargetOrigin,f,C),v&&HU(this.relativeTarget,v)&&(this.isProjectionDirty=!1),v||(v=ct()),Vn(v,this.relativeTarget)),y&&(this.animationValues=c,zU(c,u,this.latestValues,C,g,m)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=C},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(a){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(ms(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=ze.update(()=>{ff.hasAnimatedSinceResize=!0,this.currentAnimation=XU(0,Mk,{...a,onUpdate:o=>{this.mixTargetDelta(o),a.onUpdate&&a.onUpdate(o)},onComplete:()=>{a.onComplete&&a.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const a=this.getStack();a&&a.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(Mk),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const a=this.getLead();let{targetWithTransforms:o,target:l,layout:u,latestValues:c}=a;if(!(!o||!l||!u)){if(this!==a&&this.layout&&u&&cI(this.options.animationType,this.layout.layoutBox,u.layoutBox)){l=this.target||ct();const d=Nn(this.layout.layoutBox.x);l.x.min=a.target.x.min,l.x.max=l.x.min+d;const f=Nn(this.layout.layoutBox.y);l.y.min=a.target.y.min,l.y.max=l.y.min+f}Vn(o,l),ao(o,c),uu(this.projectionDeltaWithTransform,this.layoutCorrected,o,c)}}registerSharedNode(a,o){this.sharedNodes.has(a)||this.sharedNodes.set(a,new WU),this.sharedNodes.get(a).add(o);const u=o.options.initialPromotionConfig;o.promote({transition:u?u.transition:void 0,preserveFollowOpacity:u&&u.shouldPreserveFollowOpacity?u.shouldPreserveFollowOpacity(o):void 0})}isLead(){const a=this.getStack();return a?a.lead===this:!0}getLead(){var a;const{layoutId:o}=this.options;return o?((a=this.getStack())===null||a===void 0?void 0:a.lead)||this:this}getPrevLead(){var a;const{layoutId:o}=this.options;return o?(a=this.getStack())===null||a===void 0?void 0:a.prevLead:void 0}getStack(){const{layoutId:a}=this.options;if(a)return this.root.sharedNodes.get(a)}promote({needsReset:a,transition:o,preserveFollowOpacity:l}={}){const u=this.getStack();u&&u.promote(this,l),a&&(this.projectionDelta=void 0,this.needsReset=!0),o&&this.setOptions({transition:o})}relegate(){const a=this.getStack();return a?a.relegate(this):!1}resetSkewAndRotation(){const{visualElement:a}=this.options;if(!a)return;let o=!1;const{latestValues:l}=a;if((l.z||l.rotate||l.rotateX||l.rotateY||l.rotateZ||l.skewX||l.skewY)&&(o=!0),!o)return;const u={};l.z&&jg("z",a,u,this.animationValues);for(let c=0;c<Ng.length;c++)jg(`rotate${Ng[c]}`,a,u,this.animationValues),jg(`skew${Ng[c]}`,a,u,this.animationValues);a.render();for(const c in u)a.setStaticValue(c,u[c]),this.animationValues&&(this.animationValues[c]=u[c]);a.scheduleRender()}getProjectionStyles(a){var o,l;if(!this.instance||this.isSVG)return;if(!this.isVisible)return YU;const u={visibility:""},c=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,u.opacity="",u.pointerEvents=cf(a==null?void 0:a.pointerEvents)||"",u.transform=c?c(this.latestValues,""):"none",u;const d=this.getLead();if(!this.projectionDelta||!this.layout||!d.target){const y={};return this.options.layoutId&&(y.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,y.pointerEvents=cf(a==null?void 0:a.pointerEvents)||""),this.hasProjected&&!js(this.latestValues)&&(y.transform=c?c({},""):"none",this.hasProjected=!1),y}const f=d.animationValues||d.latestValues;this.applyTransformsToTarget(),u.transform=jk(this.projectionDeltaWithTransform,this.treeScale,f),c&&(u.transform=c(f,u.transform));const{x:h,y:p}=this.projectionDelta;u.transformOrigin=`${h.origin*100}% ${p.origin*100}% 0`,d.animationValues?u.opacity=d===this?(l=(o=f.opacity)!==null&&o!==void 0?o:this.latestValues.opacity)!==null&&l!==void 0?l:1:this.preserveOpacity?this.latestValues.opacity:f.opacityExit:u.opacity=d===this?f.opacity!==void 0?f.opacity:"":f.opacityExit!==void 0?f.opacityExit:0;for(const y in lh){if(f[y]===void 0)continue;const{correct:b,applyTo:m}=lh[y],g=u.transform==="none"?f[y]:b(f[y],d);if(m){const v=m.length;for(let x=0;x<v;x++)u[m[x]]=g}else u[y]=g}return this.options.layoutId&&(u.pointerEvents=d===this?cf(a==null?void 0:a.pointerEvents)||"":"none"),u}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(a=>{var o;return(o=a.currentAnimation)===null||o===void 0?void 0:o.stop()}),this.root.nodes.forEach(Lk),this.root.sharedNodes.clear()}}}function e8(t){t.updateLayout()}function t8(t){var e;const n=((e=t.resumeFrom)===null||e===void 0?void 0:e.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&n&&t.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:i}=t.layout,{animationType:s}=t.options,a=n.source!==t.layout.source;s==="size"?Hn(d=>{const f=a?n.measuredBox[d]:n.layoutBox[d],h=Nn(f);f.min=r[d].min,f.max=f.min+h}):cI(s,n.layoutBox,r)&&Hn(d=>{const f=a?n.measuredBox[d]:n.layoutBox[d],h=Nn(r[d]);f.max=f.min+h,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[d].max=t.relativeTarget[d].min+h)});const o=so();uu(o,r,n.layoutBox);const l=so();a?uu(l,t.applyTransform(i,!0),n.measuredBox):uu(l,r,n.layoutBox);const u=!oI(o);let c=!1;if(!t.resumeFrom){const d=t.getClosestProjectingParent();if(d&&!d.resumeFrom){const{snapshot:f,layout:h}=d;if(f&&h){const p=ct();cu(p,n.layoutBox,f.layoutBox);const y=ct();cu(y,r,h.layoutBox),lI(p,y)||(c=!0),d.options.layoutRoot&&(t.relativeTarget=y,t.relativeTargetOrigin=p,t.relativeParent=d)}}}t.notifyListeners("didUpdate",{layout:r,snapshot:n,delta:l,layoutDelta:o,hasLayoutChanged:u,hasRelativeTargetChanged:c})}else if(t.isLead()){const{onExitComplete:r}=t.options;r&&r()}t.options.transition=void 0}function n8(t){Ms.totalNodes++,t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function r8(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function i8(t){t.clearSnapshot()}function Lk(t){t.clearMeasurements()}function s8(t){t.isLayoutDirty=!1}function a8(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function zk(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function o8(t){t.resolveTargetDelta()}function l8(t){t.calcProjection()}function u8(t){t.resetSkewAndRotation()}function c8(t){t.removeLeadSnapshot()}function Dk(t,e,n){t.translate=tt(e.translate,0,n),t.scale=tt(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function Fk(t,e,n,r){t.min=tt(e.min,n.min,r),t.max=tt(e.max,n.max,r)}function d8(t,e,n,r){Fk(t.x,e.x,n.x,r),Fk(t.y,e.y,n.y,r)}function f8(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const h8={duration:.45,ease:[.4,0,.1,1]},Bk=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),Vk=Bk("applewebkit/")&&!Bk("chrome/")?Math.round:Ut;function Uk(t){t.min=Vk(t.min),t.max=Vk(t.max)}function p8(t){Uk(t.x),Uk(t.y)}function cI(t,e,n){return t==="position"||t==="preserve-aspect"&&!Av(Nk(e),Nk(n),.2)}const m8=uI({attachResizeListener:(t,e)=>wi(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Mg={current:void 0},dI=uI({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!Mg.current){const t=new m8({});t.mount(window),t.setOptions({layoutScroll:!0}),Mg.current=t}return Mg.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),g8={pan:{Feature:IU},drag:{Feature:AU,ProjectionNode:dI,MeasureLayout:iI}},$v={current:null},fI={current:!1};function y8(){if(fI.current=!0,!!Nb)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>$v.current=t.matches;t.addListener(e),e()}else $v.current=!1}function v8(t,e,n){const{willChange:r}=e;for(const i in e){const s=e[i],a=n[i];if(Bt(s))t.addValue(i,s),hh(r)&&r.add(i);else if(Bt(a))t.addValue(i,Zu(s,{owner:t})),hh(r)&&r.remove(i);else if(a!==s)if(t.hasValue(i)){const o=t.getValue(i);o.liveStyle===!0?o.jump(s):o.hasAnimated||o.set(s)}else{const o=t.getStaticValue(i);t.addValue(i,Zu(o!==void 0?o:s,{owner:t}))}}for(const i in n)e[i]===void 0&&t.removeValue(i);return e}const Hk=new WeakMap,b8=[...CA,zt,gs],w8=t=>b8.find(SA(t)),hI=Object.keys(Wu),_8=hI.length,Wk=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"],x8=Db.length;function pI(t){if(t)return t.options.allowProjection!==!1?t.projection:pI(t.parent)}class k8{scrapeMotionValuesFromProps(e,n,r){return{}}constructor({parent:e,props:n,presenceContext:r,reducedMotionConfig:i,blockInitialAnimation:s,visualState:a},o={}){this.resolveKeyframes=(f,h,p,y)=>new this.KeyframeResolver(f,h,p,y,this),this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=Xb,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.scheduleRender=()=>ze.render(this.render,!1,!0);const{latestValues:l,renderState:u}=a;this.latestValues=l,this.baseTarget={...l},this.initialValues=n.initial?{...l}:{},this.renderState=u,this.parent=e,this.props=n,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=i,this.options=o,this.blockInitialAnimation=!!s,this.isControllingVariants=Gp(n),this.isVariantNode=eA(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:c,...d}=this.scrapeMotionValuesFromProps(n,{},this);for(const f in d){const h=d[f];l[f]!==void 0&&Bt(h)&&(h.set(l[f],!1),hh(c)&&c.add(f))}}mount(e){this.current=e,Hk.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),fI.current||y8(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:$v.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){var e;Hk.delete(this.current),this.projection&&this.projection.unmount(),ms(this.notifyUpdate),ms(this.render),this.valueSubscriptions.forEach(n=>n()),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const n in this.events)this.events[n].clear();for(const n in this.features)(e=this.features[n])===null||e===void 0||e.unmount();this.current=null}bindToMotionValue(e,n){const r=_a.has(e),i=n.on("change",a=>{this.latestValues[e]=a,this.props.onUpdate&&ze.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0)}),s=n.on("renderRequest",this.scheduleRender);this.valueSubscriptions.set(e,()=>{i(),s(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}loadFeatures({children:e,...n},r,i,s){let a,o;for(let l=0;l<_8;l++){const u=hI[l],{isEnabled:c,Feature:d,ProjectionNode:f,MeasureLayout:h}=Wu[u];f&&(a=f),c(n)&&(!this.features[u]&&d&&(this.features[u]=new d(this)),h&&(o=h))}if((this.type==="html"||this.type==="svg")&&!this.projection&&a){this.projection=new a(this.latestValues,pI(this.parent));const{layoutId:l,layout:u,drag:c,dragConstraints:d,layoutScroll:f,layoutRoot:h}=n;this.projection.setOptions({layoutId:l,layout:u,alwaysMeasureLayout:!!c||d&&ro(d),visualElement:this,scheduleRender:()=>this.scheduleRender(),animationType:typeof u=="string"?u:"both",initialPromotionConfig:s,layoutScroll:f,layoutRoot:h})}return o}updateFeatures(){for(const e in this.features){const n=this.features[e];n.isMounted?n.update():(n.mount(),n.isMounted=!0)}}triggerBuild(){this.build(this.renderState,this.latestValues,this.options,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):ct()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<Wk.length;r++){const i=Wk[r];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const s="on"+i,a=e[s];a&&(this.propEventSubscriptions[i]=this.on(i,a))}this.prevMotionValues=v8(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}getVariantContext(e=!1){if(e)return this.parent?this.parent.getVariantContext():void 0;if(!this.isControllingVariants){const r=this.parent?this.parent.getVariantContext()||{}:{};return this.props.initial!==void 0&&(r.initial=this.props.initial),r}const n={};for(let r=0;r<x8;r++){const i=Db[r],s=this.props[i];(Hu(s)||s===!1)&&(n[i]=s)}return n}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const r=this.values.get(e);n!==r&&(r&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&n!==void 0&&(r=Zu(n===null?void 0:n,{owner:this}),this.addValue(e,r)),r}readValue(e,n){var r;let i=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:(r=this.getBaseTargetFromProps(this.props,e))!==null&&r!==void 0?r:this.readValueFromInstance(this.current,e,this.options);return i!=null&&(typeof i=="string"&&(xA(i)||_A(i))?i=parseFloat(i):!w8(i)&&gs.test(n)&&(i=$A(e,n)),this.setBaseTarget(e,Bt(i)?i.get():i)),Bt(i)?i.get():i}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){var n;const{initial:r}=this.props;let i;if(typeof r=="string"||typeof r=="object"){const a=Kb(this.props,r,(n=this.presenceContext)===null||n===void 0?void 0:n.custom);a&&(i=a[e])}if(r&&i!==void 0)return i;const s=this.getBaseTargetFromProps(this.props,e);return s!==void 0&&!Bt(s)?s:this.initialValues[e]!==void 0&&i===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new lw),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}}class mI extends k8{constructor(){super(...arguments),this.KeyframeResolver=NA}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:r}){delete n[e],delete r[e]}}function S8(t){return window.getComputedStyle(t)}class C8 extends mI{constructor(){super(...arguments),this.type="html"}readValueFromInstance(e,n){if(_a.has(n)){const r=Qb(n);return r&&r.default||0}else{const r=S8(e),i=(iA(n)?r.getPropertyValue(n):r[n])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(e,{transformPagePoint:n}){return nI(e,n)}build(e,n,r,i){Hb(e,n,r,i.transformTemplate)}scrapeMotionValuesFromProps(e,n,r){return Gb(e,n,r)}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;Bt(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}renderInstance(e,n,r,i){uA(e,n,r,i)}}class T8 extends mI{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(_a.has(n)){const r=Qb(n);return r&&r.default||0}return n=cA.has(n)?n:Mb(n),e.getAttribute(n)}measureInstanceViewportBox(){return ct()}scrapeMotionValuesFromProps(e,n,r){return fA(e,n,r)}build(e,n,r,i){qb(e,n,r,this.isSVGTag,i.transformTemplate)}renderInstance(e,n,r,i){dA(e,n,r,i)}mount(e){this.isSVGTag=Zb(e.tagName),super.mount(e)}}const P8=(t,e)=>Bb(t)?new T8(e,{enableHardwareAcceleration:!1}):new C8(e,{allowProjection:t!==A.Fragment,enableHardwareAcceleration:!0}),E8={layout:{ProjectionNode:dI,MeasureLayout:iI}},A8={...uU,...b9,...g8,...E8},gI=A6((t,e)=>a9(t,e,A8,P8));function yI(){const t=A.useRef(!1);return jb(()=>(t.current=!0,()=>{t.current=!1}),[]),t}function I8(){const t=yI(),[e,n]=A.useState(0),r=A.useCallback(()=>{t.current&&n(e+1)},[e]);return[A.useCallback(()=>ze.postRender(r),[r]),e]}class O8 extends A.Component{getSnapshotBeforeUpdate(e){const n=this.props.childRef.current;if(n&&e.isPresent&&!this.props.isPresent){const r=this.props.sizeRef.current;r.height=n.offsetHeight||0,r.width=n.offsetWidth||0,r.top=n.offsetTop,r.left=n.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function R8({children:t,isPresent:e}){const n=A.useId(),r=A.useRef(null),i=A.useRef({width:0,height:0,top:0,left:0}),{nonce:s}=A.useContext($b);return A.useInsertionEffect(()=>{const{width:a,height:o,top:l,left:u}=i.current;if(e||!r.current||!a||!o)return;r.current.dataset.motionPopId=n;const c=document.createElement("style");return s&&(c.nonce=s),document.head.appendChild(c),c.sheet&&c.sheet.insertRule(`
          [data-motion-pop-id="${n}"] {
            position: absolute !important;
            width: ${a}px !important;
            height: ${o}px !important;
            top: ${l}px !important;
            left: ${u}px !important;
          }
        `),()=>{document.head.removeChild(c)}},[e]),O.jsx(O8,{isPresent:e,childRef:r,sizeRef:i,children:A.cloneElement(t,{ref:r})})}const Lg=({children:t,initial:e,isPresent:n,onExitComplete:r,custom:i,presenceAffectsLayout:s,mode:a})=>{const o=hA($8),l=A.useId(),u=A.useMemo(()=>({id:l,initial:e,isPresent:n,custom:i,onExitComplete:c=>{o.set(c,!0);for(const d of o.values())if(!d)return;r&&r()},register:c=>(o.set(c,!1),()=>o.delete(c))}),s?[Math.random()]:[n]);return A.useMemo(()=>{o.forEach((c,d)=>o.set(d,!1))},[n]),A.useEffect(()=>{!n&&!o.size&&r&&r()},[n]),a==="popLayout"&&(t=O.jsx(R8,{isPresent:n,children:t})),O.jsx(Sc.Provider,{value:u,children:t})};function $8(){return new Map}function N8(t){return A.useEffect(()=>()=>t(),[])}const Ls=t=>t.key||"";function j8(t,e){t.forEach(n=>{const r=Ls(n);e.set(r,n)})}function M8(t){const e=[];return A.Children.forEach(t,n=>{A.isValidElement(n)&&e.push(n)}),e}const vI=({children:t,custom:e,initial:n=!0,onExitComplete:r,exitBeforeEnter:i,presenceAffectsLayout:s=!0,mode:a="sync"})=>{const o=A.useContext(Fb).forceRender||I8()[0],l=yI(),u=M8(t);let c=u;const d=A.useRef(new Map).current,f=A.useRef(c),h=A.useRef(new Map).current,p=A.useRef(!0);if(jb(()=>{p.current=!1,j8(u,h),f.current=c}),N8(()=>{p.current=!0,h.clear(),d.clear()}),p.current)return O.jsx(O.Fragment,{children:c.map(g=>O.jsx(Lg,{isPresent:!0,initial:n?void 0:!1,presenceAffectsLayout:s,mode:a,children:g},Ls(g)))});c=[...c];const y=f.current.map(Ls),b=u.map(Ls),m=y.length;for(let g=0;g<m;g++){const v=y[g];b.indexOf(v)===-1&&!d.has(v)&&d.set(v,void 0)}return a==="wait"&&d.size&&(c=[]),d.forEach((g,v)=>{if(b.indexOf(v)!==-1)return;const x=h.get(v);if(!x)return;const C=y.indexOf(v);let k=g;if(!k){const I=()=>{d.delete(v);const R=Array.from(h.keys()).filter(j=>!b.includes(j));if(R.forEach(j=>h.delete(j)),f.current=u.filter(j=>{const T=Ls(j);return T===v||R.includes(T)}),!d.size){if(l.current===!1)return;o(),r&&r()}};k=O.jsx(Lg,{isPresent:!1,onExitComplete:I,custom:e,presenceAffectsLayout:s,mode:a,children:x},Ls(x)),d.set(v,k)}c.splice(C,0,k)}),c=c.map(g=>{const v=g.key;return d.has(v)?g:O.jsx(Lg,{isPresent:!0,presenceAffectsLayout:s,mode:a,children:g},Ls(g))}),O.jsx(O.Fragment,{children:d.size?c:c.map(g=>A.cloneElement(g))})};var L8={initial:t=>{const{position:e}=t,n=["top","bottom"].includes(e)?"y":"x";let r=["top-right","bottom-right"].includes(e)?1:-1;return e==="bottom"&&(r=1),{opacity:0,[n]:r*24}},animate:{opacity:1,y:0,x:0,scale:1,transition:{duration:.4,ease:[.4,0,.2,1]}},exit:{opacity:0,scale:.85,transition:{duration:.2,ease:[.4,0,1,1]}}},bI=A.memo(t=>{const{id:e,message:n,onCloseComplete:r,onRequestRemove:i,requestClose:s=!1,position:a="bottom",duration:o=5e3,containerStyle:l,motionVariants:u=L8,toastSpacing:c="0.5rem"}=t,[d,f]=A.useState(o),h=RU();z1(()=>{h||r==null||r()},[h]),z1(()=>{f(o)},[o]);const p=()=>f(null),y=()=>f(o),b=()=>{h&&i()};A.useEffect(()=>{h&&s&&i()},[h,s,i]),g6(b,d);const m=A.useMemo(()=>({pointerEvents:"auto",maxWidth:560,minWidth:300,margin:c,...l}),[l,c]),g=A.useMemo(()=>p6(a),[a]);return O.jsx(gI.div,{layout:!0,className:"chakra-toast",variants:u,initial:"initial",animate:"animate",exit:"exit",onHoverStart:p,onHoverEnd:y,custom:{position:a},style:g,children:O.jsx(je.div,{role:"status","aria-atomic":"true",className:"chakra-toast__inner",__css:m,children:ts(n,{id:e,onClose:b})})})});bI.displayName="ToastComponent";var qk={path:O.jsxs("g",{stroke:"currentColor",strokeWidth:"1.5",children:[O.jsx("path",{strokeLinecap:"round",fill:"none",d:"M9,9a3,3,0,1,1,4,2.829,1.5,1.5,0,0,0-1,1.415V14.25"}),O.jsx("path",{fill:"currentColor",strokeLinecap:"round",d:"M12,17.25a.375.375,0,1,0,.375.375A.375.375,0,0,0,12,17.25h0"}),O.jsx("circle",{fill:"none",strokeMiterlimit:"10",cx:"12",cy:"12",r:"11.25"})]}),viewBox:"0 0 24 24"},Ko=st((t,e)=>{const{as:n,viewBox:r,color:i="currentColor",focusable:s=!1,children:a,className:o,__css:l,...u}=t,c=it("chakra-icon",o),d=Zo("Icon",t),f={w:"1em",h:"1em",display:"inline-block",lineHeight:"1em",flexShrink:0,color:i,...l,...d},h={ref:e,focusable:s,className:c,__css:f},p=r??qk.viewBox;if(n&&typeof n!="string")return O.jsx(je.svg,{as:n,...h,...u});const y=a??qk.path;return O.jsx(je.svg,{verticalAlign:"middle",viewBox:p,...h,...u,children:y})});Ko.displayName="Icon";function z8(t){return O.jsx(Ko,{viewBox:"0 0 24 24",...t,children:O.jsx("path",{fill:"currentColor",d:"M12,0A12,12,0,1,0,24,12,12.014,12.014,0,0,0,12,0Zm6.927,8.2-6.845,9.289a1.011,1.011,0,0,1-1.43.188L5.764,13.769a1,1,0,1,1,1.25-1.562l4.076,3.261,6.227-8.451A1,1,0,1,1,18.927,8.2Z"})})}function D8(t){return O.jsx(Ko,{viewBox:"0 0 24 24",...t,children:O.jsx("path",{fill:"currentColor",d:"M12,0A12,12,0,1,0,24,12,12.013,12.013,0,0,0,12,0Zm.25,5a1.5,1.5,0,1,1-1.5,1.5A1.5,1.5,0,0,1,12.25,5ZM14.5,18.5h-4a1,1,0,0,1,0-2h.75a.25.25,0,0,0,.25-.25v-4.5a.25.25,0,0,0-.25-.25H10.5a1,1,0,0,1,0-2h1a2,2,0,0,1,2,2v4.75a.25.25,0,0,0,.25.25h.75a1,1,0,1,1,0,2Z"})})}function Zk(t){return O.jsx(Ko,{viewBox:"0 0 24 24",...t,children:O.jsx("path",{fill:"currentColor",d:"M11.983,0a12.206,12.206,0,0,0-8.51,3.653A11.8,11.8,0,0,0,0,12.207,11.779,11.779,0,0,0,11.8,24h.214A12.111,12.111,0,0,0,24,11.791h0A11.766,11.766,0,0,0,11.983,0ZM10.5,16.542a1.476,1.476,0,0,1,1.449-1.53h.027a1.527,1.527,0,0,1,1.523,1.47,1.475,1.475,0,0,1-1.449,1.53h-.027A1.529,1.529,0,0,1,10.5,16.542ZM11,12.5v-6a1,1,0,0,1,2,0v6a1,1,0,1,1-2,0Z"})})}var F8=OM({"0%":{transform:"rotate(0deg)"},"100%":{transform:"rotate(360deg)"}}),uw=st((t,e)=>{const n=Zo("Spinner",t),{label:r="Loading...",thickness:i="2px",speed:s="0.45s",emptyColor:a="transparent",className:o,...l}=ii(t),u=it("chakra-spinner",o),c={display:"inline-block",borderColor:"currentColor",borderStyle:"solid",borderRadius:"99999px",borderWidth:i,borderBottomColor:a,borderLeftColor:a,animation:`${F8} ${s} linear infinite`,...n};return O.jsx(je.div,{ref:e,__css:c,className:u,...l,children:r&&O.jsx(je.span,{srOnly:!0,children:r})})});uw.displayName="Spinner";var[B8,cw]=Dn({name:"AlertContext",hookName:"useAlertContext",providerName:"<Alert />"}),[V8,dw]=Dn({name:"AlertStylesContext",hookName:"useAlertStyles",providerName:"<Alert />"}),wI={info:{icon:D8,colorScheme:"blue"},warning:{icon:Zk,colorScheme:"orange"},success:{icon:z8,colorScheme:"green"},error:{icon:Zk,colorScheme:"red"},loading:{icon:uw,colorScheme:"blue"}};function U8(t){return wI[t].colorScheme}function H8(t){return wI[t].icon}var _I=st(function(e,n){const r=dw(),{status:i}=cw(),s={display:"inline",...r.description};return O.jsx(je.div,{ref:n,"data-status":i,...e,className:it("chakra-alert__desc",e.className),__css:s})});_I.displayName="AlertDescription";function xI(t){const{status:e}=cw(),n=H8(e),r=dw(),i=e==="loading"?r.spinner:r.icon;return O.jsx(je.span,{display:"inherit","data-status":e,...t,className:it("chakra-alert__icon",t.className),__css:i,children:t.children||O.jsx(n,{h:"100%",w:"100%"})})}xI.displayName="AlertIcon";var kI=st(function(e,n){const r=dw(),{status:i}=cw();return O.jsx(je.div,{ref:n,"data-status":i,...e,className:it("chakra-alert__title",e.className),__css:r.title})});kI.displayName="AlertTitle";var SI=st(function(e,n){var r;const{status:i="info",addRole:s=!0,...a}=ii(e),o=(r=e.colorScheme)!=null?r:U8(i),l=kc("Alert",{...e,colorScheme:o}),u={width:"100%",display:"flex",alignItems:"center",position:"relative",overflow:"hidden",...l.container};return O.jsx(B8,{value:{status:i},children:O.jsx(V8,{value:l,children:O.jsx(je.div,{"data-status":i,role:s?"alert":void 0,ref:n,...a,className:it("chakra-alert",e.className),__css:u})})})});SI.displayName="Alert";function W8(t){return O.jsx(Ko,{focusable:"false","aria-hidden":!0,...t,children:O.jsx("path",{fill:"currentColor",d:"M.439,21.44a1.5,1.5,0,0,0,2.122,2.121L11.823,14.3a.25.25,0,0,1,.354,0l9.262,9.263a1.5,1.5,0,1,0,2.122-2.121L14.3,12.177a.25.25,0,0,1,0-.354l9.263-9.262A1.5,1.5,0,0,0,21.439.44L12.177,9.7a.25.25,0,0,1-.354,0L2.561.44A1.5,1.5,0,0,0,.439,2.561L9.7,11.823a.25.25,0,0,1,0,.354Z"})})}var CI=st(function(e,n){const r=Zo("CloseButton",e),{children:i,isDisabled:s,__css:a,...o}=ii(e),l={outline:0,display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0};return O.jsx(je.button,{type:"button","aria-label":"Close",ref:n,disabled:s,__css:{...l,...r,...a},...o,children:i||O.jsx(W8,{width:"1em",height:"1em"})})});CI.displayName="CloseButton";var q8={top:[],"top-left":[],"top-right":[],"bottom-left":[],bottom:[],"bottom-right":[]},du=Z8(q8);function Z8(t){let e=t;const n=new Set,r=i=>{e=i(e),n.forEach(s=>s())};return{getState:()=>e,subscribe:i=>(n.add(i),()=>{r(()=>t),n.delete(i)}),removeToast:(i,s)=>{r(a=>({...a,[s]:a[s].filter(o=>o.id!=i)}))},notify:(i,s)=>{const a=G8(i,s),{position:o,id:l}=a;return r(u=>{var c,d;const h=o.includes("top")?[a,...(c=u[o])!=null?c:[]]:[...(d=u[o])!=null?d:[],a];return{...u,[o]:h}}),l},update:(i,s)=>{i&&r(a=>{const o={...a},{position:l,index:u}=L1(o,i);return l&&u!==-1&&(o[l][u]={...o[l][u],...s,message:J8(s)}),o})},closeAll:({positions:i}={})=>{r(s=>(i??["bottom","bottom-right","bottom-left","top","top-left","top-right"]).reduce((l,u)=>(l[u]=s[u].map(c=>({...c,requestClose:!0})),l),{...s}))},close:i=>{r(s=>{const a=JE(s,i);return a?{...s,[a]:s[a].map(o=>o.id==i?{...o,requestClose:!0}:o)}:s})},isActive:i=>!!L1(du.getState(),i).position}}var Gk=0;function G8(t,e={}){var n,r;Gk+=1;const i=(n=e.id)!=null?n:Gk,s=(r=e.position)!=null?r:"bottom";return{id:i,message:t,position:s,duration:e.duration,onCloseComplete:e.onCloseComplete,onRequestRemove:()=>du.removeToast(String(i),s),status:e.status,requestClose:!1,containerStyle:e.containerStyle}}var K8=t=>{const{status:e,variant:n="solid",id:r,title:i,isClosable:s,onClose:a,description:o,colorScheme:l,icon:u}=t,c=r?{root:`toast-${r}`,title:`toast-${r}-title`,description:`toast-${r}-description`}:void 0;return O.jsxs(SI,{addRole:!1,status:e,variant:n,id:c==null?void 0:c.root,alignItems:"start",borderRadius:"md",boxShadow:"lg",paddingEnd:8,textAlign:"start",width:"auto",colorScheme:l,children:[O.jsx(xI,{children:u}),O.jsxs(je.div,{flex:"1",maxWidth:"100%",children:[i&&O.jsx(kI,{id:c==null?void 0:c.title,children:i}),o&&O.jsx(_I,{id:c==null?void 0:c.description,display:"block",children:o})]}),s&&O.jsx(CI,{size:"sm",onClick:a,position:"absolute",insetEnd:1,top:1})]})};function J8(t={}){const{render:e,toastComponent:n=K8}=t;return i=>typeof e=="function"?e({...i,...t}):O.jsx(n,{...i,...t})}var[X8,Ite]=Dn({name:"ToastOptionsContext",strict:!1}),Y8=t=>{const e=A.useSyncExternalStore(du.subscribe,du.getState,du.getState),{motionVariants:n,component:r=bI,portalProps:i}=t,a=Object.keys(e).map(o=>{const l=e[o];return O.jsx("div",{role:"region","aria-live":"polite","aria-label":`Notifications-${o}`,id:`chakra-toast-manager-${o}`,style:m6(o),children:O.jsx(vI,{initial:!1,children:l.map(u=>O.jsx(r,{motionVariants:n,...u},u.id))})},o)});return O.jsx(Bp,{...i,children:a})},Q8=t=>function({children:n,theme:r=t,toastOptions:i,...s}){return O.jsxs(f6,{theme:r,...s,children:[O.jsx(X8,{value:i==null?void 0:i.defaultOptions,children:n}),O.jsx(Y8,{...i})]})},eH=Q8(BE),tH=Object.defineProperty,nH=(t,e,n)=>e in t?tH(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,ot=(t,e,n)=>(nH(t,typeof e!="symbol"?e+"":e,n),n);function Kk(t){return t.sort((e,n)=>{const r=e.compareDocumentPosition(n);if(r&Node.DOCUMENT_POSITION_FOLLOWING||r&Node.DOCUMENT_POSITION_CONTAINED_BY)return-1;if(r&Node.DOCUMENT_POSITION_PRECEDING||r&Node.DOCUMENT_POSITION_CONTAINS)return 1;if(r&Node.DOCUMENT_POSITION_DISCONNECTED||r&Node.DOCUMENT_POSITION_IMPLEMENTATION_SPECIFIC)throw Error("Cannot sort the given nodes.");return 0})}var rH=t=>typeof t=="object"&&"nodeType"in t&&t.nodeType===Node.ELEMENT_NODE;function Jk(t,e,n){let r=t+1;return n&&r>=e&&(r=0),r}function Xk(t,e,n){let r=t-1;return n&&r<0&&(r=e),r}var Nv=typeof window<"u"?A.useLayoutEffect:A.useEffect,mh=t=>t,iH=class{constructor(){ot(this,"descendants",new Map),ot(this,"register",t=>{if(t!=null)return rH(t)?this.registerNode(t):e=>{this.registerNode(e,t)}}),ot(this,"unregister",t=>{this.descendants.delete(t);const e=Kk(Array.from(this.descendants.keys()));this.assignIndex(e)}),ot(this,"destroy",()=>{this.descendants.clear()}),ot(this,"assignIndex",t=>{this.descendants.forEach(e=>{const n=t.indexOf(e.node);e.index=n,e.node.dataset.index=e.index.toString()})}),ot(this,"count",()=>this.descendants.size),ot(this,"enabledCount",()=>this.enabledValues().length),ot(this,"values",()=>Array.from(this.descendants.values()).sort((e,n)=>e.index-n.index)),ot(this,"enabledValues",()=>this.values().filter(t=>!t.disabled)),ot(this,"item",t=>{if(this.count()!==0)return this.values()[t]}),ot(this,"enabledItem",t=>{if(this.enabledCount()!==0)return this.enabledValues()[t]}),ot(this,"first",()=>this.item(0)),ot(this,"firstEnabled",()=>this.enabledItem(0)),ot(this,"last",()=>this.item(this.descendants.size-1)),ot(this,"lastEnabled",()=>{const t=this.enabledValues().length-1;return this.enabledItem(t)}),ot(this,"indexOf",t=>{var e,n;return t&&(n=(e=this.descendants.get(t))==null?void 0:e.index)!=null?n:-1}),ot(this,"enabledIndexOf",t=>t==null?-1:this.enabledValues().findIndex(e=>e.node.isSameNode(t))),ot(this,"next",(t,e=!0)=>{const n=Jk(t,this.count(),e);return this.item(n)}),ot(this,"nextEnabled",(t,e=!0)=>{const n=this.item(t);if(!n)return;const r=this.enabledIndexOf(n.node),i=Jk(r,this.enabledCount(),e);return this.enabledItem(i)}),ot(this,"prev",(t,e=!0)=>{const n=Xk(t,this.count()-1,e);return this.item(n)}),ot(this,"prevEnabled",(t,e=!0)=>{const n=this.item(t);if(!n)return;const r=this.enabledIndexOf(n.node),i=Xk(r,this.enabledCount()-1,e);return this.enabledItem(i)}),ot(this,"registerNode",(t,e)=>{if(!t||this.descendants.has(t))return;const n=Array.from(this.descendants.keys()).concat(t),r=Kk(n);e!=null&&e.disabled&&(e.disabled=!!e.disabled);const i={node:t,index:-1,...e};this.descendants.set(t,i),this.assignIndex(r)})}};function sH(t,e){if(t!=null){if(typeof t=="function"){t(e);return}try{t.current=e}catch{throw new Error(`Cannot assign value '${e}' to ref '${t}'`)}}}function Gu(...t){return e=>{t.forEach(n=>{sH(n,e)})}}function aH(...t){return A.useMemo(()=>Gu(...t),t)}function oH(){const t=A.useRef(new iH);return Nv(()=>()=>t.current.destroy()),t.current}var[lH,TI]=Dn({name:"DescendantsProvider",errorMessage:"useDescendantsContext must be used within DescendantsProvider"});function uH(t){const e=TI(),[n,r]=A.useState(-1),i=A.useRef(null);Nv(()=>()=>{i.current&&e.unregister(i.current)},[]),Nv(()=>{if(!i.current)return;const a=Number(i.current.dataset.index);n!=a&&!Number.isNaN(a)&&r(a)});const s=mh(t?e.register(t):e.register);return{descendants:e,index:n,enabledIndex:e.enabledIndexOf(i.current),register:Gu(s,i)}}function cH(){return[mh(lH),()=>mh(TI()),()=>oH(),i=>uH(i)]}var[dH,Yp]=Dn({name:"AccordionStylesContext",hookName:"useAccordionStyles",providerName:"<Accordion />"}),[fH,fw]=Dn({name:"AccordionItemContext",hookName:"useAccordionItemContext",providerName:"<AccordionItem />"}),[hH,Ote,pH,mH]=cH(),PI=st(function(e,n){const{getButtonProps:r}=fw(),i=r(e,n),a={display:"flex",alignItems:"center",width:"100%",outline:0,...Yp().button};return O.jsx(je.button,{...i,className:it("chakra-accordion__button",e.className),__css:a})});PI.displayName="AccordionButton";function gH(t){const{value:e,defaultValue:n,onChange:r,shouldUpdate:i=(f,h)=>f!==h}=t,s=uf(r),a=uf(i),[o,l]=A.useState(n),u=e!==void 0,c=u?e:o,d=uf(f=>{const p=typeof f=="function"?f(c):f;a(c,p)&&(u||l(p),s(p))},[u,s,c,a]);return[c,d]}function yH(t){const{onChange:e,defaultIndex:n,index:r,allowMultiple:i,allowToggle:s,...a}=t;wH(t),_H(t);const o=pH(),[l,u]=A.useState(-1);A.useEffect(()=>()=>{u(-1)},[]);const[c,d]=gH({value:r,defaultValue(){return i?n??[]:n??-1},onChange:e});return{index:c,setIndex:d,htmlProps:a,getAccordionItemProps:h=>{let p=!1;return h!==null&&(p=Array.isArray(c)?c.includes(h):c===h),{isOpen:p,onChange:b=>{if(h!==null)if(i&&Array.isArray(c)){const m=b?c.concat(h):c.filter(g=>g!==h);d(m)}else b?d(h):s&&d(-1)}}},focusedIndex:l,setFocusedIndex:u,descendants:o}}var[vH,hw]=Dn({name:"AccordionContext",hookName:"useAccordionContext",providerName:"Accordion"});function bH(t){const{isDisabled:e,isFocusable:n,id:r,...i}=t,{getAccordionItemProps:s,setFocusedIndex:a}=hw(),o=A.useRef(null),l=A.useId(),u=r??l,c=`accordion-button-${u}`,d=`accordion-panel-${u}`;xH(t);const{register:f,index:h,descendants:p}=mH({disabled:e&&!n}),{isOpen:y,onChange:b}=s(h===-1?null:h);kH({isOpen:y,isDisabled:e});const m=()=>{b==null||b(!0)},g=()=>{b==null||b(!1)},v=A.useCallback(()=>{b==null||b(!y),a(h)},[h,a,y,b]),x=A.useCallback(R=>{const T={ArrowDown:()=>{const F=p.nextEnabled(h);F==null||F.node.focus()},ArrowUp:()=>{const F=p.prevEnabled(h);F==null||F.node.focus()},Home:()=>{const F=p.firstEnabled();F==null||F.node.focus()},End:()=>{const F=p.lastEnabled();F==null||F.node.focus()}}[R.key];T&&(R.preventDefault(),T(R))},[p,h]),C=A.useCallback(()=>{a(h)},[a,h]),k=A.useCallback(function(j={},T=null){return{...j,type:"button",ref:Gu(f,o,T),id:c,disabled:!!e,"aria-expanded":!!y,"aria-controls":d,onClick:eu(j.onClick,v),onFocus:eu(j.onFocus,C),onKeyDown:eu(j.onKeyDown,x)}},[c,e,y,v,C,x,d,f]),I=A.useCallback(function(j={},T=null){return{...j,ref:T,role:"region",id:d,"aria-labelledby":c,hidden:!y}},[c,y,d]);return{isOpen:y,isDisabled:e,isFocusable:n,onOpen:m,onClose:g,getButtonProps:k,getPanelProps:I,htmlProps:i}}function wH(t){const e=t.index||t.defaultIndex,n=e!=null&&!Array.isArray(e)&&t.allowMultiple;_c({condition:!!n,message:`If 'allowMultiple' is passed, then 'index' or 'defaultIndex' must be an array. You passed: ${typeof e},`})}function _H(t){_c({condition:!!(t.allowMultiple&&t.allowToggle),message:"If 'allowMultiple' is passed, 'allowToggle' will be ignored. Either remove 'allowToggle' or 'allowMultiple' depending on whether you want multiple accordions visible or not"})}function xH(t){_c({condition:!!(t.isFocusable&&!t.isDisabled),message:`Using only 'isFocusable', this prop is reserved for situations where you pass 'isDisabled' but you still want the element to receive focus (A11y). Either remove it or pass 'isDisabled' as well.
    `})}function kH(t){_c({condition:t.isOpen&&!!t.isDisabled,message:"Cannot open a disabled accordion item"})}function EI(t){const{isOpen:e,isDisabled:n}=fw(),{reduceMotion:r}=hw(),i=it("chakra-accordion__icon",t.className),s=Yp(),a={opacity:n?.4:1,transform:e?"rotate(-180deg)":void 0,transition:r?void 0:"transform 0.2s",transformOrigin:"center",...s.icon};return O.jsx(Ko,{viewBox:"0 0 24 24","aria-hidden":!0,className:i,__css:a,...t,children:O.jsx("path",{fill:"currentColor",d:"M16.59 8.59L12 13.17 7.41 8.59 6 10l6 6 6-6z"})})}EI.displayName="AccordionIcon";var AI=st(function(e,n){const{children:r,className:i}=e,{htmlProps:s,...a}=bH(e),l={...Yp().container,overflowAnchor:"none"},u=A.useMemo(()=>a,[a]);return O.jsx(fH,{value:u,children:O.jsx(je.div,{ref:n,...s,className:it("chakra-accordion__item",i),__css:l,children:typeof r=="function"?r({isExpanded:!!a.isOpen,isDisabled:!!a.isDisabled}):r})})});AI.displayName="AccordionItem";var Cd={ease:[.25,.1,.25,1],easeIn:[.4,0,1,1],easeOut:[0,0,.2,1],easeInOut:[.4,0,.2,1]},Yk={enter:(t,e)=>({...t,delay:typeof e=="number"?e:e==null?void 0:e.enter}),exit:(t,e)=>({...t,delay:typeof e=="number"?e:e==null?void 0:e.exit})},SH=t=>t!=null&&parseInt(t.toString(),10)>0,Qk={exit:{height:{duration:.2,ease:Cd.ease},opacity:{duration:.3,ease:Cd.ease}},enter:{height:{duration:.3,ease:Cd.ease},opacity:{duration:.4,ease:Cd.ease}}},CH={exit:({animateOpacity:t,startingHeight:e,transition:n,transitionEnd:r,delay:i})=>{var s;return{...t&&{opacity:SH(e)?1:0},height:e,transitionEnd:r==null?void 0:r.exit,transition:(s=n==null?void 0:n.exit)!=null?s:Yk.exit(Qk.exit,i)}},enter:({animateOpacity:t,endingHeight:e,transition:n,transitionEnd:r,delay:i})=>{var s;return{...t&&{opacity:1},height:e,transitionEnd:r==null?void 0:r.enter,transition:(s=n==null?void 0:n.enter)!=null?s:Yk.enter(Qk.enter,i)}}},II=A.forwardRef((t,e)=>{const{in:n,unmountOnExit:r,animateOpacity:i=!0,startingHeight:s=0,endingHeight:a="auto",style:o,className:l,transition:u,transitionEnd:c,...d}=t,[f,h]=A.useState(!1);A.useEffect(()=>{const g=setTimeout(()=>{h(!0)});return()=>clearTimeout(g)},[]),_c({condition:Number(s)>0&&!!r,message:"startingHeight and unmountOnExit are mutually exclusive. You can't use them together"});const p=parseFloat(s.toString())>0,y={startingHeight:s,endingHeight:a,animateOpacity:i,transition:f?u:{enter:{duration:0}},transitionEnd:{enter:c==null?void 0:c.enter,exit:r?c==null?void 0:c.exit:{...c==null?void 0:c.exit,display:p?"block":"none"}}},b=r?n:!0,m=n||r?"enter":"exit";return O.jsx(vI,{initial:!1,custom:y,children:b&&O.jsx(gI.div,{ref:e,...d,className:it("chakra-collapse",l),style:{overflow:"hidden",display:"block",...o},custom:y,variants:CH,initial:r?"exit":!1,animate:m,exit:"exit"})})});II.displayName="Collapse";var jv=st(function(e,n){const{className:r,motionProps:i,...s}=e,{reduceMotion:a}=hw(),{getPanelProps:o,isOpen:l}=fw(),u=o(s,n),c=it("chakra-accordion__panel",r),d=Yp();a||delete u.hidden;const f=O.jsx(je.div,{...u,__css:d.panel,className:c});return a?f:O.jsx(II,{in:l,...i,children:f})});jv.displayName="AccordionPanel";var OI=st(function({children:e,reduceMotion:n,...r},i){const s=kc("Accordion",r),a=ii(r),{htmlProps:o,descendants:l,...u}=yH(a),c=A.useMemo(()=>({...u,reduceMotion:!!n}),[u,n]);return O.jsx(hH,{value:l,children:O.jsx(vH,{value:c,children:O.jsx(dH,{value:s,children:O.jsx(je.div,{ref:i,...o,className:it("chakra-accordion",r.className),__css:s.root,children:e})})})})});OI.displayName="Accordion";function TH(t){return A.Children.toArray(t).filter(e=>A.isValidElement(e))}var[Rte,PH]=Dn({strict:!1,name:"ButtonGroupContext"});function EH(t){const[e,n]=A.useState(!t);return{ref:A.useCallback(s=>{s&&n(s.tagName==="BUTTON")},[]),type:e?"button":void 0}}function Mv(t){const{children:e,className:n,...r}=t,i=A.isValidElement(e)?A.cloneElement(e,{"aria-hidden":!0,focusable:!1}):e,s=it("chakra-button__icon",n);return O.jsx(je.span,{display:"inline-flex",alignSelf:"center",flexShrink:0,...r,className:s,children:i})}Mv.displayName="ButtonIcon";function Lv(t){const{label:e,placement:n,spacing:r="0.5rem",children:i=O.jsx(uw,{color:"currentColor",width:"1em",height:"1em"}),className:s,__css:a,...o}=t,l=it("chakra-button__spinner",s),u=n==="start"?"marginEnd":"marginStart",c=A.useMemo(()=>({display:"flex",alignItems:"center",position:e?"relative":"absolute",[u]:e?r:0,fontSize:"1em",lineHeight:"normal",...a}),[a,e,u,r]);return O.jsx(je.div,{className:l,...o,__css:c,children:i})}Lv.displayName="ButtonSpinner";var fu=st((t,e)=>{const n=PH(),r=Zo("Button",{...n,...t}),{isDisabled:i=n==null?void 0:n.isDisabled,isLoading:s,isActive:a,children:o,leftIcon:l,rightIcon:u,loadingText:c,iconSpacing:d="0.5rem",type:f,spinner:h,spinnerPlacement:p="start",className:y,as:b,...m}=ii(t),g=A.useMemo(()=>{const k={...r==null?void 0:r._focus,zIndex:1};return{display:"inline-flex",appearance:"none",alignItems:"center",justifyContent:"center",userSelect:"none",position:"relative",whiteSpace:"nowrap",verticalAlign:"middle",outline:"none",...r,...!!n&&{_focus:k}}},[r,n]),{ref:v,type:x}=EH(b),C={rightIcon:u,leftIcon:l,iconSpacing:d,children:o};return O.jsxs(je.button,{ref:aH(e,v),as:b,type:f??x,"data-active":zr(a),"data-loading":zr(s),__css:g,className:it("chakra-button",y),...m,disabled:i||s,children:[s&&p==="start"&&O.jsx(Lv,{className:"chakra-button__spinner--start",label:c,placement:"start",spacing:d,children:h}),s?c||O.jsx(je.span,{opacity:0,children:O.jsx(eS,{...C})}):O.jsx(eS,{...C}),s&&p==="end"&&O.jsx(Lv,{className:"chakra-button__spinner--end",label:c,placement:"end",spacing:d,children:h})]})});fu.displayName="Button";function eS(t){const{leftIcon:e,rightIcon:n,children:r,iconSpacing:i}=t;return O.jsxs(O.Fragment,{children:[e&&O.jsx(Mv,{marginEnd:i,children:e}),r,n&&O.jsx(Mv,{marginStart:i,children:n})]})}var[AH,IH]=Dn({name:"FormControlStylesContext",errorMessage:`useFormControlStyles returned is 'undefined'. Seems you forgot to wrap the components in "<FormControl />" `}),[OH,RI]=Dn({strict:!1,name:"FormControlContext"});function RH(t){const{id:e,isRequired:n,isInvalid:r,isDisabled:i,isReadOnly:s,...a}=t,o=A.useId(),l=e||`field-${o}`,u=`${l}-label`,c=`${l}-feedback`,d=`${l}-helptext`,[f,h]=A.useState(!1),[p,y]=A.useState(!1),[b,m]=A.useState(!1),g=A.useCallback((I={},R=null)=>({id:d,...I,ref:Gu(R,j=>{j&&y(!0)})}),[d]),v=A.useCallback((I={},R=null)=>({...I,ref:R,"data-focus":zr(b),"data-disabled":zr(i),"data-invalid":zr(r),"data-readonly":zr(s),id:I.id!==void 0?I.id:u,htmlFor:I.htmlFor!==void 0?I.htmlFor:l}),[l,i,b,r,s,u]),x=A.useCallback((I={},R=null)=>({id:c,...I,ref:Gu(R,j=>{j&&h(!0)}),"aria-live":"polite"}),[c]),C=A.useCallback((I={},R=null)=>({...I,...a,ref:R,role:"group","data-focus":zr(b),"data-disabled":zr(i),"data-invalid":zr(r),"data-readonly":zr(s)}),[a,i,b,r,s]),k=A.useCallback((I={},R=null)=>({...I,ref:R,role:"presentation","aria-hidden":!0,children:I.children||"*"}),[]);return{isRequired:!!n,isInvalid:!!r,isReadOnly:!!s,isDisabled:!!i,isFocused:!!b,onFocus:()=>m(!0),onBlur:()=>m(!1),hasFeedbackText:f,setHasFeedbackText:h,hasHelpText:p,setHasHelpText:y,id:l,labelId:u,feedbackId:c,helpTextId:d,htmlProps:a,getHelpTextProps:g,getErrorMessageProps:x,getRootProps:C,getLabelProps:v,getRequiredIndicatorProps:k}}var $H=st(function(e,n){const r=kc("Form",e),i=ii(e),{getRootProps:s,htmlProps:a,...o}=RH(i),l=it("chakra-form-control",e.className);return O.jsx(OH,{value:o,children:O.jsx(AH,{value:r,children:O.jsx(je.div,{...s({},n),className:l,__css:r.container})})})});$H.displayName="FormControl";var NH=st(function(e,n){const r=RI(),i=IH(),s=it("chakra-form__helper-text",e.className);return O.jsx(je.div,{...r==null?void 0:r.getHelpTextProps(e,n),__css:i.helperText,className:s})});NH.displayName="FormHelperText";function $I(t){const{isDisabled:e,isInvalid:n,isReadOnly:r,isRequired:i,...s}=jH(t);return{...s,disabled:e,readOnly:r,required:i,"aria-invalid":sg(n),"aria-required":sg(i),"aria-readonly":sg(r)}}function jH(t){var e,n,r;const i=RI(),{id:s,disabled:a,readOnly:o,required:l,isRequired:u,isInvalid:c,isReadOnly:d,isDisabled:f,onFocus:h,onBlur:p,...y}=t,b=t["aria-describedby"]?[t["aria-describedby"]]:[];return i!=null&&i.hasFeedbackText&&(i!=null&&i.isInvalid)&&b.push(i.feedbackId),i!=null&&i.hasHelpText&&b.push(i.helpTextId),{...y,"aria-describedby":b.join(" ")||void 0,id:s??(i==null?void 0:i.id),isDisabled:(e=a??f)!=null?e:i==null?void 0:i.isDisabled,isReadOnly:(n=o??d)!=null?n:i==null?void 0:i.isReadOnly,isRequired:(r=l??u)!=null?r:i==null?void 0:i.isRequired,isInvalid:c??(i==null?void 0:i.isInvalid),onFocus:eu(i==null?void 0:i.onFocus,h),onBlur:eu(i==null?void 0:i.onBlur,p)}}var[MH,LH]=Dn({name:"InputGroupStylesContext",errorMessage:`useInputGroupStyles returned is 'undefined'. Seems you forgot to wrap the components in "<InputGroup />" `}),NI=st(function(e,n){const r=kc("Input",e),{children:i,className:s,...a}=ii(e),o=it("chakra-input__group",s),l={},u=TH(i),c=r.field;u.forEach(f=>{var h,p;r&&(c&&f.type.id==="InputLeftElement"&&(l.paddingStart=(h=c.height)!=null?h:c.h),c&&f.type.id==="InputRightElement"&&(l.paddingEnd=(p=c.height)!=null?p:c.h),f.type.id==="InputRightAddon"&&(l.borderEndRadius=0),f.type.id==="InputLeftAddon"&&(l.borderStartRadius=0))});const d=u.map(f=>{var h,p;const y=XB({size:((h=f.props)==null?void 0:h.size)||e.size,variant:((p=f.props)==null?void 0:p.variant)||e.variant});return f.type.id!=="Input"?A.cloneElement(f,y):A.cloneElement(f,Object.assign(y,l,f.props))});return O.jsx(je.div,{className:o,ref:n,__css:{width:"100%",display:"flex",position:"relative",isolation:"isolate",...r.group},"data-group":!0,...a,children:O.jsx(MH,{value:r,children:d})})});NI.displayName="InputGroup";var zH=je("div",{baseStyle:{display:"flex",alignItems:"center",justifyContent:"center",position:"absolute",top:"0",zIndex:2}}),Qp=st(function(e,n){var r,i;const{placement:s="left",...a}=e,o=LH(),l=o.field,c={[s==="left"?"insetStart":"insetEnd"]:"0",width:(r=l==null?void 0:l.height)!=null?r:l==null?void 0:l.h,height:(i=l==null?void 0:l.height)!=null?i:l==null?void 0:l.h,fontSize:l==null?void 0:l.fontSize,...o.element};return O.jsx(zH,{ref:n,__css:c,...a})});Qp.id="InputElement";Qp.displayName="InputElement";var jI=st(function(e,n){const{className:r,...i}=e,s=it("chakra-input__left-element",r);return O.jsx(Qp,{ref:n,placement:"left",className:s,...i})});jI.id="InputLeftElement";jI.displayName="InputLeftElement";var pw=st(function(e,n){const{className:r,...i}=e,s=it("chakra-input__right-element",r);return O.jsx(Qp,{ref:n,placement:"right",className:s,...i})});pw.id="InputRightElement";pw.displayName="InputRightElement";var mw=st(function(e,n){const{htmlSize:r,...i}=e,s=kc("Input",i),a=ii(i),o=$I(a),l=it("chakra-input",e.className);return O.jsx(je.input,{size:r,...o,__css:s.field,ref:n,className:l})});mw.displayName="Input";mw.id="Input";var MI=st(function(e,n){const r=Zo("Heading",e),{className:i,...s}=ii(e);return O.jsx(je.h2,{ref:n,className:it("chakra-heading",e.className),...s,__css:r})});MI.displayName="Heading";var Ks=je("div");Ks.displayName="Box";var LI=st(function(e,n){const{size:r,centerContent:i=!0,...s}=e,a=i?{display:"flex",alignItems:"center",justifyContent:"center"}:{};return O.jsx(Ks,{ref:n,boxSize:r,__css:{...a,flexShrink:0,flexGrow:0},...s})});LI.displayName="Square";var DH=st(function(e,n){const{size:r,...i}=e;return O.jsx(LI,{size:r,ref:n,borderRadius:"9999px",...i})});DH.displayName="Circle";var zv=st(function(e,n){const{direction:r,align:i,justify:s,wrap:a,basis:o,grow:l,shrink:u,...c}=e,d={display:"flex",flexDirection:r,alignItems:i,justifyContent:s,flexWrap:a,flexBasis:o,flexGrow:l,flexShrink:u};return O.jsx(je.div,{ref:n,__css:d,...c})});zv.displayName="Flex";function FH(t,e=[]){const n=Object.assign({},t);for(const r of e)r in n&&delete n[r];return n}var BH=["h","minH","height","minHeight"],gw=st((t,e)=>{const n=Zo("Textarea",t),{className:r,rows:i,...s}=ii(t),a=$I(s),o=i?FH(n,BH):n;return O.jsx(je.textarea,{ref:e,rows:i,...a,className:it("chakra-textarea",r),__css:o})});gw.displayName="Textarea";const $a="4.45.0";let tS=!1,hu,zI,DI,Dv,FI,BI,VI,UI,HI;function VH(t,e={auto:!1}){if(tS)throw new Error(`you must \`import 'openai/shims/${t.kind}'\` before importing anything else from openai`);if(hu)throw new Error(`can't \`import 'openai/shims/${t.kind}'\` after \`import 'openai/shims/${hu}'\``);tS=e.auto,hu=t.kind,zI=t.fetch,DI=t.FormData,Dv=t.File,FI=t.ReadableStream,BI=t.getMultipartRequestOptions,VI=t.getDefaultAgent,UI=t.fileFromPath,HI=t.isFsReadStream}class UH{constructor(e){this.body=e}get[Symbol.toStringTag](){return"MultipartBody"}}function HH({manuallyImported:t}={}){const e=t?"You may need to use polyfills":"Add one of these imports before your first `import  from 'openai'`:\n- `import 'openai/shims/node'` (if you're running on Node)\n- `import 'openai/shims/web'` (otherwise)\n";let n,r,i,s;try{n=fetch,r=Request,i=Response,s=Headers}catch(a){throw new Error(`this environment is missing the following Web Fetch API type: ${a.message}. ${e}`)}return{kind:"web",fetch:n,Request:r,Response:i,Headers:s,FormData:typeof FormData<"u"?FormData:class{constructor(){throw new Error(`file uploads aren't supported in this environment yet as 'FormData' is undefined. ${e}`)}},Blob:typeof Blob<"u"?Blob:class{constructor(){throw new Error(`file uploads aren't supported in this environment yet as 'Blob' is undefined. ${e}`)}},File:typeof File<"u"?File:class{constructor(){throw new Error(`file uploads aren't supported in this environment yet as 'File' is undefined. ${e}`)}},ReadableStream:typeof ReadableStream<"u"?ReadableStream:class{constructor(){throw new Error(`streaming isn't supported in this environment yet as 'ReadableStream' is undefined. ${e}`)}},getMultipartRequestOptions:async(a,o)=>({...o,body:new UH(a)}),getDefaultAgent:a=>{},fileFromPath:()=>{throw new Error("The `fileFromPath` function is only supported in Node. See the README for more details: https://www.github.com/openai/openai-node#file-uploads")},isFsReadStream:a=>!1}}hu||VH(HH(),{auto:!0});let me=class extends Error{},en=class Fv extends me{constructor(e,n,r,i){super(`${Fv.makeMessage(e,n,r)}`),this.status=e,this.headers=i,this.request_id=i==null?void 0:i["x-request-id"];const s=n;this.error=s,this.code=s==null?void 0:s.code,this.param=s==null?void 0:s.param,this.type=s==null?void 0:s.type}static makeMessage(e,n,r){const i=n!=null&&n.message?typeof n.message=="string"?n.message:JSON.stringify(n.message):n?JSON.stringify(n):r;return e&&i?`${e} ${i}`:e?`${e} status code (no body)`:i||"(no status code or body)"}static generate(e,n,r,i){if(!e)return new Ac({cause:Vv(n)});const s=n==null?void 0:n.error;return e===400?new yw(e,s,r,i):e===401?new vw(e,s,r,i):e===403?new bw(e,s,r,i):e===404?new ww(e,s,r,i):e===409?new _w(e,s,r,i):e===422?new xw(e,s,r,i):e===429?new kw(e,s,r,i):e>=500?new Sw(e,s,r,i):new Fv(e,s,r,i)}},hn=class extends en{constructor({message:e}={}){super(void 0,void 0,e||"Request was aborted.",void 0),this.status=void 0}},Ac=class extends en{constructor({message:e,cause:n}){super(void 0,void 0,e||"Connection error.",void 0),this.status=void 0,n&&(this.cause=n)}},em=class extends Ac{constructor({message:e}={}){super({message:e??"Request timed out."})}},yw=class extends en{constructor(){super(...arguments),this.status=400}},vw=class extends en{constructor(){super(...arguments),this.status=401}},bw=class extends en{constructor(){super(...arguments),this.status=403}},ww=class extends en{constructor(){super(...arguments),this.status=404}},_w=class extends en{constructor(){super(...arguments),this.status=409}},xw=class extends en{constructor(){super(...arguments),this.status=422}},kw=class extends en{constructor(){super(...arguments),this.status=429}},Sw=class extends en{};const WH=Object.freeze(Object.defineProperty({__proto__:null,APIConnectionError:Ac,APIConnectionTimeoutError:em,APIError:en,APIUserAbortError:hn,AuthenticationError:vw,BadRequestError:yw,ConflictError:_w,InternalServerError:Sw,NotFoundError:ww,OpenAIError:me,PermissionDeniedError:bw,RateLimitError:kw,UnprocessableEntityError:xw},Symbol.toStringTag,{value:"Module"}));class Zr{constructor(e,n){this.iterator=e,this.controller=n}static fromSSEResponse(e,n){let r=!1;async function*i(){if(r)throw new Error("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");r=!0;let s=!1;try{for await(const a of qH(e,n))if(!s){if(a.data.startsWith("[DONE]")){s=!0;continue}if(a.event===null){let o;try{o=JSON.parse(a.data)}catch(l){throw console.error("Could not parse message into JSON:",a.data),console.error("From chunk:",a.raw),l}if(o&&o.error)throw new en(void 0,o.error,void 0,void 0);yield o}else{let o;try{o=JSON.parse(a.data)}catch(l){throw console.error("Could not parse message into JSON:",a.data),console.error("From chunk:",a.raw),l}if(a.event=="error")throw new en(void 0,o.error,o.message,void 0);yield{event:a.event,data:o}}}s=!0}catch(a){if(a instanceof Error&&a.name==="AbortError")return;throw a}finally{s||n.abort()}}return new Zr(i,n)}static fromReadableStream(e,n){let r=!1;async function*i(){const a=new ha,o=WI(e);for await(const l of o)for(const u of a.decode(l))yield u;for(const l of a.flush())yield l}async function*s(){if(r)throw new Error("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");r=!0;let a=!1;try{for await(const o of i())a||o&&(yield JSON.parse(o));a=!0}catch(o){if(o instanceof Error&&o.name==="AbortError")return;throw o}finally{a||n.abort()}}return new Zr(s,n)}[Symbol.asyncIterator](){return this.iterator()}tee(){const e=[],n=[],r=this.iterator(),i=s=>({next:()=>{if(s.length===0){const a=r.next();e.push(a),n.push(a)}return s.shift()}});return[new Zr(()=>i(e),this.controller),new Zr(()=>i(n),this.controller)]}toReadableStream(){const e=this;let n;const r=new TextEncoder;return new FI({async start(){n=e[Symbol.asyncIterator]()},async pull(i){try{const{value:s,done:a}=await n.next();if(a)return i.close();const o=r.encode(JSON.stringify(s)+`
`);i.enqueue(o)}catch(s){i.error(s)}},async cancel(){var i;await((i=n.return)==null?void 0:i.call(n))}})}}async function*qH(t,e){if(!t.body)throw e.abort(),new me("Attempted to iterate over a response with no body");const n=new KH,r=new ha,i=WI(t.body);for await(const s of ZH(i))for(const a of r.decode(s)){const o=n.decode(a);o&&(yield o)}for(const s of r.flush()){const a=n.decode(s);a&&(yield a)}}async function*ZH(t){let e=new Uint8Array;for await(const n of t){if(n==null)continue;const r=n instanceof ArrayBuffer?new Uint8Array(n):typeof n=="string"?new TextEncoder().encode(n):n;let i=new Uint8Array(e.length+r.length);i.set(e),i.set(r,e.length),e=i;let s;for(;(s=GH(e))!==-1;)yield e.slice(0,s),e=e.slice(s)}e.length>0&&(yield e)}function GH(t){for(let r=0;r<t.length-2;r++){if(t[r]===10&&t[r+1]===10||t[r]===13&&t[r+1]===13)return r+2;if(t[r]===13&&t[r+1]===10&&r+3<t.length&&t[r+2]===13&&t[r+3]===10)return r+4}return-1}class KH{constructor(){this.event=null,this.data=[],this.chunks=[]}decode(e){if(e.endsWith("\r")&&(e=e.substring(0,e.length-1)),!e){if(!this.event&&!this.data.length)return null;const s={event:this.event,data:this.data.join(`
`),raw:this.chunks};return this.event=null,this.data=[],this.chunks=[],s}if(this.chunks.push(e),e.startsWith(":"))return null;let[n,r,i]=JH(e,":");return i.startsWith(" ")&&(i=i.substring(1)),n==="event"?this.event=i:n==="data"&&this.data.push(i),null}}class ha{constructor(){this.buffer=[],this.trailingCR=!1}decode(e){let n=this.decodeText(e);if(this.trailingCR&&(n="\r"+n,this.trailingCR=!1),n.endsWith("\r")&&(this.trailingCR=!0,n=n.slice(0,-1)),!n)return[];const r=ha.NEWLINE_CHARS.has(n[n.length-1]||"");let i=n.split(ha.NEWLINE_REGEXP);return r&&i.pop(),i.length===1&&!r?(this.buffer.push(i[0]),[]):(this.buffer.length>0&&(i=[this.buffer.join("")+i[0],...i.slice(1)],this.buffer=[]),r||(this.buffer=[i.pop()||""]),i)}decodeText(e){if(e==null)return"";if(typeof e=="string")return e;if(typeof Buffer<"u"){if(e instanceof Buffer)return e.toString();if(e instanceof Uint8Array)return Buffer.from(e).toString();throw new me(`Unexpected: received non-Uint8Array (${e.constructor.name}) stream chunk in an environment with a global "Buffer" defined, which this library assumes to be Node. Please report this error.`)}if(typeof TextDecoder<"u"){if(e instanceof Uint8Array||e instanceof ArrayBuffer)return this.textDecoder??(this.textDecoder=new TextDecoder("utf8")),this.textDecoder.decode(e);throw new me(`Unexpected: received non-Uint8Array/ArrayBuffer (${e.constructor.name}) in a web platform. Please report this error.`)}throw new me("Unexpected: neither Buffer nor TextDecoder are available as globals. Please report this error.")}flush(){if(!this.buffer.length&&!this.trailingCR)return[];const e=[this.buffer.join("")];return this.buffer=[],this.trailingCR=!1,e}}ha.NEWLINE_CHARS=new Set([`
`,"\r"]);ha.NEWLINE_REGEXP=/\r\n|[\n\r]/g;function JH(t,e){const n=t.indexOf(e);return n!==-1?[t.substring(0,n),e,t.substring(n+e.length)]:[t,"",""]}function WI(t){if(t[Symbol.asyncIterator])return t;const e=t.getReader();return{async next(){try{const n=await e.read();return n!=null&&n.done&&e.releaseLock(),n}catch(n){throw e.releaseLock(),n}},async return(){const n=e.cancel();return e.releaseLock(),await n,{done:!0,value:void 0}},[Symbol.asyncIterator](){return this}}}const qI=t=>t!=null&&typeof t=="object"&&typeof t.url=="string"&&typeof t.blob=="function",ZI=t=>t!=null&&typeof t=="object"&&typeof t.name=="string"&&typeof t.lastModified=="number"&&GI(t),GI=t=>t!=null&&typeof t=="object"&&typeof t.size=="number"&&typeof t.type=="string"&&typeof t.text=="function"&&typeof t.slice=="function"&&typeof t.arrayBuffer=="function",XH=t=>ZI(t)||qI(t)||HI(t);async function KI(t,e,n){var i;if(t=await t,n??(n=ZI(t)?{lastModified:t.lastModified,type:t.type}:{}),qI(t)){const s=await t.blob();return e||(e=new URL(t.url).pathname.split(/[\\/]/).pop()??"unknown_file"),new Dv([s],e,n)}const r=await YH(t);if(e||(e=e7(t)??"unknown_file"),!n.type){const s=(i=r[0])==null?void 0:i.type;typeof s=="string"&&(n={...n,type:s})}return new Dv(r,e,n)}async function YH(t){var n;let e=[];if(typeof t=="string"||ArrayBuffer.isView(t)||t instanceof ArrayBuffer)e.push(t);else if(GI(t))e.push(await t.arrayBuffer());else if(t7(t))for await(const r of t)e.push(r);else throw new Error(`Unexpected data type: ${typeof t}; constructor: ${(n=t==null?void 0:t.constructor)==null?void 0:n.name}; props: ${QH(t)}`);return e}function QH(t){return`[${Object.getOwnPropertyNames(t).map(n=>`"${n}"`).join(", ")}]`}function e7(t){var e;return zg(t.name)||zg(t.filename)||((e=zg(t.path))==null?void 0:e.split(/[\\/]/).pop())}const zg=t=>{if(typeof t=="string")return t;if(typeof Buffer<"u"&&t instanceof Buffer)return String(t)},t7=t=>t!=null&&typeof t=="object"&&typeof t[Symbol.asyncIterator]=="function",nS=t=>t&&typeof t=="object"&&t.body&&t[Symbol.toStringTag]==="MultipartBody",Ku=async t=>{const e=await n7(t.body);return BI(e,t)},n7=async t=>{const e=new DI;return await Promise.all(Object.entries(t||{}).map(([n,r])=>Bv(e,n,r))),e},Bv=async(t,e,n)=>{if(n!==void 0){if(n==null)throw new TypeError(`Received null for "${e}"; to pass null in FormData, you must use the string 'null'`);if(typeof n=="string"||typeof n=="number"||typeof n=="boolean")t.append(e,String(n));else if(XH(n)){const r=await KI(n);t.append(e,r)}else if(Array.isArray(n))await Promise.all(n.map(r=>Bv(t,e+"[]",r)));else if(typeof n=="object")await Promise.all(Object.entries(n).map(([r,i])=>Bv(t,`${e}[${r}]`,i)));else throw new TypeError(`Invalid value given to form, expected a string, number, boolean, object, Array, File or Blob but got ${n} instead`)}};var xo={},r7=function(t,e,n,r,i){if(typeof e=="function"?t!==e||!i:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return e.set(t,n),n},i7=function(t,e,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!r:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(t):r?r.value:e.get(t)},Td;async function JI(t){const{response:e}=t;if(t.options.stream)return ko("response",e.status,e.url,e.headers,e.body),t.options.__streamClass?t.options.__streamClass.fromSSEResponse(e,t.controller):Zr.fromSSEResponse(e,t.controller);if(e.status===204)return null;if(t.options.__binaryResponse)return e;const n=e.headers.get("content-type");if((n==null?void 0:n.includes("application/json"))||(n==null?void 0:n.includes("application/vnd.api+json"))){const s=await e.json();return ko("response",e.status,e.url,e.headers,s),s}const i=await e.text();return ko("response",e.status,e.url,e.headers,i),i}class tm extends Promise{constructor(e,n=JI){super(r=>{r(null)}),this.responsePromise=e,this.parseResponse=n}_thenUnwrap(e){return new tm(this.responsePromise,async n=>e(await this.parseResponse(n)))}asResponse(){return this.responsePromise.then(e=>e.response)}async withResponse(){const[e,n]=await Promise.all([this.parse(),this.asResponse()]);return{data:e,response:n}}parse(){return this.parsedPromise||(this.parsedPromise=this.responsePromise.then(this.parseResponse)),this.parsedPromise}then(e,n){return this.parse().then(e,n)}catch(e){return this.parse().catch(e)}finally(e){return this.parse().finally(e)}}class s7{constructor({baseURL:e,maxRetries:n=2,timeout:r=6e5,httpAgent:i,fetch:s}){this.baseURL=e,this.maxRetries=Dg("maxRetries",n),this.timeout=Dg("timeout",r),this.httpAgent=i,this.fetch=s??zI}authHeaders(e){return{}}defaultHeaders(e){return{Accept:"application/json","Content-Type":"application/json","User-Agent":this.getUserAgent(),...d7(),...this.authHeaders(e)}}validateHeaders(e,n){}defaultIdempotencyKey(){return`stainless-node-retry-${m7()}`}get(e,n){return this.methodRequest("get",e,n)}post(e,n){return this.methodRequest("post",e,n)}patch(e,n){return this.methodRequest("patch",e,n)}put(e,n){return this.methodRequest("put",e,n)}delete(e,n){return this.methodRequest("delete",e,n)}methodRequest(e,n,r){return this.request(Promise.resolve(r).then(i=>({method:e,path:n,...i})))}getAPIList(e,n,r){return this.requestAPIList(n,{method:"get",path:e,...r})}calculateContentLength(e){if(typeof e=="string"){if(typeof Buffer<"u")return Buffer.byteLength(e,"utf8").toString();if(typeof TextEncoder<"u")return new TextEncoder().encode(e).length.toString()}return null}buildRequest(e){var p;const{method:n,path:r,query:i,headers:s={}}=e,a=nS(e.body)?e.body.body:e.body?JSON.stringify(e.body,null,2):null,o=this.calculateContentLength(a),l=this.buildURL(r,i);"timeout"in e&&Dg("timeout",e.timeout);const u=e.timeout??this.timeout,c=e.httpAgent??this.httpAgent??VI(l),d=u+1e3;typeof((p=c==null?void 0:c.options)==null?void 0:p.timeout)=="number"&&d>(c.options.timeout??0)&&(c.options.timeout=d),this.idempotencyHeader&&n!=="get"&&(e.idempotencyKey||(e.idempotencyKey=this.defaultIdempotencyKey()),s[this.idempotencyHeader]=e.idempotencyKey);const f=this.buildHeaders({options:e,headers:s,contentLength:o});return{req:{method:n,...a&&{body:a},headers:f,...c&&{agent:c},signal:e.signal??null},url:l,timeout:u}}buildHeaders({options:e,headers:n,contentLength:r}){const i={};r&&(i["content-length"]=r);const s=this.defaultHeaders(e);return aS(i,s),aS(i,n),nS(e.body)&&hu!=="node"&&delete i["content-type"],this.validateHeaders(i,n),i}async prepareOptions(e){}async prepareRequest(e,{url:n,options:r}){}parseHeaders(e){return e?Symbol.iterator in e?Object.fromEntries(Array.from(e).map(n=>[...n])):{...e}:{}}makeStatusError(e,n,r,i){return en.generate(e,n,r,i)}request(e,n=null){return new tm(this.makeRequest(e,n))}async makeRequest(e,n){var c,d;const r=await e;n==null&&(n=r.maxRetries??this.maxRetries),await this.prepareOptions(r);const{req:i,url:s,timeout:a}=this.buildRequest(r);if(await this.prepareRequest(i,{url:s,options:r}),ko("request",s,r,i.headers),(c=r.signal)!=null&&c.aborted)throw new hn;const o=new AbortController,l=await this.fetchWithTimeout(s,i,a,o).catch(Vv);if(l instanceof Error){if((d=r.signal)!=null&&d.aborted)throw new hn;if(n)return this.retryRequest(r,n);throw l.name==="AbortError"?new em:new Ac({cause:l})}const u=o7(l.headers);if(!l.ok){if(n&&this.shouldRetry(l)){const m=`retrying, ${n} attempts remaining`;return ko(`response (error; ${m})`,l.status,s,u),this.retryRequest(r,n,u)}const f=await l.text().catch(m=>Vv(m).message),h=f7(f),p=h?void 0:f;throw ko(`response (error; ${n?"(error; no more retries left)":"(error; not retryable)"})`,l.status,s,u,p),this.makeStatusError(l.status,h,p,u)}return{response:l,options:r,controller:o}}requestAPIList(e,n){const r=this.makeRequest(n,null);return new a7(this,r,e)}buildURL(e,n){const r=p7(e)?new URL(e):new URL(this.baseURL+(this.baseURL.endsWith("/")&&e.startsWith("/")?e.slice(1):e)),i=this.defaultQuery();return YI(i)||(n={...i,...n}),typeof n=="object"&&n&&!Array.isArray(n)&&(r.search=this.stringifyQuery(n)),r.toString()}stringifyQuery(e){return Object.entries(e).filter(([n,r])=>typeof r<"u").map(([n,r])=>{if(typeof r=="string"||typeof r=="number"||typeof r=="boolean")return`${encodeURIComponent(n)}=${encodeURIComponent(r)}`;if(r===null)return`${encodeURIComponent(n)}=`;throw new me(`Cannot stringify type ${typeof r}; Expected string, number, boolean, or null. If you need to pass nested query parameters, you can manually encode them, e.g. { query: { 'foo[key1]': value1, 'foo[key2]': value2 } }, and please open a GitHub issue requesting better support for your use case.`)}).join("&")}async fetchWithTimeout(e,n,r,i){const{signal:s,...a}=n||{};s&&s.addEventListener("abort",()=>i.abort());const o=setTimeout(()=>i.abort(),r);return this.getRequestClient().fetch.call(void 0,e,{signal:i.signal,...a}).finally(()=>{clearTimeout(o)})}getRequestClient(){return{fetch:this.fetch}}shouldRetry(e){const n=e.headers.get("x-should-retry");return n==="true"?!0:n==="false"?!1:e.status===408||e.status===409||e.status===429||e.status>=500}async retryRequest(e,n,r){let i;const s=r==null?void 0:r["retry-after-ms"];if(s){const o=parseFloat(s);Number.isNaN(o)||(i=o)}const a=r==null?void 0:r["retry-after"];if(a&&!i){const o=parseFloat(a);Number.isNaN(o)?i=Date.parse(a)-Date.now():i=o*1e3}if(!(i&&0<=i&&i<60*1e3)){const o=e.maxRetries??this.maxRetries;i=this.calculateDefaultRetryTimeoutMillis(n,o)}return await Ic(i),this.makeRequest(e,n-1)}calculateDefaultRetryTimeoutMillis(e,n){const s=n-e,a=Math.min(.5*Math.pow(2,s),8),o=1-Math.random()*.25;return a*o*1e3}getUserAgent(){return`${this.constructor.name}/JS ${$a}`}}class XI{constructor(e,n,r,i){Td.set(this,void 0),r7(this,Td,e),this.options=i,this.response=n,this.body=r}hasNextPage(){return this.getPaginatedItems().length?this.nextPageInfo()!=null:!1}async getNextPage(){const e=this.nextPageInfo();if(!e)throw new me("No next page expected; please check `.hasNextPage()` before calling `.getNextPage()`.");const n={...this.options};if("params"in e&&typeof n.query=="object")n.query={...n.query,...e.params};else if("url"in e){const r=[...Object.entries(n.query||{}),...e.url.searchParams.entries()];for(const[i,s]of r)e.url.searchParams.set(i,s);n.query=void 0,n.path=e.url.toString()}return await i7(this,Td,"f").requestAPIList(this.constructor,n)}async*iterPages(){let e=this;for(yield e;e.hasNextPage();)e=await e.getNextPage(),yield e}async*[(Td=new WeakMap,Symbol.asyncIterator)](){for await(const e of this.iterPages())for(const n of e.getPaginatedItems())yield n}}class a7 extends tm{constructor(e,n,r){super(n,async i=>new r(e,i.response,await JI(i),i.options))}async*[Symbol.asyncIterator](){const e=await this;for await(const n of e)yield n}}const o7=t=>new Proxy(Object.fromEntries(t.entries()),{get(e,n){const r=n.toString();return e[r.toLowerCase()]||e[r]}}),l7={method:!0,path:!0,query:!0,body:!0,headers:!0,maxRetries:!0,stream:!0,timeout:!0,httpAgent:!0,signal:!0,idempotencyKey:!0,__binaryResponse:!0,__streamClass:!0},jn=t=>typeof t=="object"&&t!==null&&!YI(t)&&Object.keys(t).every(e=>QI(l7,e)),u7=()=>{var e;if(typeof Deno<"u"&&Deno.build!=null)return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":$a,"X-Stainless-OS":iS(Deno.build.os),"X-Stainless-Arch":rS(Deno.build.arch),"X-Stainless-Runtime":"deno","X-Stainless-Runtime-Version":typeof Deno.version=="string"?Deno.version:((e=Deno.version)==null?void 0:e.deno)??"unknown"};if(typeof EdgeRuntime<"u")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":$a,"X-Stainless-OS":"Unknown","X-Stainless-Arch":`other:${EdgeRuntime}`,"X-Stainless-Runtime":"edge","X-Stainless-Runtime-Version":process.version};if(Object.prototype.toString.call(typeof process<"u"?process:0)==="[object process]")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":$a,"X-Stainless-OS":iS(process.platform),"X-Stainless-Arch":rS(process.arch),"X-Stainless-Runtime":"node","X-Stainless-Runtime-Version":process.version};const t=c7();return t?{"X-Stainless-Lang":"js","X-Stainless-Package-Version":$a,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":`browser:${t.browser}`,"X-Stainless-Runtime-Version":t.version}:{"X-Stainless-Lang":"js","X-Stainless-Package-Version":$a,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":"unknown","X-Stainless-Runtime-Version":"unknown"}};function c7(){if(typeof navigator>"u"||!navigator)return null;const t=[{key:"edge",pattern:/Edge(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/MSIE(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/Trident(?:.*rv\:(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"chrome",pattern:/Chrome(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"firefox",pattern:/Firefox(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"safari",pattern:/(?:Version\W+(\d+)\.(\d+)(?:\.(\d+))?)?(?:\W+Mobile\S*)?\W+Safari/}];for(const{key:e,pattern:n}of t){const r=n.exec(navigator.userAgent);if(r){const i=r[1]||0,s=r[2]||0,a=r[3]||0;return{browser:e,version:`${i}.${s}.${a}`}}}return null}const rS=t=>t==="x32"?"x32":t==="x86_64"||t==="x64"?"x64":t==="arm"?"arm":t==="aarch64"||t==="arm64"?"arm64":t?`other:${t}`:"unknown",iS=t=>(t=t.toLowerCase(),t.includes("ios")?"iOS":t==="android"?"Android":t==="darwin"?"MacOS":t==="win32"?"Windows":t==="freebsd"?"FreeBSD":t==="openbsd"?"OpenBSD":t==="linux"?"Linux":t?`Other:${t}`:"Unknown");let sS;const d7=()=>sS??(sS=u7()),f7=t=>{try{return JSON.parse(t)}catch{return}},h7=new RegExp("^(?:[a-z]+:)?//","i"),p7=t=>h7.test(t),Ic=t=>new Promise(e=>setTimeout(e,t)),Dg=(t,e)=>{if(typeof e!="number"||!Number.isInteger(e))throw new me(`${t} must be an integer`);if(e<0)throw new me(`${t} must be a positive integer`);return e},Vv=t=>t instanceof Error?t:new Error(t),Pd=t=>{var e,n,r,i;if(typeof process<"u")return((e=xo==null?void 0:xo[t])==null?void 0:e.trim())??void 0;if(typeof Deno<"u")return(i=(r=(n=Deno.env)==null?void 0:n.get)==null?void 0:r.call(n,t))==null?void 0:i.trim()};function YI(t){if(!t)return!0;for(const e in t)return!1;return!0}function QI(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function aS(t,e){for(const n in e){if(!QI(e,n))continue;const r=n.toLowerCase();if(!r)continue;const i=e[n];i===null?delete t[r]:i!==void 0&&(t[r]=i)}}function ko(t,...e){typeof process<"u"&&(xo==null?void 0:xo.DEBUG)==="true"&&console.log(`OpenAI:DEBUG:${t}`,...e)}const m7=()=>"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,t=>{const e=Math.random()*16|0;return(t==="x"?e:e&3|8).toString(16)}),g7=()=>typeof window<"u"&&typeof window.document<"u"&&typeof navigator<"u";function oS(t){return t!=null&&typeof t=="object"&&!Array.isArray(t)}class Cw extends XI{constructor(e,n,r,i){super(e,n,r,i),this.data=r.data||[],this.object=r.object}getPaginatedItems(){return this.data??[]}nextPageParams(){return null}nextPageInfo(){return null}}class Or extends XI{constructor(e,n,r,i){super(e,n,r,i),this.data=r.data||[]}getPaginatedItems(){return this.data??[]}nextPageParams(){const e=this.nextPageInfo();if(!e)return null;if("params"in e)return e.params;const n=Object.fromEntries(e.url.searchParams);return Object.keys(n).length?n:null}nextPageInfo(){var r;const e=this.getPaginatedItems();if(!e.length)return null;const n=(r=e[e.length-1])==null?void 0:r.id;return n?{params:{after:n}}:null}}class Fe{constructor(e){this._client=e}}let gh=class extends Fe{create(e,n){return this._client.post("/chat/completions",{body:e,...n,stream:e.stream??!1})}};gh||(gh={});let yh=class extends Fe{constructor(){super(...arguments),this.completions=new gh(this._client)}};(function(t){t.Completions=gh})(yh||(yh={}));class vh extends Fe{create(e,n){return this._client.post("/audio/speech",{body:e,...n,__binaryResponse:!0})}}vh||(vh={});class bh extends Fe{create(e,n){return this._client.post("/audio/transcriptions",Ku({body:e,...n}))}}bh||(bh={});class wh extends Fe{create(e,n){return this._client.post("/audio/translations",Ku({body:e,...n}))}}wh||(wh={});class _h extends Fe{constructor(){super(...arguments),this.transcriptions=new bh(this._client),this.translations=new wh(this._client),this.speech=new vh(this._client)}}(function(t){t.Transcriptions=bh,t.Translations=wh,t.Speech=vh})(_h||(_h={}));class xh extends Fe{create(e,n){return this._client.post("/batches",{body:e,...n})}retrieve(e,n){return this._client.get(`/batches/${e}`,n)}list(e={},n){return jn(e)?this.list({},e):this._client.getAPIList("/batches",Tw,{query:e,...n})}cancel(e,n){return this._client.post(`/batches/${e}/cancel`,n)}}class Tw extends Or{}(function(t){t.BatchesPage=Tw})(xh||(xh={}));class kh extends Fe{create(e,n){return this._client.post("/assistants",{body:e,...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers}})}retrieve(e,n){return this._client.get(`/assistants/${e}`,{...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers}})}update(e,n,r){return this._client.post(`/assistants/${e}`,{body:n,...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}list(e={},n){return jn(e)?this.list({},e):this._client.getAPIList("/assistants",Pw,{query:e,...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers}})}del(e,n){return this._client.delete(`/assistants/${e}`,{...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers}})}}class Pw extends Or{}(function(t){t.AssistantsPage=Pw})(kh||(kh={}));function lS(t){return typeof t.parse=="function"}const So=t=>(t==null?void 0:t.role)==="assistant",eO=t=>(t==null?void 0:t.role)==="function",tO=t=>(t==null?void 0:t.role)==="tool";var ur=function(t,e,n,r,i){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!i:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?i.call(t,n):i?i.value=n:e.set(t,n),n},ce=function(t,e,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!r:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(t):r?r.value:e.get(t)},Lt,hf,pf,Rl,$l,mf,Nl,ci,jl,gf,yf,Na,Uv,Sh,Hv,Wv,qv,Zv,nO,Gv;const uS=10;class rO{constructor(){Lt.add(this),this.controller=new AbortController,hf.set(this,void 0),pf.set(this,()=>{}),Rl.set(this,()=>{}),$l.set(this,void 0),mf.set(this,()=>{}),Nl.set(this,()=>{}),ci.set(this,{}),this._chatCompletions=[],this.messages=[],jl.set(this,!1),gf.set(this,!1),yf.set(this,!1),Na.set(this,!1),Zv.set(this,e=>{if(ur(this,gf,!0,"f"),e instanceof Error&&e.name==="AbortError"&&(e=new hn),e instanceof hn)return ur(this,yf,!0,"f"),this._emit("abort",e);if(e instanceof me)return this._emit("error",e);if(e instanceof Error){const n=new me(e.message);return n.cause=e,this._emit("error",n)}return this._emit("error",new me(String(e)))}),ur(this,hf,new Promise((e,n)=>{ur(this,pf,e,"f"),ur(this,Rl,n,"f")}),"f"),ur(this,$l,new Promise((e,n)=>{ur(this,mf,e,"f"),ur(this,Nl,n,"f")}),"f"),ce(this,hf,"f").catch(()=>{}),ce(this,$l,"f").catch(()=>{})}_run(e){setTimeout(()=>{e().then(()=>{this._emitFinal(),this._emit("end")},ce(this,Zv,"f"))},0)}_addChatCompletion(e){var r;this._chatCompletions.push(e),this._emit("chatCompletion",e);const n=(r=e.choices[0])==null?void 0:r.message;return n&&this._addMessage(n),e}_addMessage(e,n=!0){if("content"in e||(e.content=null),this.messages.push(e),n){if(this._emit("message",e),(eO(e)||tO(e))&&e.content)this._emit("functionCallResult",e.content);else if(So(e)&&e.function_call)this._emit("functionCall",e.function_call);else if(So(e)&&e.tool_calls)for(const r of e.tool_calls)r.type==="function"&&this._emit("functionCall",r.function)}}_connected(){this.ended||(ce(this,pf,"f").call(this),this._emit("connect"))}get ended(){return ce(this,jl,"f")}get errored(){return ce(this,gf,"f")}get aborted(){return ce(this,yf,"f")}abort(){this.controller.abort()}on(e,n){return(ce(this,ci,"f")[e]||(ce(this,ci,"f")[e]=[])).push({listener:n}),this}off(e,n){const r=ce(this,ci,"f")[e];if(!r)return this;const i=r.findIndex(s=>s.listener===n);return i>=0&&r.splice(i,1),this}once(e,n){return(ce(this,ci,"f")[e]||(ce(this,ci,"f")[e]=[])).push({listener:n,once:!0}),this}emitted(e){return new Promise((n,r)=>{ur(this,Na,!0,"f"),e!=="error"&&this.once("error",r),this.once(e,n)})}async done(){ur(this,Na,!0,"f"),await ce(this,$l,"f")}async finalChatCompletion(){await this.done();const e=this._chatCompletions[this._chatCompletions.length-1];if(!e)throw new me("stream ended without producing a ChatCompletion");return e}async finalContent(){return await this.done(),ce(this,Lt,"m",Uv).call(this)}async finalMessage(){return await this.done(),ce(this,Lt,"m",Sh).call(this)}async finalFunctionCall(){return await this.done(),ce(this,Lt,"m",Hv).call(this)}async finalFunctionCallResult(){return await this.done(),ce(this,Lt,"m",Wv).call(this)}async totalUsage(){return await this.done(),ce(this,Lt,"m",qv).call(this)}allChatCompletions(){return[...this._chatCompletions]}_emit(e,...n){if(ce(this,jl,"f"))return;e==="end"&&(ur(this,jl,!0,"f"),ce(this,mf,"f").call(this));const r=ce(this,ci,"f")[e];if(r&&(ce(this,ci,"f")[e]=r.filter(i=>!i.once),r.forEach(({listener:i})=>i(...n))),e==="abort"){const i=n[0];!ce(this,Na,"f")&&!(r!=null&&r.length)&&Promise.reject(i),ce(this,Rl,"f").call(this,i),ce(this,Nl,"f").call(this,i),this._emit("end");return}if(e==="error"){const i=n[0];!ce(this,Na,"f")&&!(r!=null&&r.length)&&Promise.reject(i),ce(this,Rl,"f").call(this,i),ce(this,Nl,"f").call(this,i),this._emit("end")}}_emitFinal(){const e=this._chatCompletions[this._chatCompletions.length-1];e&&this._emit("finalChatCompletion",e);const n=ce(this,Lt,"m",Sh).call(this);n&&this._emit("finalMessage",n);const r=ce(this,Lt,"m",Uv).call(this);r&&this._emit("finalContent",r);const i=ce(this,Lt,"m",Hv).call(this);i&&this._emit("finalFunctionCall",i);const s=ce(this,Lt,"m",Wv).call(this);s!=null&&this._emit("finalFunctionCallResult",s),this._chatCompletions.some(a=>a.usage)&&this._emit("totalUsage",ce(this,Lt,"m",qv).call(this))}async _createChatCompletion(e,n,r){const i=r==null?void 0:r.signal;i&&(i.aborted&&this.controller.abort(),i.addEventListener("abort",()=>this.controller.abort())),ce(this,Lt,"m",nO).call(this,n);const s=await e.create({...n,stream:!1},{...r,signal:this.controller.signal});return this._connected(),this._addChatCompletion(s)}async _runChatCompletion(e,n,r){for(const i of n.messages)this._addMessage(i,!1);return await this._createChatCompletion(e,n,r)}async _runFunctions(e,n,r){var f;const i="function",{function_call:s="auto",stream:a,...o}=n,l=typeof s!="string"&&(s==null?void 0:s.name),{maxChatCompletions:u=uS}=r||{},c={};for(const h of n.functions)c[h.name||h.function.name]=h;const d=n.functions.map(h=>({name:h.name||h.function.name,parameters:h.parameters,description:h.description}));for(const h of n.messages)this._addMessage(h,!1);for(let h=0;h<u;++h){const y=(f=(await this._createChatCompletion(e,{...o,function_call:s,functions:d,messages:[...this.messages]},r)).choices[0])==null?void 0:f.message;if(!y)throw new me("missing message in ChatCompletion response");if(!y.function_call)return;const{name:b,arguments:m}=y.function_call,g=c[b];if(g){if(l&&l!==b){const k=`Invalid function_call: ${JSON.stringify(b)}. ${JSON.stringify(l)} requested. Please try again`;this._addMessage({role:i,name:b,content:k});continue}}else{const k=`Invalid function_call: ${JSON.stringify(b)}. Available options are: ${d.map(I=>JSON.stringify(I.name)).join(", ")}. Please try again`;this._addMessage({role:i,name:b,content:k});continue}let v;try{v=lS(g)?await g.parse(m):m}catch(k){this._addMessage({role:i,name:b,content:k instanceof Error?k.message:String(k)});continue}const x=await g.function(v,this),C=ce(this,Lt,"m",Gv).call(this,x);if(this._addMessage({role:i,name:b,content:C}),l)return}}async _runTools(e,n,r){var f,h;const i="tool",{tool_choice:s="auto",stream:a,...o}=n,l=typeof s!="string"&&((f=s==null?void 0:s.function)==null?void 0:f.name),{maxChatCompletions:u=uS}=r||{},c={};for(const p of n.tools)p.type==="function"&&(c[p.function.name||p.function.function.name]=p.function);const d="tools"in n?n.tools.map(p=>p.type==="function"?{type:"function",function:{name:p.function.name||p.function.function.name,parameters:p.function.parameters,description:p.function.description}}:p):void 0;for(const p of n.messages)this._addMessage(p,!1);for(let p=0;p<u;++p){const b=(h=(await this._createChatCompletion(e,{...o,tool_choice:s,tools:d,messages:[...this.messages]},r)).choices[0])==null?void 0:h.message;if(!b)throw new me("missing message in ChatCompletion response");if(!b.tool_calls)return;for(const m of b.tool_calls){if(m.type!=="function")continue;const g=m.id,{name:v,arguments:x}=m.function,C=c[v];if(C){if(l&&l!==v){const j=`Invalid tool_call: ${JSON.stringify(v)}. ${JSON.stringify(l)} requested. Please try again`;this._addMessage({role:i,tool_call_id:g,content:j});continue}}else{const j=`Invalid tool_call: ${JSON.stringify(v)}. Available options are: ${d.map(T=>JSON.stringify(T.function.name)).join(", ")}. Please try again`;this._addMessage({role:i,tool_call_id:g,content:j});continue}let k;try{k=lS(C)?await C.parse(x):x}catch(j){const T=j instanceof Error?j.message:String(j);this._addMessage({role:i,tool_call_id:g,content:T});continue}const I=await C.function(k,this),R=ce(this,Lt,"m",Gv).call(this,I);if(this._addMessage({role:i,tool_call_id:g,content:R}),l)return}}}}hf=new WeakMap,pf=new WeakMap,Rl=new WeakMap,$l=new WeakMap,mf=new WeakMap,Nl=new WeakMap,ci=new WeakMap,jl=new WeakMap,gf=new WeakMap,yf=new WeakMap,Na=new WeakMap,Zv=new WeakMap,Lt=new WeakSet,Uv=function(){return ce(this,Lt,"m",Sh).call(this).content??null},Sh=function(){let e=this.messages.length;for(;e-- >0;){const n=this.messages[e];if(So(n))return{...n,content:n.content??null}}throw new me("stream ended without producing a ChatCompletionMessage with role=assistant")},Hv=function(){var e,n;for(let r=this.messages.length-1;r>=0;r--){const i=this.messages[r];if(So(i)&&(i!=null&&i.function_call))return i.function_call;if(So(i)&&((e=i==null?void 0:i.tool_calls)!=null&&e.length))return(n=i.tool_calls.at(-1))==null?void 0:n.function}},Wv=function(){for(let e=this.messages.length-1;e>=0;e--){const n=this.messages[e];if(eO(n)&&n.content!=null||tO(n)&&n.content!=null&&this.messages.some(r=>{var i;return r.role==="assistant"&&((i=r.tool_calls)==null?void 0:i.some(s=>s.type==="function"&&s.id===n.tool_call_id))}))return n.content}},qv=function(){const e={completion_tokens:0,prompt_tokens:0,total_tokens:0};for(const{usage:n}of this._chatCompletions)n&&(e.completion_tokens+=n.completion_tokens,e.prompt_tokens+=n.prompt_tokens,e.total_tokens+=n.total_tokens);return e},nO=function(e){if(e.n!=null&&e.n>1)throw new me("ChatCompletion convenience helpers only support n=1 at this time. To use n>1, please use chat.completions.create() directly.")},Gv=function(e){return typeof e=="string"?e:e===void 0?"undefined":JSON.stringify(e)};class Ju extends rO{static runFunctions(e,n,r){const i=new Ju,s={...r,headers:{...r==null?void 0:r.headers,"X-Stainless-Helper-Method":"runFunctions"}};return i._run(()=>i._runFunctions(e,n,s)),i}static runTools(e,n,r){const i=new Ju,s={...r,headers:{...r==null?void 0:r.headers,"X-Stainless-Helper-Method":"runTools"}};return i._run(()=>i._runTools(e,n,s)),i}_addMessage(e){super._addMessage(e),So(e)&&e.content&&this._emit("content",e.content)}}var cr=function(t,e,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!r:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(t):r?r.value:e.get(t)},Fg=function(t,e,n,r,i){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!i:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?i.call(t,n):i?i.value=n:e.set(t,n),n},Mr,Fi,Bg,Vg,Ed,cS;class Xu extends rO{constructor(){super(...arguments),Mr.add(this),Fi.set(this,void 0)}get currentChatCompletionSnapshot(){return cr(this,Fi,"f")}static fromReadableStream(e){const n=new Xu;return n._run(()=>n._fromReadableStream(e)),n}static createChatCompletion(e,n,r){const i=new Xu;return i._run(()=>i._runChatCompletion(e,{...n,stream:!0},{...r,headers:{...r==null?void 0:r.headers,"X-Stainless-Helper-Method":"stream"}})),i}async _createChatCompletion(e,n,r){var a;const i=r==null?void 0:r.signal;i&&(i.aborted&&this.controller.abort(),i.addEventListener("abort",()=>this.controller.abort())),cr(this,Mr,"m",Bg).call(this);const s=await e.create({...n,stream:!0},{...r,signal:this.controller.signal});this._connected();for await(const o of s)cr(this,Mr,"m",Vg).call(this,o);if((a=s.controller.signal)!=null&&a.aborted)throw new hn;return this._addChatCompletion(cr(this,Mr,"m",Ed).call(this))}async _fromReadableStream(e,n){var a;const r=n==null?void 0:n.signal;r&&(r.aborted&&this.controller.abort(),r.addEventListener("abort",()=>this.controller.abort())),cr(this,Mr,"m",Bg).call(this),this._connected();const i=Zr.fromReadableStream(e,this.controller);let s;for await(const o of i)s&&s!==o.id&&this._addChatCompletion(cr(this,Mr,"m",Ed).call(this)),cr(this,Mr,"m",Vg).call(this,o),s=o.id;if((a=i.controller.signal)!=null&&a.aborted)throw new hn;return this._addChatCompletion(cr(this,Mr,"m",Ed).call(this))}[(Fi=new WeakMap,Mr=new WeakSet,Bg=function(){this.ended||Fg(this,Fi,void 0,"f")},Vg=function(n){var a,o,l;if(this.ended)return;const r=cr(this,Mr,"m",cS).call(this,n);this._emit("chunk",n,r);const i=(o=(a=n.choices[0])==null?void 0:a.delta)==null?void 0:o.content,s=(l=r.choices[0])==null?void 0:l.message;i!=null&&(s==null?void 0:s.role)==="assistant"&&(s!=null&&s.content)&&this._emit("content",i,s.content)},Ed=function(){if(this.ended)throw new me("stream has ended, this shouldn't happen");const n=cr(this,Fi,"f");if(!n)throw new me("request ended without sending any chunks");return Fg(this,Fi,void 0,"f"),y7(n)},cS=function(n){var r,i,s;let a=cr(this,Fi,"f");const{choices:o,...l}=n;a?Object.assign(a,l):a=Fg(this,Fi,{...l,choices:[]},"f");for(const{delta:u,finish_reason:c,index:d,logprobs:f=null,...h}of n.choices){let p=a.choices[d];if(p||(p=a.choices[d]={finish_reason:c,index:d,message:{},logprobs:f,...h}),f)if(!p.logprobs)p.logprobs=Object.assign({},f);else{const{content:x,...C}=f;Object.assign(p.logprobs,C),x&&((r=p.logprobs).content??(r.content=[]),p.logprobs.content.push(...x))}if(c&&(p.finish_reason=c),Object.assign(p,h),!u)continue;const{content:y,function_call:b,role:m,tool_calls:g,...v}=u;if(Object.assign(p.message,v),y&&(p.message.content=(p.message.content||"")+y),m&&(p.message.role=m),b&&(p.message.function_call?(b.name&&(p.message.function_call.name=b.name),b.arguments&&((i=p.message.function_call).arguments??(i.arguments=""),p.message.function_call.arguments+=b.arguments)):p.message.function_call=b),g){p.message.tool_calls||(p.message.tool_calls=[]);for(const{index:x,id:C,type:k,function:I,...R}of g){const j=(s=p.message.tool_calls)[x]??(s[x]={});Object.assign(j,R),C&&(j.id=C),k&&(j.type=k),I&&(j.function??(j.function={arguments:""})),I!=null&&I.name&&(j.function.name=I.name),I!=null&&I.arguments&&(j.function.arguments+=I.arguments)}}}return a},Symbol.asyncIterator)](){const e=[],n=[];let r=!1;return this.on("chunk",i=>{const s=n.shift();s?s.resolve(i):e.push(i)}),this.on("end",()=>{r=!0;for(const i of n)i.resolve(void 0);n.length=0}),this.on("abort",i=>{r=!0;for(const s of n)s.reject(i);n.length=0}),this.on("error",i=>{r=!0;for(const s of n)s.reject(i);n.length=0}),{next:async()=>e.length?{value:e.shift(),done:!1}:r?{value:void 0,done:!0}:new Promise((s,a)=>n.push({resolve:s,reject:a})).then(s=>s?{value:s,done:!1}:{value:void 0,done:!0}),return:async()=>(this.abort(),{value:void 0,done:!0})}}toReadableStream(){return new Zr(this[Symbol.asyncIterator].bind(this),this.controller).toReadableStream()}}function y7(t){const{id:e,choices:n,created:r,model:i,system_fingerprint:s,...a}=t;return{...a,id:e,choices:n.map(({message:o,finish_reason:l,index:u,logprobs:c,...d})=>{if(!l)throw new me(`missing finish_reason for choice ${u}`);const{content:f=null,function_call:h,tool_calls:p,...y}=o,b=o.role;if(!b)throw new me(`missing role for choice ${u}`);if(h){const{arguments:m,name:g}=h;if(m==null)throw new me(`missing function_call.arguments for choice ${u}`);if(!g)throw new me(`missing function_call.name for choice ${u}`);return{...d,message:{content:f,function_call:{arguments:m,name:g},role:b},finish_reason:l,index:u,logprobs:c}}return p?{...d,index:u,finish_reason:l,logprobs:c,message:{...y,role:b,content:f,tool_calls:p.map((m,g)=>{const{function:v,type:x,id:C,...k}=m,{arguments:I,name:R,...j}=v||{};if(C==null)throw new me(`missing choices[${u}].tool_calls[${g}].id
${Ad(t)}`);if(x==null)throw new me(`missing choices[${u}].tool_calls[${g}].type
${Ad(t)}`);if(R==null)throw new me(`missing choices[${u}].tool_calls[${g}].function.name
${Ad(t)}`);if(I==null)throw new me(`missing choices[${u}].tool_calls[${g}].function.arguments
${Ad(t)}`);return{...k,id:C,type:x,function:{...j,name:R,arguments:I}}})}}:{...d,message:{...y,content:f,role:b},finish_reason:l,index:u,logprobs:c}}),created:r,model:i,object:"chat.completion",...s?{system_fingerprint:s}:{}}}function Ad(t){return JSON.stringify(t)}class Co extends Xu{static fromReadableStream(e){const n=new Co;return n._run(()=>n._fromReadableStream(e)),n}static runFunctions(e,n,r){const i=new Co,s={...r,headers:{...r==null?void 0:r.headers,"X-Stainless-Helper-Method":"runFunctions"}};return i._run(()=>i._runFunctions(e,n,s)),i}static runTools(e,n,r){const i=new Co,s={...r,headers:{...r==null?void 0:r.headers,"X-Stainless-Helper-Method":"runTools"}};return i._run(()=>i._runTools(e,n,s)),i}}let iO=class extends Fe{runFunctions(e,n){return e.stream?Co.runFunctions(this._client.chat.completions,e,n):Ju.runFunctions(this._client.chat.completions,e,n)}runTools(e,n){return e.stream?Co.runTools(this._client.chat.completions,e,n):Ju.runTools(this._client.chat.completions,e,n)}stream(e,n){return Xu.createChatCompletion(this._client.chat.completions,e,n)}};class Ch extends Fe{constructor(){super(...arguments),this.completions=new iO(this._client)}}(function(t){t.Completions=iO})(Ch||(Ch={}));var dr=function(t,e,n,r,i){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!i:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?i.call(t,n):i?i.value=n:e.set(t,n),n},Je=function(t,e,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!r:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(t):r?r.value:e.get(t)},vf,bf,Ml,Ll,wf,zl,di,Dl,_f,xf,ja,Kv;class v7{constructor(){this.controller=new AbortController,vf.set(this,void 0),bf.set(this,()=>{}),Ml.set(this,()=>{}),Ll.set(this,void 0),wf.set(this,()=>{}),zl.set(this,()=>{}),di.set(this,{}),Dl.set(this,!1),_f.set(this,!1),xf.set(this,!1),ja.set(this,!1),Kv.set(this,e=>{if(dr(this,_f,!0,"f"),e instanceof Error&&e.name==="AbortError"&&(e=new hn),e instanceof hn)return dr(this,xf,!0,"f"),this._emit("abort",e);if(e instanceof me)return this._emit("error",e);if(e instanceof Error){const n=new me(e.message);return n.cause=e,this._emit("error",n)}return this._emit("error",new me(String(e)))}),dr(this,vf,new Promise((e,n)=>{dr(this,bf,e,"f"),dr(this,Ml,n,"f")}),"f"),dr(this,Ll,new Promise((e,n)=>{dr(this,wf,e,"f"),dr(this,zl,n,"f")}),"f"),Je(this,vf,"f").catch(()=>{}),Je(this,Ll,"f").catch(()=>{})}_run(e){setTimeout(()=>{e().then(()=>{this._emit("end")},Je(this,Kv,"f"))},0)}_addRun(e){return e}_connected(){this.ended||(Je(this,bf,"f").call(this),this._emit("connect"))}get ended(){return Je(this,Dl,"f")}get errored(){return Je(this,_f,"f")}get aborted(){return Je(this,xf,"f")}abort(){this.controller.abort()}on(e,n){return(Je(this,di,"f")[e]||(Je(this,di,"f")[e]=[])).push({listener:n}),this}off(e,n){const r=Je(this,di,"f")[e];if(!r)return this;const i=r.findIndex(s=>s.listener===n);return i>=0&&r.splice(i,1),this}once(e,n){return(Je(this,di,"f")[e]||(Je(this,di,"f")[e]=[])).push({listener:n,once:!0}),this}emitted(e){return new Promise((n,r)=>{dr(this,ja,!0,"f"),e!=="error"&&this.once("error",r),this.once(e,n)})}async done(){dr(this,ja,!0,"f"),await Je(this,Ll,"f")}_emit(e,...n){if(Je(this,Dl,"f"))return;e==="end"&&(dr(this,Dl,!0,"f"),Je(this,wf,"f").call(this));const r=Je(this,di,"f")[e];if(r&&(Je(this,di,"f")[e]=r.filter(i=>!i.once),r.forEach(({listener:i})=>i(...n))),e==="abort"){const i=n[0];!Je(this,ja,"f")&&!(r!=null&&r.length)&&Promise.reject(i),Je(this,Ml,"f").call(this,i),Je(this,zl,"f").call(this,i),this._emit("end");return}if(e==="error"){const i=n[0];!Je(this,ja,"f")&&!(r!=null&&r.length)&&Promise.reject(i),Je(this,Ml,"f").call(this,i),Je(this,zl,"f").call(this,i),this._emit("end")}}async _threadAssistantStream(e,n,r){return await this._createThreadAssistantStream(n,e,r)}async _runAssistantStream(e,n,r,i){return await this._createAssistantStream(n,e,r,i)}async _runToolAssistantStream(e,n,r,i,s){return await this._createToolAssistantStream(r,e,n,i,s)}async _createThreadAssistantStream(e,n,r){const i=r==null?void 0:r.signal;i&&(i.aborted&&this.controller.abort(),i.addEventListener("abort",()=>this.controller.abort()));const s=await e.createAndRun({...n,stream:!1},{...r,signal:this.controller.signal});return this._connected(),this._addRun(s)}async _createToolAssistantStream(e,n,r,i,s){const a=s==null?void 0:s.signal;a&&(a.aborted&&this.controller.abort(),a.addEventListener("abort",()=>this.controller.abort()));const o=await e.submitToolOutputs(n,r,{...i,stream:!1},{...s,signal:this.controller.signal});return this._connected(),this._addRun(o)}async _createAssistantStream(e,n,r,i){const s=i==null?void 0:i.signal;s&&(s.aborted&&this.controller.abort(),s.addEventListener("abort",()=>this.controller.abort()));const a=await e.create(n,{...r,stream:!1},{...i,signal:this.controller.signal});return this._connected(),this._addRun(a)}}vf=new WeakMap,bf=new WeakMap,Ml=new WeakMap,Ll=new WeakMap,wf=new WeakMap,zl=new WeakMap,di=new WeakMap,Dl=new WeakMap,_f=new WeakMap,xf=new WeakMap,ja=new WeakMap,Kv=new WeakMap;var K=function(t,e,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!r:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(t):r?r.value:e.get(t)},kn=function(t,e,n,r,i){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!i:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?i.call(t,n):i?i.value=n:e.set(t,n),n},At,Jv,Br,kf,yr,Js,oo,Fs,Th,Cn,Sf,Cf,pu,Fl,Bl,dS,fS,hS,pS,mS,gS,yS;class _r extends v7{constructor(){super(...arguments),At.add(this),Jv.set(this,[]),Br.set(this,{}),kf.set(this,{}),yr.set(this,void 0),Js.set(this,void 0),oo.set(this,void 0),Fs.set(this,void 0),Th.set(this,void 0),Cn.set(this,void 0),Sf.set(this,void 0),Cf.set(this,void 0),pu.set(this,void 0)}[(Jv=new WeakMap,Br=new WeakMap,kf=new WeakMap,yr=new WeakMap,Js=new WeakMap,oo=new WeakMap,Fs=new WeakMap,Th=new WeakMap,Cn=new WeakMap,Sf=new WeakMap,Cf=new WeakMap,pu=new WeakMap,At=new WeakSet,Symbol.asyncIterator)](){const e=[],n=[];let r=!1;return this.on("event",i=>{const s=n.shift();s?s.resolve(i):e.push(i)}),this.on("end",()=>{r=!0;for(const i of n)i.resolve(void 0);n.length=0}),this.on("abort",i=>{r=!0;for(const s of n)s.reject(i);n.length=0}),this.on("error",i=>{r=!0;for(const s of n)s.reject(i);n.length=0}),{next:async()=>e.length?{value:e.shift(),done:!1}:r?{value:void 0,done:!0}:new Promise((s,a)=>n.push({resolve:s,reject:a})).then(s=>s?{value:s,done:!1}:{value:void 0,done:!0}),return:async()=>(this.abort(),{value:void 0,done:!0})}}static fromReadableStream(e){const n=new _r;return n._run(()=>n._fromReadableStream(e)),n}async _fromReadableStream(e,n){var s;const r=n==null?void 0:n.signal;r&&(r.aborted&&this.controller.abort(),r.addEventListener("abort",()=>this.controller.abort())),this._connected();const i=Zr.fromReadableStream(e,this.controller);for await(const a of i)K(this,At,"m",Fl).call(this,a);if((s=i.controller.signal)!=null&&s.aborted)throw new hn;return this._addRun(K(this,At,"m",Bl).call(this))}toReadableStream(){return new Zr(this[Symbol.asyncIterator].bind(this),this.controller).toReadableStream()}static createToolAssistantStream(e,n,r,i,s){const a=new _r;return a._run(()=>a._runToolAssistantStream(e,n,r,i,{...s,headers:{...s==null?void 0:s.headers,"X-Stainless-Helper-Method":"stream"}})),a}async _createToolAssistantStream(e,n,r,i,s){var u;const a=s==null?void 0:s.signal;a&&(a.aborted&&this.controller.abort(),a.addEventListener("abort",()=>this.controller.abort()));const o={...i,stream:!0},l=await e.submitToolOutputs(n,r,o,{...s,signal:this.controller.signal});this._connected();for await(const c of l)K(this,At,"m",Fl).call(this,c);if((u=l.controller.signal)!=null&&u.aborted)throw new hn;return this._addRun(K(this,At,"m",Bl).call(this))}static createThreadAssistantStream(e,n,r){const i=new _r;return i._run(()=>i._threadAssistantStream(e,n,{...r,headers:{...r==null?void 0:r.headers,"X-Stainless-Helper-Method":"stream"}})),i}static createAssistantStream(e,n,r,i){const s=new _r;return s._run(()=>s._runAssistantStream(e,n,r,{...i,headers:{...i==null?void 0:i.headers,"X-Stainless-Helper-Method":"stream"}})),s}currentEvent(){return K(this,Sf,"f")}currentRun(){return K(this,Cf,"f")}currentMessageSnapshot(){return K(this,yr,"f")}currentRunStepSnapshot(){return K(this,pu,"f")}async finalRunSteps(){return await this.done(),Object.values(K(this,Br,"f"))}async finalMessages(){return await this.done(),Object.values(K(this,kf,"f"))}async finalRun(){if(await this.done(),!K(this,Js,"f"))throw Error("Final run was not received.");return K(this,Js,"f")}async _createThreadAssistantStream(e,n,r){var o;const i=r==null?void 0:r.signal;i&&(i.aborted&&this.controller.abort(),i.addEventListener("abort",()=>this.controller.abort()));const s={...n,stream:!0},a=await e.createAndRun(s,{...r,signal:this.controller.signal});this._connected();for await(const l of a)K(this,At,"m",Fl).call(this,l);if((o=a.controller.signal)!=null&&o.aborted)throw new hn;return this._addRun(K(this,At,"m",Bl).call(this))}async _createAssistantStream(e,n,r,i){var l;const s=i==null?void 0:i.signal;s&&(s.aborted&&this.controller.abort(),s.addEventListener("abort",()=>this.controller.abort()));const a={...r,stream:!0},o=await e.create(n,a,{...i,signal:this.controller.signal});this._connected();for await(const u of o)K(this,At,"m",Fl).call(this,u);if((l=o.controller.signal)!=null&&l.aborted)throw new hn;return this._addRun(K(this,At,"m",Bl).call(this))}static accumulateDelta(e,n){for(const[r,i]of Object.entries(n)){if(!e.hasOwnProperty(r)){e[r]=i;continue}let s=e[r];if(s==null){e[r]=i;continue}if(r==="index"||r==="type"){e[r]=i;continue}if(typeof s=="string"&&typeof i=="string")s+=i;else if(typeof s=="number"&&typeof i=="number")s+=i;else if(oS(s)&&oS(i))s=this.accumulateDelta(s,i);else if(Array.isArray(s)&&Array.isArray(i)){if(s.every(a=>typeof a=="string"||typeof a=="number")){s.push(...i);continue}}else throw Error(`Unhandled record type: ${r}, deltaValue: ${i}, accValue: ${s}`);e[r]=s}return e}}Fl=function(e){if(!this.ended)switch(kn(this,Sf,e,"f"),K(this,At,"m",hS).call(this,e),e.event){case"thread.created":break;case"thread.run.created":case"thread.run.queued":case"thread.run.in_progress":case"thread.run.requires_action":case"thread.run.completed":case"thread.run.failed":case"thread.run.cancelling":case"thread.run.cancelled":case"thread.run.expired":K(this,At,"m",yS).call(this,e);break;case"thread.run.step.created":case"thread.run.step.in_progress":case"thread.run.step.delta":case"thread.run.step.completed":case"thread.run.step.failed":case"thread.run.step.cancelled":case"thread.run.step.expired":K(this,At,"m",fS).call(this,e);break;case"thread.message.created":case"thread.message.in_progress":case"thread.message.delta":case"thread.message.completed":case"thread.message.incomplete":K(this,At,"m",dS).call(this,e);break;case"error":throw new Error("Encountered an error event in event processing - errors should be processed earlier")}},Bl=function(){if(this.ended)throw new me("stream has ended, this shouldn't happen");if(!K(this,Js,"f"))throw Error("Final run has not been received");return K(this,Js,"f")},dS=function(e){const[n,r]=K(this,At,"m",mS).call(this,e,K(this,yr,"f"));kn(this,yr,n,"f"),K(this,kf,"f")[n.id]=n;for(const i of r){const s=n.content[i.index];(s==null?void 0:s.type)=="text"&&this._emit("textCreated",s.text)}switch(e.event){case"thread.message.created":this._emit("messageCreated",e.data);break;case"thread.message.in_progress":break;case"thread.message.delta":if(this._emit("messageDelta",e.data.delta,n),e.data.delta.content)for(const i of e.data.delta.content){if(i.type=="text"&&i.text){let s=i.text,a=n.content[i.index];if(a&&a.type=="text")this._emit("textDelta",s,a.text);else throw Error("The snapshot associated with this text delta is not text or missing")}if(i.index!=K(this,oo,"f")){if(K(this,Fs,"f"))switch(K(this,Fs,"f").type){case"text":this._emit("textDone",K(this,Fs,"f").text,K(this,yr,"f"));break;case"image_file":this._emit("imageFileDone",K(this,Fs,"f").image_file,K(this,yr,"f"));break}kn(this,oo,i.index,"f")}kn(this,Fs,n.content[i.index],"f")}break;case"thread.message.completed":case"thread.message.incomplete":if(K(this,oo,"f")!==void 0){const i=e.data.content[K(this,oo,"f")];if(i)switch(i.type){case"image_file":this._emit("imageFileDone",i.image_file,K(this,yr,"f"));break;case"text":this._emit("textDone",i.text,K(this,yr,"f"));break}}K(this,yr,"f")&&this._emit("messageDone",e.data),kn(this,yr,void 0,"f")}},fS=function(e){const n=K(this,At,"m",pS).call(this,e);switch(kn(this,pu,n,"f"),e.event){case"thread.run.step.created":this._emit("runStepCreated",e.data);break;case"thread.run.step.delta":const r=e.data.delta;if(r.step_details&&r.step_details.type=="tool_calls"&&r.step_details.tool_calls&&n.step_details.type=="tool_calls")for(const s of r.step_details.tool_calls)s.index==K(this,Th,"f")?this._emit("toolCallDelta",s,n.step_details.tool_calls[s.index]):(K(this,Cn,"f")&&this._emit("toolCallDone",K(this,Cn,"f")),kn(this,Th,s.index,"f"),kn(this,Cn,n.step_details.tool_calls[s.index],"f"),K(this,Cn,"f")&&this._emit("toolCallCreated",K(this,Cn,"f")));this._emit("runStepDelta",e.data.delta,n);break;case"thread.run.step.completed":case"thread.run.step.failed":case"thread.run.step.cancelled":case"thread.run.step.expired":kn(this,pu,void 0,"f"),e.data.step_details.type=="tool_calls"&&K(this,Cn,"f")&&(this._emit("toolCallDone",K(this,Cn,"f")),kn(this,Cn,void 0,"f")),this._emit("runStepDone",e.data,n);break}},hS=function(e){K(this,Jv,"f").push(e),this._emit("event",e)},pS=function(e){switch(e.event){case"thread.run.step.created":return K(this,Br,"f")[e.data.id]=e.data,e.data;case"thread.run.step.delta":let n=K(this,Br,"f")[e.data.id];if(!n)throw Error("Received a RunStepDelta before creation of a snapshot");let r=e.data;if(r.delta){const i=_r.accumulateDelta(n,r.delta);K(this,Br,"f")[e.data.id]=i}return K(this,Br,"f")[e.data.id];case"thread.run.step.completed":case"thread.run.step.failed":case"thread.run.step.cancelled":case"thread.run.step.expired":case"thread.run.step.in_progress":K(this,Br,"f")[e.data.id]=e.data;break}if(K(this,Br,"f")[e.data.id])return K(this,Br,"f")[e.data.id];throw new Error("No snapshot available")},mS=function(e,n){let r=[];switch(e.event){case"thread.message.created":return[e.data,r];case"thread.message.delta":if(!n)throw Error("Received a delta with no existing snapshot (there should be one from message creation)");let i=e.data;if(i.delta.content)for(const s of i.delta.content)if(s.index in n.content){let a=n.content[s.index];n.content[s.index]=K(this,At,"m",gS).call(this,s,a)}else n.content[s.index]=s,r.push(s);return[n,r];case"thread.message.in_progress":case"thread.message.completed":case"thread.message.incomplete":if(n)return[n,r];throw Error("Received thread message event with no existing snapshot")}throw Error("Tried to accumulate a non-message event")},gS=function(e,n){return _r.accumulateDelta(n,e)},yS=function(e){switch(kn(this,Cf,e.data,"f"),e.event){case"thread.run.created":break;case"thread.run.queued":break;case"thread.run.in_progress":break;case"thread.run.requires_action":case"thread.run.cancelled":case"thread.run.failed":case"thread.run.completed":case"thread.run.expired":kn(this,Js,e.data,"f"),K(this,Cn,"f")&&(this._emit("toolCallDone",K(this,Cn,"f")),kn(this,Cn,void 0,"f"));break}};class Ph extends Fe{create(e,n,r){return this._client.post(`/threads/${e}/messages`,{body:n,...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}retrieve(e,n,r){return this._client.get(`/threads/${e}/messages/${n}`,{...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}update(e,n,r,i){return this._client.post(`/threads/${e}/messages/${n}`,{body:r,...i,headers:{"OpenAI-Beta":"assistants=v2",...i==null?void 0:i.headers}})}list(e,n={},r){return jn(n)?this.list(e,{},n):this._client.getAPIList(`/threads/${e}/messages`,Ew,{query:n,...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}del(e,n,r){return this._client.delete(`/threads/${e}/messages/${n}`,{...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}}class Ew extends Or{}(function(t){t.MessagesPage=Ew})(Ph||(Ph={}));class Eh extends Fe{retrieve(e,n,r,i){return this._client.get(`/threads/${e}/runs/${n}/steps/${r}`,{...i,headers:{"OpenAI-Beta":"assistants=v2",...i==null?void 0:i.headers}})}list(e,n,r={},i){return jn(r)?this.list(e,n,{},r):this._client.getAPIList(`/threads/${e}/runs/${n}/steps`,Aw,{query:r,...i,headers:{"OpenAI-Beta":"assistants=v2",...i==null?void 0:i.headers}})}}class Aw extends Or{}(function(t){t.RunStepsPage=Aw})(Eh||(Eh={}));class Ah extends Fe{constructor(){super(...arguments),this.steps=new Eh(this._client)}create(e,n,r){return this._client.post(`/threads/${e}/runs`,{body:n,...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers},stream:n.stream??!1})}retrieve(e,n,r){return this._client.get(`/threads/${e}/runs/${n}`,{...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}update(e,n,r,i){return this._client.post(`/threads/${e}/runs/${n}`,{body:r,...i,headers:{"OpenAI-Beta":"assistants=v2",...i==null?void 0:i.headers}})}list(e,n={},r){return jn(n)?this.list(e,{},n):this._client.getAPIList(`/threads/${e}/runs`,Iw,{query:n,...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}cancel(e,n,r){return this._client.post(`/threads/${e}/runs/${n}/cancel`,{...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}async createAndPoll(e,n,r){const i=await this.create(e,n,r);return await this.poll(e,i.id,r)}createAndStream(e,n,r){return _r.createAssistantStream(e,this._client.beta.threads.runs,n,r)}async poll(e,n,r){const i={...r==null?void 0:r.headers,"X-Stainless-Poll-Helper":"true"};for(r!=null&&r.pollIntervalMs&&(i["X-Stainless-Custom-Poll-Interval"]=r.pollIntervalMs.toString());;){const{data:s,response:a}=await this.retrieve(e,n,{...r,headers:{...r==null?void 0:r.headers,...i}}).withResponse();switch(s.status){case"queued":case"in_progress":case"cancelling":let o=5e3;if(r!=null&&r.pollIntervalMs)o=r.pollIntervalMs;else{const l=a.headers.get("openai-poll-after-ms");if(l){const u=parseInt(l);isNaN(u)||(o=u)}}await Ic(o);break;case"requires_action":case"cancelled":case"completed":case"failed":case"expired":return s}}}stream(e,n,r){return _r.createAssistantStream(e,this._client.beta.threads.runs,n,r)}submitToolOutputs(e,n,r,i){return this._client.post(`/threads/${e}/runs/${n}/submit_tool_outputs`,{body:r,...i,headers:{"OpenAI-Beta":"assistants=v2",...i==null?void 0:i.headers},stream:r.stream??!1})}async submitToolOutputsAndPoll(e,n,r,i){const s=await this.submitToolOutputs(e,n,r,i);return await this.poll(e,s.id,i)}submitToolOutputsStream(e,n,r,i){return _r.createToolAssistantStream(e,n,this._client.beta.threads.runs,r,i)}}class Iw extends Or{}(function(t){t.RunsPage=Iw,t.Steps=Eh,t.RunStepsPage=Aw})(Ah||(Ah={}));class Ih extends Fe{constructor(){super(...arguments),this.runs=new Ah(this._client),this.messages=new Ph(this._client)}create(e={},n){return jn(e)?this.create({},e):this._client.post("/threads",{body:e,...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers}})}retrieve(e,n){return this._client.get(`/threads/${e}`,{...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers}})}update(e,n,r){return this._client.post(`/threads/${e}`,{body:n,...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}del(e,n){return this._client.delete(`/threads/${e}`,{...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers}})}createAndRun(e,n){return this._client.post("/threads/runs",{body:e,...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers},stream:e.stream??!1})}async createAndRunPoll(e,n){const r=await this.createAndRun(e,n);return await this.runs.poll(r.thread_id,r.id,n)}createAndRunStream(e,n){return _r.createThreadAssistantStream(e,this._client.beta.threads,n)}}(function(t){t.Runs=Ah,t.RunsPage=Iw,t.Messages=Ph,t.MessagesPage=Ew})(Ih||(Ih={}));const b7=async t=>{const e=await Promise.allSettled(t),n=e.filter(i=>i.status==="rejected");if(n.length){for(const i of n)console.error(i.reason);throw new Error(`${n.length} promise(s) failed - see the above errors`)}const r=[];for(const i of e)i.status==="fulfilled"&&r.push(i.value);return r};let Oh=class extends Fe{create(e,n,r){return this._client.post(`/vector_stores/${e}/files`,{body:n,...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}retrieve(e,n,r){return this._client.get(`/vector_stores/${e}/files/${n}`,{...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}list(e,n={},r){return jn(n)?this.list(e,{},n):this._client.getAPIList(`/vector_stores/${e}/files`,nm,{query:n,...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}del(e,n,r){return this._client.delete(`/vector_stores/${e}/files/${n}`,{...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}async createAndPoll(e,n,r){const i=await this.create(e,n,r);return await this.poll(e,i.id,r)}async poll(e,n,r){const i={...r==null?void 0:r.headers,"X-Stainless-Poll-Helper":"true"};for(r!=null&&r.pollIntervalMs&&(i["X-Stainless-Custom-Poll-Interval"]=r.pollIntervalMs.toString());;){const s=await this.retrieve(e,n,{...r,headers:i}).withResponse(),a=s.data;switch(a.status){case"in_progress":let o=5e3;if(r!=null&&r.pollIntervalMs)o=r.pollIntervalMs;else{const l=s.response.headers.get("openai-poll-after-ms");if(l){const u=parseInt(l);isNaN(u)||(o=u)}}await Ic(o);break;case"failed":case"completed":return a}}}async upload(e,n,r){const i=await this._client.files.create({file:n,purpose:"assistants"},r);return this.create(e,{file_id:i.id},r)}async uploadAndPoll(e,n,r){const i=await this.upload(e,n,r);return await this.poll(e,i.id,r)}};class nm extends Or{}(function(t){t.VectorStoreFilesPage=nm})(Oh||(Oh={}));class Rh extends Fe{create(e,n,r){return this._client.post(`/vector_stores/${e}/file_batches`,{body:n,...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}retrieve(e,n,r){return this._client.get(`/vector_stores/${e}/file_batches/${n}`,{...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}cancel(e,n,r){return this._client.post(`/vector_stores/${e}/file_batches/${n}/cancel`,{...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}async createAndPoll(e,n,r){const i=await this.create(e,n);return await this.poll(e,i.id,r)}listFiles(e,n,r={},i){return jn(r)?this.listFiles(e,n,{},r):this._client.getAPIList(`/vector_stores/${e}/file_batches/${n}/files`,nm,{query:r,...i,headers:{"OpenAI-Beta":"assistants=v2",...i==null?void 0:i.headers}})}async poll(e,n,r){const i={...r==null?void 0:r.headers,"X-Stainless-Poll-Helper":"true"};for(r!=null&&r.pollIntervalMs&&(i["X-Stainless-Custom-Poll-Interval"]=r.pollIntervalMs.toString());;){const{data:s,response:a}=await this.retrieve(e,n,{...r,headers:i}).withResponse();switch(s.status){case"in_progress":let o=5e3;if(r!=null&&r.pollIntervalMs)o=r.pollIntervalMs;else{const l=a.headers.get("openai-poll-after-ms");if(l){const u=parseInt(l);isNaN(u)||(o=u)}}await Ic(o);break;case"failed":case"completed":return s}}}async uploadAndPoll(e,{files:n,fileIds:r=[]},i){if(n===null||n.length==0)throw new Error("No files provided to process.");const s=(i==null?void 0:i.maxConcurrency)??5,a=Math.min(s,n.length),o=this._client,l=n.values(),u=[...r];async function c(f){for(let h of f){const p=await o.files.create({file:h,purpose:"assistants"},i);u.push(p.id)}}const d=Array(a).fill(l).map(c);return await b7(d),await this.createAndPoll(e,{file_ids:u})}}Rh||(Rh={});class $h extends Fe{constructor(){super(...arguments),this.files=new Oh(this._client),this.fileBatches=new Rh(this._client)}create(e,n){return this._client.post("/vector_stores",{body:e,...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers}})}retrieve(e,n){return this._client.get(`/vector_stores/${e}`,{...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers}})}update(e,n,r){return this._client.post(`/vector_stores/${e}`,{body:n,...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}list(e={},n){return jn(e)?this.list({},e):this._client.getAPIList("/vector_stores",Ow,{query:e,...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers}})}del(e,n){return this._client.delete(`/vector_stores/${e}`,{...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers}})}}class Ow extends Or{}(function(t){t.VectorStoresPage=Ow,t.Files=Oh,t.VectorStoreFilesPage=nm,t.FileBatches=Rh})($h||($h={}));class Nh extends Fe{constructor(){super(...arguments),this.vectorStores=new $h(this._client),this.chat=new Ch(this._client),this.assistants=new kh(this._client),this.threads=new Ih(this._client)}}(function(t){t.VectorStores=$h,t.VectorStoresPage=Ow,t.Chat=Ch,t.Assistants=kh,t.AssistantsPage=Pw,t.Threads=Ih})(Nh||(Nh={}));class jh extends Fe{create(e,n){return this._client.post("/completions",{body:e,...n,stream:e.stream??!1})}}jh||(jh={});class Mh extends Fe{create(e,n){return this._client.post("/embeddings",{body:e,...n})}}Mh||(Mh={});class Lh extends Fe{create(e,n){return this._client.post("/files",Ku({body:e,...n}))}retrieve(e,n){return this._client.get(`/files/${e}`,n)}list(e={},n){return jn(e)?this.list({},e):this._client.getAPIList("/files",Rw,{query:e,...n})}del(e,n){return this._client.delete(`/files/${e}`,n)}content(e,n){return this._client.get(`/files/${e}/content`,{...n,__binaryResponse:!0})}retrieveContent(e,n){return this._client.get(`/files/${e}/content`,{...n,headers:{Accept:"application/json",...n==null?void 0:n.headers}})}async waitForProcessing(e,{pollInterval:n=5e3,maxWait:r=30*60*1e3}={}){const i=new Set(["processed","error","deleted"]),s=Date.now();let a=await this.retrieve(e);for(;!a.status||!i.has(a.status);)if(await Ic(n),a=await this.retrieve(e),Date.now()-s>r)throw new em({message:`Giving up on waiting for file ${e} to finish processing after ${r} milliseconds.`});return a}}class Rw extends Cw{}(function(t){t.FileObjectsPage=Rw})(Lh||(Lh={}));class zh extends Fe{list(e,n={},r){return jn(n)?this.list(e,{},n):this._client.getAPIList(`/fine_tuning/jobs/${e}/checkpoints`,$w,{query:n,...r})}}class $w extends Or{}(function(t){t.FineTuningJobCheckpointsPage=$w})(zh||(zh={}));class Dh extends Fe{constructor(){super(...arguments),this.checkpoints=new zh(this._client)}create(e,n){return this._client.post("/fine_tuning/jobs",{body:e,...n})}retrieve(e,n){return this._client.get(`/fine_tuning/jobs/${e}`,n)}list(e={},n){return jn(e)?this.list({},e):this._client.getAPIList("/fine_tuning/jobs",Nw,{query:e,...n})}cancel(e,n){return this._client.post(`/fine_tuning/jobs/${e}/cancel`,n)}listEvents(e,n={},r){return jn(n)?this.listEvents(e,{},n):this._client.getAPIList(`/fine_tuning/jobs/${e}/events`,jw,{query:n,...r})}}class Nw extends Or{}class jw extends Or{}(function(t){t.FineTuningJobsPage=Nw,t.FineTuningJobEventsPage=jw,t.Checkpoints=zh,t.FineTuningJobCheckpointsPage=$w})(Dh||(Dh={}));class Fh extends Fe{constructor(){super(...arguments),this.jobs=new Dh(this._client)}}(function(t){t.Jobs=Dh,t.FineTuningJobsPage=Nw,t.FineTuningJobEventsPage=jw})(Fh||(Fh={}));class Bh extends Fe{createVariation(e,n){return this._client.post("/images/variations",Ku({body:e,...n}))}edit(e,n){return this._client.post("/images/edits",Ku({body:e,...n}))}generate(e,n){return this._client.post("/images/generations",{body:e,...n})}}Bh||(Bh={});class Vh extends Fe{retrieve(e,n){return this._client.get(`/models/${e}`,n)}list(e){return this._client.getAPIList("/models",Mw,e)}del(e,n){return this._client.delete(`/models/${e}`,n)}}class Mw extends Cw{}(function(t){t.ModelsPage=Mw})(Vh||(Vh={}));class Uh extends Fe{create(e,n){return this._client.post("/moderations",{body:e,...n})}}Uh||(Uh={});var sO;let ht=class extends s7{constructor({baseURL:e=Pd("OPENAI_BASE_URL"),apiKey:n=Pd("OPENAI_API_KEY"),organization:r=Pd("OPENAI_ORG_ID")??null,project:i=Pd("OPENAI_PROJECT_ID")??null,...s}={}){if(n===void 0)throw new me("The OPENAI_API_KEY environment variable is missing or empty; either provide it, or instantiate the OpenAI client with an apiKey option, like new OpenAI({ apiKey: 'My API Key' }).");const a={apiKey:n,organization:r,project:i,...s,baseURL:e||"https://api.openai.com/v1"};if(!a.dangerouslyAllowBrowser&&g7())throw new me(`It looks like you're running in a browser-like environment.

This is disabled by default, as it risks exposing your secret API credentials to attackers.
If you understand the risks and have appropriate mitigations in place,
you can set the \`dangerouslyAllowBrowser\` option to \`true\`, e.g.,

new OpenAI({ apiKey, dangerouslyAllowBrowser: true });

https://help.openai.com/en/articles/5112595-best-practices-for-api-key-safety
`);super({baseURL:a.baseURL,timeout:a.timeout??6e5,httpAgent:a.httpAgent,maxRetries:a.maxRetries,fetch:a.fetch}),this.completions=new jh(this),this.chat=new yh(this),this.embeddings=new Mh(this),this.files=new Lh(this),this.images=new Bh(this),this.audio=new _h(this),this.moderations=new Uh(this),this.models=new Vh(this),this.fineTuning=new Fh(this),this.beta=new Nh(this),this.batches=new xh(this),this._options=a,this.apiKey=n,this.organization=r,this.project=i}defaultQuery(){return this._options.defaultQuery}defaultHeaders(e){return{...super.defaultHeaders(e),"OpenAI-Organization":this.organization,"OpenAI-Project":this.project,...this._options.defaultHeaders}}authHeaders(e){return{Authorization:`Bearer ${this.apiKey}`}}};sO=ht;ht.OpenAI=sO;ht.OpenAIError=me;ht.APIError=en;ht.APIConnectionError=Ac;ht.APIConnectionTimeoutError=em;ht.APIUserAbortError=hn;ht.NotFoundError=ww;ht.ConflictError=_w;ht.RateLimitError=kw;ht.BadRequestError=yw;ht.AuthenticationError=vw;ht.InternalServerError=Sw;ht.PermissionDeniedError=bw;ht.UnprocessableEntityError=xw;ht.toFile=KI;ht.fileFromPath=UI;const{OpenAIError:ene,APIError:tne,APIConnectionError:nne,APIConnectionTimeoutError:w7,APIUserAbortError:_7,NotFoundError:rne,ConflictError:ine,RateLimitError:sne,BadRequestError:ane,AuthenticationError:one,InternalServerError:lne,PermissionDeniedError:une,UnprocessableEntityError:cne}=WH;(function(t){t.Page=Cw,t.CursorPage=Or,t.Completions=jh,t.Chat=yh,t.Embeddings=Mh,t.Files=Lh,t.FileObjectsPage=Rw,t.Images=Bh,t.Audio=_h,t.Moderations=Uh,t.Models=Vh,t.ModelsPage=Mw,t.FineTuning=Fh,t.Beta=Nh,t.Batches=xh,t.BatchesPage=Tw})(ht||(ht={}));function vS(t,e=Lw){t=t.trim();const n=/```(json)?(.*)```/s.exec(t);return e(n?n[2]:t)}function Lw(t){if(typeof t>"u")return null;try{return JSON.parse(t)}catch{}let e="";const n=[];let r=!1,i=!1;for(let s of t){if(r)s==='"'&&!i?r=!1:s===`
`&&!i?s="\\n":s==="\\"?i=!i:i=!1;else if(s==='"')r=!0,i=!1;else if(s==="{")n.push("}");else if(s==="[")n.push("]");else if(s==="}"||s==="]")if(n&&n[n.length-1]===s)n.pop();else return null;e+=s}r&&(e+='"');for(let s=n.length-1;s>=0;s-=1)e+=n[s];try{return JSON.parse(e)}catch{return null}}var x7=function(t,e){if(typeof t!="string")throw new TypeError("Expected a string");return e=typeof e>"u"?"_":e,t.replace(/([a-z\d])([A-Z])/g,"$1"+e+"$2").replace(/([A-Z]+)([A-Z][a-z\d]+)/g,"$1"+e+"$2").toLowerCase()};const k7=va(x7);var aO={exports:{}};const S7=/[\p{Lu}]/u,C7=/[\p{Ll}]/u,bS=/^[\p{Lu}](?![\p{Lu}])/gu,oO=/([\p{Alpha}\p{N}_]|$)/u,lO=/[_.\- ]+/,T7=new RegExp("^"+lO.source),wS=new RegExp(lO.source+oO.source,"gu"),_S=new RegExp("\\d+"+oO.source,"gu"),P7=(t,e,n)=>{let r=!1,i=!1,s=!1;for(let a=0;a<t.length;a++){const o=t[a];r&&S7.test(o)?(t=t.slice(0,a)+"-"+t.slice(a),r=!1,s=i,i=!0,a++):i&&s&&C7.test(o)?(t=t.slice(0,a-1)+"-"+t.slice(a-1),s=i,i=!1,r=!0):(r=e(o)===o&&n(o)!==o,s=i,i=n(o)===o&&e(o)!==o)}return t},E7=(t,e)=>(bS.lastIndex=0,t.replace(bS,n=>e(n))),A7=(t,e)=>(wS.lastIndex=0,_S.lastIndex=0,t.replace(wS,(n,r)=>e(r)).replace(_S,n=>e(n))),uO=(t,e)=>{if(!(typeof t=="string"||Array.isArray(t)))throw new TypeError("Expected the input to be `string | string[]`");if(e={pascalCase:!1,preserveConsecutiveUppercase:!1,...e},Array.isArray(t)?t=t.map(s=>s.trim()).filter(s=>s.length).join("-"):t=t.trim(),t.length===0)return"";const n=e.locale===!1?s=>s.toLowerCase():s=>s.toLocaleLowerCase(e.locale),r=e.locale===!1?s=>s.toUpperCase():s=>s.toLocaleUpperCase(e.locale);return t.length===1?e.pascalCase?r(t):n(t):(t!==n(t)&&(t=P7(t,n,r)),t=t.replace(T7,""),e.preserveConsecutiveUppercase?t=E7(t,n):t=n(t),e.pascalCase&&(t=r(t.charAt(0))+t.slice(1)),A7(t,r))};aO.exports=uO;aO.exports.default=uO;function I7(t,e){return(e==null?void 0:e[t])||k7(t)}function O7(t,e,n){const r={};for(const i in t)Object.hasOwn(t,i)&&(r[e(i,n)]=t[i]);return r}function xS(t){return Array.isArray(t)?[...t]:{...t}}function R7(t,e){const n=xS(t);for(const[r,i]of Object.entries(e)){const[s,...a]=r.split(".").reverse();let o=n;for(const l of a.reverse()){if(o[l]===void 0)break;o[l]=xS(o[l]),o=o[l]}o[s]!==void 0&&(o[s]={lc:1,type:"secret",id:[i]})}return n}function cO(t){const e=Object.getPrototypeOf(t);return typeof t.lc_name=="function"&&(typeof e.lc_name!="function"||t.lc_name()!==e.lc_name())?t.lc_name():t.name}class pa{static lc_name(){return this.name}get lc_id(){return[...this.lc_namespace,cO(this.constructor)]}get lc_secrets(){}get lc_attributes(){}get lc_aliases(){}constructor(e,...n){Object.defineProperty(this,"lc_serializable",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"lc_kwargs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.lc_kwargs=e||{}}toJSON(){if(!this.lc_serializable)return this.toJSONNotImplemented();if(this.lc_kwargs instanceof pa||typeof this.lc_kwargs!="object"||Array.isArray(this.lc_kwargs))return this.toJSONNotImplemented();const e={},n={},r=Object.keys(this.lc_kwargs).reduce((i,s)=>(i[s]=s in this?this[s]:this.lc_kwargs[s],i),{});for(let i=Object.getPrototypeOf(this);i;i=Object.getPrototypeOf(i))Object.assign(e,Reflect.get(i,"lc_aliases",this)),Object.assign(n,Reflect.get(i,"lc_secrets",this)),Object.assign(r,Reflect.get(i,"lc_attributes",this));return Object.keys(n).forEach(i=>{let s=this,a=r;const[o,...l]=i.split(".").reverse();for(const u of l.reverse()){if(!(u in s)||s[u]===void 0)return;(!(u in a)||a[u]===void 0)&&(typeof s[u]=="object"&&s[u]!=null?a[u]={}:Array.isArray(s[u])&&(a[u]=[])),s=s[u],a=a[u]}o in s&&s[o]!==void 0&&(a[o]=a[o]||s[o])}),{lc:1,type:"constructor",id:this.lc_id,kwargs:O7(Object.keys(n).length?R7(r,n):r,I7,e)}}toJSONNotImplemented(){return{lc:1,type:"not_implemented",id:this.lc_id}}}function Jo(t,e){return typeof t=="string"?typeof e=="string"?t+e:[{type:"text",text:t},...e]:Array.isArray(e)?[...t,...e]:[...t,{type:"text",text:e}]}class Oc extends pa{get lc_aliases(){return{additional_kwargs:"additional_kwargs",response_metadata:"response_metadata"}}get text(){return typeof this.content=="string"?this.content:""}constructor(e,n){typeof e=="string"&&(e={content:e,additional_kwargs:n,response_metadata:{}}),e.additional_kwargs||(e.additional_kwargs={}),e.response_metadata||(e.response_metadata={}),super(e),Object.defineProperty(this,"lc_namespace",{enumerable:!0,configurable:!0,writable:!0,value:["langchain_core","messages"]}),Object.defineProperty(this,"lc_serializable",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"content",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"additional_kwargs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"response_metadata",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.name=e.name,this.content=e.content,this.additional_kwargs=e.additional_kwargs,this.response_metadata=e.response_metadata}toDict(){return{type:this._getType(),data:this.toJSON().kwargs}}}function bn(t,e){const n={...t};for(const[r,i]of Object.entries(e))if(n[r]==null)n[r]=i;else{if(i==null)continue;if(typeof n[r]!=typeof i||Array.isArray(n[r])!==Array.isArray(i))throw new Error(`field[${r}] already exists in the message chunk, but with a different type.`);if(typeof n[r]=="string")n[r]=n[r]+i;else if(!Array.isArray(n[r])&&typeof n[r]=="object")n[r]=bn(n[r],i);else if(Array.isArray(n[r]))n[r]=dO(n[r],i);else{if(n[r]===i)continue;console.warn(`field[${r}] already exists in this message chunk and value has unsupported type.`)}}return n}function dO(t,e){if(!(t===void 0&&e===void 0)){if(t===void 0||e===void 0)return t||e;{const n=[...t];for(const r of e)if(typeof r=="object"&&"index"in r&&typeof r.index=="number"){const i=n.findIndex(s=>s.index===r.index);i!==-1?n[i]=bn(n[i],r):n.push(r)}else n.push(r);return n}}}class Xo extends Oc{}function zw(t){return typeof(t==null?void 0:t._getType)=="function"}function $7(t){return zw(t)&&typeof t.concat=="function"}class Dw extends Xo{constructor(e){super(e),Object.defineProperty(this,"tool_call_id",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.tool_call_id=e.tool_call_id}static lc_name(){return"ToolMessageChunk"}_getType(){return"tool"}concat(e){return new Dw({content:Jo(this.content,e.content),additional_kwargs:bn(this.additional_kwargs,e.additional_kwargs),response_metadata:bn(this.response_metadata,e.response_metadata),tool_call_id:this.tool_call_id})}}function N7(t){const e=[],n=[];for(const r of t)if(r.function){const i=r.function.name;try{const s=JSON.parse(r.function.arguments),a={name:i||"",args:s||{},id:r.id};e.push(a)}catch{n.push({name:i,args:r.function.arguments,id:r.id,error:"Malformed args."})}}else continue;return[e,n]}class fO extends Oc{get lc_aliases(){return{...super.lc_aliases,tool_calls:"tool_calls",invalid_tool_calls:"invalid_tool_calls"}}constructor(e,n){var i;let r;if(typeof e=="string")r={content:e,tool_calls:[],invalid_tool_calls:[],additional_kwargs:n??{}};else{r=e;const s=(i=r.additional_kwargs)==null?void 0:i.tool_calls,a=r.tool_calls;s!=null&&s.length>0&&(a===void 0||a.length===0)&&console.warn(["New LangChain packages are available that more efficiently handle",`tool calling.

Please upgrade your packages to versions that set`,"message tool calls. e.g., `yarn add @langchain/anthropic`,","yarn add @langchain/openai`, etc."].join(" "));try{if(s!=null&&a===void 0){const[o,l]=N7(s);r.tool_calls=o??[],r.invalid_tool_calls=l??[]}else r.tool_calls=r.tool_calls??[],r.invalid_tool_calls=r.invalid_tool_calls??[]}catch{r.tool_calls=[],r.invalid_tool_calls=[]}}super(r),Object.defineProperty(this,"tool_calls",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"invalid_tool_calls",{enumerable:!0,configurable:!0,writable:!0,value:[]}),typeof r!="string"&&(this.tool_calls=r.tool_calls??this.tool_calls,this.invalid_tool_calls=r.invalid_tool_calls??this.invalid_tool_calls)}static lc_name(){return"AIMessage"}_getType(){return"ai"}}function j7(t){return t._getType()==="ai"}class Rc extends Xo{constructor(e){let n;if(typeof e=="string")n={content:e,tool_calls:[],invalid_tool_calls:[],tool_call_chunks:[]};else if(e.tool_call_chunks===void 0)n={...e,tool_calls:[],invalid_tool_calls:[],tool_call_chunks:[]};else{const r=[],i=[];for(const s of e.tool_call_chunks){let a={};try{if(a=Lw(s.args??"{}")??{},typeof a!="object"||Array.isArray(a))throw new Error("Malformed tool call chunk args.");r.push({name:s.name??"",args:a,id:s.id})}catch{i.push({name:s.name,args:s.args,id:s.id,error:"Malformed args."})}}n={...e,tool_calls:r,invalid_tool_calls:i}}super(n),Object.defineProperty(this,"tool_calls",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"invalid_tool_calls",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"tool_call_chunks",{enumerable:!0,configurable:!0,writable:!0,value:[]}),this.tool_call_chunks=(n==null?void 0:n.tool_call_chunks)??this.tool_call_chunks,this.tool_calls=(n==null?void 0:n.tool_calls)??this.tool_calls,this.invalid_tool_calls=(n==null?void 0:n.invalid_tool_calls)??this.invalid_tool_calls}get lc_aliases(){return{...super.lc_aliases,tool_calls:"tool_calls",invalid_tool_calls:"invalid_tool_calls",tool_call_chunks:"tool_call_chunks"}}static lc_name(){return"AIMessageChunk"}_getType(){return"ai"}concat(e){const n={content:Jo(this.content,e.content),additional_kwargs:bn(this.additional_kwargs,e.additional_kwargs),response_metadata:bn(this.response_metadata,e.response_metadata),tool_call_chunks:[]};if(this.tool_call_chunks!==void 0||e.tool_call_chunks!==void 0){const r=dO(this.tool_call_chunks,e.tool_call_chunks);r!==void 0&&r.length>0&&(n.tool_call_chunks=r)}return new Rc(n)}}class $c extends Oc{static lc_name(){return"ChatMessage"}static _chatMessageClass(){return $c}constructor(e,n){typeof e=="string"&&(e={content:e,role:n}),super(e),Object.defineProperty(this,"role",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.role=e.role}_getType(){return"generic"}static isInstance(e){return e._getType()==="generic"}}class rm extends Xo{static lc_name(){return"ChatMessageChunk"}constructor(e,n){typeof e=="string"&&(e={content:e,role:n}),super(e),Object.defineProperty(this,"role",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.role=e.role}_getType(){return"generic"}concat(e){return new rm({content:Jo(this.content,e.content),additional_kwargs:bn(this.additional_kwargs,e.additional_kwargs),response_metadata:bn(this.response_metadata,e.response_metadata),role:this.role})}}class im extends Xo{static lc_name(){return"FunctionMessageChunk"}_getType(){return"function"}concat(e){return new im({content:Jo(this.content,e.content),additional_kwargs:bn(this.additional_kwargs,e.additional_kwargs),response_metadata:bn(this.response_metadata,e.response_metadata),name:this.name??""})}}class Hh extends Oc{static lc_name(){return"HumanMessage"}_getType(){return"human"}}class sm extends Xo{static lc_name(){return"HumanMessageChunk"}_getType(){return"human"}concat(e){return new sm({content:Jo(this.content,e.content),additional_kwargs:bn(this.additional_kwargs,e.additional_kwargs),response_metadata:bn(this.response_metadata,e.response_metadata)})}}class M7 extends Oc{static lc_name(){return"SystemMessage"}_getType(){return"system"}}class am extends Xo{static lc_name(){return"SystemMessageChunk"}_getType(){return"system"}concat(e){return new am({content:Jo(this.content,e.content),additional_kwargs:bn(this.additional_kwargs,e.additional_kwargs),response_metadata:bn(this.response_metadata,e.response_metadata)})}}function Vl(t){if(typeof t=="string")return new Hh(t);if(zw(t))return t;const[e,n]=t;if(e==="human"||e==="user")return new Hh({content:n});if(e==="ai"||e==="assistant")return new fO({content:n});if(e==="system")return new M7({content:n});throw new Error("Unable to coerce message from array: only human, AI, or system message coercion is currently supported.")}function hO(t,e="Human",n="AI"){const r=[];for(const i of t){let s;if(i._getType()==="human")s=e;else if(i._getType()==="ai")s=n;else if(i._getType()==="system")s="System";else if(i._getType()==="function")s="Function";else if(i._getType()==="tool")s="Tool";else if(i._getType()==="generic")s=i.role;else throw new Error(`Got unsupported message type: ${i._getType()}`);const a=i.name?`${i.name}, `:"";r.push(`${s}: ${a}${i.content}`)}return r.join(`
`)}function L7(t){const e=t._getType();if(e==="human")return new sm({...t});if(e==="ai")return new Rc({...t});if(e==="system")return new am({...t});if(e==="function")return new im({...t});if($c.isInstance(t))return new rm({...t});throw new Error("Unknown message type.")}const kS="__run";class om{constructor(e){Object.defineProperty(this,"text",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"generationInfo",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.text=e.text,this.generationInfo=e.generationInfo}concat(e){return new om({text:this.text+e.text,generationInfo:{...this.generationInfo,...e.generationInfo}})}}class Yu extends om{constructor(e){super(e),Object.defineProperty(this,"message",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.message=e.message}concat(e){return new Yu({text:this.text+e.text,generationInfo:{...this.generationInfo,...e.generationInfo},message:this.message.concat(e.message)})}}var Ug={};const z7=()=>typeof window<"u"&&typeof window.document<"u",D7=()=>typeof globalThis=="object"&&globalThis.constructor&&globalThis.constructor.name==="DedicatedWorkerGlobalScope",F7=()=>typeof window<"u"&&window.name==="nodejs"||typeof navigator<"u"&&(navigator.userAgent.includes("Node.js")||navigator.userAgent.includes("jsdom")),pO=()=>typeof Deno<"u",B7=()=>typeof process<"u"&&typeof process.versions<"u"&&typeof process.versions.node<"u"&&!pO(),V7=()=>{let t;return z7()?t="browser":B7()?t="node":D7()?t="webworker":F7()?t="jsdom":pO()?t="deno":t="other",t};let Hg;async function U7(){return Hg===void 0&&(Hg={library:"langchain-js",runtime:V7()}),Hg}function Pn(t){try{return typeof process<"u"?Ug==null?void 0:Ug[t]:void 0}catch{return}}/*
 * [js-sha1]{@link https://github.com/emn178/js-sha1}
 *
 * @version 0.6.0
 * @author Chen, Yi-Cyuan [emn178@gmail.com]
 * @copyright Chen, Yi-Cyuan 2014-2017
 * @license MIT
 */var H7=typeof window=="object"?window:{},oe="0123456789abcdef".split(""),W7=[-2147483648,8388608,32768,128],fr=[24,16,8,0],_t=[];function Ar(t){t?(_t[0]=_t[16]=_t[1]=_t[2]=_t[3]=_t[4]=_t[5]=_t[6]=_t[7]=_t[8]=_t[9]=_t[10]=_t[11]=_t[12]=_t[13]=_t[14]=_t[15]=0,this.blocks=_t):this.blocks=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],this.h0=1732584193,this.h1=4023233417,this.h2=2562383102,this.h3=271733878,this.h4=3285377520,this.block=this.start=this.bytes=this.hBytes=0,this.finalized=this.hashed=!1,this.first=!0}Ar.prototype.update=function(t){if(!this.finalized){var e=typeof t!="string";e&&t.constructor===H7.ArrayBuffer&&(t=new Uint8Array(t));for(var n,r=0,i,s=t.length||0,a=this.blocks;r<s;){if(this.hashed&&(this.hashed=!1,a[0]=this.block,a[16]=a[1]=a[2]=a[3]=a[4]=a[5]=a[6]=a[7]=a[8]=a[9]=a[10]=a[11]=a[12]=a[13]=a[14]=a[15]=0),e)for(i=this.start;r<s&&i<64;++r)a[i>>2]|=t[r]<<fr[i++&3];else for(i=this.start;r<s&&i<64;++r)n=t.charCodeAt(r),n<128?a[i>>2]|=n<<fr[i++&3]:n<2048?(a[i>>2]|=(192|n>>6)<<fr[i++&3],a[i>>2]|=(128|n&63)<<fr[i++&3]):n<55296||n>=57344?(a[i>>2]|=(224|n>>12)<<fr[i++&3],a[i>>2]|=(128|n>>6&63)<<fr[i++&3],a[i>>2]|=(128|n&63)<<fr[i++&3]):(n=65536+((n&1023)<<10|t.charCodeAt(++r)&1023),a[i>>2]|=(240|n>>18)<<fr[i++&3],a[i>>2]|=(128|n>>12&63)<<fr[i++&3],a[i>>2]|=(128|n>>6&63)<<fr[i++&3],a[i>>2]|=(128|n&63)<<fr[i++&3]);this.lastByteIndex=i,this.bytes+=i-this.start,i>=64?(this.block=a[16],this.start=i-64,this.hash(),this.hashed=!0):this.start=i}return this.bytes>4294967295&&(this.hBytes+=this.bytes/4294967296<<0,this.bytes=this.bytes%4294967296),this}};Ar.prototype.finalize=function(){if(!this.finalized){this.finalized=!0;var t=this.blocks,e=this.lastByteIndex;t[16]=this.block,t[e>>2]|=W7[e&3],this.block=t[16],e>=56&&(this.hashed||this.hash(),t[0]=this.block,t[16]=t[1]=t[2]=t[3]=t[4]=t[5]=t[6]=t[7]=t[8]=t[9]=t[10]=t[11]=t[12]=t[13]=t[14]=t[15]=0),t[14]=this.hBytes<<3|this.bytes>>>29,t[15]=this.bytes<<3,this.hash()}};Ar.prototype.hash=function(){var t=this.h0,e=this.h1,n=this.h2,r=this.h3,i=this.h4,s,a,o,l=this.blocks;for(a=16;a<80;++a)o=l[a-3]^l[a-8]^l[a-14]^l[a-16],l[a]=o<<1|o>>>31;for(a=0;a<20;a+=5)s=e&n|~e&r,o=t<<5|t>>>27,i=o+s+i+1518500249+l[a]<<0,e=e<<30|e>>>2,s=t&e|~t&n,o=i<<5|i>>>27,r=o+s+r+1518500249+l[a+1]<<0,t=t<<30|t>>>2,s=i&t|~i&e,o=r<<5|r>>>27,n=o+s+n+1518500249+l[a+2]<<0,i=i<<30|i>>>2,s=r&i|~r&t,o=n<<5|n>>>27,e=o+s+e+1518500249+l[a+3]<<0,r=r<<30|r>>>2,s=n&r|~n&i,o=e<<5|e>>>27,t=o+s+t+1518500249+l[a+4]<<0,n=n<<30|n>>>2;for(;a<40;a+=5)s=e^n^r,o=t<<5|t>>>27,i=o+s+i+1859775393+l[a]<<0,e=e<<30|e>>>2,s=t^e^n,o=i<<5|i>>>27,r=o+s+r+1859775393+l[a+1]<<0,t=t<<30|t>>>2,s=i^t^e,o=r<<5|r>>>27,n=o+s+n+1859775393+l[a+2]<<0,i=i<<30|i>>>2,s=r^i^t,o=n<<5|n>>>27,e=o+s+e+1859775393+l[a+3]<<0,r=r<<30|r>>>2,s=n^r^i,o=e<<5|e>>>27,t=o+s+t+1859775393+l[a+4]<<0,n=n<<30|n>>>2;for(;a<60;a+=5)s=e&n|e&r|n&r,o=t<<5|t>>>27,i=o+s+i-1894007588+l[a]<<0,e=e<<30|e>>>2,s=t&e|t&n|e&n,o=i<<5|i>>>27,r=o+s+r-1894007588+l[a+1]<<0,t=t<<30|t>>>2,s=i&t|i&e|t&e,o=r<<5|r>>>27,n=o+s+n-1894007588+l[a+2]<<0,i=i<<30|i>>>2,s=r&i|r&t|i&t,o=n<<5|n>>>27,e=o+s+e-1894007588+l[a+3]<<0,r=r<<30|r>>>2,s=n&r|n&i|r&i,o=e<<5|e>>>27,t=o+s+t-1894007588+l[a+4]<<0,n=n<<30|n>>>2;for(;a<80;a+=5)s=e^n^r,o=t<<5|t>>>27,i=o+s+i-899497514+l[a]<<0,e=e<<30|e>>>2,s=t^e^n,o=i<<5|i>>>27,r=o+s+r-899497514+l[a+1]<<0,t=t<<30|t>>>2,s=i^t^e,o=r<<5|r>>>27,n=o+s+n-899497514+l[a+2]<<0,i=i<<30|i>>>2,s=r^i^t,o=n<<5|n>>>27,e=o+s+e-899497514+l[a+3]<<0,r=r<<30|r>>>2,s=n^r^i,o=e<<5|e>>>27,t=o+s+t-899497514+l[a+4]<<0,n=n<<30|n>>>2;this.h0=this.h0+t<<0,this.h1=this.h1+e<<0,this.h2=this.h2+n<<0,this.h3=this.h3+r<<0,this.h4=this.h4+i<<0};Ar.prototype.hex=function(){this.finalize();var t=this.h0,e=this.h1,n=this.h2,r=this.h3,i=this.h4;return oe[t>>28&15]+oe[t>>24&15]+oe[t>>20&15]+oe[t>>16&15]+oe[t>>12&15]+oe[t>>8&15]+oe[t>>4&15]+oe[t&15]+oe[e>>28&15]+oe[e>>24&15]+oe[e>>20&15]+oe[e>>16&15]+oe[e>>12&15]+oe[e>>8&15]+oe[e>>4&15]+oe[e&15]+oe[n>>28&15]+oe[n>>24&15]+oe[n>>20&15]+oe[n>>16&15]+oe[n>>12&15]+oe[n>>8&15]+oe[n>>4&15]+oe[n&15]+oe[r>>28&15]+oe[r>>24&15]+oe[r>>20&15]+oe[r>>16&15]+oe[r>>12&15]+oe[r>>8&15]+oe[r>>4&15]+oe[r&15]+oe[i>>28&15]+oe[i>>24&15]+oe[i>>20&15]+oe[i>>16&15]+oe[i>>12&15]+oe[i>>8&15]+oe[i>>4&15]+oe[i&15]};Ar.prototype.toString=Ar.prototype.hex;Ar.prototype.digest=function(){this.finalize();var t=this.h0,e=this.h1,n=this.h2,r=this.h3,i=this.h4;return[t>>24&255,t>>16&255,t>>8&255,t&255,e>>24&255,e>>16&255,e>>8&255,e&255,n>>24&255,n>>16&255,n>>8&255,n&255,r>>24&255,r>>16&255,r>>8&255,r&255,i>>24&255,i>>16&255,i>>8&255,i&255]};Ar.prototype.array=Ar.prototype.digest;Ar.prototype.arrayBuffer=function(){this.finalize();var t=new ArrayBuffer(20),e=new DataView(t);return e.setUint32(0,this.h0),e.setUint32(4,this.h1),e.setUint32(8,this.h2),e.setUint32(12,this.h3),e.setUint32(16,this.h4),t};const q7=t=>new Ar(!0).update(t).hex(),SS=(...t)=>q7(t.join("_"));class Z7{}const G7=new Map;class Fw extends Z7{constructor(e){super(),Object.defineProperty(this,"cache",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.cache=e??new Map}lookup(e,n){return Promise.resolve(this.cache.get(SS(e,n))??null)}async update(e,n,r){this.cache.set(SS(e,n),r)}static global(){return new Fw(G7)}}class mO extends pa{}class K7 extends mO{static lc_name(){return"StringPromptValue"}constructor(e){super({value:e}),Object.defineProperty(this,"lc_namespace",{enumerable:!0,configurable:!0,writable:!0,value:["langchain_core","prompt_values"]}),Object.defineProperty(this,"lc_serializable",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.value=e}toString(){return this.value}toChatMessages(){return[new Hh(this.value)]}}class J7 extends mO{static lc_name(){return"ChatPromptValue"}constructor(e){Array.isArray(e)&&(e={messages:e}),super(e),Object.defineProperty(this,"lc_namespace",{enumerable:!0,configurable:!0,writable:!0,value:["langchain_core","prompt_values"]}),Object.defineProperty(this,"lc_serializable",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"messages",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.messages=e.messages}toString(){return hO(this.messages)}toChatMessages(){return this.messages}}var lm={exports:{}},gO={};function tr(t,e){typeof e=="boolean"&&(e={forever:e}),this._originalTimeouts=JSON.parse(JSON.stringify(t)),this._timeouts=t,this._options=e||{},this._maxRetryTime=e&&e.maxRetryTime||1/0,this._fn=null,this._errors=[],this._attempts=1,this._operationTimeout=null,this._operationTimeoutCb=null,this._timeout=null,this._operationStart=null,this._timer=null,this._options.forever&&(this._cachedTimeouts=this._timeouts.slice(0))}var X7=tr;tr.prototype.reset=function(){this._attempts=1,this._timeouts=this._originalTimeouts.slice(0)};tr.prototype.stop=function(){this._timeout&&clearTimeout(this._timeout),this._timer&&clearTimeout(this._timer),this._timeouts=[],this._cachedTimeouts=null};tr.prototype.retry=function(t){if(this._timeout&&clearTimeout(this._timeout),!t)return!1;var e=new Date().getTime();if(t&&e-this._operationStart>=this._maxRetryTime)return this._errors.push(t),this._errors.unshift(new Error("RetryOperation timeout occurred")),!1;this._errors.push(t);var n=this._timeouts.shift();if(n===void 0)if(this._cachedTimeouts)this._errors.splice(0,this._errors.length-1),n=this._cachedTimeouts.slice(-1);else return!1;var r=this;return this._timer=setTimeout(function(){r._attempts++,r._operationTimeoutCb&&(r._timeout=setTimeout(function(){r._operationTimeoutCb(r._attempts)},r._operationTimeout),r._options.unref&&r._timeout.unref()),r._fn(r._attempts)},n),this._options.unref&&this._timer.unref(),!0};tr.prototype.attempt=function(t,e){this._fn=t,e&&(e.timeout&&(this._operationTimeout=e.timeout),e.cb&&(this._operationTimeoutCb=e.cb));var n=this;this._operationTimeoutCb&&(this._timeout=setTimeout(function(){n._operationTimeoutCb()},n._operationTimeout)),this._operationStart=new Date().getTime(),this._fn(this._attempts)};tr.prototype.try=function(t){console.log("Using RetryOperation.try() is deprecated"),this.attempt(t)};tr.prototype.start=function(t){console.log("Using RetryOperation.start() is deprecated"),this.attempt(t)};tr.prototype.start=tr.prototype.try;tr.prototype.errors=function(){return this._errors};tr.prototype.attempts=function(){return this._attempts};tr.prototype.mainError=function(){if(this._errors.length===0)return null;for(var t={},e=null,n=0,r=0;r<this._errors.length;r++){var i=this._errors[r],s=i.message,a=(t[s]||0)+1;t[s]=a,a>=n&&(e=i,n=a)}return e};(function(t){var e=X7;t.operation=function(n){var r=t.timeouts(n);return new e(r,{forever:n&&(n.forever||n.retries===1/0),unref:n&&n.unref,maxRetryTime:n&&n.maxRetryTime})},t.timeouts=function(n){if(n instanceof Array)return[].concat(n);var r={retries:10,factor:2,minTimeout:1*1e3,maxTimeout:1/0,randomize:!1};for(var i in n)r[i]=n[i];if(r.minTimeout>r.maxTimeout)throw new Error("minTimeout is greater than maxTimeout");for(var s=[],a=0;a<r.retries;a++)s.push(this.createTimeout(a,r));return n&&n.forever&&!s.length&&s.push(this.createTimeout(a,r)),s.sort(function(o,l){return o-l}),s},t.createTimeout=function(n,r){var i=r.randomize?Math.random()+1:1,s=Math.round(i*Math.max(r.minTimeout,1)*Math.pow(r.factor,n));return s=Math.min(s,r.maxTimeout),s},t.wrap=function(n,r,i){if(r instanceof Array&&(i=r,r=null),!i){i=[];for(var s in n)typeof n[s]=="function"&&i.push(s)}for(var a=0;a<i.length;a++){var o=i[a],l=n[o];n[o]=(function(c){var d=t.operation(r),f=Array.prototype.slice.call(arguments,1),h=f.pop();f.push(function(p){d.retry(p)||(p&&(arguments[0]=d.mainError()),h.apply(this,arguments))}),d.attempt(function(){c.apply(n,f)})}).bind(n,l),n[o].options=r}}})(gO);var Y7=gO;const Q7=Y7,eW=["Failed to fetch","NetworkError when attempting to fetch resource.","The Internet connection appears to be offline.","Network request failed"];class yO extends Error{constructor(e){super(),e instanceof Error?(this.originalError=e,{message:e}=e):(this.originalError=new Error(e),this.originalError.stack=this.stack),this.name="AbortError",this.message=e}}const tW=(t,e,n)=>{const r=n.retries-(e-1);return t.attemptNumber=e,t.retriesLeft=r,t},nW=t=>eW.includes(t),vO=(t,e)=>new Promise((n,r)=>{e={onFailedAttempt:()=>{},retries:10,...e};const i=Q7.operation(e);i.attempt(async s=>{try{n(await t(s))}catch(a){if(!(a instanceof Error)){r(new TypeError(`Non-error was thrown: "${a}". You should only throw errors.`));return}if(a instanceof yO)i.stop(),r(a.originalError);else if(a instanceof TypeError&&!nW(a.message))i.stop(),r(a);else{tW(a,s,e);try{await e.onFailedAttempt(a)}catch(o){r(o);return}i.retry(a)||r(i.mainError())}}})});lm.exports=vO;lm.exports.default=vO;lm.exports.AbortError=yO;var rW=lm.exports;const Wh=va(rW);var bO={},wO={exports:{}};(function(t){var e=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function i(l,u,c){this.fn=l,this.context=u,this.once=c||!1}function s(l,u,c,d,f){if(typeof c!="function")throw new TypeError("The listener must be a function");var h=new i(c,d||l,f),p=n?n+u:u;return l._events[p]?l._events[p].fn?l._events[p]=[l._events[p],h]:l._events[p].push(h):(l._events[p]=h,l._eventsCount++),l}function a(l,u){--l._eventsCount===0?l._events=new r:delete l._events[u]}function o(){this._events=new r,this._eventsCount=0}o.prototype.eventNames=function(){var u=[],c,d;if(this._eventsCount===0)return u;for(d in c=this._events)e.call(c,d)&&u.push(n?d.slice(1):d);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(c)):u},o.prototype.listeners=function(u){var c=n?n+u:u,d=this._events[c];if(!d)return[];if(d.fn)return[d.fn];for(var f=0,h=d.length,p=new Array(h);f<h;f++)p[f]=d[f].fn;return p},o.prototype.listenerCount=function(u){var c=n?n+u:u,d=this._events[c];return d?d.fn?1:d.length:0},o.prototype.emit=function(u,c,d,f,h,p){var y=n?n+u:u;if(!this._events[y])return!1;var b=this._events[y],m=arguments.length,g,v;if(b.fn){switch(b.once&&this.removeListener(u,b.fn,void 0,!0),m){case 1:return b.fn.call(b.context),!0;case 2:return b.fn.call(b.context,c),!0;case 3:return b.fn.call(b.context,c,d),!0;case 4:return b.fn.call(b.context,c,d,f),!0;case 5:return b.fn.call(b.context,c,d,f,h),!0;case 6:return b.fn.call(b.context,c,d,f,h,p),!0}for(v=1,g=new Array(m-1);v<m;v++)g[v-1]=arguments[v];b.fn.apply(b.context,g)}else{var x=b.length,C;for(v=0;v<x;v++)switch(b[v].once&&this.removeListener(u,b[v].fn,void 0,!0),m){case 1:b[v].fn.call(b[v].context);break;case 2:b[v].fn.call(b[v].context,c);break;case 3:b[v].fn.call(b[v].context,c,d);break;case 4:b[v].fn.call(b[v].context,c,d,f);break;default:if(!g)for(C=1,g=new Array(m-1);C<m;C++)g[C-1]=arguments[C];b[v].fn.apply(b[v].context,g)}}return!0},o.prototype.on=function(u,c,d){return s(this,u,c,d,!1)},o.prototype.once=function(u,c,d){return s(this,u,c,d,!0)},o.prototype.removeListener=function(u,c,d,f){var h=n?n+u:u;if(!this._events[h])return this;if(!c)return a(this,h),this;var p=this._events[h];if(p.fn)p.fn===c&&(!f||p.once)&&(!d||p.context===d)&&a(this,h);else{for(var y=0,b=[],m=p.length;y<m;y++)(p[y].fn!==c||f&&!p[y].once||d&&p[y].context!==d)&&b.push(p[y]);b.length?this._events[h]=b.length===1?b[0]:b:a(this,h)}return this},o.prototype.removeAllListeners=function(u){var c;return u?(c=n?n+u:u,this._events[c]&&a(this,c)):(this._events=new r,this._eventsCount=0),this},o.prototype.off=o.prototype.removeListener,o.prototype.addListener=o.prototype.on,o.prefixed=n,o.EventEmitter=o,t.exports=o})(wO);var iW=wO.exports,um={exports:{}},sW=(t,e)=>(e=e||(()=>{}),t.then(n=>new Promise(r=>{r(e())}).then(()=>n),n=>new Promise(r=>{r(e())}).then(()=>{throw n})));const aW=sW;class _O extends Error{constructor(e){super(e),this.name="TimeoutError"}}const xO=(t,e,n)=>new Promise((r,i)=>{if(typeof e!="number"||e<0)throw new TypeError("Expected `milliseconds` to be a positive number");if(e===1/0){r(t);return}const s=setTimeout(()=>{if(typeof n=="function"){try{r(n())}catch(l){i(l)}return}const a=typeof n=="string"?n:`Promise timed out after ${e} milliseconds`,o=n instanceof Error?n:new _O(a);typeof t.cancel=="function"&&t.cancel(),i(o)},e);aW(t.then(r,i),()=>{clearTimeout(s)})});um.exports=xO;um.exports.default=xO;um.exports.TimeoutError=_O;var oW=um.exports,Bw={},Vw={};Object.defineProperty(Vw,"__esModule",{value:!0});function lW(t,e,n){let r=0,i=t.length;for(;i>0;){const s=i/2|0;let a=r+s;n(t[a],e)<=0?(r=++a,i-=s+1):i=s}return r}Vw.default=lW;Object.defineProperty(Bw,"__esModule",{value:!0});const uW=Vw;class cW{constructor(){this._queue=[]}enqueue(e,n){n=Object.assign({priority:0},n);const r={priority:n.priority,run:e};if(this.size&&this._queue[this.size-1].priority>=n.priority){this._queue.push(r);return}const i=uW.default(this._queue,r,(s,a)=>a.priority-s.priority);this._queue.splice(i,0,r)}dequeue(){const e=this._queue.shift();return e==null?void 0:e.run}filter(e){return this._queue.filter(n=>n.priority===e.priority).map(n=>n.run)}get size(){return this._queue.length}}Bw.default=cW;Object.defineProperty(bO,"__esModule",{value:!0});const dW=iW,kO=oW,fW=Bw,Id=()=>{},hW=new kO.TimeoutError;class pW extends dW{constructor(e){var n,r,i,s;if(super(),this._intervalCount=0,this._intervalEnd=0,this._pendingCount=0,this._resolveEmpty=Id,this._resolveIdle=Id,e=Object.assign({carryoverConcurrencyCount:!1,intervalCap:1/0,interval:0,concurrency:1/0,autoStart:!0,queueClass:fW.default},e),!(typeof e.intervalCap=="number"&&e.intervalCap>=1))throw new TypeError(`Expected \`intervalCap\` to be a number from 1 and up, got \`${(r=(n=e.intervalCap)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:""}\` (${typeof e.intervalCap})`);if(e.interval===void 0||!(Number.isFinite(e.interval)&&e.interval>=0))throw new TypeError(`Expected \`interval\` to be a finite number >= 0, got \`${(s=(i=e.interval)===null||i===void 0?void 0:i.toString())!==null&&s!==void 0?s:""}\` (${typeof e.interval})`);this._carryoverConcurrencyCount=e.carryoverConcurrencyCount,this._isIntervalIgnored=e.intervalCap===1/0||e.interval===0,this._intervalCap=e.intervalCap,this._interval=e.interval,this._queue=new e.queueClass,this._queueClass=e.queueClass,this.concurrency=e.concurrency,this._timeout=e.timeout,this._throwOnTimeout=e.throwOnTimeout===!0,this._isPaused=e.autoStart===!1}get _doesIntervalAllowAnother(){return this._isIntervalIgnored||this._intervalCount<this._intervalCap}get _doesConcurrentAllowAnother(){return this._pendingCount<this._concurrency}_next(){this._pendingCount--,this._tryToStartAnother(),this.emit("next")}_resolvePromises(){this._resolveEmpty(),this._resolveEmpty=Id,this._pendingCount===0&&(this._resolveIdle(),this._resolveIdle=Id,this.emit("idle"))}_onResumeInterval(){this._onInterval(),this._initializeIntervalIfNeeded(),this._timeoutId=void 0}_isIntervalPaused(){const e=Date.now();if(this._intervalId===void 0){const n=this._intervalEnd-e;if(n<0)this._intervalCount=this._carryoverConcurrencyCount?this._pendingCount:0;else return this._timeoutId===void 0&&(this._timeoutId=setTimeout(()=>{this._onResumeInterval()},n)),!0}return!1}_tryToStartAnother(){if(this._queue.size===0)return this._intervalId&&clearInterval(this._intervalId),this._intervalId=void 0,this._resolvePromises(),!1;if(!this._isPaused){const e=!this._isIntervalPaused();if(this._doesIntervalAllowAnother&&this._doesConcurrentAllowAnother){const n=this._queue.dequeue();return n?(this.emit("active"),n(),e&&this._initializeIntervalIfNeeded(),!0):!1}}return!1}_initializeIntervalIfNeeded(){this._isIntervalIgnored||this._intervalId!==void 0||(this._intervalId=setInterval(()=>{this._onInterval()},this._interval),this._intervalEnd=Date.now()+this._interval)}_onInterval(){this._intervalCount===0&&this._pendingCount===0&&this._intervalId&&(clearInterval(this._intervalId),this._intervalId=void 0),this._intervalCount=this._carryoverConcurrencyCount?this._pendingCount:0,this._processQueue()}_processQueue(){for(;this._tryToStartAnother(););}get concurrency(){return this._concurrency}set concurrency(e){if(!(typeof e=="number"&&e>=1))throw new TypeError(`Expected \`concurrency\` to be a number from 1 and up, got \`${e}\` (${typeof e})`);this._concurrency=e,this._processQueue()}async add(e,n={}){return new Promise((r,i)=>{const s=async()=>{this._pendingCount++,this._intervalCount++;try{const a=this._timeout===void 0&&n.timeout===void 0?e():kO.default(Promise.resolve(e()),n.timeout===void 0?this._timeout:n.timeout,()=>{(n.throwOnTimeout===void 0?this._throwOnTimeout:n.throwOnTimeout)&&i(hW)});r(await a)}catch(a){i(a)}this._next()};this._queue.enqueue(s,n),this._tryToStartAnother(),this.emit("add")})}async addAll(e,n){return Promise.all(e.map(async r=>this.add(r,n)))}start(){return this._isPaused?(this._isPaused=!1,this._processQueue(),this):this}pause(){this._isPaused=!0}clear(){this._queue=new this._queueClass}async onEmpty(){if(this._queue.size!==0)return new Promise(e=>{const n=this._resolveEmpty;this._resolveEmpty=()=>{n(),e()}})}async onIdle(){if(!(this._pendingCount===0&&this._queue.size===0))return new Promise(e=>{const n=this._resolveIdle;this._resolveIdle=()=>{n(),e()}})}get size(){return this._queue.size}sizeBy(e){return this._queue.filter(e).length}get pending(){return this._pendingCount}get isPaused(){return this._isPaused}get timeout(){return this._timeout}set timeout(e){this._timeout=e}}var Ti=bO.default=pW;const mW=[400,401,402,403,404,405,406,407,409],gW=t=>{var n,r;if(t.message.startsWith("Cancel")||t.message.startsWith("AbortError")||t.name==="AbortError"||(t==null?void 0:t.code)==="ECONNABORTED")throw t;const e=((n=t==null?void 0:t.response)==null?void 0:n.status)??(t==null?void 0:t.status);if(e&&mW.includes(+e))throw t;if(((r=t==null?void 0:t.error)==null?void 0:r.code)==="insufficient_quota"){const i=new Error(t==null?void 0:t.message);throw i.name="InsufficientQuotaError",i}};let Uw=class{constructor(e){Object.defineProperty(this,"maxConcurrency",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"maxRetries",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"onFailedAttempt",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"queue",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.maxConcurrency=e.maxConcurrency??1/0,this.maxRetries=e.maxRetries??6,this.onFailedAttempt=e.onFailedAttempt??gW;const n="default"in Ti?Ti.default:Ti;this.queue=new n({concurrency:this.maxConcurrency})}call(e,...n){return this.queue.add(()=>Wh(()=>e(...n).catch(r=>{throw r instanceof Error?r:new Error(r)}),{onFailedAttempt:this.onFailedAttempt,retries:this.maxRetries,randomize:!0}),{throwOnTimeout:!0})}callWithOptions(e,n,...r){return e.signal?Promise.race([this.call(n,...r),new Promise((i,s)=>{var a;(a=e.signal)==null||a.addEventListener("abort",()=>{s(new Error("AbortError"))})})]):this.call(n,...r)}fetch(...e){return this.call(()=>fetch(...e).then(n=>n.ok?n:Promise.reject(n)))}};var cm={};cm.byteLength=bW;cm.toByteArray=_W;cm.fromByteArray=SW;var qr=[],Wn=[],yW=typeof Uint8Array<"u"?Uint8Array:Array,Wg="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(var Ia=0,vW=Wg.length;Ia<vW;++Ia)qr[Ia]=Wg[Ia],Wn[Wg.charCodeAt(Ia)]=Ia;Wn[45]=62;Wn[95]=63;function SO(t){var e=t.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=t.indexOf("=");n===-1&&(n=e);var r=n===e?0:4-n%4;return[n,r]}function bW(t){var e=SO(t),n=e[0],r=e[1];return(n+r)*3/4-r}function wW(t,e,n){return(e+n)*3/4-n}function _W(t){var e,n=SO(t),r=n[0],i=n[1],s=new yW(wW(t,r,i)),a=0,o=i>0?r-4:r,l;for(l=0;l<o;l+=4)e=Wn[t.charCodeAt(l)]<<18|Wn[t.charCodeAt(l+1)]<<12|Wn[t.charCodeAt(l+2)]<<6|Wn[t.charCodeAt(l+3)],s[a++]=e>>16&255,s[a++]=e>>8&255,s[a++]=e&255;return i===2&&(e=Wn[t.charCodeAt(l)]<<2|Wn[t.charCodeAt(l+1)]>>4,s[a++]=e&255),i===1&&(e=Wn[t.charCodeAt(l)]<<10|Wn[t.charCodeAt(l+1)]<<4|Wn[t.charCodeAt(l+2)]>>2,s[a++]=e>>8&255,s[a++]=e&255),s}function xW(t){return qr[t>>18&63]+qr[t>>12&63]+qr[t>>6&63]+qr[t&63]}function kW(t,e,n){for(var r,i=[],s=e;s<n;s+=3)r=(t[s]<<16&16711680)+(t[s+1]<<8&65280)+(t[s+2]&255),i.push(xW(r));return i.join("")}function SW(t){for(var e,n=t.length,r=n%3,i=[],s=16383,a=0,o=n-r;a<o;a+=s)i.push(kW(t,a,a+s>o?o:a+s));return r===1?(e=t[n-1],i.push(qr[e>>2]+qr[e<<4&63]+"==")):r===2&&(e=(t[n-2]<<8)+t[n-1],i.push(qr[e>>10]+qr[e>>4&63]+qr[e<<2&63]+"=")),i.join("")}var CW=Object.defineProperty,TW=(t,e,n)=>e in t?CW(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,PW=(t,e,n)=>(TW(t,e+"",n),n);function EW(t,e){let n=Array.from({length:t.length},(r,i)=>({start:i,end:i+1}));for(;n.length>1;){let r=null;for(let i=0;i<n.length-1;i++){const s=t.slice(n[i].start,n[i+1].end),a=e.get(s.join(","));a!=null&&(r==null||a<r[0])&&(r=[a,i])}if(r!=null){const i=r[1];n[i]={start:n[i].start,end:n[i+1].end},n.splice(i+1,1)}else break}return n}function AW(t,e){return t.length===1?[e.get(t.join(","))]:EW(t,e).map(n=>e.get(t.slice(n.start,n.end).join(","))).filter(n=>n!=null)}function IW(t){return t.replace(/[\\^$*+?.()|[\]{}]/g,"\\$&")}var Xv=class{constructor(t,e){ji(this,"specialTokens");ji(this,"inverseSpecialTokens");ji(this,"patStr");ji(this,"textEncoder",new TextEncoder);ji(this,"textDecoder",new TextDecoder("utf-8"));ji(this,"rankMap",new Map);ji(this,"textMap",new Map);this.patStr=t.pat_str;const n=t.bpe_ranks.split(`
`).filter(Boolean).reduce((r,i)=>{const[s,a,...o]=i.split(" "),l=Number.parseInt(a,10);return o.forEach((u,c)=>r[u]=l+c),r},{});for(const[r,i]of Object.entries(n)){const s=cm.toByteArray(r);this.rankMap.set(s.join(","),i),this.textMap.set(i,s)}this.specialTokens={...t.special_tokens,...e},this.inverseSpecialTokens=Object.entries(this.specialTokens).reduce((r,[i,s])=>(r[s]=this.textEncoder.encode(i),r),{})}encode(t,e=[],n="all"){const r=new RegExp(this.patStr,"ug"),i=Xv.specialTokenRegex(Object.keys(this.specialTokens)),s=[],a=new Set(e==="all"?Object.keys(this.specialTokens):e),o=new Set(n==="all"?Object.keys(this.specialTokens).filter(u=>!a.has(u)):n);if(o.size>0){const u=Xv.specialTokenRegex([...o]),c=t.match(u);if(c!=null)throw new Error(`The text contains a special token that is not allowed: ${c[0]}`)}let l=0;for(;;){let u=null,c=l;for(;i.lastIndex=c,u=i.exec(t),!(u==null||a.has(u[0]));)c=u.index+1;const d=(u==null?void 0:u.index)??t.length;for(const h of t.substring(l,d).matchAll(r)){const p=this.textEncoder.encode(h[0]),y=this.rankMap.get(p.join(","));if(y!=null){s.push(y);continue}s.push(...AW(p,this.rankMap))}if(u==null)break;let f=this.specialTokens[u[0]];s.push(f),l=u.index+u[0].length}return s}decode(t){const e=[];let n=0;for(let s=0;s<t.length;++s){const a=t[s],o=this.textMap.get(a)??this.inverseSpecialTokens[a];o!=null&&(e.push(o),n+=o.length)}const r=new Uint8Array(n);let i=0;for(const s of e)r.set(s,i),i+=s.length;return this.textDecoder.decode(r)}},CO=Xv;PW(CO,"specialTokenRegex",t=>new RegExp(t.map(e=>IW(e)).join("|"),"g"));function OW(t){switch(t){case"gpt2":return"gpt2";case"code-cushman-001":case"code-cushman-002":case"code-davinci-001":case"code-davinci-002":case"cushman-codex":case"davinci-codex":case"davinci-002":case"text-davinci-002":case"text-davinci-003":return"p50k_base";case"code-davinci-edit-001":case"text-davinci-edit-001":return"p50k_edit";case"ada":case"babbage":case"babbage-002":case"code-search-ada-code-001":case"code-search-babbage-code-001":case"curie":case"davinci":case"text-ada-001":case"text-babbage-001":case"text-curie-001":case"text-davinci-001":case"text-search-ada-doc-001":case"text-search-babbage-doc-001":case"text-search-curie-doc-001":case"text-search-davinci-doc-001":case"text-similarity-ada-001":case"text-similarity-babbage-001":case"text-similarity-curie-001":case"text-similarity-davinci-001":return"r50k_base";case"gpt-3.5-turbo-instruct-0914":case"gpt-3.5-turbo-instruct":case"gpt-3.5-turbo-16k-0613":case"gpt-3.5-turbo-16k":case"gpt-3.5-turbo-0613":case"gpt-3.5-turbo-0301":case"gpt-3.5-turbo":case"gpt-4-32k-0613":case"gpt-4-32k-0314":case"gpt-4-32k":case"gpt-4-0613":case"gpt-4-0314":case"gpt-4":case"gpt-3.5-turbo-1106":case"gpt-35-turbo":case"gpt-4-1106-preview":case"gpt-4-vision-preview":case"gpt-3.5-turbo-0125":case"gpt-4-turbo":case"gpt-4-turbo-2024-04-09":case"gpt-4-turbo-preview":case"gpt-4-0125-preview":case"text-embedding-ada-002":return"cl100k_base";default:throw new Error("Unknown model")}}const Od={},RW=new Uw({});async function $W(t){return t in Od||(Od[t]=RW.fetch(`https://tiktoken.pages.dev/js/${t}.json`).then(e=>e.json()).then(e=>new CO(e)).catch(e=>{throw delete Od[t],e})),await Od[t]}async function NW(t){return $W(OW(t))}var ye;(function(t){t.assertEqual=i=>i;function e(i){}t.assertIs=e;function n(i){throw new Error}t.assertNever=n,t.arrayToEnum=i=>{const s={};for(const a of i)s[a]=a;return s},t.getValidEnumValues=i=>{const s=t.objectKeys(i).filter(o=>typeof i[i[o]]!="number"),a={};for(const o of s)a[o]=i[o];return t.objectValues(a)},t.objectValues=i=>t.objectKeys(i).map(function(s){return i[s]}),t.objectKeys=typeof Object.keys=="function"?i=>Object.keys(i):i=>{const s=[];for(const a in i)Object.prototype.hasOwnProperty.call(i,a)&&s.push(a);return s},t.find=(i,s)=>{for(const a of i)if(s(a))return a},t.isInteger=typeof Number.isInteger=="function"?i=>Number.isInteger(i):i=>typeof i=="number"&&isFinite(i)&&Math.floor(i)===i;function r(i,s=" | "){return i.map(a=>typeof a=="string"?`'${a}'`:a).join(s)}t.joinValues=r,t.jsonStringifyReplacer=(i,s)=>typeof s=="bigint"?s.toString():s})(ye||(ye={}));var Yv;(function(t){t.mergeShapes=(e,n)=>({...e,...n})})(Yv||(Yv={}));const H=ye.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),Yi=t=>{switch(typeof t){case"undefined":return H.undefined;case"string":return H.string;case"number":return isNaN(t)?H.nan:H.number;case"boolean":return H.boolean;case"function":return H.function;case"bigint":return H.bigint;case"symbol":return H.symbol;case"object":return Array.isArray(t)?H.array:t===null?H.null:t.then&&typeof t.then=="function"&&t.catch&&typeof t.catch=="function"?H.promise:typeof Map<"u"&&t instanceof Map?H.map:typeof Set<"u"&&t instanceof Set?H.set:typeof Date<"u"&&t instanceof Date?H.date:H.object;default:return H.unknown}},L=ye.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]),jW=t=>JSON.stringify(t,null,2).replace(/"([^"]+)":/g,"$1:");class Rn extends Error{constructor(e){super(),this.issues=[],this.addIssue=r=>{this.issues=[...this.issues,r]},this.addIssues=(r=[])=>{this.issues=[...this.issues,...r]};const n=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,n):this.__proto__=n,this.name="ZodError",this.issues=e}get errors(){return this.issues}format(e){const n=e||function(s){return s.message},r={_errors:[]},i=s=>{for(const a of s.issues)if(a.code==="invalid_union")a.unionErrors.map(i);else if(a.code==="invalid_return_type")i(a.returnTypeError);else if(a.code==="invalid_arguments")i(a.argumentsError);else if(a.path.length===0)r._errors.push(n(a));else{let o=r,l=0;for(;l<a.path.length;){const u=a.path[l];l===a.path.length-1?(o[u]=o[u]||{_errors:[]},o[u]._errors.push(n(a))):o[u]=o[u]||{_errors:[]},o=o[u],l++}}};return i(this),r}static assert(e){if(!(e instanceof Rn))throw new Error(`Not a ZodError: ${e}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,ye.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(e=n=>n.message){const n={},r=[];for(const i of this.issues)i.path.length>0?(n[i.path[0]]=n[i.path[0]]||[],n[i.path[0]].push(e(i))):r.push(e(i));return{formErrors:r,fieldErrors:n}}get formErrors(){return this.flatten()}}Rn.create=t=>new Rn(t);const Fo=(t,e)=>{let n;switch(t.code){case L.invalid_type:t.received===H.undefined?n="Required":n=`Expected ${t.expected}, received ${t.received}`;break;case L.invalid_literal:n=`Invalid literal value, expected ${JSON.stringify(t.expected,ye.jsonStringifyReplacer)}`;break;case L.unrecognized_keys:n=`Unrecognized key(s) in object: ${ye.joinValues(t.keys,", ")}`;break;case L.invalid_union:n="Invalid input";break;case L.invalid_union_discriminator:n=`Invalid discriminator value. Expected ${ye.joinValues(t.options)}`;break;case L.invalid_enum_value:n=`Invalid enum value. Expected ${ye.joinValues(t.options)}, received '${t.received}'`;break;case L.invalid_arguments:n="Invalid function arguments";break;case L.invalid_return_type:n="Invalid function return type";break;case L.invalid_date:n="Invalid date";break;case L.invalid_string:typeof t.validation=="object"?"includes"in t.validation?(n=`Invalid input: must include "${t.validation.includes}"`,typeof t.validation.position=="number"&&(n=`${n} at one or more positions greater than or equal to ${t.validation.position}`)):"startsWith"in t.validation?n=`Invalid input: must start with "${t.validation.startsWith}"`:"endsWith"in t.validation?n=`Invalid input: must end with "${t.validation.endsWith}"`:ye.assertNever(t.validation):t.validation!=="regex"?n=`Invalid ${t.validation}`:n="Invalid";break;case L.too_small:t.type==="array"?n=`Array must contain ${t.exact?"exactly":t.inclusive?"at least":"more than"} ${t.minimum} element(s)`:t.type==="string"?n=`String must contain ${t.exact?"exactly":t.inclusive?"at least":"over"} ${t.minimum} character(s)`:t.type==="number"?n=`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:t.type==="date"?n=`Date must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(t.minimum))}`:n="Invalid input";break;case L.too_big:t.type==="array"?n=`Array must contain ${t.exact?"exactly":t.inclusive?"at most":"less than"} ${t.maximum} element(s)`:t.type==="string"?n=`String must contain ${t.exact?"exactly":t.inclusive?"at most":"under"} ${t.maximum} character(s)`:t.type==="number"?n=`Number must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="bigint"?n=`BigInt must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="date"?n=`Date must be ${t.exact?"exactly":t.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(t.maximum))}`:n="Invalid input";break;case L.custom:n="Invalid input";break;case L.invalid_intersection_types:n="Intersection results could not be merged";break;case L.not_multiple_of:n=`Number must be a multiple of ${t.multipleOf}`;break;case L.not_finite:n="Number must be finite";break;default:n=e.defaultError,ye.assertNever(t)}return{message:n}};let TO=Fo;function MW(t){TO=t}function qh(){return TO}const Zh=t=>{const{data:e,path:n,errorMaps:r,issueData:i}=t,s=[...n,...i.path||[]],a={...i,path:s};if(i.message!==void 0)return{...i,path:s,message:i.message};let o="";const l=r.filter(u=>!!u).slice().reverse();for(const u of l)o=u(a,{data:e,defaultError:o}).message;return{...i,path:s,message:o}},LW=[];function U(t,e){const n=qh(),r=Zh({issueData:e,data:t.data,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,n,n===Fo?void 0:Fo].filter(i=>!!i)});t.common.issues.push(r)}class qt{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(e,n){const r=[];for(const i of n){if(i.status==="aborted")return ne;i.status==="dirty"&&e.dirty(),r.push(i.value)}return{status:e.value,value:r}}static async mergeObjectAsync(e,n){const r=[];for(const i of n){const s=await i.key,a=await i.value;r.push({key:s,value:a})}return qt.mergeObjectSync(e,r)}static mergeObjectSync(e,n){const r={};for(const i of n){const{key:s,value:a}=i;if(s.status==="aborted"||a.status==="aborted")return ne;s.status==="dirty"&&e.dirty(),a.status==="dirty"&&e.dirty(),s.value!=="__proto__"&&(typeof a.value<"u"||i.alwaysSet)&&(r[s.value]=a.value)}return{status:e.value,value:r}}}const ne=Object.freeze({status:"aborted"}),lo=t=>({status:"dirty",value:t}),tn=t=>({status:"valid",value:t}),Qv=t=>t.status==="aborted",e0=t=>t.status==="dirty",Qu=t=>t.status==="valid",ec=t=>typeof Promise<"u"&&t instanceof Promise;function Gh(t,e,n,r){if(typeof e=="function"?t!==e||!r:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return e.get(t)}function PO(t,e,n,r,i){if(typeof e=="function"?t!==e||!i:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return e.set(t,n),n}var G;(function(t){t.errToObj=e=>typeof e=="string"?{message:e}:e||{},t.toString=e=>typeof e=="string"?e:e==null?void 0:e.message})(G||(G={}));var Ul,Hl;class ti{constructor(e,n,r,i){this._cachedPath=[],this.parent=e,this.data=n,this._path=r,this._key=i}get path(){return this._cachedPath.length||(this._key instanceof Array?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const CS=(t,e)=>{if(Qu(e))return{success:!0,data:e.value};if(!t.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const n=new Rn(t.common.issues);return this._error=n,this._error}}};function se(t){if(!t)return{};const{errorMap:e,invalid_type_error:n,required_error:r,description:i}=t;if(e&&(n||r))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return e?{errorMap:e,description:i}:{errorMap:(a,o)=>{var l,u;const{message:c}=t;return a.code==="invalid_enum_value"?{message:c??o.defaultError}:typeof o.data>"u"?{message:(l=c??r)!==null&&l!==void 0?l:o.defaultError}:a.code!=="invalid_type"?{message:o.defaultError}:{message:(u=c??n)!==null&&u!==void 0?u:o.defaultError}},description:i}}class le{constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this)}get description(){return this._def.description}_getType(e){return Yi(e.data)}_getOrReturnCtx(e,n){return n||{common:e.parent.common,data:e.data,parsedType:Yi(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new qt,ctx:{common:e.parent.common,data:e.data,parsedType:Yi(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){const n=this._parse(e);if(ec(n))throw new Error("Synchronous parse encountered promise.");return n}_parseAsync(e){const n=this._parse(e);return Promise.resolve(n)}parse(e,n){const r=this.safeParse(e,n);if(r.success)return r.data;throw r.error}safeParse(e,n){var r;const i={common:{issues:[],async:(r=n==null?void 0:n.async)!==null&&r!==void 0?r:!1,contextualErrorMap:n==null?void 0:n.errorMap},path:(n==null?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Yi(e)},s=this._parseSync({data:e,path:i.path,parent:i});return CS(i,s)}async parseAsync(e,n){const r=await this.safeParseAsync(e,n);if(r.success)return r.data;throw r.error}async safeParseAsync(e,n){const r={common:{issues:[],contextualErrorMap:n==null?void 0:n.errorMap,async:!0},path:(n==null?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Yi(e)},i=this._parse({data:e,path:r.path,parent:r}),s=await(ec(i)?i:Promise.resolve(i));return CS(r,s)}refine(e,n){const r=i=>typeof n=="string"||typeof n>"u"?{message:n}:typeof n=="function"?n(i):n;return this._refinement((i,s)=>{const a=e(i),o=()=>s.addIssue({code:L.custom,...r(i)});return typeof Promise<"u"&&a instanceof Promise?a.then(l=>l?!0:(o(),!1)):a?!0:(o(),!1)})}refinement(e,n){return this._refinement((r,i)=>e(r)?!0:(i.addIssue(typeof n=="function"?n(r,i):n),!1))}_refinement(e){return new Ir({schema:this,typeName:D.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}optional(){return ei.create(this,this._def)}nullable(){return ws.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return Tr.create(this,this._def)}promise(){return Vo.create(this,this._def)}or(e){return ic.create([this,e],this._def)}and(e){return sc.create(this,e,this._def)}transform(e){return new Ir({...se(this._def),schema:this,typeName:D.ZodEffects,effect:{type:"transform",transform:e}})}default(e){const n=typeof e=="function"?e:()=>e;return new cc({...se(this._def),innerType:this,defaultValue:n,typeName:D.ZodDefault})}brand(){return new Hw({typeName:D.ZodBranded,type:this,...se(this._def)})}catch(e){const n=typeof e=="function"?e:()=>e;return new dc({...se(this._def),innerType:this,catchValue:n,typeName:D.ZodCatch})}describe(e){const n=this.constructor;return new n({...this._def,description:e})}pipe(e){return Nc.create(this,e)}readonly(){return fc.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const zW=/^c[^\s-]{8,}$/i,DW=/^[0-9a-z]+$/,FW=/^[0-9A-HJKMNP-TV-Z]{26}$/,BW=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,VW=/^[a-z0-9_-]{21}$/i,UW=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,HW=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,WW="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let qg;const qW=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,ZW=/^(([a-f0-9]{1,4}:){7}|::([a-f0-9]{1,4}:){0,6}|([a-f0-9]{1,4}:){1}:([a-f0-9]{1,4}:){0,5}|([a-f0-9]{1,4}:){2}:([a-f0-9]{1,4}:){0,4}|([a-f0-9]{1,4}:){3}:([a-f0-9]{1,4}:){0,3}|([a-f0-9]{1,4}:){4}:([a-f0-9]{1,4}:){0,2}|([a-f0-9]{1,4}:){5}:([a-f0-9]{1,4}:){0,1})([a-f0-9]{1,4}|(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2})))$/,GW=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,EO="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",KW=new RegExp(`^${EO}$`);function AO(t){let e="([01]\\d|2[0-3]):[0-5]\\d:[0-5]\\d";return t.precision?e=`${e}\\.\\d{${t.precision}}`:t.precision==null&&(e=`${e}(\\.\\d+)?`),e}function JW(t){return new RegExp(`^${AO(t)}$`)}function IO(t){let e=`${EO}T${AO(t)}`;const n=[];return n.push(t.local?"Z?":"Z"),t.offset&&n.push("([+-]\\d{2}:?\\d{2})"),e=`${e}(${n.join("|")})`,new RegExp(`^${e}$`)}function XW(t,e){return!!((e==="v4"||!e)&&qW.test(t)||(e==="v6"||!e)&&ZW.test(t))}class xr extends le{_parse(e){if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==H.string){const s=this._getOrReturnCtx(e);return U(s,{code:L.invalid_type,expected:H.string,received:s.parsedType}),ne}const r=new qt;let i;for(const s of this._def.checks)if(s.kind==="min")e.data.length<s.value&&(i=this._getOrReturnCtx(e,i),U(i,{code:L.too_small,minimum:s.value,type:"string",inclusive:!0,exact:!1,message:s.message}),r.dirty());else if(s.kind==="max")e.data.length>s.value&&(i=this._getOrReturnCtx(e,i),U(i,{code:L.too_big,maximum:s.value,type:"string",inclusive:!0,exact:!1,message:s.message}),r.dirty());else if(s.kind==="length"){const a=e.data.length>s.value,o=e.data.length<s.value;(a||o)&&(i=this._getOrReturnCtx(e,i),a?U(i,{code:L.too_big,maximum:s.value,type:"string",inclusive:!0,exact:!0,message:s.message}):o&&U(i,{code:L.too_small,minimum:s.value,type:"string",inclusive:!0,exact:!0,message:s.message}),r.dirty())}else if(s.kind==="email")HW.test(e.data)||(i=this._getOrReturnCtx(e,i),U(i,{validation:"email",code:L.invalid_string,message:s.message}),r.dirty());else if(s.kind==="emoji")qg||(qg=new RegExp(WW,"u")),qg.test(e.data)||(i=this._getOrReturnCtx(e,i),U(i,{validation:"emoji",code:L.invalid_string,message:s.message}),r.dirty());else if(s.kind==="uuid")BW.test(e.data)||(i=this._getOrReturnCtx(e,i),U(i,{validation:"uuid",code:L.invalid_string,message:s.message}),r.dirty());else if(s.kind==="nanoid")VW.test(e.data)||(i=this._getOrReturnCtx(e,i),U(i,{validation:"nanoid",code:L.invalid_string,message:s.message}),r.dirty());else if(s.kind==="cuid")zW.test(e.data)||(i=this._getOrReturnCtx(e,i),U(i,{validation:"cuid",code:L.invalid_string,message:s.message}),r.dirty());else if(s.kind==="cuid2")DW.test(e.data)||(i=this._getOrReturnCtx(e,i),U(i,{validation:"cuid2",code:L.invalid_string,message:s.message}),r.dirty());else if(s.kind==="ulid")FW.test(e.data)||(i=this._getOrReturnCtx(e,i),U(i,{validation:"ulid",code:L.invalid_string,message:s.message}),r.dirty());else if(s.kind==="url")try{new URL(e.data)}catch{i=this._getOrReturnCtx(e,i),U(i,{validation:"url",code:L.invalid_string,message:s.message}),r.dirty()}else s.kind==="regex"?(s.regex.lastIndex=0,s.regex.test(e.data)||(i=this._getOrReturnCtx(e,i),U(i,{validation:"regex",code:L.invalid_string,message:s.message}),r.dirty())):s.kind==="trim"?e.data=e.data.trim():s.kind==="includes"?e.data.includes(s.value,s.position)||(i=this._getOrReturnCtx(e,i),U(i,{code:L.invalid_string,validation:{includes:s.value,position:s.position},message:s.message}),r.dirty()):s.kind==="toLowerCase"?e.data=e.data.toLowerCase():s.kind==="toUpperCase"?e.data=e.data.toUpperCase():s.kind==="startsWith"?e.data.startsWith(s.value)||(i=this._getOrReturnCtx(e,i),U(i,{code:L.invalid_string,validation:{startsWith:s.value},message:s.message}),r.dirty()):s.kind==="endsWith"?e.data.endsWith(s.value)||(i=this._getOrReturnCtx(e,i),U(i,{code:L.invalid_string,validation:{endsWith:s.value},message:s.message}),r.dirty()):s.kind==="datetime"?IO(s).test(e.data)||(i=this._getOrReturnCtx(e,i),U(i,{code:L.invalid_string,validation:"datetime",message:s.message}),r.dirty()):s.kind==="date"?KW.test(e.data)||(i=this._getOrReturnCtx(e,i),U(i,{code:L.invalid_string,validation:"date",message:s.message}),r.dirty()):s.kind==="time"?JW(s).test(e.data)||(i=this._getOrReturnCtx(e,i),U(i,{code:L.invalid_string,validation:"time",message:s.message}),r.dirty()):s.kind==="duration"?UW.test(e.data)||(i=this._getOrReturnCtx(e,i),U(i,{validation:"duration",code:L.invalid_string,message:s.message}),r.dirty()):s.kind==="ip"?XW(e.data,s.version)||(i=this._getOrReturnCtx(e,i),U(i,{validation:"ip",code:L.invalid_string,message:s.message}),r.dirty()):s.kind==="base64"?GW.test(e.data)||(i=this._getOrReturnCtx(e,i),U(i,{validation:"base64",code:L.invalid_string,message:s.message}),r.dirty()):ye.assertNever(s);return{status:r.value,value:e.data}}_regex(e,n,r){return this.refinement(i=>e.test(i),{validation:n,code:L.invalid_string,...G.errToObj(r)})}_addCheck(e){return new xr({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...G.errToObj(e)})}url(e){return this._addCheck({kind:"url",...G.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...G.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...G.errToObj(e)})}nanoid(e){return this._addCheck({kind:"nanoid",...G.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...G.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...G.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...G.errToObj(e)})}base64(e){return this._addCheck({kind:"base64",...G.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...G.errToObj(e)})}datetime(e){var n,r;return typeof e=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:e}):this._addCheck({kind:"datetime",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,offset:(n=e==null?void 0:e.offset)!==null&&n!==void 0?n:!1,local:(r=e==null?void 0:e.local)!==null&&r!==void 0?r:!1,...G.errToObj(e==null?void 0:e.message)})}date(e){return this._addCheck({kind:"date",message:e})}time(e){return typeof e=="string"?this._addCheck({kind:"time",precision:null,message:e}):this._addCheck({kind:"time",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,...G.errToObj(e==null?void 0:e.message)})}duration(e){return this._addCheck({kind:"duration",...G.errToObj(e)})}regex(e,n){return this._addCheck({kind:"regex",regex:e,...G.errToObj(n)})}includes(e,n){return this._addCheck({kind:"includes",value:e,position:n==null?void 0:n.position,...G.errToObj(n==null?void 0:n.message)})}startsWith(e,n){return this._addCheck({kind:"startsWith",value:e,...G.errToObj(n)})}endsWith(e,n){return this._addCheck({kind:"endsWith",value:e,...G.errToObj(n)})}min(e,n){return this._addCheck({kind:"min",value:e,...G.errToObj(n)})}max(e,n){return this._addCheck({kind:"max",value:e,...G.errToObj(n)})}length(e,n){return this._addCheck({kind:"length",value:e,...G.errToObj(n)})}nonempty(e){return this.min(1,G.errToObj(e))}trim(){return new xr({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new xr({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new xr({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(e=>e.kind==="datetime")}get isDate(){return!!this._def.checks.find(e=>e.kind==="date")}get isTime(){return!!this._def.checks.find(e=>e.kind==="time")}get isDuration(){return!!this._def.checks.find(e=>e.kind==="duration")}get isEmail(){return!!this._def.checks.find(e=>e.kind==="email")}get isURL(){return!!this._def.checks.find(e=>e.kind==="url")}get isEmoji(){return!!this._def.checks.find(e=>e.kind==="emoji")}get isUUID(){return!!this._def.checks.find(e=>e.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(e=>e.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(e=>e.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(e=>e.kind==="cuid2")}get isULID(){return!!this._def.checks.find(e=>e.kind==="ulid")}get isIP(){return!!this._def.checks.find(e=>e.kind==="ip")}get isBase64(){return!!this._def.checks.find(e=>e.kind==="base64")}get minLength(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxLength(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}}xr.create=t=>{var e;return new xr({checks:[],typeName:D.ZodString,coerce:(e=t==null?void 0:t.coerce)!==null&&e!==void 0?e:!1,...se(t)})};function YW(t,e){const n=(t.toString().split(".")[1]||"").length,r=(e.toString().split(".")[1]||"").length,i=n>r?n:r,s=parseInt(t.toFixed(i).replace(".","")),a=parseInt(e.toFixed(i).replace(".",""));return s%a/Math.pow(10,i)}class ys extends le{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==H.number){const s=this._getOrReturnCtx(e);return U(s,{code:L.invalid_type,expected:H.number,received:s.parsedType}),ne}let r;const i=new qt;for(const s of this._def.checks)s.kind==="int"?ye.isInteger(e.data)||(r=this._getOrReturnCtx(e,r),U(r,{code:L.invalid_type,expected:"integer",received:"float",message:s.message}),i.dirty()):s.kind==="min"?(s.inclusive?e.data<s.value:e.data<=s.value)&&(r=this._getOrReturnCtx(e,r),U(r,{code:L.too_small,minimum:s.value,type:"number",inclusive:s.inclusive,exact:!1,message:s.message}),i.dirty()):s.kind==="max"?(s.inclusive?e.data>s.value:e.data>=s.value)&&(r=this._getOrReturnCtx(e,r),U(r,{code:L.too_big,maximum:s.value,type:"number",inclusive:s.inclusive,exact:!1,message:s.message}),i.dirty()):s.kind==="multipleOf"?YW(e.data,s.value)!==0&&(r=this._getOrReturnCtx(e,r),U(r,{code:L.not_multiple_of,multipleOf:s.value,message:s.message}),i.dirty()):s.kind==="finite"?Number.isFinite(e.data)||(r=this._getOrReturnCtx(e,r),U(r,{code:L.not_finite,message:s.message}),i.dirty()):ye.assertNever(s);return{status:i.value,value:e.data}}gte(e,n){return this.setLimit("min",e,!0,G.toString(n))}gt(e,n){return this.setLimit("min",e,!1,G.toString(n))}lte(e,n){return this.setLimit("max",e,!0,G.toString(n))}lt(e,n){return this.setLimit("max",e,!1,G.toString(n))}setLimit(e,n,r,i){return new ys({...this._def,checks:[...this._def.checks,{kind:e,value:n,inclusive:r,message:G.toString(i)}]})}_addCheck(e){return new ys({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:G.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:G.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:G.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:G.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:G.toString(e)})}multipleOf(e,n){return this._addCheck({kind:"multipleOf",value:e,message:G.toString(n)})}finite(e){return this._addCheck({kind:"finite",message:G.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:G.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:G.toString(e)})}get minValue(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxValue(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}get isInt(){return!!this._def.checks.find(e=>e.kind==="int"||e.kind==="multipleOf"&&ye.isInteger(e.value))}get isFinite(){let e=null,n=null;for(const r of this._def.checks){if(r.kind==="finite"||r.kind==="int"||r.kind==="multipleOf")return!0;r.kind==="min"?(n===null||r.value>n)&&(n=r.value):r.kind==="max"&&(e===null||r.value<e)&&(e=r.value)}return Number.isFinite(n)&&Number.isFinite(e)}}ys.create=t=>new ys({checks:[],typeName:D.ZodNumber,coerce:(t==null?void 0:t.coerce)||!1,...se(t)});class vs extends le{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){if(this._def.coerce&&(e.data=BigInt(e.data)),this._getType(e)!==H.bigint){const s=this._getOrReturnCtx(e);return U(s,{code:L.invalid_type,expected:H.bigint,received:s.parsedType}),ne}let r;const i=new qt;for(const s of this._def.checks)s.kind==="min"?(s.inclusive?e.data<s.value:e.data<=s.value)&&(r=this._getOrReturnCtx(e,r),U(r,{code:L.too_small,type:"bigint",minimum:s.value,inclusive:s.inclusive,message:s.message}),i.dirty()):s.kind==="max"?(s.inclusive?e.data>s.value:e.data>=s.value)&&(r=this._getOrReturnCtx(e,r),U(r,{code:L.too_big,type:"bigint",maximum:s.value,inclusive:s.inclusive,message:s.message}),i.dirty()):s.kind==="multipleOf"?e.data%s.value!==BigInt(0)&&(r=this._getOrReturnCtx(e,r),U(r,{code:L.not_multiple_of,multipleOf:s.value,message:s.message}),i.dirty()):ye.assertNever(s);return{status:i.value,value:e.data}}gte(e,n){return this.setLimit("min",e,!0,G.toString(n))}gt(e,n){return this.setLimit("min",e,!1,G.toString(n))}lte(e,n){return this.setLimit("max",e,!0,G.toString(n))}lt(e,n){return this.setLimit("max",e,!1,G.toString(n))}setLimit(e,n,r,i){return new vs({...this._def,checks:[...this._def.checks,{kind:e,value:n,inclusive:r,message:G.toString(i)}]})}_addCheck(e){return new vs({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:G.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:G.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:G.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:G.toString(e)})}multipleOf(e,n){return this._addCheck({kind:"multipleOf",value:e,message:G.toString(n)})}get minValue(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxValue(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}}vs.create=t=>{var e;return new vs({checks:[],typeName:D.ZodBigInt,coerce:(e=t==null?void 0:t.coerce)!==null&&e!==void 0?e:!1,...se(t)})};class tc extends le{_parse(e){if(this._def.coerce&&(e.data=!!e.data),this._getType(e)!==H.boolean){const r=this._getOrReturnCtx(e);return U(r,{code:L.invalid_type,expected:H.boolean,received:r.parsedType}),ne}return tn(e.data)}}tc.create=t=>new tc({typeName:D.ZodBoolean,coerce:(t==null?void 0:t.coerce)||!1,...se(t)});class ma extends le{_parse(e){if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==H.date){const s=this._getOrReturnCtx(e);return U(s,{code:L.invalid_type,expected:H.date,received:s.parsedType}),ne}if(isNaN(e.data.getTime())){const s=this._getOrReturnCtx(e);return U(s,{code:L.invalid_date}),ne}const r=new qt;let i;for(const s of this._def.checks)s.kind==="min"?e.data.getTime()<s.value&&(i=this._getOrReturnCtx(e,i),U(i,{code:L.too_small,message:s.message,inclusive:!0,exact:!1,minimum:s.value,type:"date"}),r.dirty()):s.kind==="max"?e.data.getTime()>s.value&&(i=this._getOrReturnCtx(e,i),U(i,{code:L.too_big,message:s.message,inclusive:!0,exact:!1,maximum:s.value,type:"date"}),r.dirty()):ye.assertNever(s);return{status:r.value,value:new Date(e.data.getTime())}}_addCheck(e){return new ma({...this._def,checks:[...this._def.checks,e]})}min(e,n){return this._addCheck({kind:"min",value:e.getTime(),message:G.toString(n)})}max(e,n){return this._addCheck({kind:"max",value:e.getTime(),message:G.toString(n)})}get minDate(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e!=null?new Date(e):null}get maxDate(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e!=null?new Date(e):null}}ma.create=t=>new ma({checks:[],coerce:(t==null?void 0:t.coerce)||!1,typeName:D.ZodDate,...se(t)});class Kh extends le{_parse(e){if(this._getType(e)!==H.symbol){const r=this._getOrReturnCtx(e);return U(r,{code:L.invalid_type,expected:H.symbol,received:r.parsedType}),ne}return tn(e.data)}}Kh.create=t=>new Kh({typeName:D.ZodSymbol,...se(t)});class nc extends le{_parse(e){if(this._getType(e)!==H.undefined){const r=this._getOrReturnCtx(e);return U(r,{code:L.invalid_type,expected:H.undefined,received:r.parsedType}),ne}return tn(e.data)}}nc.create=t=>new nc({typeName:D.ZodUndefined,...se(t)});class rc extends le{_parse(e){if(this._getType(e)!==H.null){const r=this._getOrReturnCtx(e);return U(r,{code:L.invalid_type,expected:H.null,received:r.parsedType}),ne}return tn(e.data)}}rc.create=t=>new rc({typeName:D.ZodNull,...se(t)});class Bo extends le{constructor(){super(...arguments),this._any=!0}_parse(e){return tn(e.data)}}Bo.create=t=>new Bo({typeName:D.ZodAny,...se(t)});class sa extends le{constructor(){super(...arguments),this._unknown=!0}_parse(e){return tn(e.data)}}sa.create=t=>new sa({typeName:D.ZodUnknown,...se(t)});class Ri extends le{_parse(e){const n=this._getOrReturnCtx(e);return U(n,{code:L.invalid_type,expected:H.never,received:n.parsedType}),ne}}Ri.create=t=>new Ri({typeName:D.ZodNever,...se(t)});class Jh extends le{_parse(e){if(this._getType(e)!==H.undefined){const r=this._getOrReturnCtx(e);return U(r,{code:L.invalid_type,expected:H.void,received:r.parsedType}),ne}return tn(e.data)}}Jh.create=t=>new Jh({typeName:D.ZodVoid,...se(t)});class Tr extends le{_parse(e){const{ctx:n,status:r}=this._processInputParams(e),i=this._def;if(n.parsedType!==H.array)return U(n,{code:L.invalid_type,expected:H.array,received:n.parsedType}),ne;if(i.exactLength!==null){const a=n.data.length>i.exactLength.value,o=n.data.length<i.exactLength.value;(a||o)&&(U(n,{code:a?L.too_big:L.too_small,minimum:o?i.exactLength.value:void 0,maximum:a?i.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:i.exactLength.message}),r.dirty())}if(i.minLength!==null&&n.data.length<i.minLength.value&&(U(n,{code:L.too_small,minimum:i.minLength.value,type:"array",inclusive:!0,exact:!1,message:i.minLength.message}),r.dirty()),i.maxLength!==null&&n.data.length>i.maxLength.value&&(U(n,{code:L.too_big,maximum:i.maxLength.value,type:"array",inclusive:!0,exact:!1,message:i.maxLength.message}),r.dirty()),n.common.async)return Promise.all([...n.data].map((a,o)=>i.type._parseAsync(new ti(n,a,n.path,o)))).then(a=>qt.mergeArray(r,a));const s=[...n.data].map((a,o)=>i.type._parseSync(new ti(n,a,n.path,o)));return qt.mergeArray(r,s)}get element(){return this._def.type}min(e,n){return new Tr({...this._def,minLength:{value:e,message:G.toString(n)}})}max(e,n){return new Tr({...this._def,maxLength:{value:e,message:G.toString(n)}})}length(e,n){return new Tr({...this._def,exactLength:{value:e,message:G.toString(n)}})}nonempty(e){return this.min(1,e)}}Tr.create=(t,e)=>new Tr({type:t,minLength:null,maxLength:null,exactLength:null,typeName:D.ZodArray,...se(e)});function Ma(t){if(t instanceof Qe){const e={};for(const n in t.shape){const r=t.shape[n];e[n]=ei.create(Ma(r))}return new Qe({...t._def,shape:()=>e})}else return t instanceof Tr?new Tr({...t._def,type:Ma(t.element)}):t instanceof ei?ei.create(Ma(t.unwrap())):t instanceof ws?ws.create(Ma(t.unwrap())):t instanceof ni?ni.create(t.items.map(e=>Ma(e))):t}class Qe extends le{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const e=this._def.shape(),n=ye.objectKeys(e);return this._cached={shape:e,keys:n}}_parse(e){if(this._getType(e)!==H.object){const u=this._getOrReturnCtx(e);return U(u,{code:L.invalid_type,expected:H.object,received:u.parsedType}),ne}const{status:r,ctx:i}=this._processInputParams(e),{shape:s,keys:a}=this._getCached(),o=[];if(!(this._def.catchall instanceof Ri&&this._def.unknownKeys==="strip"))for(const u in i.data)a.includes(u)||o.push(u);const l=[];for(const u of a){const c=s[u],d=i.data[u];l.push({key:{status:"valid",value:u},value:c._parse(new ti(i,d,i.path,u)),alwaysSet:u in i.data})}if(this._def.catchall instanceof Ri){const u=this._def.unknownKeys;if(u==="passthrough")for(const c of o)l.push({key:{status:"valid",value:c},value:{status:"valid",value:i.data[c]}});else if(u==="strict")o.length>0&&(U(i,{code:L.unrecognized_keys,keys:o}),r.dirty());else if(u!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const u=this._def.catchall;for(const c of o){const d=i.data[c];l.push({key:{status:"valid",value:c},value:u._parse(new ti(i,d,i.path,c)),alwaysSet:c in i.data})}}return i.common.async?Promise.resolve().then(async()=>{const u=[];for(const c of l){const d=await c.key,f=await c.value;u.push({key:d,value:f,alwaysSet:c.alwaysSet})}return u}).then(u=>qt.mergeObjectSync(r,u)):qt.mergeObjectSync(r,l)}get shape(){return this._def.shape()}strict(e){return G.errToObj,new Qe({...this._def,unknownKeys:"strict",...e!==void 0?{errorMap:(n,r)=>{var i,s,a,o;const l=(a=(s=(i=this._def).errorMap)===null||s===void 0?void 0:s.call(i,n,r).message)!==null&&a!==void 0?a:r.defaultError;return n.code==="unrecognized_keys"?{message:(o=G.errToObj(e).message)!==null&&o!==void 0?o:l}:{message:l}}}:{}})}strip(){return new Qe({...this._def,unknownKeys:"strip"})}passthrough(){return new Qe({...this._def,unknownKeys:"passthrough"})}extend(e){return new Qe({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new Qe({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:D.ZodObject})}setKey(e,n){return this.augment({[e]:n})}catchall(e){return new Qe({...this._def,catchall:e})}pick(e){const n={};return ye.objectKeys(e).forEach(r=>{e[r]&&this.shape[r]&&(n[r]=this.shape[r])}),new Qe({...this._def,shape:()=>n})}omit(e){const n={};return ye.objectKeys(this.shape).forEach(r=>{e[r]||(n[r]=this.shape[r])}),new Qe({...this._def,shape:()=>n})}deepPartial(){return Ma(this)}partial(e){const n={};return ye.objectKeys(this.shape).forEach(r=>{const i=this.shape[r];e&&!e[r]?n[r]=i:n[r]=i.optional()}),new Qe({...this._def,shape:()=>n})}required(e){const n={};return ye.objectKeys(this.shape).forEach(r=>{if(e&&!e[r])n[r]=this.shape[r];else{let s=this.shape[r];for(;s instanceof ei;)s=s._def.innerType;n[r]=s}}),new Qe({...this._def,shape:()=>n})}keyof(){return OO(ye.objectKeys(this.shape))}}Qe.create=(t,e)=>new Qe({shape:()=>t,unknownKeys:"strip",catchall:Ri.create(),typeName:D.ZodObject,...se(e)});Qe.strictCreate=(t,e)=>new Qe({shape:()=>t,unknownKeys:"strict",catchall:Ri.create(),typeName:D.ZodObject,...se(e)});Qe.lazycreate=(t,e)=>new Qe({shape:t,unknownKeys:"strip",catchall:Ri.create(),typeName:D.ZodObject,...se(e)});class ic extends le{_parse(e){const{ctx:n}=this._processInputParams(e),r=this._def.options;function i(s){for(const o of s)if(o.result.status==="valid")return o.result;for(const o of s)if(o.result.status==="dirty")return n.common.issues.push(...o.ctx.common.issues),o.result;const a=s.map(o=>new Rn(o.ctx.common.issues));return U(n,{code:L.invalid_union,unionErrors:a}),ne}if(n.common.async)return Promise.all(r.map(async s=>{const a={...n,common:{...n.common,issues:[]},parent:null};return{result:await s._parseAsync({data:n.data,path:n.path,parent:a}),ctx:a}})).then(i);{let s;const a=[];for(const l of r){const u={...n,common:{...n.common,issues:[]},parent:null},c=l._parseSync({data:n.data,path:n.path,parent:u});if(c.status==="valid")return c;c.status==="dirty"&&!s&&(s={result:c,ctx:u}),u.common.issues.length&&a.push(u.common.issues)}if(s)return n.common.issues.push(...s.ctx.common.issues),s.result;const o=a.map(l=>new Rn(l));return U(n,{code:L.invalid_union,unionErrors:o}),ne}}get options(){return this._def.options}}ic.create=(t,e)=>new ic({options:t,typeName:D.ZodUnion,...se(e)});const fi=t=>t instanceof oc?fi(t.schema):t instanceof Ir?fi(t.innerType()):t instanceof lc?[t.value]:t instanceof bs?t.options:t instanceof uc?ye.objectValues(t.enum):t instanceof cc?fi(t._def.innerType):t instanceof nc?[void 0]:t instanceof rc?[null]:t instanceof ei?[void 0,...fi(t.unwrap())]:t instanceof ws?[null,...fi(t.unwrap())]:t instanceof Hw||t instanceof fc?fi(t.unwrap()):t instanceof dc?fi(t._def.innerType):[];class dm extends le{_parse(e){const{ctx:n}=this._processInputParams(e);if(n.parsedType!==H.object)return U(n,{code:L.invalid_type,expected:H.object,received:n.parsedType}),ne;const r=this.discriminator,i=n.data[r],s=this.optionsMap.get(i);return s?n.common.async?s._parseAsync({data:n.data,path:n.path,parent:n}):s._parseSync({data:n.data,path:n.path,parent:n}):(U(n,{code:L.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[r]}),ne)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(e,n,r){const i=new Map;for(const s of n){const a=fi(s.shape[e]);if(!a.length)throw new Error(`A discriminator value for key \`${e}\` could not be extracted from all schema options`);for(const o of a){if(i.has(o))throw new Error(`Discriminator property ${String(e)} has duplicate value ${String(o)}`);i.set(o,s)}}return new dm({typeName:D.ZodDiscriminatedUnion,discriminator:e,options:n,optionsMap:i,...se(r)})}}function t0(t,e){const n=Yi(t),r=Yi(e);if(t===e)return{valid:!0,data:t};if(n===H.object&&r===H.object){const i=ye.objectKeys(e),s=ye.objectKeys(t).filter(o=>i.indexOf(o)!==-1),a={...t,...e};for(const o of s){const l=t0(t[o],e[o]);if(!l.valid)return{valid:!1};a[o]=l.data}return{valid:!0,data:a}}else if(n===H.array&&r===H.array){if(t.length!==e.length)return{valid:!1};const i=[];for(let s=0;s<t.length;s++){const a=t[s],o=e[s],l=t0(a,o);if(!l.valid)return{valid:!1};i.push(l.data)}return{valid:!0,data:i}}else return n===H.date&&r===H.date&&+t==+e?{valid:!0,data:t}:{valid:!1}}class sc extends le{_parse(e){const{status:n,ctx:r}=this._processInputParams(e),i=(s,a)=>{if(Qv(s)||Qv(a))return ne;const o=t0(s.value,a.value);return o.valid?((e0(s)||e0(a))&&n.dirty(),{status:n.value,value:o.data}):(U(r,{code:L.invalid_intersection_types}),ne)};return r.common.async?Promise.all([this._def.left._parseAsync({data:r.data,path:r.path,parent:r}),this._def.right._parseAsync({data:r.data,path:r.path,parent:r})]).then(([s,a])=>i(s,a)):i(this._def.left._parseSync({data:r.data,path:r.path,parent:r}),this._def.right._parseSync({data:r.data,path:r.path,parent:r}))}}sc.create=(t,e,n)=>new sc({left:t,right:e,typeName:D.ZodIntersection,...se(n)});class ni extends le{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==H.array)return U(r,{code:L.invalid_type,expected:H.array,received:r.parsedType}),ne;if(r.data.length<this._def.items.length)return U(r,{code:L.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),ne;!this._def.rest&&r.data.length>this._def.items.length&&(U(r,{code:L.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),n.dirty());const s=[...r.data].map((a,o)=>{const l=this._def.items[o]||this._def.rest;return l?l._parse(new ti(r,a,r.path,o)):null}).filter(a=>!!a);return r.common.async?Promise.all(s).then(a=>qt.mergeArray(n,a)):qt.mergeArray(n,s)}get items(){return this._def.items}rest(e){return new ni({...this._def,rest:e})}}ni.create=(t,e)=>{if(!Array.isArray(t))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new ni({items:t,typeName:D.ZodTuple,rest:null,...se(e)})};class ac extends le{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==H.object)return U(r,{code:L.invalid_type,expected:H.object,received:r.parsedType}),ne;const i=[],s=this._def.keyType,a=this._def.valueType;for(const o in r.data)i.push({key:s._parse(new ti(r,o,r.path,o)),value:a._parse(new ti(r,r.data[o],r.path,o)),alwaysSet:o in r.data});return r.common.async?qt.mergeObjectAsync(n,i):qt.mergeObjectSync(n,i)}get element(){return this._def.valueType}static create(e,n,r){return n instanceof le?new ac({keyType:e,valueType:n,typeName:D.ZodRecord,...se(r)}):new ac({keyType:xr.create(),valueType:e,typeName:D.ZodRecord,...se(n)})}}class Xh extends le{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==H.map)return U(r,{code:L.invalid_type,expected:H.map,received:r.parsedType}),ne;const i=this._def.keyType,s=this._def.valueType,a=[...r.data.entries()].map(([o,l],u)=>({key:i._parse(new ti(r,o,r.path,[u,"key"])),value:s._parse(new ti(r,l,r.path,[u,"value"]))}));if(r.common.async){const o=new Map;return Promise.resolve().then(async()=>{for(const l of a){const u=await l.key,c=await l.value;if(u.status==="aborted"||c.status==="aborted")return ne;(u.status==="dirty"||c.status==="dirty")&&n.dirty(),o.set(u.value,c.value)}return{status:n.value,value:o}})}else{const o=new Map;for(const l of a){const u=l.key,c=l.value;if(u.status==="aborted"||c.status==="aborted")return ne;(u.status==="dirty"||c.status==="dirty")&&n.dirty(),o.set(u.value,c.value)}return{status:n.value,value:o}}}}Xh.create=(t,e,n)=>new Xh({valueType:e,keyType:t,typeName:D.ZodMap,...se(n)});class ga extends le{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==H.set)return U(r,{code:L.invalid_type,expected:H.set,received:r.parsedType}),ne;const i=this._def;i.minSize!==null&&r.data.size<i.minSize.value&&(U(r,{code:L.too_small,minimum:i.minSize.value,type:"set",inclusive:!0,exact:!1,message:i.minSize.message}),n.dirty()),i.maxSize!==null&&r.data.size>i.maxSize.value&&(U(r,{code:L.too_big,maximum:i.maxSize.value,type:"set",inclusive:!0,exact:!1,message:i.maxSize.message}),n.dirty());const s=this._def.valueType;function a(l){const u=new Set;for(const c of l){if(c.status==="aborted")return ne;c.status==="dirty"&&n.dirty(),u.add(c.value)}return{status:n.value,value:u}}const o=[...r.data.values()].map((l,u)=>s._parse(new ti(r,l,r.path,u)));return r.common.async?Promise.all(o).then(l=>a(l)):a(o)}min(e,n){return new ga({...this._def,minSize:{value:e,message:G.toString(n)}})}max(e,n){return new ga({...this._def,maxSize:{value:e,message:G.toString(n)}})}size(e,n){return this.min(e,n).max(e,n)}nonempty(e){return this.min(1,e)}}ga.create=(t,e)=>new ga({valueType:t,minSize:null,maxSize:null,typeName:D.ZodSet,...se(e)});class To extends le{constructor(){super(...arguments),this.validate=this.implement}_parse(e){const{ctx:n}=this._processInputParams(e);if(n.parsedType!==H.function)return U(n,{code:L.invalid_type,expected:H.function,received:n.parsedType}),ne;function r(o,l){return Zh({data:o,path:n.path,errorMaps:[n.common.contextualErrorMap,n.schemaErrorMap,qh(),Fo].filter(u=>!!u),issueData:{code:L.invalid_arguments,argumentsError:l}})}function i(o,l){return Zh({data:o,path:n.path,errorMaps:[n.common.contextualErrorMap,n.schemaErrorMap,qh(),Fo].filter(u=>!!u),issueData:{code:L.invalid_return_type,returnTypeError:l}})}const s={errorMap:n.common.contextualErrorMap},a=n.data;if(this._def.returns instanceof Vo){const o=this;return tn(async function(...l){const u=new Rn([]),c=await o._def.args.parseAsync(l,s).catch(h=>{throw u.addIssue(r(l,h)),u}),d=await Reflect.apply(a,this,c);return await o._def.returns._def.type.parseAsync(d,s).catch(h=>{throw u.addIssue(i(d,h)),u})})}else{const o=this;return tn(function(...l){const u=o._def.args.safeParse(l,s);if(!u.success)throw new Rn([r(l,u.error)]);const c=Reflect.apply(a,this,u.data),d=o._def.returns.safeParse(c,s);if(!d.success)throw new Rn([i(c,d.error)]);return d.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...e){return new To({...this._def,args:ni.create(e).rest(sa.create())})}returns(e){return new To({...this._def,returns:e})}implement(e){return this.parse(e)}strictImplement(e){return this.parse(e)}static create(e,n,r){return new To({args:e||ni.create([]).rest(sa.create()),returns:n||sa.create(),typeName:D.ZodFunction,...se(r)})}}class oc extends le{get schema(){return this._def.getter()}_parse(e){const{ctx:n}=this._processInputParams(e);return this._def.getter()._parse({data:n.data,path:n.path,parent:n})}}oc.create=(t,e)=>new oc({getter:t,typeName:D.ZodLazy,...se(e)});class lc extends le{_parse(e){if(e.data!==this._def.value){const n=this._getOrReturnCtx(e);return U(n,{received:n.data,code:L.invalid_literal,expected:this._def.value}),ne}return{status:"valid",value:e.data}}get value(){return this._def.value}}lc.create=(t,e)=>new lc({value:t,typeName:D.ZodLiteral,...se(e)});function OO(t,e){return new bs({values:t,typeName:D.ZodEnum,...se(e)})}class bs extends le{constructor(){super(...arguments),Ul.set(this,void 0)}_parse(e){if(typeof e.data!="string"){const n=this._getOrReturnCtx(e),r=this._def.values;return U(n,{expected:ye.joinValues(r),received:n.parsedType,code:L.invalid_type}),ne}if(Gh(this,Ul)||PO(this,Ul,new Set(this._def.values)),!Gh(this,Ul).has(e.data)){const n=this._getOrReturnCtx(e),r=this._def.values;return U(n,{received:n.data,code:L.invalid_enum_value,options:r}),ne}return tn(e.data)}get options(){return this._def.values}get enum(){const e={};for(const n of this._def.values)e[n]=n;return e}get Values(){const e={};for(const n of this._def.values)e[n]=n;return e}get Enum(){const e={};for(const n of this._def.values)e[n]=n;return e}extract(e,n=this._def){return bs.create(e,{...this._def,...n})}exclude(e,n=this._def){return bs.create(this.options.filter(r=>!e.includes(r)),{...this._def,...n})}}Ul=new WeakMap;bs.create=OO;class uc extends le{constructor(){super(...arguments),Hl.set(this,void 0)}_parse(e){const n=ye.getValidEnumValues(this._def.values),r=this._getOrReturnCtx(e);if(r.parsedType!==H.string&&r.parsedType!==H.number){const i=ye.objectValues(n);return U(r,{expected:ye.joinValues(i),received:r.parsedType,code:L.invalid_type}),ne}if(Gh(this,Hl)||PO(this,Hl,new Set(ye.getValidEnumValues(this._def.values))),!Gh(this,Hl).has(e.data)){const i=ye.objectValues(n);return U(r,{received:r.data,code:L.invalid_enum_value,options:i}),ne}return tn(e.data)}get enum(){return this._def.values}}Hl=new WeakMap;uc.create=(t,e)=>new uc({values:t,typeName:D.ZodNativeEnum,...se(e)});class Vo extends le{unwrap(){return this._def.type}_parse(e){const{ctx:n}=this._processInputParams(e);if(n.parsedType!==H.promise&&n.common.async===!1)return U(n,{code:L.invalid_type,expected:H.promise,received:n.parsedType}),ne;const r=n.parsedType===H.promise?n.data:Promise.resolve(n.data);return tn(r.then(i=>this._def.type.parseAsync(i,{path:n.path,errorMap:n.common.contextualErrorMap})))}}Vo.create=(t,e)=>new Vo({type:t,typeName:D.ZodPromise,...se(e)});class Ir extends le{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===D.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){const{status:n,ctx:r}=this._processInputParams(e),i=this._def.effect||null,s={addIssue:a=>{U(r,a),a.fatal?n.abort():n.dirty()},get path(){return r.path}};if(s.addIssue=s.addIssue.bind(s),i.type==="preprocess"){const a=i.transform(r.data,s);if(r.common.async)return Promise.resolve(a).then(async o=>{if(n.value==="aborted")return ne;const l=await this._def.schema._parseAsync({data:o,path:r.path,parent:r});return l.status==="aborted"?ne:l.status==="dirty"||n.value==="dirty"?lo(l.value):l});{if(n.value==="aborted")return ne;const o=this._def.schema._parseSync({data:a,path:r.path,parent:r});return o.status==="aborted"?ne:o.status==="dirty"||n.value==="dirty"?lo(o.value):o}}if(i.type==="refinement"){const a=o=>{const l=i.refinement(o,s);if(r.common.async)return Promise.resolve(l);if(l instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return o};if(r.common.async===!1){const o=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});return o.status==="aborted"?ne:(o.status==="dirty"&&n.dirty(),a(o.value),{status:n.value,value:o.value})}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(o=>o.status==="aborted"?ne:(o.status==="dirty"&&n.dirty(),a(o.value).then(()=>({status:n.value,value:o.value}))))}if(i.type==="transform")if(r.common.async===!1){const a=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});if(!Qu(a))return a;const o=i.transform(a.value,s);if(o instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:n.value,value:o}}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(a=>Qu(a)?Promise.resolve(i.transform(a.value,s)).then(o=>({status:n.value,value:o})):a);ye.assertNever(i)}}Ir.create=(t,e,n)=>new Ir({schema:t,typeName:D.ZodEffects,effect:e,...se(n)});Ir.createWithPreprocess=(t,e,n)=>new Ir({schema:e,effect:{type:"preprocess",transform:t},typeName:D.ZodEffects,...se(n)});class ei extends le{_parse(e){return this._getType(e)===H.undefined?tn(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}ei.create=(t,e)=>new ei({innerType:t,typeName:D.ZodOptional,...se(e)});class ws extends le{_parse(e){return this._getType(e)===H.null?tn(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}ws.create=(t,e)=>new ws({innerType:t,typeName:D.ZodNullable,...se(e)});class cc extends le{_parse(e){const{ctx:n}=this._processInputParams(e);let r=n.data;return n.parsedType===H.undefined&&(r=this._def.defaultValue()),this._def.innerType._parse({data:r,path:n.path,parent:n})}removeDefault(){return this._def.innerType}}cc.create=(t,e)=>new cc({innerType:t,typeName:D.ZodDefault,defaultValue:typeof e.default=="function"?e.default:()=>e.default,...se(e)});class dc extends le{_parse(e){const{ctx:n}=this._processInputParams(e),r={...n,common:{...n.common,issues:[]}},i=this._def.innerType._parse({data:r.data,path:r.path,parent:{...r}});return ec(i)?i.then(s=>({status:"valid",value:s.status==="valid"?s.value:this._def.catchValue({get error(){return new Rn(r.common.issues)},input:r.data})})):{status:"valid",value:i.status==="valid"?i.value:this._def.catchValue({get error(){return new Rn(r.common.issues)},input:r.data})}}removeCatch(){return this._def.innerType}}dc.create=(t,e)=>new dc({innerType:t,typeName:D.ZodCatch,catchValue:typeof e.catch=="function"?e.catch:()=>e.catch,...se(e)});class Yh extends le{_parse(e){if(this._getType(e)!==H.nan){const r=this._getOrReturnCtx(e);return U(r,{code:L.invalid_type,expected:H.nan,received:r.parsedType}),ne}return{status:"valid",value:e.data}}}Yh.create=t=>new Yh({typeName:D.ZodNaN,...se(t)});const QW=Symbol("zod_brand");class Hw extends le{_parse(e){const{ctx:n}=this._processInputParams(e),r=n.data;return this._def.type._parse({data:r,path:n.path,parent:n})}unwrap(){return this._def.type}}class Nc extends le{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.common.async)return(async()=>{const s=await this._def.in._parseAsync({data:r.data,path:r.path,parent:r});return s.status==="aborted"?ne:s.status==="dirty"?(n.dirty(),lo(s.value)):this._def.out._parseAsync({data:s.value,path:r.path,parent:r})})();{const i=this._def.in._parseSync({data:r.data,path:r.path,parent:r});return i.status==="aborted"?ne:i.status==="dirty"?(n.dirty(),{status:"dirty",value:i.value}):this._def.out._parseSync({data:i.value,path:r.path,parent:r})}}static create(e,n){return new Nc({in:e,out:n,typeName:D.ZodPipeline})}}class fc extends le{_parse(e){const n=this._def.innerType._parse(e),r=i=>(Qu(i)&&(i.value=Object.freeze(i.value)),i);return ec(n)?n.then(i=>r(i)):r(n)}unwrap(){return this._def.innerType}}fc.create=(t,e)=>new fc({innerType:t,typeName:D.ZodReadonly,...se(e)});function RO(t,e={},n){return t?Bo.create().superRefine((r,i)=>{var s,a;if(!t(r)){const o=typeof e=="function"?e(r):typeof e=="string"?{message:e}:e,l=(a=(s=o.fatal)!==null&&s!==void 0?s:n)!==null&&a!==void 0?a:!0,u=typeof o=="string"?{message:o}:o;i.addIssue({code:"custom",...u,fatal:l})}}):Bo.create()}const eq={object:Qe.lazycreate};var D;(function(t){t.ZodString="ZodString",t.ZodNumber="ZodNumber",t.ZodNaN="ZodNaN",t.ZodBigInt="ZodBigInt",t.ZodBoolean="ZodBoolean",t.ZodDate="ZodDate",t.ZodSymbol="ZodSymbol",t.ZodUndefined="ZodUndefined",t.ZodNull="ZodNull",t.ZodAny="ZodAny",t.ZodUnknown="ZodUnknown",t.ZodNever="ZodNever",t.ZodVoid="ZodVoid",t.ZodArray="ZodArray",t.ZodObject="ZodObject",t.ZodUnion="ZodUnion",t.ZodDiscriminatedUnion="ZodDiscriminatedUnion",t.ZodIntersection="ZodIntersection",t.ZodTuple="ZodTuple",t.ZodRecord="ZodRecord",t.ZodMap="ZodMap",t.ZodSet="ZodSet",t.ZodFunction="ZodFunction",t.ZodLazy="ZodLazy",t.ZodLiteral="ZodLiteral",t.ZodEnum="ZodEnum",t.ZodEffects="ZodEffects",t.ZodNativeEnum="ZodNativeEnum",t.ZodOptional="ZodOptional",t.ZodNullable="ZodNullable",t.ZodDefault="ZodDefault",t.ZodCatch="ZodCatch",t.ZodPromise="ZodPromise",t.ZodBranded="ZodBranded",t.ZodPipeline="ZodPipeline",t.ZodReadonly="ZodReadonly"})(D||(D={}));const tq=(t,e={message:`Input not instance of ${t.name}`})=>RO(n=>n instanceof t,e),$O=xr.create,NO=ys.create,nq=Yh.create,rq=vs.create,jO=tc.create,iq=ma.create,sq=Kh.create,aq=nc.create,oq=rc.create,lq=Bo.create,uq=sa.create,cq=Ri.create,dq=Jh.create,fq=Tr.create,hq=Qe.create,pq=Qe.strictCreate,mq=ic.create,gq=dm.create,yq=sc.create,vq=ni.create,bq=ac.create,wq=Xh.create,_q=ga.create,xq=To.create,kq=oc.create,Sq=lc.create,Cq=bs.create,Tq=uc.create,Pq=Vo.create,TS=Ir.create,Eq=ei.create,Aq=ws.create,Iq=Ir.createWithPreprocess,Oq=Nc.create,Rq=()=>$O().optional(),$q=()=>NO().optional(),Nq=()=>jO().optional(),jq={string:t=>xr.create({...t,coerce:!0}),number:t=>ys.create({...t,coerce:!0}),boolean:t=>tc.create({...t,coerce:!0}),bigint:t=>vs.create({...t,coerce:!0}),date:t=>ma.create({...t,coerce:!0})},Mq=ne;var Qh=Object.freeze({__proto__:null,defaultErrorMap:Fo,setErrorMap:MW,getErrorMap:qh,makeIssue:Zh,EMPTY_PATH:LW,addIssueToContext:U,ParseStatus:qt,INVALID:ne,DIRTY:lo,OK:tn,isAborted:Qv,isDirty:e0,isValid:Qu,isAsync:ec,get util(){return ye},get objectUtil(){return Yv},ZodParsedType:H,getParsedType:Yi,ZodType:le,datetimeRegex:IO,ZodString:xr,ZodNumber:ys,ZodBigInt:vs,ZodBoolean:tc,ZodDate:ma,ZodSymbol:Kh,ZodUndefined:nc,ZodNull:rc,ZodAny:Bo,ZodUnknown:sa,ZodNever:Ri,ZodVoid:Jh,ZodArray:Tr,ZodObject:Qe,ZodUnion:ic,ZodDiscriminatedUnion:dm,ZodIntersection:sc,ZodTuple:ni,ZodRecord:ac,ZodMap:Xh,ZodSet:ga,ZodFunction:To,ZodLazy:oc,ZodLiteral:lc,ZodEnum:bs,ZodNativeEnum:uc,ZodPromise:Vo,ZodEffects:Ir,ZodTransformer:Ir,ZodOptional:ei,ZodNullable:ws,ZodDefault:cc,ZodCatch:dc,ZodNaN:Yh,BRAND:QW,ZodBranded:Hw,ZodPipeline:Nc,ZodReadonly:fc,custom:RO,Schema:le,ZodSchema:le,late:eq,get ZodFirstPartyTypeKind(){return D},coerce:jq,any:lq,array:fq,bigint:rq,boolean:jO,date:iq,discriminatedUnion:gq,effect:TS,enum:Cq,function:xq,instanceof:tq,intersection:yq,lazy:kq,literal:Sq,map:wq,nan:nq,nativeEnum:Tq,never:cq,null:oq,nullable:Aq,number:NO,object:hq,oboolean:Nq,onumber:$q,optional:Eq,ostring:Rq,pipeline:Oq,preprocess:Iq,promise:Pq,record:bq,set:_q,strictObject:pq,string:$O,symbol:sq,transformer:TS,tuple:vq,undefined:aq,union:mq,unknown:uq,void:dq,NEVER:Mq,ZodIssueCode:L,quotelessJson:jW,ZodError:Rn});let Rd;const Lq=new Uint8Array(16);function zq(){if(!Rd&&(Rd=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!Rd))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return Rd(Lq)}const Dq=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;function MO(t){return typeof t=="string"&&Dq.test(t)}const Tt=[];for(let t=0;t<256;++t)Tt.push((t+256).toString(16).slice(1));function Fq(t,e=0){return Tt[t[e+0]]+Tt[t[e+1]]+Tt[t[e+2]]+Tt[t[e+3]]+"-"+Tt[t[e+4]]+Tt[t[e+5]]+"-"+Tt[t[e+6]]+Tt[t[e+7]]+"-"+Tt[t[e+8]]+Tt[t[e+9]]+"-"+Tt[t[e+10]]+Tt[t[e+11]]+Tt[t[e+12]]+Tt[t[e+13]]+Tt[t[e+14]]+Tt[t[e+15]]}const Bq=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),PS={randomUUID:Bq};function Hr(t,e,n){if(PS.randomUUID&&!e&&!t)return PS.randomUUID();t=t||{};const r=t.random||(t.rng||zq)();return r[6]=r[6]&15|64,r[8]=r[8]&63|128,Fq(r)}class Vq{}class jc extends Vq{get lc_namespace(){return["langchain_core","callbacks",this.name]}get lc_secrets(){}get lc_attributes(){}get lc_aliases(){}static lc_name(){return this.name}get lc_id(){return[...this.lc_namespace,cO(this.constructor)]}constructor(e){super(),Object.defineProperty(this,"lc_serializable",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"lc_kwargs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"ignoreLLM",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"ignoreChain",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"ignoreAgent",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"ignoreRetriever",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"awaitHandlers",{enumerable:!0,configurable:!0,writable:!0,value:Pn("LANGCHAIN_CALLBACKS_BACKGROUND")!=="true"}),this.lc_kwargs=e||{},e&&(this.ignoreLLM=e.ignoreLLM??this.ignoreLLM,this.ignoreChain=e.ignoreChain??this.ignoreChain,this.ignoreAgent=e.ignoreAgent??this.ignoreAgent,this.ignoreRetriever=e.ignoreRetriever??this.ignoreRetriever,this.awaitHandlers=e._awaitHandler??this.awaitHandlers)}copy(){return new this.constructor(this)}toJSON(){return pa.prototype.toJSON.call(this)}toJSONNotImplemented(){return pa.prototype.toJSONNotImplemented.call(this)}static fromMethods(e){class n extends jc{constructor(){super(),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:Hr()}),Object.assign(this,e)}}return new n}}var Ww={exports:{}};Ww.exports;(function(t){const n=(s=0)=>a=>`\x1B[${38+s};5;${a}m`,r=(s=0)=>(a,o,l)=>`\x1B[${38+s};2;${a};${o};${l}m`;function i(){const s=new Map,a={modifier:{reset:[0,0],bold:[1,22],dim:[2,22],italic:[3,23],underline:[4,24],overline:[53,55],inverse:[7,27],hidden:[8,28],strikethrough:[9,29]},color:{black:[30,39],red:[31,39],green:[32,39],yellow:[33,39],blue:[34,39],magenta:[35,39],cyan:[36,39],white:[37,39],blackBright:[90,39],redBright:[91,39],greenBright:[92,39],yellowBright:[93,39],blueBright:[94,39],magentaBright:[95,39],cyanBright:[96,39],whiteBright:[97,39]},bgColor:{bgBlack:[40,49],bgRed:[41,49],bgGreen:[42,49],bgYellow:[43,49],bgBlue:[44,49],bgMagenta:[45,49],bgCyan:[46,49],bgWhite:[47,49],bgBlackBright:[100,49],bgRedBright:[101,49],bgGreenBright:[102,49],bgYellowBright:[103,49],bgBlueBright:[104,49],bgMagentaBright:[105,49],bgCyanBright:[106,49],bgWhiteBright:[107,49]}};a.color.gray=a.color.blackBright,a.bgColor.bgGray=a.bgColor.bgBlackBright,a.color.grey=a.color.blackBright,a.bgColor.bgGrey=a.bgColor.bgBlackBright;for(const[o,l]of Object.entries(a)){for(const[u,c]of Object.entries(l))a[u]={open:`\x1B[${c[0]}m`,close:`\x1B[${c[1]}m`},l[u]=a[u],s.set(c[0],c[1]);Object.defineProperty(a,o,{value:l,enumerable:!1})}return Object.defineProperty(a,"codes",{value:s,enumerable:!1}),a.color.close="\x1B[39m",a.bgColor.close="\x1B[49m",a.color.ansi256=n(),a.color.ansi16m=r(),a.bgColor.ansi256=n(10),a.bgColor.ansi16m=r(10),Object.defineProperties(a,{rgbToAnsi256:{value:(o,l,u)=>o===l&&l===u?o<8?16:o>248?231:Math.round((o-8)/247*24)+232:16+36*Math.round(o/255*5)+6*Math.round(l/255*5)+Math.round(u/255*5),enumerable:!1},hexToRgb:{value:o=>{const l=/(?<colorString>[a-f\d]{6}|[a-f\d]{3})/i.exec(o.toString(16));if(!l)return[0,0,0];let{colorString:u}=l.groups;u.length===3&&(u=u.split("").map(d=>d+d).join(""));const c=Number.parseInt(u,16);return[c>>16&255,c>>8&255,c&255]},enumerable:!1},hexToAnsi256:{value:o=>a.rgbToAnsi256(...a.hexToRgb(o)),enumerable:!1}}),a}Object.defineProperty(t,"exports",{enumerable:!0,get:i})})(Ww);var Uq=Ww.exports;const LO=va(Uq);function Zg(t,e){return t&&!Array.isArray(t)&&typeof t=="object"?t:{[e]:t}}function Hq(t){return t.replace(/[-:.]/g,"")}function Wq(t,e,n){const r=n.toFixed(0).slice(0,3).padStart(3,"0");return Hq(`${new Date(t).toISOString().slice(0,-1)}${r}Z`)+e}class fm extends jc{constructor(e){super(...arguments),Object.defineProperty(this,"runMap",{enumerable:!0,configurable:!0,writable:!0,value:new Map})}copy(){return this}stringifyError(e){return e instanceof Error?e.message+(e!=null&&e.stack?`

${e.stack}`:""):typeof e=="string"?e:`${e}`}_addChildRun(e,n){e.child_runs.push(n)}async _startTrace(e){var i;const n=Wq(e.start_time,e.id,e.execution_order),r={...e};if(r.parent_run_id!==void 0){const s=this.runMap.get(r.parent_run_id);s&&(this._addChildRun(s,r),s.child_execution_order=Math.max(s.child_execution_order,r.child_execution_order),r.trace_id=s.trace_id,s.dotted_order!==void 0&&(r.dotted_order=[s.dotted_order,n].join(".")))}else r.trace_id=r.id,r.dotted_order=n;this.runMap.set(r.id,r),await((i=this.onRunCreate)==null?void 0:i.call(this,r))}async _endTrace(e){var r;const n=e.parent_run_id!==void 0&&this.runMap.get(e.parent_run_id);n?n.child_execution_order=Math.max(n.child_execution_order,e.child_execution_order):await this.persistRun(e),this.runMap.delete(e.id),await((r=this.onRunUpdate)==null?void 0:r.call(this,e))}_getExecutionOrder(e){const n=e!==void 0&&this.runMap.get(e);return n?n.child_execution_order+1:1}async handleLLMStart(e,n,r,i,s,a,o,l){var h;const u=this._getExecutionOrder(i),c=Date.now(),d=o?{...s,metadata:o}:s,f={id:r,name:l??e.id[e.id.length-1],parent_run_id:i,start_time:c,serialized:e,events:[{name:"start",time:new Date(c).toISOString()}],inputs:{prompts:n},execution_order:u,child_runs:[],child_execution_order:u,run_type:"llm",extra:d??{},tags:a||[]};return await this._startTrace(f),await((h=this.onLLMStart)==null?void 0:h.call(this,f)),f}async handleChatModelStart(e,n,r,i,s,a,o,l){var h;const u=this._getExecutionOrder(i),c=Date.now(),d=o?{...s,metadata:o}:s,f={id:r,name:l??e.id[e.id.length-1],parent_run_id:i,start_time:c,serialized:e,events:[{name:"start",time:new Date(c).toISOString()}],inputs:{messages:n},execution_order:u,child_runs:[],child_execution_order:u,run_type:"llm",extra:d??{},tags:a||[]};return await this._startTrace(f),await((h=this.onLLMStart)==null?void 0:h.call(this,f)),f}async handleLLMEnd(e,n){var i;const r=this.runMap.get(n);if(!r||(r==null?void 0:r.run_type)!=="llm")throw new Error("No LLM run to end.");return r.end_time=Date.now(),r.outputs=e,r.events.push({name:"end",time:new Date(r.end_time).toISOString()}),await((i=this.onLLMEnd)==null?void 0:i.call(this,r)),await this._endTrace(r),r}async handleLLMError(e,n){var i;const r=this.runMap.get(n);if(!r||(r==null?void 0:r.run_type)!=="llm")throw new Error("No LLM run to end.");return r.end_time=Date.now(),r.error=this.stringifyError(e),r.events.push({name:"error",time:new Date(r.end_time).toISOString()}),await((i=this.onLLMError)==null?void 0:i.call(this,r)),await this._endTrace(r),r}async handleChainStart(e,n,r,i,s,a,o,l){var f;const u=this._getExecutionOrder(i),c=Date.now(),d={id:r,name:l??e.id[e.id.length-1],parent_run_id:i,start_time:c,serialized:e,events:[{name:"start",time:new Date(c).toISOString()}],inputs:n,execution_order:u,child_execution_order:u,run_type:o??"chain",child_runs:[],extra:a?{metadata:a}:{},tags:s||[]};return await this._startTrace(d),await((f=this.onChainStart)==null?void 0:f.call(this,d)),d}async handleChainEnd(e,n,r,i,s){var o;const a=this.runMap.get(n);if(!a)throw new Error("No chain run to end.");return a.end_time=Date.now(),a.outputs=Zg(e,"output"),a.events.push({name:"end",time:new Date(a.end_time).toISOString()}),(s==null?void 0:s.inputs)!==void 0&&(a.inputs=Zg(s.inputs,"input")),await((o=this.onChainEnd)==null?void 0:o.call(this,a)),await this._endTrace(a),a}async handleChainError(e,n,r,i,s){var o;const a=this.runMap.get(n);if(!a)throw new Error("No chain run to end.");return a.end_time=Date.now(),a.error=this.stringifyError(e),a.events.push({name:"error",time:new Date(a.end_time).toISOString()}),(s==null?void 0:s.inputs)!==void 0&&(a.inputs=Zg(s.inputs,"input")),await((o=this.onChainError)==null?void 0:o.call(this,a)),await this._endTrace(a),a}async handleToolStart(e,n,r,i,s,a,o){var d;const l=this._getExecutionOrder(i),u=Date.now(),c={id:r,name:o??e.id[e.id.length-1],parent_run_id:i,start_time:u,serialized:e,events:[{name:"start",time:new Date(u).toISOString()}],inputs:{input:n},execution_order:l,child_execution_order:l,run_type:"tool",child_runs:[],extra:a?{metadata:a}:{},tags:s||[]};return await this._startTrace(c),await((d=this.onToolStart)==null?void 0:d.call(this,c)),c}async handleToolEnd(e,n){var i;const r=this.runMap.get(n);if(!r||(r==null?void 0:r.run_type)!=="tool")throw new Error("No tool run to end");return r.end_time=Date.now(),r.outputs={output:e},r.events.push({name:"end",time:new Date(r.end_time).toISOString()}),await((i=this.onToolEnd)==null?void 0:i.call(this,r)),await this._endTrace(r),r}async handleToolError(e,n){var i;const r=this.runMap.get(n);if(!r||(r==null?void 0:r.run_type)!=="tool")throw new Error("No tool run to end");return r.end_time=Date.now(),r.error=this.stringifyError(e),r.events.push({name:"error",time:new Date(r.end_time).toISOString()}),await((i=this.onToolError)==null?void 0:i.call(this,r)),await this._endTrace(r),r}async handleAgentAction(e,n){var s;const r=this.runMap.get(n);if(!r||(r==null?void 0:r.run_type)!=="chain")return;const i=r;i.actions=i.actions||[],i.actions.push(e),i.events.push({name:"agent_action",time:new Date().toISOString(),kwargs:{action:e}}),await((s=this.onAgentAction)==null?void 0:s.call(this,r))}async handleAgentEnd(e,n){var i;const r=this.runMap.get(n);!r||(r==null?void 0:r.run_type)!=="chain"||(r.events.push({name:"agent_end",time:new Date().toISOString(),kwargs:{action:e}}),await((i=this.onAgentEnd)==null?void 0:i.call(this,r)))}async handleRetrieverStart(e,n,r,i,s,a,o){var d;const l=this._getExecutionOrder(i),u=Date.now(),c={id:r,name:o??e.id[e.id.length-1],parent_run_id:i,start_time:u,serialized:e,events:[{name:"start",time:new Date(u).toISOString()}],inputs:{query:n},execution_order:l,child_execution_order:l,run_type:"retriever",child_runs:[],extra:a?{metadata:a}:{},tags:s||[]};return await this._startTrace(c),await((d=this.onRetrieverStart)==null?void 0:d.call(this,c)),c}async handleRetrieverEnd(e,n){var i;const r=this.runMap.get(n);if(!r||(r==null?void 0:r.run_type)!=="retriever")throw new Error("No retriever run to end");return r.end_time=Date.now(),r.outputs={documents:e},r.events.push({name:"end",time:new Date(r.end_time).toISOString()}),await((i=this.onRetrieverEnd)==null?void 0:i.call(this,r)),await this._endTrace(r),r}async handleRetrieverError(e,n){var i;const r=this.runMap.get(n);if(!r||(r==null?void 0:r.run_type)!=="retriever")throw new Error("No retriever run to end");return r.end_time=Date.now(),r.error=this.stringifyError(e),r.events.push({name:"error",time:new Date(r.end_time).toISOString()}),await((i=this.onRetrieverError)==null?void 0:i.call(this,r)),await this._endTrace(r),r}async handleText(e,n){var i;const r=this.runMap.get(n);!r||(r==null?void 0:r.run_type)!=="chain"||(r.events.push({name:"text",time:new Date().toISOString(),kwargs:{text:e}}),await((i=this.onText)==null?void 0:i.call(this,r)))}async handleLLMNewToken(e,n,r,i,s,a){var l;const o=this.runMap.get(r);if(!o||(o==null?void 0:o.run_type)!=="llm")throw new Error('Invalid "runId" provided to "handleLLMNewToken" callback.');return o.events.push({name:"new_token",time:new Date().toISOString(),kwargs:{token:e,idx:n,chunk:a==null?void 0:a.chunk}}),await((l=this.onLLMNewToken)==null?void 0:l.call(this,o,e,{chunk:a==null?void 0:a.chunk})),o}}function Gt(t,e){return`${t.open}${e}${t.close}`}function hr(t,e){try{return JSON.stringify(t,null,2)}catch{return e}}function Bi(t){if(!t.end_time)return"";const e=t.end_time-t.start_time;return e<1e3?`${e}ms`:`${(e/1e3).toFixed(2)}s`}const{color:on}=LO;class ES extends fm{constructor(){super(...arguments),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"console_callback_handler"})}persistRun(e){return Promise.resolve()}getParents(e){const n=[];let r=e;for(;r.parent_run_id;){const i=this.runMap.get(r.parent_run_id);if(i)n.push(i),r=i;else break}return n}getBreadcrumbs(e){const r=[...this.getParents(e).reverse(),e].map((i,s,a)=>{const o=`${i.execution_order}:${i.run_type}:${i.name}`;return s===a.length-1?Gt(LO.bold,o):o}).join(" > ");return Gt(on.grey,r)}onChainStart(e){const n=this.getBreadcrumbs(e);console.log(`${Gt(on.green,"[chain/start]")} [${n}] Entering Chain run with input: ${hr(e.inputs,"[inputs]")}`)}onChainEnd(e){const n=this.getBreadcrumbs(e);console.log(`${Gt(on.cyan,"[chain/end]")} [${n}] [${Bi(e)}] Exiting Chain run with output: ${hr(e.outputs,"[outputs]")}`)}onChainError(e){const n=this.getBreadcrumbs(e);console.log(`${Gt(on.red,"[chain/error]")} [${n}] [${Bi(e)}] Chain run errored with error: ${hr(e.error,"[error]")}`)}onLLMStart(e){const n=this.getBreadcrumbs(e),r="prompts"in e.inputs?{prompts:e.inputs.prompts.map(i=>i.trim())}:e.inputs;console.log(`${Gt(on.green,"[llm/start]")} [${n}] Entering LLM run with input: ${hr(r,"[inputs]")}`)}onLLMEnd(e){const n=this.getBreadcrumbs(e);console.log(`${Gt(on.cyan,"[llm/end]")} [${n}] [${Bi(e)}] Exiting LLM run with output: ${hr(e.outputs,"[response]")}`)}onLLMError(e){const n=this.getBreadcrumbs(e);console.log(`${Gt(on.red,"[llm/error]")} [${n}] [${Bi(e)}] LLM run errored with error: ${hr(e.error,"[error]")}`)}onToolStart(e){var r;const n=this.getBreadcrumbs(e);console.log(`${Gt(on.green,"[tool/start]")} [${n}] Entering Tool run with input: "${(r=e.inputs.input)==null?void 0:r.trim()}"`)}onToolEnd(e){var r,i;const n=this.getBreadcrumbs(e);console.log(`${Gt(on.cyan,"[tool/end]")} [${n}] [${Bi(e)}] Exiting Tool run with output: "${(i=(r=e.outputs)==null?void 0:r.output)==null?void 0:i.trim()}"`)}onToolError(e){const n=this.getBreadcrumbs(e);console.log(`${Gt(on.red,"[tool/error]")} [${n}] [${Bi(e)}] Tool run errored with error: ${hr(e.error,"[error]")}`)}onRetrieverStart(e){const n=this.getBreadcrumbs(e);console.log(`${Gt(on.green,"[retriever/start]")} [${n}] Entering Retriever run with input: ${hr(e.inputs,"[inputs]")}`)}onRetrieverEnd(e){const n=this.getBreadcrumbs(e);console.log(`${Gt(on.cyan,"[retriever/end]")} [${n}] [${Bi(e)}] Exiting Retriever run with output: ${hr(e.outputs,"[outputs]")}`)}onRetrieverError(e){const n=this.getBreadcrumbs(e);console.log(`${Gt(on.red,"[retriever/error]")} [${n}] [${Bi(e)}] Retriever run errored with error: ${hr(e.error,"[error]")}`)}onAgentAction(e){const n=e,r=this.getBreadcrumbs(e);console.log(`${Gt(on.blue,"[agent/action]")} [${r}] Agent selected action: ${hr(n.actions[n.actions.length-1],"[action]")}`)}}const qq=[400,401,403,404,405,406,407,408],Zq=[409];class AS{constructor(e){Object.defineProperty(this,"maxConcurrency",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"maxRetries",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"queue",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"onFailedResponseHook",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.maxConcurrency=e.maxConcurrency??1/0,this.maxRetries=e.maxRetries??6,"default"in Ti?this.queue=new Ti.default({concurrency:this.maxConcurrency}):this.queue=new Ti({concurrency:this.maxConcurrency}),this.onFailedResponseHook=e==null?void 0:e.onFailedResponseHook}call(e,...n){const r=this.onFailedResponseHook;return this.queue.add(()=>Wh(()=>e(...n).catch(i=>{throw i instanceof Error?i:new Error(i)}),{async onFailedAttempt(i){if(i.message.startsWith("Cancel")||i.message.startsWith("TimeoutError")||i.message.startsWith("AbortError")||(i==null?void 0:i.code)==="ECONNABORTED")throw i;const s=i==null?void 0:i.response,a=s==null?void 0:s.status;if(a){if(qq.includes(+a))throw i;if(Zq.includes(+a))return;r&&await r(s)}},retries:this.maxRetries,randomize:!0}),{throwOnTimeout:!0})}callWithOptions(e,n,...r){return e.signal?Promise.race([this.call(n,...r),new Promise((i,s)=>{var a;(a=e.signal)==null||a.addEventListener("abort",()=>{s(new Error("AbortError"))})})]):this.call(n,...r)}fetch(...e){return this.call(()=>fetch(...e).then(n=>n.ok?n:Promise.reject(n)))}}function IS(t){return typeof(t==null?void 0:t._getType)=="function"}function OS(t){const e={type:t._getType(),data:{content:t.content}};return t!=null&&t.additional_kwargs&&Object.keys(t.additional_kwargs).length>0&&(e.data.additional_kwargs={...t.additional_kwargs}),e}var mu={};let ui;const Gq=()=>typeof window<"u"&&typeof window.document<"u",Kq=()=>typeof globalThis=="object"&&globalThis.constructor&&globalThis.constructor.name==="DedicatedWorkerGlobalScope",Jq=()=>typeof window<"u"&&window.name==="nodejs"||typeof navigator<"u"&&(navigator.userAgent.includes("Node.js")||navigator.userAgent.includes("jsdom")),zO=()=>typeof Deno<"u",Xq=()=>typeof process<"u"&&typeof process.versions<"u"&&typeof process.versions.node<"u"&&!zO(),Yq=()=>ui||(Gq()?ui="browser":Xq()?ui="node":Kq()?ui="webworker":Jq()?ui="jsdom":zO()?ui="deno":ui="other",ui);let Gg;async function Qq(){if(Gg===void 0){const t=Yq(),e=nZ();Gg={library:"langsmith",runtime:t,sdk:"langsmith-js",sdk_version:DO,...e}}return Gg}function eZ(){const t=tZ()||{},e={},n=["LANGCHAIN_API_KEY","LANGCHAIN_ENDPOINT","LANGCHAIN_TRACING_V2","LANGCHAIN_PROJECT","LANGCHAIN_SESSION"];for(const[r,i]of Object.entries(t))r.startsWith("LANGCHAIN_")&&typeof i=="string"&&!n.includes(r)&&!r.toLowerCase().includes("key")&&!r.toLowerCase().includes("secret")&&!r.toLowerCase().includes("token")&&(r==="LANGCHAIN_REVISION_ID"?e.revision_id=i:e[r]=i);return e}function tZ(){try{return typeof process<"u"&&mu?Object.entries(mu).reduce((t,[e,n])=>(t[e]=String(n),t),{}):void 0}catch{return}}function Bs(t){try{return typeof process<"u"?mu==null?void 0:mu[t]:void 0}catch{return}}let Kg;function nZ(){if(Kg!==void 0)return Kg;const t=["VERCEL_GIT_COMMIT_SHA","NEXT_PUBLIC_VERCEL_GIT_COMMIT_SHA","COMMIT_REF","RENDER_GIT_COMMIT","CI_COMMIT_SHA","CIRCLE_SHA1","CF_PAGES_COMMIT_SHA","REACT_APP_GIT_SHA","SOURCE_VERSION","GITHUB_SHA","TRAVIS_COMMIT","GIT_COMMIT","BUILD_VCS_NUMBER","bamboo_planRepository_revision","Build.SourceVersion","BITBUCKET_COMMIT","DRONE_COMMIT_SHA","SEMAPHORE_GIT_SHA","BUILDKITE_COMMIT"],e={};for(const n of t){const r=Bs(n);r!==void 0&&(e[n]=r)}return Kg=e,e}function Xe(t){if(!MO(t))throw new Error(`Invalid UUID: ${t}`)}async function RS(t){const e=await Qq(),n=eZ();return t.map(r=>{const i=r.extra??{},s=i.metadata;return r.extra={...i,runtime:{...e,...i==null?void 0:i.runtime},metadata:{...n,...n.revision_id||r.revision_id?{revision_id:r.revision_id??n.revision_id}:{},...s}},r})}const rZ=()=>{const t=Bs("LANGCHAIN_TRACING_SAMPLING_RATE");if(t===void 0)return;const e=parseFloat(t);if(e<0||e>1)throw new Error(`LANGCHAIN_TRACING_SAMPLING_RATE must be between 0 and 1 if set. Got: ${e}`);return e},iZ=t=>{const n=t.replace("http://","").replace("https://","").split("/")[0].split(":")[0];return n==="localhost"||n==="127.0.0.1"||n==="::1"},Vi=async(t,e)=>{const n=await t.text();if(!t.ok)throw new Error(`Failed to ${e}: ${t.status} ${t.statusText} ${n}`)};async function sZ(t){const e=[];for await(const n of t)e.push(n);return e}function Jg(t){if(t!==void 0)return t.trim().replace(/^"(.*)"$/,"$1").replace(/^'(.*)'$/,"$1")}const aZ=async t=>{if((t==null?void 0:t.status)===429){const e=parseInt(t.headers.get("retry-after")??"30",10)*1e3;if(e>0)return await new Promise(n=>setTimeout(n,e)),!0}return!1};class oZ{constructor(){Object.defineProperty(this,"items",{enumerable:!0,configurable:!0,writable:!0,value:[]})}get size(){return this.items.length}push(e){return new Promise(n=>{this.items.push([e,n])})}pop(e){if(e<1)throw new Error("Number of items to pop off may not be less than 1.");const n=[];for(;n.length<e&&this.items.length;){const r=this.items.shift();if(r)n.push(r);else break}return[n.map(r=>r[0]),()=>n.forEach(r=>r[1]())]}}const lZ=20971520;class qw{constructor(e={}){Object.defineProperty(this,"apiKey",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"apiUrl",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"webUrl",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"caller",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"batchIngestCaller",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"timeout_ms",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_tenantId",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(this,"hideInputs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"hideOutputs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"tracingSampleRate",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"sampledPostUuids",{enumerable:!0,configurable:!0,writable:!0,value:new Set}),Object.defineProperty(this,"autoBatchTracing",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"batchEndpointSupported",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"autoBatchQueue",{enumerable:!0,configurable:!0,writable:!0,value:new oZ}),Object.defineProperty(this,"pendingAutoBatchedRunLimit",{enumerable:!0,configurable:!0,writable:!0,value:100}),Object.defineProperty(this,"autoBatchTimeout",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"autoBatchInitialDelayMs",{enumerable:!0,configurable:!0,writable:!0,value:250}),Object.defineProperty(this,"autoBatchAggregationDelayMs",{enumerable:!0,configurable:!0,writable:!0,value:50}),Object.defineProperty(this,"serverInfo",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"fetchOptions",{enumerable:!0,configurable:!0,writable:!0,value:void 0});const n=qw.getDefaultClientConfig();this.tracingSampleRate=rZ(),this.apiUrl=Jg(e.apiUrl??n.apiUrl)??"",this.apiKey=Jg(e.apiKey??n.apiKey),this.webUrl=Jg(e.webUrl??n.webUrl),this.timeout_ms=e.timeout_ms??12e3,this.caller=new AS(e.callerOptions??{}),this.batchIngestCaller=new AS({...e.callerOptions??{},onFailedResponseHook:aZ}),this.hideInputs=e.hideInputs??n.hideInputs,this.hideOutputs=e.hideOutputs??n.hideOutputs,this.autoBatchTracing=e.autoBatchTracing??this.autoBatchTracing,this.pendingAutoBatchedRunLimit=e.pendingAutoBatchedRunLimit??this.pendingAutoBatchedRunLimit,this.fetchOptions=e.fetchOptions||{}}static getDefaultClientConfig(){const e=Bs("LANGCHAIN_API_KEY"),n=Bs("LANGCHAIN_ENDPOINT")??"https://api.smith.langchain.com",r=Bs("LANGCHAIN_HIDE_INPUTS")==="true",i=Bs("LANGCHAIN_HIDE_OUTPUTS")==="true";return{apiUrl:n,apiKey:e,webUrl:void 0,hideInputs:r,hideOutputs:i}}getHostUrl(){return this.webUrl?this.webUrl:iZ(this.apiUrl)?(this.webUrl="http://localhost","http://localhost"):this.apiUrl.includes("/api")&&!this.apiUrl.split(".",1)[0].endsWith("api")?(this.webUrl=this.apiUrl.replace("/api",""),this.webUrl):this.apiUrl.split(".",1)[0].includes("dev")?(this.webUrl="https://dev.smith.langchain.com","https://dev.smith.langchain.com"):(this.webUrl="https://smith.langchain.com","https://smith.langchain.com")}get headers(){const e={"User-Agent":`langsmith-js/${DO}`};return this.apiKey&&(e["x-api-key"]=`${this.apiKey}`),e}processInputs(e){return this.hideInputs===!1?e:this.hideInputs===!0?{}:typeof this.hideInputs=="function"?this.hideInputs(e):e}processOutputs(e){return this.hideOutputs===!1?e:this.hideOutputs===!0?{}:typeof this.hideOutputs=="function"?this.hideOutputs(e):e}prepareRunCreateOrUpdateInputs(e){const n={...e};return n.inputs!==void 0&&(n.inputs=this.processInputs(n.inputs)),n.outputs!==void 0&&(n.outputs=this.processOutputs(n.outputs)),n}async _getResponse(e,n){const r=(n==null?void 0:n.toString())??"",i=`${this.apiUrl}${e}?${r}`,s=await this.caller.call(fetch,i,{method:"GET",headers:this.headers,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});if(!s.ok)throw new Error(`Failed to fetch ${e}: ${s.status} ${s.statusText}`);return s}async _get(e,n){return(await this._getResponse(e,n)).json()}async*_getPaginated(e,n=new URLSearchParams){let r=Number(n.get("offset"))||0;const i=Number(n.get("limit"))||100;for(;;){n.set("offset",String(r)),n.set("limit",String(i));const s=`${this.apiUrl}${e}?${n}`,a=await this.caller.call(fetch,s,{method:"GET",headers:this.headers,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});if(!a.ok)throw new Error(`Failed to fetch ${e}: ${a.status} ${a.statusText}`);const o=await a.json();if(o.length===0||(yield o,o.length<i))break;r+=o.length}}async*_getCursorPaginatedList(e,n=null,r="POST",i="runs"){const s=n?{...n}:{};for(;;){const o=await(await this.caller.call(fetch,`${this.apiUrl}${e}`,{method:r,headers:{...this.headers,"Content-Type":"application/json"},signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions,body:JSON.stringify(s)})).json();if(!o||!o[i])break;yield o[i];const l=o.cursors;if(!l||!l.next)break;s.cursor=l.next}}_filterForSampling(e,n=!1){if(this.tracingSampleRate===void 0)return e;if(n){const r=[];for(const i of e)this.sampledPostUuids.has(i.id)&&(r.push(i),this.sampledPostUuids.delete(i.id));return r}else{const r=[];for(const i of e)Math.random()<this.tracingSampleRate&&(r.push(i),this.sampledPostUuids.add(i.id));return r}}async drainAutoBatchQueue(){for(;this.autoBatchQueue.size>=0;){const[e,n]=this.autoBatchQueue.pop(this.pendingAutoBatchedRunLimit);if(!e.length){n();return}try{await this.batchIngestRuns({runCreates:e.filter(r=>r.action==="create").map(r=>r.item),runUpdates:e.filter(r=>r.action==="update").map(r=>r.item)})}finally{n()}}}async processRunOperation(e,n){const r=this.autoBatchTimeout;clearTimeout(this.autoBatchTimeout),this.autoBatchTimeout=void 0;const i=this.autoBatchQueue.push(e);return(n||this.autoBatchQueue.size>this.pendingAutoBatchedRunLimit)&&await this.drainAutoBatchQueue(),this.autoBatchQueue.size>0&&(this.autoBatchTimeout=setTimeout(()=>{this.autoBatchTimeout=void 0,this.drainAutoBatchQueue().catch(console.error)},r?this.autoBatchAggregationDelayMs:this.autoBatchInitialDelayMs)),i}async _getServerInfo(){const e=await fetch(`${this.apiUrl}/info`,{method:"GET",headers:{Accept:"application/json"},signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});if(!e.ok)throw await e.text(),new Error("Failed to retrieve server info.");return e.json()}async batchEndpointIsSupported(){try{this.serverInfo=await this._getServerInfo()}catch{return!1}return!0}async createRun(e){if(!this._filterForSampling([e]).length)return;const n={...this.headers,"Content-Type":"application/json"},r=e.project_name;delete e.project_name;const i=this.prepareRunCreateOrUpdateInputs({session_name:r,...e,start_time:e.start_time??Date.now()});if(this.autoBatchTracing&&i.trace_id!==void 0&&i.dotted_order!==void 0){this.processRunOperation({action:"create",item:i}).catch(console.error);return}const s=await RS([i]),a=await this.caller.call(fetch,`${this.apiUrl}/runs`,{method:"POST",headers:n,body:JSON.stringify(s[0]),signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});await Vi(a,"create run")}async batchIngestRuns({runCreates:e,runUpdates:n}){var u,c;if(e===void 0&&n===void 0)return;let r=(e==null?void 0:e.map(d=>this.prepareRunCreateOrUpdateInputs(d)))??[],i=(n==null?void 0:n.map(d=>this.prepareRunCreateOrUpdateInputs(d)))??[];if(r.length>0&&i.length>0){const d=r.reduce((h,p)=>(p.id&&(h[p.id]=p),h),{}),f=[];for(const h of i)h.id!==void 0&&d[h.id]?d[h.id]={...d[h.id],...h}:f.push(h);r=Object.values(d),i=f}const s={post:this._filterForSampling(r),patch:this._filterForSampling(i,!0)};if(!s.post.length&&!s.patch.length)return;if(r=await RS(r),this.batchEndpointSupported===void 0&&(this.batchEndpointSupported=await this.batchEndpointIsSupported()),!this.batchEndpointSupported){this.autoBatchTracing=!1;for(const d of s.post)await this.createRun(d);for(const d of s.patch)d.id!==void 0&&await this.updateRun(d.id,d);return}const a=((c=(u=this.serverInfo)==null?void 0:u.batch_ingest_config)==null?void 0:c.size_limit_bytes)??lZ,o={post:[],patch:[]};let l=0;for(const d of["post","patch"]){const f=d,h=s[f].reverse();let p=h.pop();for(;p!==void 0;){const y=JSON.stringify(p);l>0&&l+y.length>a&&(await this._postBatchIngestRuns(JSON.stringify(o)),l=0,o.post=[],o.patch=[]),l+=y.length,o[f].push(p),p=h.pop()}}(o.post.length>0||o.patch.length>0)&&await this._postBatchIngestRuns(JSON.stringify(o))}async _postBatchIngestRuns(e){const n={...this.headers,"Content-Type":"application/json",Accept:"application/json"},r=await this.batchIngestCaller.call(fetch,`${this.apiUrl}/runs/batch`,{method:"POST",headers:n,body:e,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});await Vi(r,"batch create run")}async updateRun(e,n){Xe(e),n.inputs&&(n.inputs=this.processInputs(n.inputs)),n.outputs&&(n.outputs=this.processOutputs(n.outputs));const r={...n,id:e};if(!this._filterForSampling([r],!0).length)return;if(this.autoBatchTracing&&r.trace_id!==void 0&&r.dotted_order!==void 0){if(n.end_time!==void 0&&r.parent_run_id===void 0){await this.processRunOperation({action:"update",item:r},!0);return}else this.processRunOperation({action:"update",item:r}).catch(console.error);return}const i={...this.headers,"Content-Type":"application/json"},s=await this.caller.call(fetch,`${this.apiUrl}/runs/${e}`,{method:"PATCH",headers:i,body:JSON.stringify(n),signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});await Vi(s,"update run")}async readRun(e,{loadChildRuns:n}={loadChildRuns:!1}){Xe(e);let r=await this._get(`/runs/${e}`);return n&&r.child_run_ids&&(r=await this._loadChildRuns(r)),r}async getRunUrl({runId:e,run:n,projectOpts:r}){if(n!==void 0){let i;n.session_id?i=n.session_id:r!=null&&r.projectName?i=(await this.readProject({projectName:r==null?void 0:r.projectName})).id:r!=null&&r.projectId?i=r==null?void 0:r.projectId:i=(await this.readProject({projectName:Bs("LANGCHAIN_PROJECT")||"default"})).id;const s=await this._getTenantId();return`${this.getHostUrl()}/o/${s}/projects/p/${i}/r/${n.id}?poll=true`}else if(e!==void 0){const i=await this.readRun(e);if(!i.app_path)throw new Error(`Run ${e} has no app_path`);return`${this.getHostUrl()}${i.app_path}`}else throw new Error("Must provide either runId or run")}async _loadChildRuns(e){const n=await sZ(this.listRuns({id:e.child_run_ids})),r={},i={};n.sort((s,a)=>((s==null?void 0:s.dotted_order)??"").localeCompare((a==null?void 0:a.dotted_order)??""));for(const s of n){if(s.parent_run_id===null||s.parent_run_id===void 0)throw new Error(`Child run ${s.id} has no parent`);s.parent_run_id in r||(r[s.parent_run_id]=[]),r[s.parent_run_id].push(s),i[s.id]=s}e.child_runs=r[e.id]||[];for(const s in r)s!==e.id&&(i[s].child_runs=r[s]);return e}async*listRuns(e){const{projectId:n,projectName:r,parentRunId:i,traceId:s,referenceExampleId:a,startTime:o,executionOrder:l,isRoot:u,runType:c,error:d,id:f,query:h,filter:p,traceFilter:y,treeFilter:b,limit:m,select:g}=e;let v=[];if(n&&(v=Array.isArray(n)?n:[n]),r){const k=Array.isArray(r)?r:[r],I=await Promise.all(k.map(R=>this.readProject({projectName:R}).then(j=>j.id)));v.push(...I)}const x=["app_path","child_run_ids","completion_cost","completion_tokens","dotted_order","end_time","error","events","extra","feedback_stats","first_token_time","id","inputs","name","outputs","parent_run_id","parent_run_ids","prompt_cost","prompt_tokens","reference_example_id","run_type","session_id","start_time","status","tags","total_cost","total_tokens","trace_id"],C={session:v.length?v:null,run_type:c,reference_example:a,query:h,filter:p,trace_filter:y,tree_filter:b,execution_order:l,parent_run:i,start_time:o?o.toISOString():null,error:d,id:f,limit:m,trace:s,select:g||x,is_root:u};for await(const k of this._getCursorPaginatedList("/runs/query",C))yield*k}async shareRun(e,{shareId:n}={}){const r={run_id:e,share_token:n||Hr()};Xe(e);const s=await(await this.caller.call(fetch,`${this.apiUrl}/runs/${e}/share`,{method:"PUT",headers:this.headers,body:JSON.stringify(r),signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions})).json();if(s===null||!("share_token"in s))throw new Error("Invalid response from server");return`${this.getHostUrl()}/public/${s.share_token}/r`}async unshareRun(e){Xe(e);const n=await this.caller.call(fetch,`${this.apiUrl}/runs/${e}/share`,{method:"DELETE",headers:this.headers,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});await Vi(n,"unshare run")}async readRunSharedLink(e){Xe(e);const r=await(await this.caller.call(fetch,`${this.apiUrl}/runs/${e}/share`,{method:"GET",headers:this.headers,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions})).json();if(!(r===null||!("share_token"in r)))return`${this.getHostUrl()}/public/${r.share_token}/r`}async listSharedRuns(e,{runIds:n}={}){const r=new URLSearchParams({share_token:e});if(n!==void 0)for(const a of n)r.append("id",a);return Xe(e),await(await this.caller.call(fetch,`${this.apiUrl}/public/${e}/runs${r}`,{method:"GET",headers:this.headers,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions})).json()}async readDatasetSharedSchema(e,n){if(!e&&!n)throw new Error("Either datasetId or datasetName must be given");e||(e=(await this.readDataset({datasetName:n})).id),Xe(e);const i=await(await this.caller.call(fetch,`${this.apiUrl}/datasets/${e}/share`,{method:"GET",headers:this.headers,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions})).json();return i.url=`${this.getHostUrl()}/public/${i.share_token}/d`,i}async shareDataset(e,n){if(!e&&!n)throw new Error("Either datasetId or datasetName must be given");e||(e=(await this.readDataset({datasetName:n})).id);const r={dataset_id:e};Xe(e);const s=await(await this.caller.call(fetch,`${this.apiUrl}/datasets/${e}/share`,{method:"PUT",headers:this.headers,body:JSON.stringify(r),signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions})).json();return s.url=`${this.getHostUrl()}/public/${s.share_token}/d`,s}async unshareDataset(e){Xe(e);const n=await this.caller.call(fetch,`${this.apiUrl}/datasets/${e}/share`,{method:"DELETE",headers:this.headers,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});await Vi(n,"unshare dataset")}async readSharedDataset(e){return Xe(e),await(await this.caller.call(fetch,`${this.apiUrl}/public/${e}/datasets`,{method:"GET",headers:this.headers,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions})).json()}async createProject({projectName:e,description:n=null,metadata:r=null,upsert:i=!1,projectExtra:s=null,referenceDatasetId:a=null}){const o=i?"?upsert=true":"",l=`${this.apiUrl}/sessions${o}`,u=s||{};r&&(u.metadata=r);const c={name:e,extra:u,description:n};a!==null&&(c.reference_dataset_id=a);const d=await this.caller.call(fetch,l,{method:"POST",headers:{...this.headers,"Content-Type":"application/json"},body:JSON.stringify(c),signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions}),f=await d.json();if(!d.ok)throw new Error(`Failed to create session ${e}: ${d.status} ${d.statusText}`);return f}async updateProject(e,{name:n=null,description:r=null,metadata:i=null,projectExtra:s=null,endTime:a=null}){const o=`${this.apiUrl}/sessions/${e}`;let l=s;i&&(l={...l||{},metadata:i});const u={name:n,extra:l,description:r,end_time:a?new Date(a).toISOString():null},c=await this.caller.call(fetch,o,{method:"PATCH",headers:{...this.headers,"Content-Type":"application/json"},body:JSON.stringify(u),signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions}),d=await c.json();if(!c.ok)throw new Error(`Failed to update project ${e}: ${c.status} ${c.statusText}`);return d}async hasProject({projectId:e,projectName:n}){let r="/sessions";const i=new URLSearchParams;if(e!==void 0&&n!==void 0)throw new Error("Must provide either projectName or projectId, not both");if(e!==void 0)Xe(e),r+=`/${e}`;else if(n!==void 0)i.append("name",n);else throw new Error("Must provide projectName or projectId");const s=await this.caller.call(fetch,`${this.apiUrl}${r}?${i}`,{method:"GET",headers:this.headers,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});try{const a=await s.json();return s.ok?Array.isArray(a)?a.length>0:!0:!1}catch{return!1}}async readProject({projectId:e,projectName:n,includeStats:r}){let i="/sessions";const s=new URLSearchParams;if(e!==void 0&&n!==void 0)throw new Error("Must provide either projectName or projectId, not both");if(e!==void 0)Xe(e),i+=`/${e}`;else if(n!==void 0)s.append("name",n);else throw new Error("Must provide projectName or projectId");r!==void 0&&s.append("include_stats",r.toString());const a=await this._get(i,s);let o;if(Array.isArray(a)){if(a.length===0)throw new Error(`Project[id=${e}, name=${n}] not found`);o=a[0]}else o=a;return o}async _getTenantId(){if(this._tenantId!==null)return this._tenantId;const e=new URLSearchParams({limit:"1"});for await(const n of this._getPaginated("/sessions",e))return this._tenantId=n[0].tenant_id,n[0].tenant_id;throw new Error("No projects found to resolve tenant.")}async*listProjects({projectIds:e,name:n,nameContains:r,referenceDatasetId:i,referenceDatasetName:s,referenceFree:a}={}){const o=new URLSearchParams;if(e!==void 0)for(const l of e)o.append("id",l);if(n!==void 0&&o.append("name",n),r!==void 0&&o.append("name_contains",r),i!==void 0)o.append("reference_dataset",i);else if(s!==void 0){const l=await this.readDataset({datasetName:s});o.append("reference_dataset",l.id)}a!==void 0&&o.append("reference_free",a.toString());for await(const l of this._getPaginated("/sessions",o))yield*l}async deleteProject({projectId:e,projectName:n}){let r;if(e===void 0&&n===void 0)throw new Error("Must provide projectName or projectId");if(e!==void 0&&n!==void 0)throw new Error("Must provide either projectName or projectId, not both");e===void 0?r=(await this.readProject({projectName:n})).id:r=e,Xe(r);const i=await this.caller.call(fetch,`${this.apiUrl}/sessions/${r}`,{method:"DELETE",headers:this.headers,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});await Vi(i,`delete session ${r} (${n})`)}async uploadCsv({csvFile:e,fileName:n,inputKeys:r,outputKeys:i,description:s,dataType:a,name:o}){const l=`${this.apiUrl}/datasets/upload`,u=new FormData;u.append("file",e,n),r.forEach(f=>{u.append("input_keys",f)}),i.forEach(f=>{u.append("output_keys",f)}),s&&u.append("description",s),a&&u.append("data_type",a),o&&u.append("name",o);const c=await this.caller.call(fetch,l,{method:"POST",headers:this.headers,body:u,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});if(!c.ok){const f=await c.json();throw f.detail&&f.detail.includes("already exists")?new Error(`Dataset ${n} already exists`):new Error(`Failed to upload CSV: ${c.status} ${c.statusText}`)}return await c.json()}async createDataset(e,{description:n,dataType:r}={}){const i={name:e,description:n};r&&(i.data_type=r);const s=await this.caller.call(fetch,`${this.apiUrl}/datasets`,{method:"POST",headers:{...this.headers,"Content-Type":"application/json"},body:JSON.stringify(i),signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});if(!s.ok){const o=await s.json();throw o.detail&&o.detail.includes("already exists")?new Error(`Dataset ${e} already exists`):new Error(`Failed to create dataset ${s.status} ${s.statusText}`)}return await s.json()}async readDataset({datasetId:e,datasetName:n}){let r="/datasets";const i=new URLSearchParams({limit:"1"});if(e!==void 0&&n!==void 0)throw new Error("Must provide either datasetName or datasetId, not both");if(e!==void 0)Xe(e),r+=`/${e}`;else if(n!==void 0)i.append("name",n);else throw new Error("Must provide datasetName or datasetId");const s=await this._get(r,i);let a;if(Array.isArray(s)){if(s.length===0)throw new Error(`Dataset[id=${e}, name=${n}] not found`);a=s[0]}else a=s;return a}async hasDataset({datasetId:e,datasetName:n}){try{return await this.readDataset({datasetId:e,datasetName:n}),!0}catch(r){if(r instanceof Error&&r.message.toLocaleLowerCase().includes("not found"))return!1;throw r}}async diffDatasetVersions({datasetId:e,datasetName:n,fromVersion:r,toVersion:i}){let s=e;if(s===void 0&&n===void 0)throw new Error("Must provide either datasetName or datasetId");if(s!==void 0&&n!==void 0)throw new Error("Must provide either datasetName or datasetId, not both");s===void 0&&(s=(await this.readDataset({datasetName:n})).id);const a=new URLSearchParams({from_version:typeof r=="string"?r:r.toISOString(),to_version:typeof i=="string"?i:i.toISOString()});return await this._get(`/datasets/${s}/versions/diff`,a)}async readDatasetOpenaiFinetuning({datasetId:e,datasetName:n}){const r="/datasets";if(e===void 0)if(n!==void 0)e=(await this.readDataset({datasetName:n})).id;else throw new Error("Must provide datasetName or datasetId");return(await(await this._getResponse(`${r}/${e}/openai_ft`)).text()).trim().split(`
`).map(o=>JSON.parse(o))}async*listDatasets({limit:e=100,offset:n=0,datasetIds:r,datasetName:i,datasetNameContains:s}={}){const a="/datasets",o=new URLSearchParams({limit:e.toString(),offset:n.toString()});if(r!==void 0)for(const l of r)o.append("id",l);i!==void 0&&o.append("name",i),s!==void 0&&o.append("name_contains",s);for await(const l of this._getPaginated(a,o))yield*l}async deleteDataset({datasetId:e,datasetName:n}){let r="/datasets",i=e;if(e!==void 0&&n!==void 0)throw new Error("Must provide either datasetName or datasetId, not both");if(n!==void 0&&(i=(await this.readDataset({datasetName:n})).id),i!==void 0)Xe(i),r+=`/${i}`;else throw new Error("Must provide datasetName or datasetId");const s=await this.caller.call(fetch,this.apiUrl+r,{method:"DELETE",headers:this.headers,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});if(!s.ok)throw new Error(`Failed to delete ${r}: ${s.status} ${s.statusText}`);await s.json()}async createExample(e,n,{datasetId:r,datasetName:i,createdAt:s,exampleId:a,metadata:o}){let l=r;if(l===void 0&&i===void 0)throw new Error("Must provide either datasetName or datasetId");if(l!==void 0&&i!==void 0)throw new Error("Must provide either datasetName or datasetId, not both");l===void 0&&(l=(await this.readDataset({datasetName:i})).id);const u=s||new Date,c={dataset_id:l,inputs:e,outputs:n,created_at:u==null?void 0:u.toISOString(),id:a,metadata:o},d=await this.caller.call(fetch,`${this.apiUrl}/examples`,{method:"POST",headers:{...this.headers,"Content-Type":"application/json"},body:JSON.stringify(c),signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});if(!d.ok)throw new Error(`Failed to create example: ${d.status} ${d.statusText}`);return await d.json()}async createExamples(e){const{inputs:n,outputs:r,metadata:i,sourceRunIds:s,exampleIds:a,datasetId:o,datasetName:l}=e;let u=o;if(u===void 0&&l===void 0)throw new Error("Must provide either datasetName or datasetId");if(u!==void 0&&l!==void 0)throw new Error("Must provide either datasetName or datasetId, not both");u===void 0&&(u=(await this.readDataset({datasetName:l})).id);const c=n.map((h,p)=>({dataset_id:u,inputs:h,outputs:r?r[p]:void 0,metadata:i?i[p]:void 0,id:a?a[p]:void 0,source_run_id:s?s[p]:void 0})),d=await this.caller.call(fetch,`${this.apiUrl}/examples/bulk`,{method:"POST",headers:{...this.headers,"Content-Type":"application/json"},body:JSON.stringify(c),signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});if(!d.ok)throw new Error(`Failed to create examples: ${d.status} ${d.statusText}`);return await d.json()}async createLLMExample(e,n,r){return this.createExample({input:e},{output:n},r)}async createChatExample(e,n,r){const i=e.map(a=>IS(a)?OS(a):a),s=IS(n)?OS(n):n;return this.createExample({input:i},{output:s},r)}async readExample(e){Xe(e);const n=`/examples/${e}`;return await this._get(n)}async*listExamples({datasetId:e,datasetName:n,exampleIds:r,asOf:i,inlineS3Urls:s,metadata:a}={}){let o;if(e!==void 0&&n!==void 0)throw new Error("Must provide either datasetName or datasetId, not both");if(e!==void 0)o=e;else if(n!==void 0)o=(await this.readDataset({datasetName:n})).id;else throw new Error("Must provide a datasetName or datasetId");const l=new URLSearchParams({dataset:o}),u=i?typeof i=="string"?i:i==null?void 0:i.toISOString():void 0;u&&l.append("as_of",u);const c=s??!0;if(l.append("inline_s3_urls",c.toString()),r!==void 0)for(const d of r)l.append("id",d);if(a!==void 0){const d=JSON.stringify(a);l.append("metadata",d)}for await(const d of this._getPaginated("/examples",l))yield*d}async deleteExample(e){Xe(e);const n=`/examples/${e}`,r=await this.caller.call(fetch,this.apiUrl+n,{method:"DELETE",headers:this.headers,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});if(!r.ok)throw new Error(`Failed to delete ${n}: ${r.status} ${r.statusText}`);await r.json()}async updateExample(e,n){Xe(e);const r=await this.caller.call(fetch,`${this.apiUrl}/examples/${e}`,{method:"PATCH",headers:{...this.headers,"Content-Type":"application/json"},body:JSON.stringify(n),signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});if(!r.ok)throw new Error(`Failed to update example ${e}: ${r.status} ${r.statusText}`);return await r.json()}async evaluateRun(e,n,{sourceInfo:r,loadChildRuns:i,referenceExample:s}={loadChildRuns:!1}){let a;if(typeof e=="string")a=await this.readRun(e,{loadChildRuns:i});else if(typeof e=="object"&&"id"in e)a=e;else throw new Error(`Invalid run type: ${typeof e}`);a.reference_example_id!==null&&a.reference_example_id!==void 0&&(s=await this.readExample(a.reference_example_id));const o=await n.evaluateRun(a,s);let l=r??{};o.evaluatorInfo&&(l={...l,...o.evaluatorInfo});const u=o.targetRunId??a.id;return await this.createFeedback(u,o.key,{score:o==null?void 0:o.score,value:o==null?void 0:o.value,comment:o==null?void 0:o.comment,correction:o==null?void 0:o.correction,sourceInfo:l,feedbackSourceType:"model",sourceRunId:o==null?void 0:o.sourceRunId})}async createFeedback(e,n,{score:r,value:i,correction:s,comment:a,sourceInfo:o,feedbackSourceType:l="api",sourceRunId:u,feedbackId:c,feedbackConfig:d,projectId:f}){var m;if(!e&&!f)throw new Error("One of runId or projectId must be provided");if(e&&f)throw new Error("Only one of runId or projectId can be provided");const h={type:l??"api",metadata:o??{}};u!==void 0&&(h==null?void 0:h.metadata)!==void 0&&!h.metadata.__run&&(h.metadata.__run={run_id:u}),(h==null?void 0:h.metadata)!==void 0&&((m=h.metadata.__run)==null?void 0:m.run_id)!==void 0&&Xe(h.metadata.__run.run_id);const p={id:c??Hr(),run_id:e,key:n,score:r,value:i,correction:s,comment:a,feedback_source:h,feedbackConfig:d,session_id:f},y=`${this.apiUrl}/feedback`,b=await this.caller.call(fetch,y,{method:"POST",headers:{...this.headers,"Content-Type":"application/json"},body:JSON.stringify(p),signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});return await Vi(b,"create feedback"),p}async updateFeedback(e,{score:n,value:r,correction:i,comment:s}){const a={};n!=null&&(a.score=n),r!=null&&(a.value=r),i!=null&&(a.correction=i),s!=null&&(a.comment=s),Xe(e);const o=await this.caller.call(fetch,`${this.apiUrl}/feedback/${e}`,{method:"PATCH",headers:{...this.headers,"Content-Type":"application/json"},body:JSON.stringify(a),signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});await Vi(o,"update feedback")}async readFeedback(e){Xe(e);const n=`/feedback/${e}`;return await this._get(n)}async deleteFeedback(e){Xe(e);const n=`/feedback/${e}`,r=await this.caller.call(fetch,this.apiUrl+n,{method:"DELETE",headers:this.headers,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});if(!r.ok)throw new Error(`Failed to delete ${n}: ${r.status} ${r.statusText}`);await r.json()}async*listFeedback({runIds:e,feedbackKeys:n,feedbackSourceTypes:r}={}){const i=new URLSearchParams;if(e&&i.append("run",e.join(",")),n)for(const s of n)i.append("key",s);if(r)for(const s of r)i.append("source",s);for await(const s of this._getPaginated("/feedback",i))yield*s}async createPresignedFeedbackToken(e,n,{expiration:r,feedbackConfig:i}={}){const s={run_id:e,feedback_key:n,feedback_config:i};return r?typeof r=="string"?s.expires_at=r:(r!=null&&r.hours||r!=null&&r.minutes||r!=null&&r.days)&&(s.expires_in=r):s.expires_in={hours:3},await(await this.caller.call(fetch,`${this.apiUrl}/feedback/tokens`,{method:"POST",headers:{...this.headers,"Content-Type":"application/json"},body:JSON.stringify(s),signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions})).json()}async*listPresignedFeedbackTokens(e){Xe(e);const n=new URLSearchParams({run_id:e});for await(const r of this._getPaginated("/feedback/tokens",n))yield*r}_selectEvalResults(e){let n;return"results"in e?n=e.results:n=[e],n}async logEvaluationFeedback(e,n,r){const i=this._selectEvalResults(e);for(const s of i){let a=r||{};s.evaluatorInfo&&(a={...s.evaluatorInfo,...a});let o=null;s.targetRunId?o=s.targetRunId:n&&(o=n.id),await this.createFeedback(o,s.key,{score:s.score,value:s.value,comment:s.comment,correction:s.correction,sourceInfo:a,sourceRunId:s.sourceRunId,feedbackConfig:s.feedbackConfig,feedbackSourceType:"model"})}return i}}const DO="0.1.23";class uZ extends fm{constructor(e={}){super(e),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"langchain_tracer"}),Object.defineProperty(this,"projectName",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"exampleId",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"client",{enumerable:!0,configurable:!0,writable:!0,value:void 0});const{exampleId:n,projectName:r,client:i}=e;this.projectName=r??Pn("LANGCHAIN_PROJECT")??Pn("LANGCHAIN_SESSION"),this.exampleId=n,this.client=i??new qw({})}async _convertToCreate(e,n=void 0){return{...e,extra:{...e.extra,runtime:await U7()},child_runs:void 0,session_name:this.projectName,reference_example_id:e.parent_run_id?void 0:n}}async persistRun(e){}async onRunCreate(e){const n=await this._convertToCreate(e,this.exampleId);await this.client.createRun(n)}async onRunUpdate(e){const n={end_time:e.end_time,error:e.error,outputs:e.outputs,events:e.events,inputs:e.inputs,trace_id:e.trace_id,dotted_order:e.dotted_order,parent_run_id:e.parent_run_id};await this.client.updateRun(e.id,n)}getRun(e){return this.runMap.get(e)}}async function cZ(){return new uZ}let Xg;function dZ(){const t="default"in Ti?Ti.default:Ti;return new t({autoStart:!0,concurrency:1})}async function Ot(t,e){e===!0?await t():(typeof Xg>"u"&&(Xg=dZ()),Xg.add(t))}class fZ{setHandler(e){return this.setHandlers([e])}}class hm{constructor(e,n,r,i,s,a,o,l){Object.defineProperty(this,"runId",{enumerable:!0,configurable:!0,writable:!0,value:e}),Object.defineProperty(this,"handlers",{enumerable:!0,configurable:!0,writable:!0,value:n}),Object.defineProperty(this,"inheritableHandlers",{enumerable:!0,configurable:!0,writable:!0,value:r}),Object.defineProperty(this,"tags",{enumerable:!0,configurable:!0,writable:!0,value:i}),Object.defineProperty(this,"inheritableTags",{enumerable:!0,configurable:!0,writable:!0,value:s}),Object.defineProperty(this,"metadata",{enumerable:!0,configurable:!0,writable:!0,value:a}),Object.defineProperty(this,"inheritableMetadata",{enumerable:!0,configurable:!0,writable:!0,value:o}),Object.defineProperty(this,"_parentRunId",{enumerable:!0,configurable:!0,writable:!0,value:l})}async handleText(e){await Promise.all(this.handlers.map(n=>Ot(async()=>{var r;try{await((r=n.handleText)==null?void 0:r.call(n,e,this.runId,this._parentRunId,this.tags))}catch(i){console.error(`Error in handler ${n.constructor.name}, handleText: ${i}`)}},n.awaitHandlers)))}}class hZ extends hm{getChild(e){const n=new yn(this.runId);return n.setHandlers(this.inheritableHandlers),n.addTags(this.inheritableTags),n.addMetadata(this.inheritableMetadata),e&&n.addTags([e],!1),n}async handleRetrieverEnd(e){await Promise.all(this.handlers.map(n=>Ot(async()=>{var r;if(!n.ignoreRetriever)try{await((r=n.handleRetrieverEnd)==null?void 0:r.call(n,e,this.runId,this._parentRunId,this.tags))}catch{console.error(`Error in handler ${n.constructor.name}, handleRetriever`)}},n.awaitHandlers)))}async handleRetrieverError(e){await Promise.all(this.handlers.map(n=>Ot(async()=>{var r;if(!n.ignoreRetriever)try{await((r=n.handleRetrieverError)==null?void 0:r.call(n,e,this.runId,this._parentRunId,this.tags))}catch(i){console.error(`Error in handler ${n.constructor.name}, handleRetrieverError: ${i}`)}},n.awaitHandlers)))}}class $S extends hm{async handleLLMNewToken(e,n,r,i,s,a){await Promise.all(this.handlers.map(o=>Ot(async()=>{var l;if(!o.ignoreLLM)try{await((l=o.handleLLMNewToken)==null?void 0:l.call(o,e,n??{prompt:0,completion:0},this.runId,this._parentRunId,this.tags,a))}catch(u){console.error(`Error in handler ${o.constructor.name}, handleLLMNewToken: ${u}`)}},o.awaitHandlers)))}async handleLLMError(e){await Promise.all(this.handlers.map(n=>Ot(async()=>{var r;if(!n.ignoreLLM)try{await((r=n.handleLLMError)==null?void 0:r.call(n,e,this.runId,this._parentRunId,this.tags))}catch(i){console.error(`Error in handler ${n.constructor.name}, handleLLMError: ${i}`)}},n.awaitHandlers)))}async handleLLMEnd(e){await Promise.all(this.handlers.map(n=>Ot(async()=>{var r;if(!n.ignoreLLM)try{await((r=n.handleLLMEnd)==null?void 0:r.call(n,e,this.runId,this._parentRunId,this.tags))}catch(i){console.error(`Error in handler ${n.constructor.name}, handleLLMEnd: ${i}`)}},n.awaitHandlers)))}}class pZ extends hm{getChild(e){const n=new yn(this.runId);return n.setHandlers(this.inheritableHandlers),n.addTags(this.inheritableTags),n.addMetadata(this.inheritableMetadata),e&&n.addTags([e],!1),n}async handleChainError(e,n,r,i,s){await Promise.all(this.handlers.map(a=>Ot(async()=>{var o;if(!a.ignoreChain)try{await((o=a.handleChainError)==null?void 0:o.call(a,e,this.runId,this._parentRunId,this.tags,s))}catch(l){console.error(`Error in handler ${a.constructor.name}, handleChainError: ${l}`)}},a.awaitHandlers)))}async handleChainEnd(e,n,r,i,s){await Promise.all(this.handlers.map(a=>Ot(async()=>{var o;if(!a.ignoreChain)try{await((o=a.handleChainEnd)==null?void 0:o.call(a,e,this.runId,this._parentRunId,this.tags,s))}catch(l){console.error(`Error in handler ${a.constructor.name}, handleChainEnd: ${l}`)}},a.awaitHandlers)))}async handleAgentAction(e){await Promise.all(this.handlers.map(n=>Ot(async()=>{var r;if(!n.ignoreAgent)try{await((r=n.handleAgentAction)==null?void 0:r.call(n,e,this.runId,this._parentRunId,this.tags))}catch(i){console.error(`Error in handler ${n.constructor.name}, handleAgentAction: ${i}`)}},n.awaitHandlers)))}async handleAgentEnd(e){await Promise.all(this.handlers.map(n=>Ot(async()=>{var r;if(!n.ignoreAgent)try{await((r=n.handleAgentEnd)==null?void 0:r.call(n,e,this.runId,this._parentRunId,this.tags))}catch(i){console.error(`Error in handler ${n.constructor.name}, handleAgentEnd: ${i}`)}},n.awaitHandlers)))}}class mZ extends hm{getChild(e){const n=new yn(this.runId);return n.setHandlers(this.inheritableHandlers),n.addTags(this.inheritableTags),n.addMetadata(this.inheritableMetadata),e&&n.addTags([e],!1),n}async handleToolError(e){await Promise.all(this.handlers.map(n=>Ot(async()=>{var r;if(!n.ignoreAgent)try{await((r=n.handleToolError)==null?void 0:r.call(n,e,this.runId,this._parentRunId,this.tags))}catch(i){console.error(`Error in handler ${n.constructor.name}, handleToolError: ${i}`)}},n.awaitHandlers)))}async handleToolEnd(e){await Promise.all(this.handlers.map(n=>Ot(async()=>{var r;if(!n.ignoreAgent)try{await((r=n.handleToolEnd)==null?void 0:r.call(n,e,this.runId,this._parentRunId,this.tags))}catch(i){console.error(`Error in handler ${n.constructor.name}, handleToolEnd: ${i}`)}},n.awaitHandlers)))}}class yn extends fZ{constructor(e,n){super(),Object.defineProperty(this,"handlers",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"inheritableHandlers",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"tags",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"inheritableTags",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"metadata",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"inheritableMetadata",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"callback_manager"}),Object.defineProperty(this,"_parentRunId",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.handlers=(n==null?void 0:n.handlers)??this.handlers,this.inheritableHandlers=(n==null?void 0:n.inheritableHandlers)??this.inheritableHandlers,this.tags=(n==null?void 0:n.tags)??this.tags,this.inheritableTags=(n==null?void 0:n.inheritableTags)??this.inheritableTags,this.metadata=(n==null?void 0:n.metadata)??this.metadata,this.inheritableMetadata=(n==null?void 0:n.inheritableMetadata)??this.inheritableMetadata,this._parentRunId=e}getParentRunId(){return this._parentRunId}async handleLLMStart(e,n,r=void 0,i=void 0,s=void 0,a=void 0,o=void 0,l=void 0){return Promise.all(n.map(async(u,c)=>{const d=c===0&&r?r:Hr();return await Promise.all(this.handlers.map(f=>Ot(async()=>{var h;if(!f.ignoreLLM)try{await((h=f.handleLLMStart)==null?void 0:h.call(f,e,[u],d,this._parentRunId,s,this.tags,this.metadata,l))}catch(p){console.error(`Error in handler ${f.constructor.name}, handleLLMStart: ${p}`)}},f.awaitHandlers))),new $S(d,this.handlers,this.inheritableHandlers,this.tags,this.inheritableTags,this.metadata,this.inheritableMetadata,this._parentRunId)}))}async handleChatModelStart(e,n,r=void 0,i=void 0,s=void 0,a=void 0,o=void 0,l=void 0){return Promise.all(n.map(async(u,c)=>{const d=c===0&&r?r:Hr();return await Promise.all(this.handlers.map(f=>Ot(async()=>{var h,p;if(!f.ignoreLLM)try{if(f.handleChatModelStart)await((h=f.handleChatModelStart)==null?void 0:h.call(f,e,[u],d,this._parentRunId,s,this.tags,this.metadata,l));else if(f.handleLLMStart){const y=hO(u);await((p=f.handleLLMStart)==null?void 0:p.call(f,e,[y],d,this._parentRunId,s,this.tags,this.metadata,l))}}catch(y){console.error(`Error in handler ${f.constructor.name}, handleLLMStart: ${y}`)}},f.awaitHandlers))),new $S(d,this.handlers,this.inheritableHandlers,this.tags,this.inheritableTags,this.metadata,this.inheritableMetadata,this._parentRunId)}))}async handleChainStart(e,n,r=Hr(),i=void 0,s=void 0,a=void 0,o=void 0){return await Promise.all(this.handlers.map(l=>Ot(async()=>{var u;if(!l.ignoreChain)try{await((u=l.handleChainStart)==null?void 0:u.call(l,e,n,r,this._parentRunId,this.tags,this.metadata,i,o))}catch(c){console.error(`Error in handler ${l.constructor.name}, handleChainStart: ${c}`)}},l.awaitHandlers))),new pZ(r,this.handlers,this.inheritableHandlers,this.tags,this.inheritableTags,this.metadata,this.inheritableMetadata,this._parentRunId)}async handleToolStart(e,n,r=Hr(),i=void 0,s=void 0,a=void 0,o=void 0){return await Promise.all(this.handlers.map(l=>Ot(async()=>{var u;if(!l.ignoreAgent)try{await((u=l.handleToolStart)==null?void 0:u.call(l,e,n,r,this._parentRunId,this.tags,this.metadata,o))}catch(c){console.error(`Error in handler ${l.constructor.name}, handleToolStart: ${c}`)}},l.awaitHandlers))),new mZ(r,this.handlers,this.inheritableHandlers,this.tags,this.inheritableTags,this.metadata,this.inheritableMetadata,this._parentRunId)}async handleRetrieverStart(e,n,r=Hr(),i=void 0,s=void 0,a=void 0,o=void 0){return await Promise.all(this.handlers.map(l=>Ot(async()=>{var u;if(!l.ignoreRetriever)try{await((u=l.handleRetrieverStart)==null?void 0:u.call(l,e,n,r,this._parentRunId,this.tags,this.metadata,o))}catch(c){console.error(`Error in handler ${l.constructor.name}, handleRetrieverStart: ${c}`)}},l.awaitHandlers))),new hZ(r,this.handlers,this.inheritableHandlers,this.tags,this.inheritableTags,this.metadata,this.inheritableMetadata,this._parentRunId)}addHandler(e,n=!0){this.handlers.push(e),n&&this.inheritableHandlers.push(e)}removeHandler(e){this.handlers=this.handlers.filter(n=>n!==e),this.inheritableHandlers=this.inheritableHandlers.filter(n=>n!==e)}setHandlers(e,n=!0){this.handlers=[],this.inheritableHandlers=[];for(const r of e)this.addHandler(r,n)}addTags(e,n=!0){this.removeTags(e),this.tags.push(...e),n&&this.inheritableTags.push(...e)}removeTags(e){this.tags=this.tags.filter(n=>!e.includes(n)),this.inheritableTags=this.inheritableTags.filter(n=>!e.includes(n))}addMetadata(e,n=!0){this.metadata={...this.metadata,...e},n&&(this.inheritableMetadata={...this.inheritableMetadata,...e})}removeMetadata(e){for(const n of Object.keys(e))delete this.metadata[n],delete this.inheritableMetadata[n]}copy(e=[],n=!0){const r=new yn(this._parentRunId);for(const i of this.handlers){const s=this.inheritableHandlers.includes(i);r.addHandler(i,s)}for(const i of this.tags){const s=this.inheritableTags.includes(i);r.addTags([i],s)}for(const i of Object.keys(this.metadata)){const s=Object.keys(this.inheritableMetadata).includes(i);r.addMetadata({[i]:this.metadata[i]},s)}for(const i of e)r.handlers.filter(s=>s.name==="console_callback_handler").some(s=>s.name===i.name)||r.addHandler(i,n);return r}static fromHandlers(e){class n extends jc{constructor(){super(),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:Hr()}),Object.assign(this,e)}}const r=new this;return r.addHandler(new n),r}static async configure(e,n,r,i,s,a,o){let l;(e||n)&&(Array.isArray(e)||!e?(l=new yn,l.setHandlers((e==null?void 0:e.map(ep))??[],!0)):l=e,l=l.copy(Array.isArray(n)?n.map(ep):n==null?void 0:n.handlers,!1));const u=Pn("LANGCHAIN_VERBOSE")==="true"||(o==null?void 0:o.verbose),c=Pn("LANGCHAIN_TRACING_V2")==="true",d=c||(Pn("LANGCHAIN_TRACING")??!1);if(u||d){if(l||(l=new yn),u&&!l.handlers.some(f=>f.name===ES.prototype.name)){const f=new ES;l.addHandler(f,!0)}d&&!l.handlers.some(f=>f.name==="langchain_tracer")&&c&&l.addHandler(await cZ(),!0)}return(r||i)&&l&&(l.addTags(r??[]),l.addTags(i??[],!1)),(s||a)&&l&&(l.addMetadata(s??{}),l.addMetadata(a??{},!1)),l}}function ep(t){return"name"in t?t:jc.fromMethods(t)}/*!
 * https://github.com/Starcounter-Jack/JSON-Patch
 * (c) 2017-2022 Joachim Wester
 * MIT licensed
 */const gZ=Object.prototype.hasOwnProperty;function n0(t,e){return gZ.call(t,e)}function r0(t){if(Array.isArray(t)){const n=new Array(t.length);for(let r=0;r<n.length;r++)n[r]=""+r;return n}if(Object.keys)return Object.keys(t);let e=[];for(let n in t)n0(t,n)&&e.push(n);return e}function Gr(t){switch(typeof t){case"object":return JSON.parse(JSON.stringify(t));case"undefined":return null;default:return t}}function i0(t){let e=0;const n=t.length;let r;for(;e<n;){if(r=t.charCodeAt(e),r>=48&&r<=57){e++;continue}return!1}return!0}function Oa(t){return t.indexOf("/")===-1&&t.indexOf("~")===-1?t:t.replace(/~/g,"~0").replace(/\//g,"~1")}function yZ(t){return t.replace(/~1/g,"/").replace(/~0/g,"~")}function s0(t){if(t===void 0)return!0;if(t){if(Array.isArray(t)){for(let n=0,r=t.length;n<r;n++)if(s0(t[n]))return!0}else if(typeof t=="object"){const n=r0(t),r=n.length;for(var e=0;e<r;e++)if(s0(t[n[e]]))return!0}}return!1}function NS(t,e){const n=[t];for(const r in e){const i=typeof e[r]=="object"?JSON.stringify(e[r],null,2):e[r];typeof i<"u"&&n.push(`${r}: ${i}`)}return n.join(`
`)}class vZ extends Error{constructor(e,n,r,i,s){super(NS(e,{name:n,index:r,operation:i,tree:s})),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:n}),Object.defineProperty(this,"index",{enumerable:!0,configurable:!0,writable:!0,value:r}),Object.defineProperty(this,"operation",{enumerable:!0,configurable:!0,writable:!0,value:i}),Object.defineProperty(this,"tree",{enumerable:!0,configurable:!0,writable:!0,value:s}),Object.setPrototypeOf(this,new.target.prototype),this.message=NS(e,{name:n,index:r,operation:i,tree:s})}}const mt=vZ,uo={add:function(t,e,n){return t[e]=this.value,{newDocument:n}},remove:function(t,e,n){var r=t[e];return delete t[e],{newDocument:n,removed:r}},replace:function(t,e,n){var r=t[e];return t[e]=this.value,{newDocument:n,removed:r}},move:function(t,e,n){let r=a0(n,this.path);r&&(r=Gr(r));const i=gu(n,{op:"remove",path:this.from}).removed;return gu(n,{op:"add",path:this.path,value:i}),{newDocument:n,removed:r}},copy:function(t,e,n){const r=a0(n,this.from);return gu(n,{op:"add",path:this.path,value:Gr(r)}),{newDocument:n}},test:function(t,e,n){return{newDocument:n,test:np(t[e],this.value)}},_get:function(t,e,n){return this.value=t[e],{newDocument:n}}};var bZ={add:function(t,e,n){return i0(e)?t.splice(e,0,this.value):t[e]=this.value,{newDocument:n,index:e}},remove:function(t,e,n){var r=t.splice(e,1);return{newDocument:n,removed:r[0]}},replace:function(t,e,n){var r=t[e];return t[e]=this.value,{newDocument:n,removed:r}},move:uo.move,copy:uo.copy,test:uo.test,_get:uo._get};function a0(t,e){if(e=="")return t;var n={op:"_get",path:e};return gu(t,n),n.value}function gu(t,e,n=!1,r=!0,i=!0,s=0){if(n&&(typeof n=="function"?n(e,0,t,e.path):o0(e,0)),e.path===""){let a={newDocument:t};if(e.op==="add")return a.newDocument=e.value,a;if(e.op==="replace")return a.newDocument=e.value,a.removed=t,a;if(e.op==="move"||e.op==="copy")return a.newDocument=a0(t,e.from),e.op==="move"&&(a.removed=t),a;if(e.op==="test"){if(a.test=np(t,e.value),a.test===!1)throw new mt("Test operation failed","TEST_OPERATION_FAILED",s,e,t);return a.newDocument=t,a}else{if(e.op==="remove")return a.removed=t,a.newDocument=null,a;if(e.op==="_get")return e.value=t,a;if(n)throw new mt("Operation `op` property is not one of operations defined in RFC-6902","OPERATION_OP_INVALID",s,e,t);return a}}else{r||(t=Gr(t));const o=(e.path||"").split("/");let l=t,u=1,c=o.length,d,f,h;for(typeof n=="function"?h=n:h=o0;;){if(f=o[u],f&&f.indexOf("~")!=-1&&(f=yZ(f)),i&&(f=="__proto__"||f=="prototype"&&u>0&&o[u-1]=="constructor"))throw new TypeError("JSON-Patch: modifying `__proto__` or `constructor/prototype` prop is banned for security reasons, if this was on purpose, please set `banPrototypeModifications` flag false and pass it to this function. More info in fast-json-patch README");if(n&&d===void 0&&(l[f]===void 0?d=o.slice(0,u).join("/"):u==c-1&&(d=e.path),d!==void 0&&h(e,0,t,d)),u++,Array.isArray(l)){if(f==="-")f=l.length;else{if(n&&!i0(f))throw new mt("Expected an unsigned base-10 integer value, making the new referenced value the array element with the zero-based index","OPERATION_PATH_ILLEGAL_ARRAY_INDEX",s,e,t);i0(f)&&(f=~~f)}if(u>=c){if(n&&e.op==="add"&&f>l.length)throw new mt("The specified index MUST NOT be greater than the number of elements in the array","OPERATION_VALUE_OUT_OF_BOUNDS",s,e,t);const p=bZ[e.op].call(e,l,f,t);if(p.test===!1)throw new mt("Test operation failed","TEST_OPERATION_FAILED",s,e,t);return p}}else if(u>=c){const p=uo[e.op].call(e,l,f,t);if(p.test===!1)throw new mt("Test operation failed","TEST_OPERATION_FAILED",s,e,t);return p}if(l=l[f],n&&u<c&&(!l||typeof l!="object"))throw new mt("Cannot perform operation at the desired path","OPERATION_PATH_UNRESOLVABLE",s,e,t)}}}function tp(t,e,n,r=!0,i=!0){if(n&&!Array.isArray(e))throw new mt("Patch sequence must be an array","SEQUENCE_NOT_AN_ARRAY");r||(t=Gr(t));const s=new Array(e.length);for(let a=0,o=e.length;a<o;a++)s[a]=gu(t,e[a],n,!0,i,a),t=s[a].newDocument;return s.newDocument=t,s}function o0(t,e,n,r){if(typeof t!="object"||t===null||Array.isArray(t))throw new mt("Operation is not an object","OPERATION_NOT_AN_OBJECT",e,t,n);if(uo[t.op]){if(typeof t.path!="string")throw new mt("Operation `path` property is not a string","OPERATION_PATH_INVALID",e,t,n);if(t.path.indexOf("/")!==0&&t.path.length>0)throw new mt('Operation `path` property must start with "/"',"OPERATION_PATH_INVALID",e,t,n);if((t.op==="move"||t.op==="copy")&&typeof t.from!="string")throw new mt("Operation `from` property is not present (applicable in `move` and `copy` operations)","OPERATION_FROM_REQUIRED",e,t,n);if((t.op==="add"||t.op==="replace"||t.op==="test")&&t.value===void 0)throw new mt("Operation `value` property is not present (applicable in `add`, `replace` and `test` operations)","OPERATION_VALUE_REQUIRED",e,t,n);if((t.op==="add"||t.op==="replace"||t.op==="test")&&s0(t.value))throw new mt("Operation `value` property is not present (applicable in `add`, `replace` and `test` operations)","OPERATION_VALUE_CANNOT_CONTAIN_UNDEFINED",e,t,n);if(n){if(t.op=="add"){var i=t.path.split("/").length,s=r.split("/").length;if(i!==s+1&&i!==s)throw new mt("Cannot perform an `add` operation at the desired path","OPERATION_PATH_CANNOT_ADD",e,t,n)}else if(t.op==="replace"||t.op==="remove"||t.op==="_get"){if(t.path!==r)throw new mt("Cannot perform the operation at a path that does not exist","OPERATION_PATH_UNRESOLVABLE",e,t,n)}else if(t.op==="move"||t.op==="copy"){var a={op:"_get",path:t.from,value:void 0},o=wZ([a],n);if(o&&o.name==="OPERATION_PATH_UNRESOLVABLE")throw new mt("Cannot perform the operation from a path that does not exist","OPERATION_FROM_UNRESOLVABLE",e,t,n)}}}else throw new mt("Operation `op` property is not one of operations defined in RFC-6902","OPERATION_OP_INVALID",e,t,n)}function wZ(t,e,n){try{if(!Array.isArray(t))throw new mt("Patch sequence must be an array","SEQUENCE_NOT_AN_ARRAY");if(e)tp(Gr(e),Gr(t),n||!0);else{n=n||o0;for(var r=0;r<t.length;r++)n(t[r],r,e,void 0)}}catch(i){if(i instanceof mt)return i;throw i}}function np(t,e){if(t===e)return!0;if(t&&e&&typeof t=="object"&&typeof e=="object"){var n=Array.isArray(t),r=Array.isArray(e),i,s,a;if(n&&r){if(s=t.length,s!=e.length)return!1;for(i=s;i--!==0;)if(!np(t[i],e[i]))return!1;return!0}if(n!=r)return!1;var o=Object.keys(t);if(s=o.length,s!==Object.keys(e).length)return!1;for(i=s;i--!==0;)if(!e.hasOwnProperty(o[i]))return!1;for(i=s;i--!==0;)if(a=o[i],!np(t[a],e[a]))return!1;return!0}return t!==t&&e!==e}/*!
 * https://github.com/Starcounter-Jack/JSON-Patch
 * (c) 2013-2021 Joachim Wester
 * MIT license
 */function FO(t,e,n,r,i){if(e!==t){typeof e.toJSON=="function"&&(e=e.toJSON());for(var s=r0(e),a=r0(t),o=!1,l=a.length-1;l>=0;l--){var u=a[l],c=t[u];if(n0(e,u)&&!(e[u]===void 0&&c!==void 0&&Array.isArray(e)===!1)){var d=e[u];typeof c=="object"&&c!=null&&typeof d=="object"&&d!=null&&Array.isArray(c)===Array.isArray(d)?FO(c,d,n,r+"/"+Oa(u),i):c!==d&&(i&&n.push({op:"test",path:r+"/"+Oa(u),value:Gr(c)}),n.push({op:"replace",path:r+"/"+Oa(u),value:Gr(d)}))}else Array.isArray(t)===Array.isArray(e)?(i&&n.push({op:"test",path:r+"/"+Oa(u),value:Gr(c)}),n.push({op:"remove",path:r+"/"+Oa(u)}),o=!0):(i&&n.push({op:"test",path:r,value:t}),n.push({op:"replace",path:r,value:e}))}if(!(!o&&s.length==a.length))for(var l=0;l<s.length;l++){var u=s[l];!n0(t,u)&&e[u]!==void 0&&n.push({op:"add",path:r+"/"+Oa(u),value:Gr(e[u])})}}}function _Z(t,e,n=!1){var r=[];return FO(t,e,r,"",n),r}class ri extends ReadableStream{constructor(){super(...arguments),Object.defineProperty(this,"reader",{enumerable:!0,configurable:!0,writable:!0,value:void 0})}ensureReader(){this.reader||(this.reader=this.getReader())}async next(){this.ensureReader();try{const e=await this.reader.read();return e.done?(this.reader.releaseLock(),{done:!0,value:void 0}):{done:!1,value:e.value}}catch(e){throw this.reader.releaseLock(),e}}async return(){if(this.ensureReader(),this.locked){const e=this.reader.cancel();this.reader.releaseLock(),await e}return{done:!0,value:void 0}}async throw(e){if(this.ensureReader(),this.locked){const n=this.reader.cancel();this.reader.releaseLock(),await n}throw e}[Symbol.asyncIterator](){return this}static fromReadableStream(e){const n=e.getReader();return new ri({start(r){return i();function i(){return n.read().then(({done:s,value:a})=>{if(s){r.close();return}return r.enqueue(a),i()})}},cancel(){n.releaseLock()}})}static fromAsyncGenerator(e){return new ri({async pull(n){const{value:r,done:i}=await e.next();i&&n.close(),n.enqueue(r)},async cancel(n){await e.return(n)}})}}function BO(t,e=2){const n=Array.from({length:e},()=>[]);return n.map(async function*(i){for(;;)if(i.length===0){const s=await t.next();for(const a of n)a.push(s)}else{if(i[0].done)return;yield i.shift().value}})}function aa(t,e){if(Array.isArray(t)&&Array.isArray(e))return t.concat(e);if(typeof t=="string"&&typeof e=="string")return t+e;if(typeof t=="number"&&typeof e=="number")return t+e;if("concat"in t&&typeof t.concat=="function")return t.concat(e);if(typeof t=="object"&&typeof e=="object"){const n={...t};for(const[r,i]of Object.entries(e))r in n&&!Array.isArray(n[r])?n[r]=aa(n[r],i):n[r]=i;return n}else throw new Error(`Cannot concat ${typeof t} and ${typeof e}`)}class Yo{constructor(e,n){Object.defineProperty(this,"generator",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"setup",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"firstResult",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"firstResultUsed",{enumerable:!0,configurable:!0,writable:!0,value:!1}),this.generator=e,this.setup=new Promise((r,i)=>{this.firstResult=e.next(),n?this.firstResult.then(n).then(r,i):this.firstResult.then(s=>r(void 0),i)})}async next(...e){return this.firstResultUsed?this.generator.next(...e):(this.firstResultUsed=!0,this.firstResult)}async return(e){return this.generator.return(e)}async throw(e){return this.generator.throw(e)}[Symbol.asyncIterator](){return this}}async function xZ(t,e,n,...r){const i=new Yo(e,n),s=await i.setup;return{output:t(i,s,...r),setup:s}}class Gi{constructor(e){Object.defineProperty(this,"ops",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.ops=e.ops??[]}concat(e){const n=this.ops.concat(e.ops),r=tp({},n);return new hc({ops:n,state:r[r.length-1].newDocument})}}class hc extends Gi{constructor(e){super(e),Object.defineProperty(this,"state",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.state=e.state}concat(e){const n=this.ops.concat(e.ops),r=tp(this.state,e.ops);return new hc({ops:n,state:r[r.length-1].newDocument})}static fromRunLogPatch(e){const n=tp({},e.ops);return new hc({ops:e.ops,state:n[n.length-1].newDocument})}}async function jS(t,e){if(e==="original")throw new Error("Do not assign inputs with original schema drop the key for now. When inputs are added to streamLog they should be added with standardized schema for streaming events.");const{inputs:n}=t;if(["retriever","llm","prompt"].includes(t.run_type))return n;if(!(Object.keys(n).length===1&&(n==null?void 0:n.input)===""))return n.input}async function MS(t,e){const{outputs:n}=t;return e==="original"||["retriever","llm","prompt"].includes(t.run_type)?n:n!==void 0&&Object.keys(n).length===1&&(n==null?void 0:n.output)!==void 0?n.output:n}function kZ(t){return t!==void 0&&t.message!==void 0}class LS extends fm{constructor(e){super({_awaitHandler:!0,...e}),Object.defineProperty(this,"autoClose",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"includeNames",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"includeTypes",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"includeTags",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"excludeNames",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"excludeTypes",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"excludeTags",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_schemaFormat",{enumerable:!0,configurable:!0,writable:!0,value:"original"}),Object.defineProperty(this,"rootId",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"keyMapByRunId",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"counterMapByRunName",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"transformStream",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"writer",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"receiveStream",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"log_stream_tracer"}),this.autoClose=(e==null?void 0:e.autoClose)??!0,this.includeNames=e==null?void 0:e.includeNames,this.includeTypes=e==null?void 0:e.includeTypes,this.includeTags=e==null?void 0:e.includeTags,this.excludeNames=e==null?void 0:e.excludeNames,this.excludeTypes=e==null?void 0:e.excludeTypes,this.excludeTags=e==null?void 0:e.excludeTags,this._schemaFormat=(e==null?void 0:e._schemaFormat)??this._schemaFormat,this.transformStream=new TransformStream,this.writer=this.transformStream.writable.getWriter(),this.receiveStream=ri.fromReadableStream(this.transformStream.readable)}[Symbol.asyncIterator](){return this.receiveStream}async persistRun(e){}_includeRun(e){if(e.id===this.rootId)return!1;const n=e.tags??[];let r=this.includeNames===void 0&&this.includeTags===void 0&&this.includeTypes===void 0;return this.includeNames!==void 0&&(r=r||this.includeNames.includes(e.name)),this.includeTypes!==void 0&&(r=r||this.includeTypes.includes(e.run_type)),this.includeTags!==void 0&&(r=r||n.find(i=>{var s;return(s=this.includeTags)==null?void 0:s.includes(i)})!==void 0),this.excludeNames!==void 0&&(r=r&&!this.excludeNames.includes(e.name)),this.excludeTypes!==void 0&&(r=r&&!this.excludeTypes.includes(e.run_type)),this.excludeTags!==void 0&&(r=r&&n.every(i=>{var s;return!((s=this.excludeTags)!=null&&s.includes(i))})),r}async*tapOutputIterable(e,n){for await(const r of n){if(e!==this.rootId){const i=this.keyMapByRunId[e];i&&await this.writer.write(new Gi({ops:[{op:"add",path:`/logs/${i}/streamed_output/-`,value:r}]}))}yield r}}async onRunCreate(e){var i;if(this.rootId===void 0&&(this.rootId=e.id,await this.writer.write(new Gi({ops:[{op:"replace",path:"",value:{id:e.id,name:e.name,type:e.run_type,streamed_output:[],final_output:void 0,logs:{}}}]}))),!this._includeRun(e))return;this.counterMapByRunName[e.name]===void 0&&(this.counterMapByRunName[e.name]=0),this.counterMapByRunName[e.name]+=1;const n=this.counterMapByRunName[e.name];this.keyMapByRunId[e.id]=n===1?e.name:`${e.name}:${n}`;const r={id:e.id,name:e.name,type:e.run_type,tags:e.tags??[],metadata:((i=e.extra)==null?void 0:i.metadata)??{},start_time:new Date(e.start_time).toISOString(),streamed_output:[],streamed_output_str:[],final_output:void 0,end_time:void 0};this._schemaFormat==="streaming_events"&&(r.inputs=await jS(e,this._schemaFormat)),await this.writer.write(new Gi({ops:[{op:"add",path:`/logs/${this.keyMapByRunId[e.id]}`,value:r}]}))}async onRunUpdate(e){try{const n=this.keyMapByRunId[e.id];if(n===void 0)return;const r=[];this._schemaFormat==="streaming_events"&&r.push({op:"replace",path:`/logs/${n}/inputs`,value:await jS(e,this._schemaFormat)}),r.push({op:"add",path:`/logs/${n}/final_output`,value:await MS(e,this._schemaFormat)}),e.end_time!==void 0&&r.push({op:"add",path:`/logs/${n}/end_time`,value:new Date(e.end_time).toISOString()});const i=new Gi({ops:r});await this.writer.write(i)}finally{if(e.id===this.rootId){const n=new Gi({ops:[{op:"replace",path:"/final_output",value:await MS(e,this._schemaFormat)}]});await this.writer.write(n),this.autoClose&&await this.writer.close()}}}async onLLMNewToken(e,n,r){const i=this.keyMapByRunId[e.id];if(i===void 0)return;const s=e.inputs.messages!==void 0;let a;s?kZ(r==null?void 0:r.chunk)?a=r==null?void 0:r.chunk:a=new Rc(n):a=n;const o=new Gi({ops:[{op:"add",path:`/logs/${i}/streamed_output_str/-`,value:n},{op:"add",path:`/logs/${i}/streamed_output/-`,value:a}]});await this.writer.write(o)}}class SZ{getStore(){}run(e,n){n()}}class CZ{constructor(){Object.defineProperty(this,"asyncLocalStorage",{enumerable:!0,configurable:!0,writable:!0,value:new SZ}),Object.defineProperty(this,"hasBeenInitialized",{enumerable:!0,configurable:!0,writable:!0,value:!1})}getInstance(){return this.asyncLocalStorage}initializeGlobalInstance(e){this.hasBeenInitialized||(this.hasBeenInitialized=!0,this.asyncLocalStorage=e)}}const l0=new CZ,Yg=25;async function oa(t){return yn.configure(t==null?void 0:t.callbacks,void 0,t==null?void 0:t.tags,void 0,t==null?void 0:t.metadata)}function zS(...t){const e={};for(const n of t.filter(r=>!!r))for(const r of Object.keys(n))if(r==="metadata")e[r]={...e[r],...n[r]};else if(r==="tags"){const i=e[r]??[];e[r]=[...new Set(i.concat(n[r]??[]))]}else if(r==="configurable")e[r]={...e[r],...n[r]};else if(r==="callbacks"){const i=e.callbacks,s=n.callbacks;if(Array.isArray(s))if(!i)e.callbacks=s;else if(Array.isArray(i))e.callbacks=i.concat(s);else{const a=i.copy();for(const o of s)a.addHandler(ep(o),!0);e.callbacks=a}else if(s)if(!i)e.callbacks=s;else if(Array.isArray(i)){const a=s.copy();for(const o of i)a.addHandler(ep(o),!0);e.callbacks=a}else e.callbacks=new yn(s._parentRunId,{handlers:i.handlers.concat(s.handlers),inheritableHandlers:i.inheritableHandlers.concat(s.inheritableHandlers),tags:Array.from(new Set(i.tags.concat(s.tags))),inheritableTags:Array.from(new Set(i.inheritableTags.concat(s.inheritableTags))),metadata:{...i.metadata,...s.metadata}})}else{const i=r;e[i]=n[i]??e[i]}return e}const TZ=new Set(["string","number","boolean"]);function Ye(t){var r;const e=t??l0.getInstance().getStore();let n={tags:[],metadata:{},callbacks:void 0,recursionLimit:25,runId:void 0};if(e&&(n={...n,...e}),e!=null&&e.configurable)for(const i of Object.keys(e.configurable))TZ.has(typeof e.configurable[i])&&!((r=n.metadata)!=null&&r[i])&&(n.metadata||(n.metadata={}),n.metadata[i]=e.configurable[i]);return n}function dn(t={},{callbacks:e,maxConcurrency:n,recursionLimit:r,runName:i,configurable:s,runId:a}={}){const o=Ye(t);return e!==void 0&&(delete o.runName,o.callbacks=e),r!==void 0&&(o.recursionLimit=r),n!==void 0&&(o.maxConcurrency=n),i!==void 0&&(o.runName=i),s!==void 0&&(o.configurable={...o.configurable,...s}),a!==void 0&&delete o.runId,o}class VO extends fm{constructor({config:e,onStart:n,onEnd:r,onError:i}){super({_awaitHandler:!0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"RootListenersTracer"}),Object.defineProperty(this,"rootId",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"config",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"argOnStart",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"argOnEnd",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"argOnError",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.config=e,this.argOnStart=n,this.argOnEnd=r,this.argOnError=i}persistRun(e){return Promise.resolve()}async onRunCreate(e){this.rootId||(this.rootId=e.id,this.argOnStart&&(this.argOnStart.length===1?await this.argOnStart(e):this.argOnStart.length===2&&await this.argOnStart(e,this.config)))}async onRunUpdate(e){e.id===this.rootId&&(e.error?this.argOnError&&(this.argOnError.length===1?await this.argOnError(e):this.argOnError.length===2&&await this.argOnError(e,this.config)):this.argOnEnd&&(this.argOnEnd.length===1?await this.argOnEnd(e):this.argOnEnd.length===2&&await this.argOnEnd(e,this.config)))}}function UO(t){return t?t.lc_runnable:!1}class PZ{constructor(e){Object.defineProperty(this,"includeNames",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"includeTypes",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"includeTags",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"excludeNames",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"excludeTypes",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"excludeTags",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.includeNames=e.includeNames,this.includeTypes=e.includeTypes,this.includeTags=e.includeTags,this.excludeNames=e.excludeNames,this.excludeTypes=e.excludeTypes,this.excludeTags=e.excludeTags}includeEvent(e,n){let r=this.includeNames===void 0&&this.includeTypes===void 0&&this.includeTags===void 0;const i=e.tags??[];return this.includeNames!==void 0&&(r=r||this.includeNames.includes(e.name)),this.includeTypes!==void 0&&(r=r||this.includeTypes.includes(n)),this.includeTags!==void 0&&(r=r||i.some(s=>{var a;return(a=this.includeTags)==null?void 0:a.includes(s)})),this.excludeNames!==void 0&&(r=r&&!this.excludeNames.includes(e.name)),this.excludeTypes!==void 0&&(r=r&&!this.excludeTypes.includes(n)),this.excludeTags!==void 0&&(r=r&&i.every(s=>{var a;return!((a=this.excludeTags)!=null&&a.includes(s))})),r}}const EZ=Symbol("Let zodToJsonSchema decide on which parser to use"),AZ={name:void 0,$refStrategy:"root",basePath:["#"],effectStrategy:"input",pipeStrategy:"all",dateStrategy:"format:date-time",mapStrategy:"entries",removeAdditionalStrategy:"passthrough",definitionPath:"definitions",target:"jsonSchema7",strictUnions:!1,definitions:{},errorMessages:!1,markdownDescription:!1,patternStrategy:"escape",emailStrategy:"format:email",base64Strategy:"contentEncoding:base64"},IZ=t=>({...AZ,...t}),OZ=t=>{const e=IZ(t),n=e.name!==void 0?[...e.basePath,e.definitionPath,e.name]:e.basePath;return{...e,currentPath:n,propertyPath:void 0,seen:new Map(Object.entries(e.definitions).map(([r,i])=>[i._def,{def:i._def,path:[...e.basePath,e.definitionPath,r],jsonSchema:void 0}]))}};function HO(t,e,n,r){r!=null&&r.errorMessages&&n&&(t.errorMessage={...t.errorMessage,[e]:n})}function Re(t,e,n,r,i){t[e]=n,HO(t,e,r,i)}function RZ(){return{}}function $Z(t,e){var r,i;const n={type:"array"};return((i=(r=t.type)==null?void 0:r._def)==null?void 0:i.typeName)!==D.ZodAny&&(n.items=Ae(t.type._def,{...e,currentPath:[...e.currentPath,"items"]})),t.minLength&&Re(n,"minItems",t.minLength.value,t.minLength.message,e),t.maxLength&&Re(n,"maxItems",t.maxLength.value,t.maxLength.message,e),t.exactLength&&(Re(n,"minItems",t.exactLength.value,t.exactLength.message,e),Re(n,"maxItems",t.exactLength.value,t.exactLength.message,e)),n}function NZ(t,e){const n={type:"integer",format:"int64"};if(!t.checks)return n;for(const r of t.checks)switch(r.kind){case"min":e.target==="jsonSchema7"?r.inclusive?Re(n,"minimum",r.value,r.message,e):Re(n,"exclusiveMinimum",r.value,r.message,e):(r.inclusive||(n.exclusiveMinimum=!0),Re(n,"minimum",r.value,r.message,e));break;case"max":e.target==="jsonSchema7"?r.inclusive?Re(n,"maximum",r.value,r.message,e):Re(n,"exclusiveMaximum",r.value,r.message,e):(r.inclusive||(n.exclusiveMaximum=!0),Re(n,"maximum",r.value,r.message,e));break;case"multipleOf":Re(n,"multipleOf",r.value,r.message,e);break}return n}function jZ(){return{type:"boolean"}}function MZ(t,e){return Ae(t.type._def,e)}const LZ=(t,e)=>Ae(t.innerType._def,e);function WO(t,e,n){const r=n??e.dateStrategy;if(Array.isArray(r))return{anyOf:r.map((i,s)=>WO(t,e,i))};switch(r){case"string":case"format:date-time":return{type:"string",format:"date-time"};case"format:date":return{type:"string",format:"date"};case"integer":return zZ(t,e)}}const zZ=(t,e)=>{const n={type:"integer",format:"unix-time"};if(e.target==="openApi3")return n;for(const r of t.checks)switch(r.kind){case"min":Re(n,"minimum",r.value,r.message,e);break;case"max":Re(n,"maximum",r.value,r.message,e);break}return n};function DZ(t,e){return{...Ae(t.innerType._def,e),default:t.defaultValue()}}function FZ(t,e){return e.effectStrategy==="input"?Ae(t.schema._def,e):{}}function BZ(t){return{type:"string",enum:t.values}}const VZ=t=>"type"in t&&t.type==="string"?!1:"allOf"in t;function UZ(t,e){const n=[Ae(t.left._def,{...e,currentPath:[...e.currentPath,"allOf","0"]}),Ae(t.right._def,{...e,currentPath:[...e.currentPath,"allOf","1"]})].filter(s=>!!s);let r=e.target==="jsonSchema2019-09"?{unevaluatedProperties:!1}:void 0;const i=[];return n.forEach(s=>{if(VZ(s))i.push(...s.allOf),s.unevaluatedProperties===void 0&&(r=void 0);else{let a=s;if("additionalProperties"in s&&s.additionalProperties===!1){const{additionalProperties:o,...l}=s;a=l}else r=void 0;i.push(a)}}),i.length?{allOf:i,...r}:void 0}function HZ(t,e){const n=typeof t.value;return n!=="bigint"&&n!=="number"&&n!=="boolean"&&n!=="string"?{type:Array.isArray(t.value)?"array":"object"}:e.target==="openApi3"?{type:n==="bigint"?"integer":n,enum:[t.value]}:{type:n==="bigint"?"integer":n,const:t.value}}const Os={cuid:"^[cC][^\\s-]{8,}$",cuid2:"^[a-z][a-z0-9]*$",ulid:"^[0-9A-HJKMNP-TV-Z]{26}$",email:"^(?!\\.)(?!.*\\.\\.)([a-zA-Z0-9_+-\\.]*)[a-zA-Z0-9_+-]@([a-zA-Z0-9][a-zA-Z0-9\\-]*\\.)+[a-zA-Z]{2,}$",emoji:"^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$",uuid:"^[0-9a-fA-F]{8}\\b-[0-9a-fA-F]{4}\\b-[0-9a-fA-F]{4}\\b-[0-9a-fA-F]{4}\\b-[0-9a-fA-F]{12}$",ipv4:"^(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))$",ipv6:"^(([a-f0-9]{1,4}:){7}|::([a-f0-9]{1,4}:){0,6}|([a-f0-9]{1,4}:){1}:([a-f0-9]{1,4}:){0,5}|([a-f0-9]{1,4}:){2}:([a-f0-9]{1,4}:){0,4}|([a-f0-9]{1,4}:){3}:([a-f0-9]{1,4}:){0,3}|([a-f0-9]{1,4}:){4}:([a-f0-9]{1,4}:){0,2}|([a-f0-9]{1,4}:){5}:([a-f0-9]{1,4}:){0,1})([a-f0-9]{1,4}|(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2})))$",base64:"^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$",nanoid:"^[a-zA-Z0-9_-]{21}$"};function qO(t,e){const n={type:"string"};function r(i){return e.patternStrategy==="escape"?WZ(i):i}if(t.checks)for(const i of t.checks)switch(i.kind){case"min":Re(n,"minLength",typeof n.minLength=="number"?Math.max(n.minLength,i.value):i.value,i.message,e);break;case"max":Re(n,"maxLength",typeof n.maxLength=="number"?Math.min(n.maxLength,i.value):i.value,i.message,e);break;case"email":switch(e.emailStrategy){case"format:email":pr(n,"email",i.message,e);break;case"format:idn-email":pr(n,"idn-email",i.message,e);break;case"pattern:zod":mr(n,Os.email,i.message,e);break}break;case"url":pr(n,"uri",i.message,e);break;case"uuid":pr(n,"uuid",i.message,e);break;case"regex":mr(n,i.regex.source,i.message,e);break;case"cuid":mr(n,Os.cuid,i.message,e);break;case"cuid2":mr(n,Os.cuid2,i.message,e);break;case"startsWith":mr(n,"^"+r(i.value),i.message,e);break;case"endsWith":mr(n,r(i.value)+"$",i.message,e);break;case"datetime":pr(n,"date-time",i.message,e);break;case"date":pr(n,"date",i.message,e);break;case"time":pr(n,"time",i.message,e);break;case"duration":pr(n,"duration",i.message,e);break;case"length":Re(n,"minLength",typeof n.minLength=="number"?Math.max(n.minLength,i.value):i.value,i.message,e),Re(n,"maxLength",typeof n.maxLength=="number"?Math.min(n.maxLength,i.value):i.value,i.message,e);break;case"includes":{mr(n,r(i.value),i.message,e);break}case"ip":{i.version!=="v6"&&pr(n,"ipv4",i.message,e),i.version!=="v4"&&pr(n,"ipv6",i.message,e);break}case"emoji":mr(n,Os.emoji,i.message,e);break;case"ulid":{mr(n,Os.ulid,i.message,e);break}case"base64":{switch(e.base64Strategy){case"format:binary":{pr(n,"binary",i.message,e);break}case"contentEncoding:base64":{Re(n,"contentEncoding","base64",i.message,e);break}case"pattern:zod":{mr(n,Os.base64,i.message,e);break}}break}case"nanoid":mr(n,Os.nanoid,i.message,e)}return n}const WZ=t=>Array.from(t).map(e=>/[a-zA-Z0-9]/.test(e)?e:`\\${e}`).join(""),pr=(t,e,n,r)=>{var i;t.format||(i=t.anyOf)!=null&&i.some(s=>s.format)?(t.anyOf||(t.anyOf=[]),t.format&&(t.anyOf.push({format:t.format,...t.errorMessage&&r.errorMessages&&{errorMessage:{format:t.errorMessage.format}}}),delete t.format,t.errorMessage&&(delete t.errorMessage.format,Object.keys(t.errorMessage).length===0&&delete t.errorMessage)),t.anyOf.push({format:e,...n&&r.errorMessages&&{errorMessage:{format:n}}})):Re(t,"format",e,n,r)},mr=(t,e,n,r)=>{var i;t.pattern||(i=t.allOf)!=null&&i.some(s=>s.pattern)?(t.allOf||(t.allOf=[]),t.pattern&&(t.allOf.push({pattern:t.pattern,...t.errorMessage&&r.errorMessages&&{errorMessage:{pattern:t.errorMessage.pattern}}}),delete t.pattern,t.errorMessage&&(delete t.errorMessage.pattern,Object.keys(t.errorMessage).length===0&&delete t.errorMessage)),t.allOf.push({pattern:e,...n&&r.errorMessages&&{errorMessage:{pattern:n}}})):Re(t,"pattern",e,n,r)};function ZO(t,e){var r,i,s,a;if(e.target==="openApi3"&&((r=t.keyType)==null?void 0:r._def.typeName)===D.ZodEnum)return{type:"object",required:t.keyType._def.values,properties:t.keyType._def.values.reduce((o,l)=>({...o,[l]:Ae(t.valueType._def,{...e,currentPath:[...e.currentPath,"properties",l]})??{}}),{}),additionalProperties:!1};const n={type:"object",additionalProperties:Ae(t.valueType._def,{...e,currentPath:[...e.currentPath,"additionalProperties"]})??{}};if(e.target==="openApi3")return n;if(((i=t.keyType)==null?void 0:i._def.typeName)===D.ZodString&&((s=t.keyType._def.checks)!=null&&s.length)){const o=Object.entries(qO(t.keyType._def,e)).reduce((l,[u,c])=>u==="type"?l:{...l,[u]:c},{});return{...n,propertyNames:o}}else if(((a=t.keyType)==null?void 0:a._def.typeName)===D.ZodEnum)return{...n,propertyNames:{enum:t.keyType._def.values}};return n}function qZ(t,e){if(e.mapStrategy==="record")return ZO(t,e);const n=Ae(t.keyType._def,{...e,currentPath:[...e.currentPath,"items","items","0"]})||{},r=Ae(t.valueType._def,{...e,currentPath:[...e.currentPath,"items","items","1"]})||{};return{type:"array",maxItems:125,items:{type:"array",items:[n,r],minItems:2,maxItems:2}}}function ZZ(t){const e=t.values,r=Object.keys(t.values).filter(s=>typeof e[e[s]]!="number").map(s=>e[s]),i=Array.from(new Set(r.map(s=>typeof s)));return{type:i.length===1?i[0]==="string"?"string":"number":["string","number"],enum:r}}function GZ(){return{not:{}}}function KZ(t){return t.target==="openApi3"?{enum:["null"],nullable:!0}:{type:"null"}}const rp={ZodString:"string",ZodNumber:"number",ZodBigInt:"integer",ZodBoolean:"boolean",ZodNull:"null"};function JZ(t,e){if(e.target==="openApi3")return DS(t,e);const n=t.options instanceof Map?Array.from(t.options.values()):t.options;if(n.every(r=>r._def.typeName in rp&&(!r._def.checks||!r._def.checks.length))){const r=n.reduce((i,s)=>{const a=rp[s._def.typeName];return a&&!i.includes(a)?[...i,a]:i},[]);return{type:r.length>1?r:r[0]}}else if(n.every(r=>r._def.typeName==="ZodLiteral"&&!r.description)){const r=n.reduce((i,s)=>{const a=typeof s._def.value;switch(a){case"string":case"number":case"boolean":return[...i,a];case"bigint":return[...i,"integer"];case"object":if(s._def.value===null)return[...i,"null"];case"symbol":case"undefined":case"function":default:return i}},[]);if(r.length===n.length){const i=r.filter((s,a,o)=>o.indexOf(s)===a);return{type:i.length>1?i:i[0],enum:n.reduce((s,a)=>s.includes(a._def.value)?s:[...s,a._def.value],[])}}}else if(n.every(r=>r._def.typeName==="ZodEnum"))return{type:"string",enum:n.reduce((r,i)=>[...r,...i._def.values.filter(s=>!r.includes(s))],[])};return DS(t,e)}const DS=(t,e)=>{const n=(t.options instanceof Map?Array.from(t.options.values()):t.options).map((r,i)=>Ae(r._def,{...e,currentPath:[...e.currentPath,"anyOf",`${i}`]})).filter(r=>!!r&&(!e.strictUnions||typeof r=="object"&&Object.keys(r).length>0));return n.length?{anyOf:n}:void 0};function XZ(t,e){if(["ZodString","ZodNumber","ZodBigInt","ZodBoolean","ZodNull"].includes(t.innerType._def.typeName)&&(!t.innerType._def.checks||!t.innerType._def.checks.length))return e.target==="openApi3"?{type:rp[t.innerType._def.typeName],nullable:!0}:{type:[rp[t.innerType._def.typeName],"null"]};if(e.target==="openApi3"){const r=Ae(t.innerType._def,{...e,currentPath:[...e.currentPath]});return r&&"$ref"in r?{allOf:[r],nullable:!0}:r&&{...r,nullable:!0}}const n=Ae(t.innerType._def,{...e,currentPath:[...e.currentPath,"anyOf","0"]});return n&&{anyOf:[n,{type:"null"}]}}function YZ(t,e){const n={type:"number"};if(!t.checks)return n;for(const r of t.checks)switch(r.kind){case"int":n.type="integer",HO(n,"type",r.message,e);break;case"min":e.target==="jsonSchema7"?r.inclusive?Re(n,"minimum",r.value,r.message,e):Re(n,"exclusiveMinimum",r.value,r.message,e):(r.inclusive||(n.exclusiveMinimum=!0),Re(n,"minimum",r.value,r.message,e));break;case"max":e.target==="jsonSchema7"?r.inclusive?Re(n,"maximum",r.value,r.message,e):Re(n,"exclusiveMaximum",r.value,r.message,e):(r.inclusive||(n.exclusiveMaximum=!0),Re(n,"maximum",r.value,r.message,e));break;case"multipleOf":Re(n,"multipleOf",r.value,r.message,e);break}return n}function QZ(t,e){return e.removeAdditionalStrategy==="strict"?t.catchall._def.typeName==="ZodNever"?t.unknownKeys!=="strict":Ae(t.catchall._def,{...e,currentPath:[...e.currentPath,"additionalProperties"]})??!0:t.catchall._def.typeName==="ZodNever"?t.unknownKeys==="passthrough":Ae(t.catchall._def,{...e,currentPath:[...e.currentPath,"additionalProperties"]})??!0}function eG(t,e){const n={type:"object",...Object.entries(t.shape()).reduce((r,[i,s])=>{if(s===void 0||s._def===void 0)return r;const a=Ae(s._def,{...e,currentPath:[...e.currentPath,"properties",i],propertyPath:[...e.currentPath,"properties",i]});return a===void 0?r:{properties:{...r.properties,[i]:a},required:s.isOptional()?r.required:[...r.required,i]}},{properties:{},required:[]}),additionalProperties:QZ(t,e)};return n.required.length||delete n.required,n}const tG=(t,e)=>{var r;if(e.currentPath.toString()===((r=e.propertyPath)==null?void 0:r.toString()))return Ae(t.innerType._def,e);const n=Ae(t.innerType._def,{...e,currentPath:[...e.currentPath,"anyOf","1"]});return n?{anyOf:[{not:{}},n]}:{}},nG=(t,e)=>{if(e.pipeStrategy==="input")return Ae(t.in._def,e);if(e.pipeStrategy==="output")return Ae(t.out._def,e);const n=Ae(t.in._def,{...e,currentPath:[...e.currentPath,"allOf","0"]}),r=Ae(t.out._def,{...e,currentPath:[...e.currentPath,"allOf",n?"1":"0"]});return{allOf:[n,r].filter(i=>i!==void 0)}};function rG(t,e){return Ae(t.type._def,e)}function iG(t,e){const r={type:"array",uniqueItems:!0,items:Ae(t.valueType._def,{...e,currentPath:[...e.currentPath,"items"]})};return t.minSize&&Re(r,"minItems",t.minSize.value,t.minSize.message,e),t.maxSize&&Re(r,"maxItems",t.maxSize.value,t.maxSize.message,e),r}function sG(t,e){return t.rest?{type:"array",minItems:t.items.length,items:t.items.map((n,r)=>Ae(n._def,{...e,currentPath:[...e.currentPath,"items",`${r}`]})).reduce((n,r)=>r===void 0?n:[...n,r],[]),additionalItems:Ae(t.rest._def,{...e,currentPath:[...e.currentPath,"additionalItems"]})}:{type:"array",minItems:t.items.length,maxItems:t.items.length,items:t.items.map((n,r)=>Ae(n._def,{...e,currentPath:[...e.currentPath,"items",`${r}`]})).reduce((n,r)=>r===void 0?n:[...n,r],[])}}function aG(){return{not:{}}}function oG(){return{}}const lG=(t,e)=>Ae(t.innerType._def,e);function Ae(t,e,n=!1){var a;const r=e.seen.get(t);if(e.override){const o=(a=e.override)==null?void 0:a.call(e,t,e,r,n);if(o!==EZ)return o}if(r&&!n){const o=uG(r,e);if(o!==void 0)return o}const i={def:t,path:e.currentPath,jsonSchema:void 0};e.seen.set(t,i);const s=dG(t,t.typeName,e);return s&&fG(t,e,s),i.jsonSchema=s,s}const uG=(t,e)=>{switch(e.$refStrategy){case"root":return{$ref:t.path.join("/")};case"relative":return{$ref:cG(e.currentPath,t.path)};case"none":case"seen":return t.path.length<e.currentPath.length&&t.path.every((n,r)=>e.currentPath[r]===n)?(console.warn(`Recursive reference detected at ${e.currentPath.join("/")}! Defaulting to any`),{}):e.$refStrategy==="seen"?{}:void 0}},cG=(t,e)=>{let n=0;for(;n<t.length&&n<e.length&&t[n]===e[n];n++);return[(t.length-n).toString(),...e.slice(n)].join("/")},dG=(t,e,n)=>{switch(e){case D.ZodString:return qO(t,n);case D.ZodNumber:return YZ(t,n);case D.ZodObject:return eG(t,n);case D.ZodBigInt:return NZ(t,n);case D.ZodBoolean:return jZ();case D.ZodDate:return WO(t,n);case D.ZodUndefined:return aG();case D.ZodNull:return KZ(n);case D.ZodArray:return $Z(t,n);case D.ZodUnion:case D.ZodDiscriminatedUnion:return JZ(t,n);case D.ZodIntersection:return UZ(t,n);case D.ZodTuple:return sG(t,n);case D.ZodRecord:return ZO(t,n);case D.ZodLiteral:return HZ(t,n);case D.ZodEnum:return BZ(t);case D.ZodNativeEnum:return ZZ(t);case D.ZodNullable:return XZ(t,n);case D.ZodOptional:return tG(t,n);case D.ZodMap:return qZ(t,n);case D.ZodSet:return iG(t,n);case D.ZodLazy:return Ae(t.getter()._def,n);case D.ZodPromise:return rG(t,n);case D.ZodNaN:case D.ZodNever:return GZ();case D.ZodEffects:return FZ(t,n);case D.ZodAny:return RZ();case D.ZodUnknown:return oG();case D.ZodDefault:return DZ(t,n);case D.ZodBranded:return MZ(t,n);case D.ZodReadonly:return lG(t,n);case D.ZodCatch:return LZ(t,n);case D.ZodPipeline:return nG(t,n);case D.ZodFunction:case D.ZodVoid:case D.ZodSymbol:return;default:return(r=>{})()}},fG=(t,e,n)=>(t.description&&(n.description=t.description,e.markdownDescription&&(n.markdownDescription=t.description)),n),pm=(t,e)=>{const n=OZ(e),r=void 0,i=e==null?void 0:e.name,s=Ae(t._def,n,!1)??{},a=i===void 0?r?{...s,[n.definitionPath]:r}:s:{$ref:[...n.$refStrategy==="relative"?[]:n.basePath,n.definitionPath,i].join("/"),[n.definitionPath]:{...r,[i]:s}};return n.target==="jsonSchema7"?a.$schema="http://json-schema.org/draft-07/schema#":n.target==="jsonSchema2019-09"&&(a.$schema="https://json-schema.org/draft/2019-09/schema#"),a};function hG(t){return UO(t.data)?{type:"runnable",data:{id:t.data.lc_id,name:t.data.getName()}}:{type:"schema",data:{...pm(t.data.schema),title:t.data.name}}}class GO{constructor(){Object.defineProperty(this,"nodes",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"edges",{enumerable:!0,configurable:!0,writable:!0,value:[]})}toJSON(){const e={};return Object.values(this.nodes).forEach((n,r)=>{e[n.id]=MO(n.id)?r:n.id}),{nodes:Object.values(this.nodes).map(n=>({id:e[n.id],...hG(n)})),edges:this.edges.map(n=>n.data?{source:e[n.source],target:e[n.target],data:n.data}:{source:e[n.source],target:e[n.target]})}}addNode(e,n){if(n!==void 0&&this.nodes[n]!==void 0)throw new Error(`Node with id ${n} already exists`);const r=n||Hr(),i={id:r,data:e};return this.nodes[r]=i,i}removeNode(e){delete this.nodes[e.id],this.edges=this.edges.filter(n=>n.source!==e.id&&n.target!==e.id)}addEdge(e,n,r){if(this.nodes[e.id]===void 0)throw new Error(`Source node ${e.id} not in graph`);if(this.nodes[n.id]===void 0)throw new Error(`Target node ${n.id} not in graph`);const i={source:e.id,target:n.id,data:r};return this.edges.push(i),i}firstNode(){const e=new Set(this.edges.map(r=>r.target)),n=[];return Object.values(this.nodes).forEach(r=>{e.has(r.id)||n.push(r)}),n[0]}lastNode(){const e=new Set(this.edges.map(r=>r.source)),n=[];return Object.values(this.nodes).forEach(r=>{e.has(r.id)||n.push(r)}),n[0]}extend(e){Object.entries(e.nodes).forEach(([n,r])=>{this.nodes[n]=r}),this.edges=[...this.edges,...e.edges]}trimFirstNode(){const e=this.firstNode();if(e){const n=this.edges.filter(r=>r.source===e.id);(Object.keys(this.nodes).length===1||n.length===1)&&this.removeNode(e)}}trimLastNode(){const e=this.lastNode();if(e){const n=this.edges.filter(r=>r.target===e.id);(Object.keys(this.nodes).length===1||n.length===1)&&this.removeNode(e)}}}function pG(t){const e=new TextEncoder,n=new ReadableStream({async start(r){for await(const i of t)r.enqueue(e.encode(`event: data
data: ${JSON.stringify(i)}

`));r.enqueue(e.encode(`event: end

`)),r.close()}});return ri.fromReadableStream(n)}function Ft(t,e){return t&&!Array.isArray(t)&&!(t instanceof Date)&&typeof t=="object"?t:{[e]:t}}class Ht extends pa{constructor(){super(...arguments),Object.defineProperty(this,"lc_runnable",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:void 0})}getName(e){const n=this.name??this.constructor.lc_name()??this.constructor.name;return e?`${n}${e}`:n}bind(e){return new Po({bound:this,kwargs:e,config:{}})}map(){return new ip({bound:this})}withRetry(e){return new mG({bound:this,kwargs:{},config:{},maxAttemptNumber:e==null?void 0:e.stopAfterAttempt,...e})}withConfig(e){return new Po({bound:this,config:e,kwargs:{}})}withFallbacks(e){return new gG({runnable:this,fallbacks:e.fallbacks})}_getOptionsList(e,n=0){if(Array.isArray(e)&&e.length!==n)throw new Error(`Passed "options" must be an array with the same length as the inputs, but got ${e.length} options for ${n} inputs`);if(Array.isArray(e))return e.map(Ye);if(n>1&&!Array.isArray(e)&&e.runId){console.warn("Provided runId will be used only for the first element of the batch.");const r=Object.fromEntries(Object.entries(e).filter(([i])=>i!=="runId"));return Array.from({length:n},(i,s)=>Ye(s===0?e:r))}return Array.from({length:n},()=>Ye(e))}async batch(e,n,r){var l;const i=this._getOptionsList(n??{},e.length),s=((l=i[0])==null?void 0:l.maxConcurrency)??(r==null?void 0:r.maxConcurrency),a=new Uw({maxConcurrency:s,onFailedAttempt:u=>{throw u}}),o=e.map((u,c)=>a.call(async()=>{try{return await this.invoke(u,i[c])}catch(d){if(r!=null&&r.returnExceptions)return d;throw d}}));return Promise.all(o)}async*_streamIterator(e,n){yield this.invoke(e,n)}async stream(e,n){const r=new Yo(this._streamIterator(e,Ye(n)));return await r.setup,ri.fromAsyncGenerator(r)}_separateRunnableConfigFromCallOptions(e){let n;e===void 0?n=Ye(e):n=Ye({callbacks:e.callbacks,tags:e.tags,metadata:e.metadata,runName:e.runName,configurable:e.configurable,recursionLimit:e.recursionLimit,maxConcurrency:e.maxConcurrency,runId:e.runId});const r={...e};return delete r.callbacks,delete r.tags,delete r.metadata,delete r.runName,delete r.configurable,delete r.recursionLimit,delete r.maxConcurrency,delete r.runId,[n,r]}async _callWithConfig(e,n,r){const i=Ye(r),s=await oa(i),a=await(s==null?void 0:s.handleChainStart(this.toJSON(),Ft(n,"input"),i.runId,i==null?void 0:i.runType,void 0,void 0,(i==null?void 0:i.runName)??this.getName()));delete i.runId;let o;try{o=await e.call(this,n,i,a)}catch(l){throw await(a==null?void 0:a.handleChainError(l)),l}return await(a==null?void 0:a.handleChainEnd(Ft(o,"output"))),o}async _batchWithConfig(e,n,r,i){const s=this._getOptionsList(r??{},n.length),a=await Promise.all(s.map(oa)),o=await Promise.all(a.map(async(u,c)=>{const d=await(u==null?void 0:u.handleChainStart(this.toJSON(),Ft(n[c],"input"),s[c].runId,s[c].runType,void 0,void 0,s[c].runName??this.getName()));return delete s[c].runId,d}));let l;try{l=await e.call(this,n,s,o,i)}catch(u){throw await Promise.all(o.map(c=>c==null?void 0:c.handleChainError(u))),u}return await Promise.all(o.map(u=>u==null?void 0:u.handleChainEnd(Ft(l,"output")))),l}async*_transformStreamWithConfig(e,n,r){let i,s=!0,a,o=!0;const l=Ye(r),u=await oa(l);async function*c(){for await(const f of e){if(s)if(i===void 0)i=f;else try{i=aa(i,f)}catch{i=void 0,s=!1}yield f}}let d;try{const f=await xZ(n.bind(this),c(),async()=>u==null?void 0:u.handleChainStart(this.toJSON(),{input:""},l.runId,l.runType,void 0,void 0,l.runName??this.getName()),l);delete l.runId,d=f.setup;const h=b=>b.name==="log_stream_tracer",p=d==null?void 0:d.handlers.find(h);let y=f.output;p!==void 0&&d!==void 0&&(y=await p.tapOutputIterable(d.runId,f.output));for await(const b of y)if(yield b,o)if(a===void 0)a=b;else try{a=aa(a,b)}catch{a=void 0,o=!1}}catch(f){throw await(d==null?void 0:d.handleChainError(f,void 0,void 0,void 0,{inputs:Ft(i,"input")})),f}await(d==null?void 0:d.handleChainEnd(a??{},void 0,void 0,void 0,{inputs:Ft(i,"input")}))}getGraph(e){const n=new GO,r=n.addNode({name:`${this.getName()}Input`,schema:Qh.any()}),i=n.addNode(this),s=n.addNode({name:`${this.getName()}Output`,schema:Qh.any()});return n.addEdge(r,i),n.addEdge(i,s),n}pipe(e){return new Xs({first:this,last:Ys(e)})}pick(e){return this.pipe(new yG(e))}assign(e){return this.pipe(new KO(new Qo({steps:e})))}async*transform(e,n){let r;for await(const i of e)r===void 0?r=i:r=aa(r,i);yield*this._streamIterator(r,Ye(n))}async*streamLog(e,n,r){const i=new LS({...r,autoClose:!1,_schemaFormat:"original"}),s=Ye(n);yield*this._streamLog(e,i,s)}async*_streamLog(e,n,r){const{callbacks:i}=r;if(i===void 0)r.callbacks=[n];else if(Array.isArray(i))r.callbacks=i.concat([n]);else{const l=i.copy();l.inheritableHandlers.push(n),r.callbacks=l}const s=this.stream(e,r);async function a(){try{const l=await s;for await(const u of l){const c=new Gi({ops:[{op:"add",path:"/streamed_output/-",value:u}]});await n.writer.write(c)}}finally{await n.writer.close()}}const o=a();try{for await(const l of n)yield l}finally{await o}}async*streamEvents(e,n,r){if(n.encoding==="text/event-stream"){const i=await this._streamEvents(e,n,r);yield*pG(i)}else yield*this._streamEvents(e,n,r)}async*_streamEvents(e,n,r){if(n.version!=="v1")throw new Error('Only version "v1" of the events schema is currently supported.');let i,s=!1;const a=Ye(n),o=a.tags??[],l=a.metadata??{},u=a.runName??this.getName(),c=new LS({...r,autoClose:!1,_schemaFormat:"streaming_events"}),d=new PZ({...r}),f=this._streamLog(e,c,a);for await(const p of f){if(i?i=i.concat(p):i=hc.fromRunLogPatch(p),i.state===void 0)throw new Error('Internal error: "streamEvents" state is missing. Please open a bug report.');if(!s){s=!0;const g={...i.state},v={run_id:g.id,event:`on_${g.type}_start`,name:u,tags:o,metadata:l,data:{input:e}};d.includeEvent(v,g.type)&&(yield v)}const y=p.ops.filter(g=>g.path.startsWith("/logs/")).map(g=>g.path.split("/")[2]),b=[...new Set(y)];for(const g of b){let v,x={};const C=i.state.logs[g];if(C.end_time===void 0?C.streamed_output.length>0?v="stream":v="start":v="end",v==="start")C.inputs!==void 0&&(x.input=C.inputs);else if(v==="end")C.inputs!==void 0&&(x.input=C.inputs),x.output=C.final_output;else if(v==="stream"){const k=C.streamed_output.length;if(k!==1)throw new Error(`Expected exactly one chunk of streamed output, got ${k} instead. Encountered in: "${C.name}"`);x={chunk:C.streamed_output[0]},C.streamed_output=[]}yield{event:`on_${C.type}_${v}`,name:C.name,run_id:C.id,tags:C.tags,metadata:C.metadata,data:x}}const{state:m}=i;if(m.streamed_output.length>0){const g=m.streamed_output.length;if(g!==1)throw new Error(`Expected exactly one chunk of streamed output, got ${g} instead. Encountered in: "${m.name}"`);const v={chunk:m.streamed_output[0]};m.streamed_output=[];const x={event:`on_${m.type}_stream`,run_id:m.id,tags:o,metadata:l,name:u,data:v};d.includeEvent(x,m.type)&&(yield x)}}const h=i==null?void 0:i.state;if(h!==void 0){const p={event:`on_${h.type}_end`,name:u,run_id:h.id,tags:o,metadata:l,data:{output:h.final_output}};d.includeEvent(p,h.type)&&(yield p)}}static isRunnable(e){return UO(e)}withListeners({onStart:e,onEnd:n,onError:r}){return new Po({bound:this,config:{},configFactories:[i=>({callbacks:[new VO({config:i,onStart:e,onEnd:n,onError:r})]})]})}}class Po extends Ht{static lc_name(){return"RunnableBinding"}constructor(e){super(e),Object.defineProperty(this,"lc_namespace",{enumerable:!0,configurable:!0,writable:!0,value:["langchain_core","runnables"]}),Object.defineProperty(this,"lc_serializable",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"bound",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"config",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"kwargs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"configFactories",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.bound=e.bound,this.kwargs=e.kwargs,this.config=e.config,this.configFactories=e.configFactories}getName(e){return this.bound.getName(e)}async _mergeConfig(...e){const n=zS(this.config,...e);return zS(n,...this.configFactories?await Promise.all(this.configFactories.map(async r=>await r(n))):[])}bind(e){return new this.constructor({bound:this.bound,kwargs:{...this.kwargs,...e},config:this.config})}withConfig(e){return new this.constructor({bound:this.bound,kwargs:this.kwargs,config:{...this.config,...e}})}withRetry(e){return new this.constructor({bound:this.bound.withRetry(e),kwargs:this.kwargs,config:this.config})}async invoke(e,n){return this.bound.invoke(e,await this._mergeConfig(Ye(n),this.kwargs))}async batch(e,n,r){const i=Array.isArray(n)?await Promise.all(n.map(async s=>this._mergeConfig(Ye(s),this.kwargs))):await this._mergeConfig(Ye(n),this.kwargs);return this.bound.batch(e,i,r)}async*_streamIterator(e,n){yield*this.bound._streamIterator(e,await this._mergeConfig(Ye(n),this.kwargs))}async stream(e,n){return this.bound.stream(e,await this._mergeConfig(Ye(n),this.kwargs))}async*transform(e,n){yield*this.bound.transform(e,await this._mergeConfig(Ye(n),this.kwargs))}async*streamEvents(e,n,r){yield*this.bound.streamEvents(e,{...await this._mergeConfig(Ye(n),this.kwargs),version:n.version},r)}static isRunnableBinding(e){return e.bound&&Ht.isRunnable(e.bound)}withListeners({onStart:e,onEnd:n,onError:r}){return new Po({bound:this.bound,kwargs:this.kwargs,config:this.config,configFactories:[i=>({callbacks:[new VO({config:i,onStart:e,onEnd:n,onError:r})]})]})}}class ip extends Ht{static lc_name(){return"RunnableEach"}constructor(e){super(e),Object.defineProperty(this,"lc_serializable",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"lc_namespace",{enumerable:!0,configurable:!0,writable:!0,value:["langchain_core","runnables"]}),Object.defineProperty(this,"bound",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.bound=e.bound}bind(e){return new ip({bound:this.bound.bind(e)})}async invoke(e,n){return this._callWithConfig(this._invoke,e,n)}async _invoke(e,n,r){return this.bound.batch(e,dn(n,{callbacks:r==null?void 0:r.getChild()}))}withListeners({onStart:e,onEnd:n,onError:r}){return new ip({bound:this.bound.withListeners({onStart:e,onEnd:n,onError:r})})}}class mG extends Po{static lc_name(){return"RunnableRetry"}constructor(e){super(e),Object.defineProperty(this,"lc_namespace",{enumerable:!0,configurable:!0,writable:!0,value:["langchain_core","runnables"]}),Object.defineProperty(this,"maxAttemptNumber",{enumerable:!0,configurable:!0,writable:!0,value:3}),Object.defineProperty(this,"onFailedAttempt",{enumerable:!0,configurable:!0,writable:!0,value:()=>{}}),this.maxAttemptNumber=e.maxAttemptNumber??this.maxAttemptNumber,this.onFailedAttempt=e.onFailedAttempt??this.onFailedAttempt}_patchConfigForRetry(e,n,r){const i=e>1?`retry:attempt:${e}`:void 0;return dn(n,{callbacks:r==null?void 0:r.getChild(i)})}async _invoke(e,n,r){return Wh(i=>super.invoke(e,this._patchConfigForRetry(i,n,r)),{onFailedAttempt:i=>this.onFailedAttempt(i,e),retries:Math.max(this.maxAttemptNumber-1,0),randomize:!0})}async invoke(e,n){return this._callWithConfig(this._invoke,e,n)}async _batch(e,n,r,i){const s={};try{await Wh(async a=>{const o=e.map((f,h)=>h).filter(f=>s[f.toString()]===void 0||s[f.toString()]instanceof Error),l=o.map(f=>e[f]),u=o.map(f=>this._patchConfigForRetry(a,n==null?void 0:n[f],r==null?void 0:r[f])),c=await super.batch(l,u,{...i,returnExceptions:!0});let d;for(let f=0;f<c.length;f+=1){const h=c[f],p=o[f];h instanceof Error&&d===void 0&&(d=h,d.input=l[f]),s[p.toString()]=h}if(d)throw d;return c},{onFailedAttempt:a=>this.onFailedAttempt(a,a.input),retries:Math.max(this.maxAttemptNumber-1,0),randomize:!0})}catch(a){if((i==null?void 0:i.returnExceptions)!==!0)throw a}return Object.keys(s).sort((a,o)=>parseInt(a,10)-parseInt(o,10)).map(a=>s[parseInt(a,10)])}async batch(e,n,r){return this._batchWithConfig(this._batch.bind(this),e,n,r)}}class Xs extends Ht{static lc_name(){return"RunnableSequence"}constructor(e){super(e),Object.defineProperty(this,"first",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"middle",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"last",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"lc_serializable",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"lc_namespace",{enumerable:!0,configurable:!0,writable:!0,value:["langchain_core","runnables"]}),this.first=e.first,this.middle=e.middle??this.middle,this.last=e.last,this.name=e.name}get steps(){return[this.first,...this.middle,this.last]}async invoke(e,n){const r=Ye(n),i=await oa(r),s=await(i==null?void 0:i.handleChainStart(this.toJSON(),Ft(e,"input"),r.runId,void 0,void 0,void 0,r==null?void 0:r.runName));delete r.runId;let a=e,o;try{const l=[this.first,...this.middle];for(let u=0;u<l.length;u+=1)a=await l[u].invoke(a,dn(r,{callbacks:s==null?void 0:s.getChild(`seq:step:${u+1}`)}));o=await this.last.invoke(a,dn(r,{callbacks:s==null?void 0:s.getChild(`seq:step:${this.steps.length}`)}))}catch(l){throw await(s==null?void 0:s.handleChainError(l)),l}return await(s==null?void 0:s.handleChainEnd(Ft(o,"output"))),o}async batch(e,n,r){const i=this._getOptionsList(n??{},e.length),s=await Promise.all(i.map(oa)),a=await Promise.all(s.map(async(l,u)=>{const c=await(l==null?void 0:l.handleChainStart(this.toJSON(),Ft(e[u],"input"),i[u].runId,void 0,void 0,void 0,i[u].runName));return delete i[u].runId,c}));let o=e;try{for(let l=0;l<this.steps.length;l+=1)o=await this.steps[l].batch(o,a.map((c,d)=>{const f=c==null?void 0:c.getChild(`seq:step:${l+1}`);return dn(i[d],{callbacks:f})}),r)}catch(l){throw await Promise.all(a.map(u=>u==null?void 0:u.handleChainError(l))),l}return await Promise.all(a.map(l=>l==null?void 0:l.handleChainEnd(Ft(o,"output")))),o}async*_streamIterator(e,n){const r=await oa(n),{runId:i,...s}=n??{},a=await(r==null?void 0:r.handleChainStart(this.toJSON(),Ft(e,"input"),i,void 0,void 0,void 0,s==null?void 0:s.runName)),o=[this.first,...this.middle,this.last];let l=!0,u;async function*c(){yield e}try{let d=o[0].transform(c(),dn(s,{callbacks:a==null?void 0:a.getChild("seq:step:1")}));for(let f=1;f<o.length;f+=1)d=await o[f].transform(d,dn(s,{callbacks:a==null?void 0:a.getChild(`seq:step:${f+1}`)}));for await(const f of d)if(yield f,l)if(u===void 0)u=f;else try{u=aa(u,f)}catch{u=void 0,l=!1}}catch(d){throw await(a==null?void 0:a.handleChainError(d)),d}await(a==null?void 0:a.handleChainEnd(Ft(u,"output")))}getGraph(e){const n=new GO;let r=null;return this.steps.forEach((i,s)=>{const a=i.getGraph(e);s!==0&&a.trimFirstNode(),s!==this.steps.length-1&&a.trimLastNode(),n.extend(a);const o=a.firstNode();if(!o)throw new Error(`Runnable ${i} has no first node`);r&&n.addEdge(r,o),r=a.lastNode()}),n}pipe(e){return Xs.isRunnableSequence(e)?new Xs({first:this.first,middle:this.middle.concat([this.last,e.first,...e.middle]),last:e.last,name:this.name??e.name}):new Xs({first:this.first,middle:[...this.middle,this.last],last:Ys(e),name:this.name})}static isRunnableSequence(e){return Array.isArray(e.middle)&&Ht.isRunnable(e)}static from([e,...n],r){return new Xs({first:Ys(e),middle:n.slice(0,-1).map(Ys),last:Ys(n[n.length-1]),name:r})}}class Qo extends Ht{static lc_name(){return"RunnableMap"}getStepsKeys(){return Object.keys(this.steps)}constructor(e){super(e),Object.defineProperty(this,"lc_namespace",{enumerable:!0,configurable:!0,writable:!0,value:["langchain_core","runnables"]}),Object.defineProperty(this,"lc_serializable",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"steps",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.steps={};for(const[n,r]of Object.entries(e.steps))this.steps[n]=Ys(r)}static from(e){return new Qo({steps:e})}async invoke(e,n){const r=Ye(n),i=await oa(r),s=await(i==null?void 0:i.handleChainStart(this.toJSON(),{input:e},r.runId,void 0,void 0,void 0,r==null?void 0:r.runName));delete r.runId;const a={};try{await Promise.all(Object.entries(this.steps).map(async([o,l])=>{a[o]=await l.invoke(e,dn(r,{callbacks:s==null?void 0:s.getChild(`map:key:${o}`)}))}))}catch(o){throw await(s==null?void 0:s.handleChainError(o)),o}return await(s==null?void 0:s.handleChainEnd(a)),a}async*_transform(e,n,r){const i={...this.steps},s=BO(e,Object.keys(i).length),a=new Map(Object.entries(i).map(([o,l],u)=>{const c=l.transform(s[u],dn(r,{callbacks:n==null?void 0:n.getChild(`map:key:${o}`)}));return[o,c.next().then(d=>({key:o,gen:c,result:d}))]}));for(;a.size;){const{key:o,result:l,gen:u}=await Promise.race(a.values());a.delete(o),l.done||(yield{[o]:l.value},a.set(o,u.next().then(c=>({key:o,gen:u,result:c}))))}}transform(e,n){return this._transformStreamWithConfig(e,this._transform.bind(this),n)}async stream(e,n){async function*r(){yield e}const i=new Yo(this.transform(r(),n));return await i.setup,ri.fromAsyncGenerator(i)}}class Zw extends Ht{static lc_name(){return"RunnableLambda"}constructor(e){super(e),Object.defineProperty(this,"lc_namespace",{enumerable:!0,configurable:!0,writable:!0,value:["langchain_core","runnables"]}),Object.defineProperty(this,"func",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.func=e.func}static from(e){return new Zw({func:e})}async _invoke(e,n,r){return new Promise((i,s)=>{const a=dn(n,{callbacks:r==null?void 0:r.getChild(),recursionLimit:((n==null?void 0:n.recursionLimit)??Yg)-1});l0.getInstance().run(a,async()=>{try{let o=await this.func(e,{...a,config:a});if(o&&Ht.isRunnable(o)){if((n==null?void 0:n.recursionLimit)===0)throw new Error("Recursion limit reached.");o=await o.invoke(e,{...a,recursionLimit:(a.recursionLimit??Yg)-1})}i(o)}catch(o){s(o)}})})}async invoke(e,n){return this._callWithConfig(this._invoke,e,n)}async*_transform(e,n,r){let i;for await(const a of e)if(i===void 0)i=a;else try{i=aa(i,a)}catch{i=a}const s=await new Promise((a,o)=>{l0.getInstance().run(r,async()=>{try{const l=await this.func(i,{...r,config:r});a(l)}catch(l){o(l)}})});if(s&&Ht.isRunnable(s)){if((r==null?void 0:r.recursionLimit)===0)throw new Error("Recursion limit reached.");const a=await s.stream(i,dn(r,{callbacks:n==null?void 0:n.getChild(),recursionLimit:((r==null?void 0:r.recursionLimit)??Yg)-1}));for await(const o of a)yield o}else yield s}transform(e,n){return this._transformStreamWithConfig(e,this._transform.bind(this),n)}async stream(e,n){async function*r(){yield e}const i=new Yo(this.transform(r(),n));return await i.setup,ri.fromAsyncGenerator(i)}}class gG extends Ht{static lc_name(){return"RunnableWithFallbacks"}constructor(e){super(e),Object.defineProperty(this,"lc_namespace",{enumerable:!0,configurable:!0,writable:!0,value:["langchain_core","runnables"]}),Object.defineProperty(this,"lc_serializable",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"runnable",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"fallbacks",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.runnable=e.runnable,this.fallbacks=e.fallbacks}*runnables(){yield this.runnable;for(const e of this.fallbacks)yield e}async invoke(e,n){const r=await yn.configure(n==null?void 0:n.callbacks,void 0,n==null?void 0:n.tags,void 0,n==null?void 0:n.metadata),{runId:i,...s}=n??{},a=await(r==null?void 0:r.handleChainStart(this.toJSON(),Ft(e,"input"),i,void 0,void 0,void 0,s==null?void 0:s.runName));let o;for(const l of this.runnables())try{const u=await l.invoke(e,dn(s,{callbacks:a==null?void 0:a.getChild()}));return await(a==null?void 0:a.handleChainEnd(Ft(u,"output"))),u}catch(u){o===void 0&&(o=u)}throw o===void 0?new Error("No error stored at end of fallback."):(await(a==null?void 0:a.handleChainError(o)),o)}async batch(e,n,r){if(r!=null&&r.returnExceptions)throw new Error("Not implemented.");const i=this._getOptionsList(n??{},e.length),s=await Promise.all(i.map(l=>yn.configure(l==null?void 0:l.callbacks,void 0,l==null?void 0:l.tags,void 0,l==null?void 0:l.metadata))),a=await Promise.all(s.map(async(l,u)=>{const c=await(l==null?void 0:l.handleChainStart(this.toJSON(),Ft(e[u],"input"),i[u].runId,void 0,void 0,void 0,i[u].runName));return delete i[u].runId,c}));let o;for(const l of this.runnables())try{const u=await l.batch(e,a.map((c,d)=>dn(i[d],{callbacks:c==null?void 0:c.getChild()})),r);return await Promise.all(a.map((c,d)=>c==null?void 0:c.handleChainEnd(Ft(u[d],"output")))),u}catch(u){o===void 0&&(o=u)}throw o?(await Promise.all(a.map(l=>l==null?void 0:l.handleChainError(o))),o):new Error("No error stored at end of fallbacks.")}}function Ys(t){if(typeof t=="function")return new Zw({func:t});if(Ht.isRunnable(t))return t;if(!Array.isArray(t)&&typeof t=="object"){const e={};for(const[n,r]of Object.entries(t))e[n]=Ys(r);return new Qo({steps:e})}else throw new Error(`Expected a Runnable, function or object.
Instead got an unsupported type.`)}class KO extends Ht{static lc_name(){return"RunnableAssign"}constructor(e){e instanceof Qo&&(e={mapper:e}),super(e),Object.defineProperty(this,"lc_namespace",{enumerable:!0,configurable:!0,writable:!0,value:["langchain_core","runnables"]}),Object.defineProperty(this,"lc_serializable",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"mapper",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.mapper=e.mapper}async invoke(e,n){const r=await this.mapper.invoke(e,n);return{...e,...r}}async*_transform(e,n,r){const i=this.mapper.getStepsKeys(),[s,a]=BO(e),o=this.mapper.transform(a,dn(r,{callbacks:n==null?void 0:n.getChild()})),l=o.next();for await(const u of s){if(typeof u!="object"||Array.isArray(u))throw new Error(`RunnableAssign can only be used with objects as input, got ${typeof u}`);const c=Object.fromEntries(Object.entries(u).filter(([d])=>!i.includes(d)));Object.keys(c).length>0&&(yield c)}yield(await l).value;for await(const u of o)yield u}transform(e,n){return this._transformStreamWithConfig(e,this._transform.bind(this),n)}async stream(e,n){async function*r(){yield e}const i=new Yo(this.transform(r(),n));return await i.setup,ri.fromAsyncGenerator(i)}}class yG extends Ht{static lc_name(){return"RunnablePick"}constructor(e){(typeof e=="string"||Array.isArray(e))&&(e={keys:e}),super(e),Object.defineProperty(this,"lc_namespace",{enumerable:!0,configurable:!0,writable:!0,value:["langchain_core","runnables"]}),Object.defineProperty(this,"lc_serializable",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"keys",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.keys=e.keys}async _pick(e){if(typeof this.keys=="string")return e[this.keys];{const n=this.keys.map(r=>[r,e[r]]).filter(r=>r[1]!==void 0);return n.length===0?void 0:Object.fromEntries(n)}}async invoke(e,n){return this._callWithConfig(this._pick.bind(this),e,n)}async*_transform(e){for await(const n of e){const r=await this._pick(n);r!==void 0&&(yield r)}}transform(e,n){return this._transformStreamWithConfig(e,this._transform.bind(this),n)}async stream(e,n){async function*r(){yield e}const i=new Yo(this.transform(r(),n));return await i.setup,ri.fromAsyncGenerator(i)}}const vG=t=>t.startsWith("gpt-3.5-turbo-16k")?"gpt-3.5-turbo-16k":t.startsWith("gpt-3.5-turbo-")?"gpt-3.5-turbo":t.startsWith("gpt-4-32k")?"gpt-4-32k":t.startsWith("gpt-4-")?"gpt-4":t,bG=()=>!1;class wG extends Ht{get lc_attributes(){return{callbacks:void 0,verbose:void 0}}constructor(e){super(e),Object.defineProperty(this,"verbose",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"callbacks",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"tags",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"metadata",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.verbose=e.verbose??bG(),this.callbacks=e.callbacks,this.tags=e.tags??[],this.metadata=e.metadata??{}}}class _G extends wG{get callKeys(){return["stop","timeout","signal","tags","metadata","callbacks"]}constructor({callbacks:e,callbackManager:n,...r}){super({callbacks:e??n,...r}),Object.defineProperty(this,"caller",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"cache",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_encoding",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),typeof r.cache=="object"?this.cache=r.cache:r.cache?this.cache=Fw.global():this.cache=void 0,this.caller=new Uw(r??{})}async getNumTokens(e){if(typeof e!="string")return 0;let n=Math.ceil(e.length/4);if(!this._encoding)try{this._encoding=await NW("modelName"in this?vG(this.modelName):"gpt2")}catch(r){console.warn("Failed to calculate number of tokens, falling back to approximate count",r)}if(this._encoding)try{n=this._encoding.encode(e).length}catch(r){console.warn("Failed to calculate number of tokens, falling back to approximate count",r)}return n}static _convertInputToPromptValue(e){return typeof e=="string"?new K7(e):Array.isArray(e)?new J7(e.map(Vl)):e}_identifyingParams(){return{}}_getSerializedCacheKeyParametersForCall({config:e,...n}){const r={...this._identifyingParams(),...n,_type:this._llmType(),_model:this._modelType()};return Object.entries(r).filter(([a,o])=>o!==void 0).map(([a,o])=>`${a}:${JSON.stringify(o)}`).sort().join(",")}serialize(){return{...this._identifyingParams(),_type:this._llmType(),_model:this._modelType()}}static async deserialize(e){throw new Error("Use .toJSON() instead")}}class Vs extends _G{constructor(e){super(e),Object.defineProperty(this,"lc_namespace",{enumerable:!0,configurable:!0,writable:!0,value:["langchain","chat_models",this._llmType()]})}_separateRunnableConfigFromCallOptions(e){const[n,r]=super._separateRunnableConfigFromCallOptions(e);return r!=null&&r.timeout&&!r.signal&&(r.signal=AbortSignal.timeout(r.timeout)),[n,r]}async invoke(e,n){const r=Vs._convertInputToPromptValue(e);return(await this.generatePrompt([r],n,n==null?void 0:n.callbacks)).generations[0][0].message}async*_streamResponseChunks(e,n,r){throw new Error("Not implemented.")}async*_streamIterator(e,n){if(this._streamResponseChunks===Vs.prototype._streamResponseChunks)yield this.invoke(e,n);else{const i=Vs._convertInputToPromptValue(e).toChatMessages(),[s,a]=this._separateRunnableConfigFromCallOptions(n),o=await yn.configure(s.callbacks,this.callbacks,s.tags,this.tags,s.metadata,this.metadata,{verbose:this.verbose}),l={options:a,invocation_params:this==null?void 0:this.invocationParams(a),batch_size:1},u=await(o==null?void 0:o.handleChatModelStart(this.toJSON(),[i],s.runId,void 0,l,void 0,void 0,s.runName));let c;try{for await(const d of this._streamResponseChunks(i,a,u==null?void 0:u[0]))d.message.response_metadata={...d.generationInfo,...d.message.response_metadata},yield d.message,c?c=c.concat(d):c=d}catch(d){throw await Promise.all((u??[]).map(f=>f==null?void 0:f.handleLLMError(d))),d}await Promise.all((u??[]).map(d=>d==null?void 0:d.handleLLMEnd({generations:[[c]]})))}}async _generateUncached(e,n,r){var f;const i=e.map(h=>h.map(Vl)),s=await yn.configure(r.callbacks,this.callbacks,r.tags,this.tags,r.metadata,this.metadata,{verbose:this.verbose}),a={options:n,invocation_params:this==null?void 0:this.invocationParams(n),batch_size:1},o=await(s==null?void 0:s.handleChatModelStart(this.toJSON(),i,r.runId,void 0,a,void 0,void 0,r.runName)),l=await Promise.allSettled(i.map((h,p)=>this._generate(h,{...n,promptIndex:p},o==null?void 0:o[p]))),u=[],c=[];await Promise.all(l.map(async(h,p)=>{var y,b;if(h.status==="fulfilled"){const m=h.value;for(const g of m.generations)g.message.response_metadata={...g.generationInfo,...g.message.response_metadata};return m.generations.length===1&&(m.generations[0].message.response_metadata={...m.llmOutput,...m.generations[0].message.response_metadata}),u[p]=m.generations,c[p]=m.llmOutput,(y=o==null?void 0:o[p])==null?void 0:y.handleLLMEnd({generations:[m.generations],llmOutput:m.llmOutput})}else return await((b=o==null?void 0:o[p])==null?void 0:b.handleLLMError(h.reason)),Promise.reject(h.reason)}));const d={generations:u,llmOutput:c.length?(f=this._combineLLMOutput)==null?void 0:f.call(this,...c):void 0};return Object.defineProperty(d,kS,{value:o?{runIds:o==null?void 0:o.map(h=>h.runId)}:void 0,configurable:!0}),d}async _generateCached({messages:e,cache:n,llmStringKey:r,parsedOptions:i,handledOptions:s}){const a=e.map(y=>y.map(Vl)),o=await yn.configure(s.callbacks,this.callbacks,s.tags,this.tags,s.metadata,this.metadata,{verbose:this.verbose}),l={options:i,invocation_params:this==null?void 0:this.invocationParams(i),batch_size:1,cached:!0},u=await(o==null?void 0:o.handleChatModelStart(this.toJSON(),a,s.runId,void 0,l,void 0,void 0,s.runName)),c=[],f=(await Promise.allSettled(a.map(async(y,b)=>{const m=Vs._convertInputToPromptValue(y).toString(),g=await n.lookup(m,r);return g==null&&c.push(b),g}))).map((y,b)=>({result:y,runManager:u==null?void 0:u[b]})).filter(({result:y})=>y.status==="fulfilled"&&y.value!=null||y.status==="rejected"),h=[];await Promise.all(f.map(async({result:y,runManager:b},m)=>{if(y.status==="fulfilled"){const g=y.value;return h[m]=g,g.length&&await(b==null?void 0:b.handleLLMNewToken(g[0].text)),b==null?void 0:b.handleLLMEnd({generations:[g]})}else return await(b==null?void 0:b.handleLLMError(y.reason)),Promise.reject(y.reason)}));const p={generations:h,missingPromptIndices:c};return Object.defineProperty(p,kS,{value:u?{runIds:u==null?void 0:u.map(y=>y.runId)}:void 0,configurable:!0}),p}async generate(e,n,r){let i;Array.isArray(n)?i={stop:n}:i=n;const s=e.map(h=>h.map(Vl)),[a,o]=this._separateRunnableConfigFromCallOptions(i);if(a.callbacks=a.callbacks??r,!this.cache)return this._generateUncached(s,o,a);const{cache:l}=this,u=this._getSerializedCacheKeyParametersForCall(o),{generations:c,missingPromptIndices:d}=await this._generateCached({messages:s,cache:l,llmStringKey:u,parsedOptions:o,handledOptions:a});let f={};if(d.length>0){const h=await this._generateUncached(d.map(p=>s[p]),o,a);await Promise.all(h.generations.map(async(p,y)=>{const b=d[y];c[b]=p;const m=Vs._convertInputToPromptValue(s[b]).toString();return l.update(m,u,p)})),f=h.llmOutput??{}}return{generations:c,llmOutput:f}}invocationParams(e){return{}}_modelType(){return"base_chat_model"}serialize(){return{...this.invocationParams(),_type:this._llmType(),_model:this._modelType()}}async generatePrompt(e,n,r){const i=e.map(s=>s.toChatMessages());return this.generate(i,n,r)}async call(e,n,r){return(await this.generate([e.map(Vl)],n,r)).generations[0][0].message}async callPrompt(e,n,r){const i=e.toChatMessages();return this.call(i,n,r)}async predictMessages(e,n,r){return this.call(e,n,r)}async predict(e,n,r){const i=new Hh(e),s=await this.call([i],n,r);if(typeof s.content!="string")throw new Error("Cannot use predict when output is not a string.");return s.content}}function xG(t){return{name:t.name,description:t.description,parameters:pm(t.schema)}}function FS(t){return kG(t)?{type:"function",function:xG(t)}:t}function kG(t){return t!==void 0&&Array.isArray(t.lc_namespace)}class BS extends Ht{static lc_name(){return"RunnablePassthrough"}constructor(e){super(e),Object.defineProperty(this,"lc_namespace",{enumerable:!0,configurable:!0,writable:!0,value:["langchain_core","runnables"]}),Object.defineProperty(this,"lc_serializable",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"func",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),e&&(this.func=e.func)}async invoke(e,n){const r=Ye(n);return this.func&&await this.func(e,r),this._callWithConfig(i=>Promise.resolve(i),e,r)}async*transform(e,n){const r=Ye(n);let i,s=!0;for await(const a of this._transformStreamWithConfig(e,o=>o,r))if(yield a,s)if(i===void 0)i=a;else try{i=aa(i,a)}catch{i=void 0,s=!1}this.func&&i!==void 0&&await this.func(i,r)}static assign(e){return new KO(new Qo({steps:e}))}}class Gw extends Ht{parseResultWithPrompt(e,n,r){return this.parseResult(e,r)}_baseMessageToString(e){return typeof e.content=="string"?e.content:this._baseMessageContentToString(e.content)}_baseMessageContentToString(e){return JSON.stringify(e)}async invoke(e,n){return typeof e=="string"?this._callWithConfig(async(r,i)=>this.parseResult([{text:r}],i==null?void 0:i.callbacks),e,{...n,runType:"parser"}):this._callWithConfig(async(r,i)=>this.parseResult([{message:r,text:this._baseMessageToString(r)}],i==null?void 0:i.callbacks),e,{...n,runType:"parser"})}}class JO extends Gw{parseResult(e,n){return this.parse(e[0].text,n)}async parseWithPrompt(e,n,r){return this.parse(e,r)}_type(){throw new Error("_type not implemented")}}class Kw extends Error{constructor(e,n,r,i=!1){if(super(e),Object.defineProperty(this,"llmOutput",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"observation",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"sendToLLM",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.llmOutput=n,this.observation=r,this.sendToLLM=i,i&&(r===void 0||n===void 0))throw new Error("Arguments 'observation' & 'llmOutput' are required if 'sendToLlm' is true")}}function u0(t,e){const n=typeof t;if(n!==typeof e)return!1;if(Array.isArray(t)){if(!Array.isArray(e))return!1;const r=t.length;if(r!==e.length)return!1;for(let i=0;i<r;i++)if(!u0(t[i],e[i]))return!1;return!0}if(n==="object"){if(!t||!e)return t===e;const r=Object.keys(t),i=Object.keys(e);if(r.length!==i.length)return!1;for(const a of r)if(!u0(t[a],e[a]))return!1;return!0}return t===e}class SG extends JO{async*_transform(e){for await(const n of e)typeof n=="string"?yield this.parseResult([{text:n}]):yield this.parseResult([{message:n,text:this._baseMessageToString(n)}])}async*transform(e,n){yield*this._transformStreamWithConfig(e,this._transform.bind(this),{...n,runType:"parser"})}}class CG extends SG{constructor(e){super(e),Object.defineProperty(this,"diff",{enumerable:!0,configurable:!0,writable:!0,value:!1}),this.diff=(e==null?void 0:e.diff)??this.diff}async*_transform(e){let n,r;for await(const i of e){if(typeof i!="string"&&typeof i.content!="string")throw new Error("Cannot handle non-string output.");let s;if($7(i)){if(typeof i.content!="string")throw new Error("Cannot handle non-string message output.");s=new Yu({message:i,text:i.content})}else if(zw(i)){if(typeof i.content!="string")throw new Error("Cannot handle non-string message output.");s=new Yu({message:L7(i),text:i.content})}else s=new om({text:i});r===void 0?r=s:r=r.concat(s);const a=await this.parsePartialResult([r]);a!=null&&!u0(a,n)&&(this.diff?yield this._diff(n,a):yield a,n=a)}}}class TG extends JO{static lc_name(){return"StructuredOutputParser"}toJSON(){return this.toJSONNotImplemented()}constructor(e){super(e),Object.defineProperty(this,"schema",{enumerable:!0,configurable:!0,writable:!0,value:e}),Object.defineProperty(this,"lc_namespace",{enumerable:!0,configurable:!0,writable:!0,value:["langchain","output_parsers","structured"]})}static fromZodSchema(e){return new this(e)}static fromNamesAndDescriptions(e){const n=Qh.object(Object.fromEntries(Object.entries(e).map(([r,i])=>[r,Qh.string().describe(i)])));return new this(n)}getFormatInstructions(){return`You must format your output as a JSON value that adheres to a given "JSON Schema" instance.

"JSON Schema" is a declarative language that allows you to annotate and validate JSON documents.

For example, the example "JSON Schema" instance {{"properties": {{"foo": {{"description": "a list of test words", "type": "array", "items": {{"type": "string"}}}}}}, "required": ["foo"]}}}}
would match an object with one required property, "foo". The "type" property specifies "foo" must be an "array", and the "description" property semantically describes it as "a list of test words". The items within "foo" must be strings.
Thus, the object {{"foo": ["bar", "baz"]}} is a well-formatted instance of this example "JSON Schema". The object {{"properties": {{"foo": ["bar", "baz"]}}}} is not well-formatted.

Your output will be parsed and type-checked according to the provided schema instance, so make sure all fields in your output match the schema exactly and there are no trailing commas!

Here is the JSON Schema instance your output must adhere to. Include the enclosing markdown codeblock:
\`\`\`json
${JSON.stringify(pm(this.schema))}
\`\`\`
`}async parse(e){try{const r=(e.includes("```")?e.trim().split(/```(?:json)?/)[1]:e.trim()).replace(/"([^"\\]*(\\.[^"\\]*)*)"/g,(i,s)=>`"${s.replace(/\n/g,"\\n")}"`).replace(/\n/g,"");return await this.schema.parseAsync(JSON.parse(r))}catch(n){throw new Kw(`Failed to parse. Text: "${e}". Error: ${n}`,e)}}}class PG extends CG{constructor(){super(...arguments),Object.defineProperty(this,"lc_namespace",{enumerable:!0,configurable:!0,writable:!0,value:["langchain_core","output_parsers"]}),Object.defineProperty(this,"lc_serializable",{enumerable:!0,configurable:!0,writable:!0,value:!0})}static lc_name(){return"JsonOutputParser"}_diff(e,n){if(n)return e?_Z(e,n):[{op:"replace",path:"",value:n}]}async parsePartialResult(e){return vS(e[0].text)}async parse(e){return vS(e,JSON.parse)}getFormatInstructions(){return""}}function XO(t,e){if(t.function===void 0)return;let n;if(e!=null&&e.partial)try{n=Lw(t.function.arguments??"{}")}catch{return}else try{n=JSON.parse(t.function.arguments)}catch(i){throw new Kw([`Function "${t.function.name}" arguments:`,"",t.function.arguments,"","are not valid JSON.",`Error: ${i.message}`].join(`
`))}const r={name:t.function.name,args:n};return e!=null&&e.returnId&&(r.id=t.id),r}function EG(t){if(t.id===void 0)throw new Error('All OpenAI tool calls must have an "id" field.');return{id:t.id,type:"function",function:{name:t.name,arguments:JSON.stringify(t.args)}}}function AG(t,e){var n,r;return{name:(n=t.function)==null?void 0:n.name,args:(r=t.function)==null?void 0:r.arguments,id:t.id,error:e}}class IG extends Gw{static lc_name(){return"JsonOutputToolsParser"}constructor(e){super(e),Object.defineProperty(this,"returnId",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"lc_namespace",{enumerable:!0,configurable:!0,writable:!0,value:["langchain","output_parsers","openai_tools"]}),Object.defineProperty(this,"lc_serializable",{enumerable:!0,configurable:!0,writable:!0,value:!0}),this.returnId=(e==null?void 0:e.returnId)??this.returnId}async parseResult(e){const n=e[0].message.additional_kwargs.tool_calls;if(!n)throw new Error(`No tools_call in message ${JSON.stringify(e)}`);const r=JSON.parse(JSON.stringify(n)),i=[];for(const s of r){const a=XO(s,{partial:!0});if(a!==void 0){const o={type:a.name,args:a.args,id:a.id};Object.defineProperty(o,"name",{get(){return this.type}}),Object.defineProperty(o,"arguments",{get(){return this.args}}),i.push(o)}}return i}}class VS extends Gw{static lc_name(){return"JsonOutputKeyToolsParser"}constructor(e){super(e),Object.defineProperty(this,"lc_namespace",{enumerable:!0,configurable:!0,writable:!0,value:["langchain","output_parsers","openai_tools"]}),Object.defineProperty(this,"lc_serializable",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"returnId",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"keyName",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"returnSingle",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"initialParser",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"zodSchema",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.keyName=e.keyName,this.returnSingle=e.returnSingle??this.returnSingle,this.initialParser=new IG(e),this.zodSchema=e.zodSchema}async _validateResult(e){if(this.zodSchema===void 0)return e;const n=await this.zodSchema.safeParseAsync(e);if(n.success)return n.data;throw new Kw(`Failed to parse. Text: "${JSON.stringify(e,null,2)}". Error: ${JSON.stringify(n.error.errors)}`,JSON.stringify(e,null,2))}async parseResult(e){const r=(await this.initialParser.parseResult(e)).filter(a=>a.type===this.keyName);let i=r;return this.returnId||(i=r.map(a=>a.args)),this.returnSingle?this._validateResult(i[0]):await Promise.all(i.map(a=>this._validateResult(a)))}}function OG(t){const{azureOpenAIApiDeploymentName:e,azureOpenAIApiInstanceName:n,azureOpenAIApiKey:r,azureOpenAIBasePath:i,baseURL:s}=t;if(r&&i&&e)return`${i}/${e}`;if(r){if(!n)throw new Error("azureOpenAIApiInstanceName is required when using azureOpenAIApiKey");if(!e)throw new Error("azureOpenAIApiDeploymentName is a required parameter when using azureOpenAIApiKey");return`https://${n}.openai.azure.com/openai/deployments/${e}`}return s}function RG(t){let e;return t.constructor.name===w7.name?(e=new Error(t.message),e.name="TimeoutError"):t.constructor.name===_7.name?(e=new Error(t.message),e.name="AbortError"):e=t,e}function $G(t){return t.anyOf!==void 0&&Array.isArray(t.anyOf)}function NG(t){const e=["namespace functions {",""];for(const n of t)n.description&&e.push(`// ${n.description}`),Object.keys(n.parameters.properties??{}).length>0?(e.push(`type ${n.name} = (_: {`),e.push(YO(n.parameters,0)),e.push("}) => any;")):e.push(`type ${n.name} = () => any;`),e.push("");return e.push("} // namespace functions"),e.join(`
`)}function YO(t,e){var r;const n=[];for(const[i,s]of Object.entries(t.properties??{}))s.description&&e<2&&n.push(`// ${s.description}`),(r=t.required)!=null&&r.includes(i)?n.push(`${i}: ${sp(s,e)},`):n.push(`${i}?: ${sp(s,e)},`);return n.map(i=>" ".repeat(e)+i).join(`
`)}function sp(t,e){if($G(t))return t.anyOf.map(n=>sp(n,e)).join(" | ");switch(t.type){case"string":return t.enum?t.enum.map(n=>`"${n}"`).join(" | "):"string";case"number":return t.enum?t.enum.map(n=>`${n}`).join(" | "):"number";case"integer":return t.enum?t.enum.map(n=>`${n}`).join(" | "):"number";case"boolean":return"boolean";case"null":return"null";case"object":return["{",YO(t,e+2),"}"].join(`
`);case"array":return t.items?`${sp(t.items,e)}[]`:"any[]";default:return""}}function jG(t){return t.role!=="system"&&t.role!=="assistant"&&t.role!=="user"&&t.role!=="function"&&t.role!=="tool"&&console.warn(`Unknown message role: ${t.role}`),t.role}function QO(t){const e=t._getType();switch(e){case"system":return"system";case"ai":return"assistant";case"human":return"user";case"function":return"function";case"tool":return"tool";case"generic":{if(!$c.isInstance(t))throw new Error("Invalid generic chat message");return jG(t)}default:throw new Error(`Unknown message type: ${e}`)}}function MG(t){const e=t.tool_calls;switch(t.role){case"assistant":{const n=[],r=[];for(const i of e??[])try{n.push(XO(i,{returnId:!0}))}catch(s){r.push(AG(i,s.message))}return new fO({content:t.content||"",tool_calls:n,invalid_tool_calls:r,additional_kwargs:{function_call:t.function_call,tool_calls:e}})}default:return new $c(t.content||"",t.role??"unknown")}}function LG(t,e){var s,a;const n=t.role??e,r=t.content??"";let i;if(t.function_call?i={function_call:t.function_call}:t.tool_calls?i={tool_calls:t.tool_calls}:i={},n==="user")return new sm({content:r});if(n==="assistant"){const o=[];if(Array.isArray(t.tool_calls))for(const l of t.tool_calls)o.push({name:(s=l.function)==null?void 0:s.name,args:(a=l.function)==null?void 0:a.arguments,id:l.id,index:l.index});return new Rc({content:r,tool_call_chunks:o,additional_kwargs:i})}else return n==="system"?new am({content:r}):n==="function"?new im({content:r,additional_kwargs:i,name:t.name}):n==="tool"?new Dw({content:r,additional_kwargs:i,tool_call_id:t.tool_call_id}):new rm({content:r,role:n})}function US(t){return t.map(e=>{var r;const n={role:QO(e),content:e.content};return e.name!=null&&(n.name=e.name),e.additional_kwargs.function_call!=null&&(n.function_call=e.additional_kwargs.function_call),j7(e)&&((r=e.tool_calls)!=null&&r.length)?n.tool_calls=e.tool_calls.map(EG):(e.additional_kwargs.tool_calls!=null&&(n.tool_calls=e.additional_kwargs.tool_calls),e.tool_call_id!=null&&(n.tool_call_id=e.tool_call_id)),n})}class zG extends Vs{static lc_name(){return"ChatOpenAI"}get callKeys(){return[...super.callKeys,"options","function_call","functions","tools","tool_choice","promptIndex","response_format","seed"]}get lc_secrets(){return{openAIApiKey:"OPENAI_API_KEY",apiKey:"OPENAI_API_KEY",azureOpenAIApiKey:"AZURE_OPENAI_API_KEY",organization:"OPENAI_ORGANIZATION"}}get lc_aliases(){return{modelName:"model",openAIApiKey:"openai_api_key",apiKey:"openai_api_key",azureOpenAIApiVersion:"azure_openai_api_version",azureOpenAIApiKey:"azure_openai_api_key",azureOpenAIApiInstanceName:"azure_openai_api_instance_name",azureOpenAIApiDeploymentName:"azure_openai_api_deployment_name"}}constructor(e,n){var r,i,s,a,o,l,u,c;if(super(e??{}),Object.defineProperty(this,"lc_serializable",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"temperature",{enumerable:!0,configurable:!0,writable:!0,value:1}),Object.defineProperty(this,"topP",{enumerable:!0,configurable:!0,writable:!0,value:1}),Object.defineProperty(this,"frequencyPenalty",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"presencePenalty",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"n",{enumerable:!0,configurable:!0,writable:!0,value:1}),Object.defineProperty(this,"logitBias",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"modelName",{enumerable:!0,configurable:!0,writable:!0,value:"gpt-3.5-turbo"}),Object.defineProperty(this,"model",{enumerable:!0,configurable:!0,writable:!0,value:"gpt-3.5-turbo"}),Object.defineProperty(this,"modelKwargs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"stop",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"stopSequences",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"user",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"timeout",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"streaming",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"maxTokens",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"logprobs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"topLogprobs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"openAIApiKey",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"apiKey",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"azureOpenAIApiVersion",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"azureOpenAIApiKey",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"azureOpenAIApiInstanceName",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"azureOpenAIApiDeploymentName",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"azureOpenAIBasePath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"organization",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"client",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"clientConfig",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.openAIApiKey=(e==null?void 0:e.apiKey)??(e==null?void 0:e.openAIApiKey)??Pn("OPENAI_API_KEY"),this.apiKey=this.openAIApiKey,this.azureOpenAIApiKey=(e==null?void 0:e.azureOpenAIApiKey)??Pn("AZURE_OPENAI_API_KEY"),!this.azureOpenAIApiKey&&!this.apiKey)throw new Error("OpenAI or Azure OpenAI API key not found");if(this.azureOpenAIApiInstanceName=(e==null?void 0:e.azureOpenAIApiInstanceName)??Pn("AZURE_OPENAI_API_INSTANCE_NAME"),this.azureOpenAIApiDeploymentName=(e==null?void 0:e.azureOpenAIApiDeploymentName)??Pn("AZURE_OPENAI_API_DEPLOYMENT_NAME"),this.azureOpenAIApiVersion=(e==null?void 0:e.azureOpenAIApiVersion)??Pn("AZURE_OPENAI_API_VERSION"),this.azureOpenAIBasePath=(e==null?void 0:e.azureOpenAIBasePath)??Pn("AZURE_OPENAI_BASE_PATH"),this.organization=((r=e==null?void 0:e.configuration)==null?void 0:r.organization)??Pn("OPENAI_ORGANIZATION"),this.modelName=(e==null?void 0:e.model)??(e==null?void 0:e.modelName)??this.model,this.model=this.modelName,this.modelKwargs=(e==null?void 0:e.modelKwargs)??{},this.timeout=e==null?void 0:e.timeout,this.temperature=(e==null?void 0:e.temperature)??this.temperature,this.topP=(e==null?void 0:e.topP)??this.topP,this.frequencyPenalty=(e==null?void 0:e.frequencyPenalty)??this.frequencyPenalty,this.presencePenalty=(e==null?void 0:e.presencePenalty)??this.presencePenalty,this.maxTokens=e==null?void 0:e.maxTokens,this.logprobs=e==null?void 0:e.logprobs,this.topLogprobs=e==null?void 0:e.topLogprobs,this.n=(e==null?void 0:e.n)??this.n,this.logitBias=e==null?void 0:e.logitBias,this.stop=(e==null?void 0:e.stopSequences)??(e==null?void 0:e.stop),this.stopSequences=this==null?void 0:this.stop,this.user=e==null?void 0:e.user,this.streaming=(e==null?void 0:e.streaming)??!1,this.azureOpenAIApiKey){if(!this.azureOpenAIApiInstanceName&&!this.azureOpenAIBasePath)throw new Error("Azure OpenAI API instance name not found");if(!this.azureOpenAIApiDeploymentName)throw new Error("Azure OpenAI API deployment name not found");if(!this.azureOpenAIApiVersion)throw new Error("Azure OpenAI API version not found");this.apiKey=this.apiKey??""}this.clientConfig={apiKey:this.apiKey,organization:this.organization,baseURL:(n==null?void 0:n.basePath)??((i=e==null?void 0:e.configuration)==null?void 0:i.basePath),dangerouslyAllowBrowser:!0,defaultHeaders:((s=n==null?void 0:n.baseOptions)==null?void 0:s.headers)??((o=(a=e==null?void 0:e.configuration)==null?void 0:a.baseOptions)==null?void 0:o.headers),defaultQuery:((l=n==null?void 0:n.baseOptions)==null?void 0:l.params)??((c=(u=e==null?void 0:e.configuration)==null?void 0:u.baseOptions)==null?void 0:c.params),...n,...e==null?void 0:e.configuration}}bindTools(e,n){return this.bind({tools:e.map(FS),...n})}invocationParams(e){function n(i){return i!==void 0&&i.every(s=>Array.isArray(s.lc_namespace))}return{model:this.model,temperature:this.temperature,top_p:this.topP,frequency_penalty:this.frequencyPenalty,presence_penalty:this.presencePenalty,max_tokens:this.maxTokens===-1?void 0:this.maxTokens,logprobs:this.logprobs,top_logprobs:this.topLogprobs,n:this.n,logit_bias:this.logitBias,stop:(e==null?void 0:e.stop)??this.stopSequences,user:this.user,stream:this.streaming,functions:e==null?void 0:e.functions,function_call:e==null?void 0:e.function_call,tools:n(e==null?void 0:e.tools)?e==null?void 0:e.tools.map(FS):e==null?void 0:e.tools,tool_choice:e==null?void 0:e.tool_choice,response_format:e==null?void 0:e.response_format,seed:e==null?void 0:e.seed,...this.modelKwargs}}_identifyingParams(){return{model_name:this.model,...this.invocationParams(),...this.clientConfig}}async*_streamResponseChunks(e,n,r){var l;const i=US(e),s={...this.invocationParams(n),messages:i,stream:!0};let a;const o=await this.completionWithRetry(s,n);for await(const u of o){const c=u==null?void 0:u.choices[0];if(!c)continue;const{delta:d}=c;if(!d)continue;const f=LG(d,a);a=d.role??a;const h={prompt:n.promptIndex??0,completion:c.index??0};if(typeof f.content!="string"){console.log("[WARNING]: Received non-string content from OpenAI. This is currently not supported.");continue}const p={...h};c.finish_reason!==void 0&&(p.finish_reason=c.finish_reason),this.logprobs&&(p.logprobs=c.logprobs);const y=new Yu({message:f,text:f.content,generationInfo:p});yield y,r==null||r.handleLLMNewToken(y.text??"",h,void 0,void 0,void 0,{chunk:y})}if((l=n.signal)!=null&&l.aborted)throw new Error("AbortError")}identifyingParams(){return this._identifyingParams()}async _generate(e,n,r){var o,l;const i={},s=this.invocationParams(n),a=US(e);if(s.stream){const u=this._streamResponseChunks(e,n,r),c={};for await(const b of u){b.message.response_metadata={...b.generationInfo,...b.message.response_metadata};const m=((o=b.generationInfo)==null?void 0:o.completion)??0;c[m]===void 0?c[m]=b:c[m]=c[m].concat(b)}const d=Object.entries(c).sort(([b],[m])=>parseInt(b,10)-parseInt(m,10)).map(([b,m])=>m),{functions:f,function_call:h}=this.invocationParams(n),p=await this.getEstimatedTokenCountFromPrompt(e,f,h),y=await this.getNumTokensFromGenerations(d);return i.promptTokens=p,i.completionTokens=y,i.totalTokens=p+y,{generations:d,llmOutput:{estimatedTokenUsage:i}}}else{const u=await this.completionWithRetry({...s,stream:!1,messages:a},{signal:n==null?void 0:n.signal,...n==null?void 0:n.options}),{completion_tokens:c,prompt_tokens:d,total_tokens:f}=(u==null?void 0:u.usage)??{};c&&(i.completionTokens=(i.completionTokens??0)+c),d&&(i.promptTokens=(i.promptTokens??0)+d),f&&(i.totalTokens=(i.totalTokens??0)+f);const h=[];for(const p of(u==null?void 0:u.choices)??[]){const b={text:((l=p.message)==null?void 0:l.content)??"",message:MG(p.message??{role:"assistant"})};b.generationInfo={...p.finish_reason?{finish_reason:p.finish_reason}:{},...p.logprobs?{logprobs:p.logprobs}:{}},h.push(b)}return{generations:h,llmOutput:{tokenUsage:i}}}}async getEstimatedTokenCountFromPrompt(e,n,r){let i=(await this.getNumTokensFromMessages(e)).totalCount;if(n&&r!=="auto"){const s=NG(n);i+=await this.getNumTokens(s),i+=9}return n&&e.find(s=>s._getType()==="system")&&(i-=4),r==="none"?i+=1:typeof r=="object"&&(i+=await this.getNumTokens(r.name)+4),i}async getNumTokensFromGenerations(e){return(await Promise.all(e.map(async r=>{var i;return(i=r.message.additional_kwargs)!=null&&i.function_call?(await this.getNumTokensFromMessages([r.message])).countPerMessage[0]:await this.getNumTokens(r.message.content)}))).reduce((r,i)=>r+i,0)}async getNumTokensFromMessages(e){let n=0,r=0,i=0;this.model==="gpt-3.5-turbo-0301"?(r=4,i=-1):(r=3,i=1);const s=await Promise.all(e.map(async a=>{var f,h,p,y,b,m;const o=await this.getNumTokens(a.content),l=await this.getNumTokens(QO(a)),u=a.name!==void 0?i+await this.getNumTokens(a.name):0;let c=o+r+l+u;const d=a;if(d._getType()==="function"&&(c-=2),(f=d.additional_kwargs)!=null&&f.function_call&&(c+=3),(h=d==null?void 0:d.additional_kwargs.function_call)!=null&&h.name&&(c+=await this.getNumTokens((p=d.additional_kwargs.function_call)==null?void 0:p.name)),(y=d.additional_kwargs.function_call)!=null&&y.arguments)try{c+=await this.getNumTokens(JSON.stringify(JSON.parse((b=d.additional_kwargs.function_call)==null?void 0:b.arguments)))}catch(g){console.error("Error parsing function arguments",g,JSON.stringify(d.additional_kwargs.function_call)),c+=await this.getNumTokens((m=d.additional_kwargs.function_call)==null?void 0:m.arguments)}return n+=c,c}));return n+=3,{totalCount:n,countPerMessage:s}}async completionWithRetry(e,n){const r=this._getClientOptions(n);return this.caller.call(async()=>{try{return await this.client.chat.completions.create(e,r)}catch(i){throw RG(i)}})}_getClientOptions(e){if(!this.client){const r={azureOpenAIApiDeploymentName:this.azureOpenAIApiDeploymentName,azureOpenAIApiInstanceName:this.azureOpenAIApiInstanceName,azureOpenAIApiKey:this.azureOpenAIApiKey,azureOpenAIBasePath:this.azureOpenAIBasePath,baseURL:this.clientConfig.baseURL},i=OG(r),s={...this.clientConfig,baseURL:i,timeout:this.timeout,maxRetries:0};s.baseURL||delete s.baseURL,this.client=new ht(s)}const n={...this.clientConfig,...e};return this.azureOpenAIApiKey&&(n.headers={"api-key":this.azureOpenAIApiKey,...n.headers},n.query={"api-version":this.azureOpenAIApiVersion,...n.query}),n}_llmType(){return"openai"}_combineLLMOutput(...e){return e.reduce((n,r)=>(r&&r.tokenUsage&&(n.tokenUsage.completionTokens+=r.tokenUsage.completionTokens??0,n.tokenUsage.promptTokens+=r.tokenUsage.promptTokens??0,n.tokenUsage.totalTokens+=r.tokenUsage.totalTokens??0),n),{tokenUsage:{completionTokens:0,promptTokens:0,totalTokens:0}})}withStructuredOutput(e,n){let r,i,s,a;DG(e)?(r=e.schema,i=e.name,s=e.method,a=e.includeRaw):(r=e,i=n==null?void 0:n.name,s=n==null?void 0:n.method,a=n==null?void 0:n.includeRaw);let o,l;if(s==="jsonMode")o=this.bind({response_format:{type:"json_object"}}),HS(r)?l=TG.fromZodSchema(r):l=new PG;else{let f=i??"extract";if(HS(r)){const h=pm(r);o=this.bind({tools:[{type:"function",function:{name:f,description:h.description,parameters:h}}],tool_choice:{type:"function",function:{name:f}}}),l=new VS({returnSingle:!0,keyName:f,zodSchema:r})}else{let h;typeof r.name=="string"&&typeof r.parameters=="object"&&r.parameters!=null?(h=r,f=r.name):(f=r.title??f,h={name:f,description:r.description??"",parameters:r}),o=this.bind({tools:[{type:"function",function:h}],tool_choice:{type:"function",function:{name:f}}}),l=new VS({returnSingle:!0,keyName:f})}}if(!a)return o.pipe(l);const u=BS.assign({parsed:(f,h)=>l.invoke(f.raw,h)}),c=BS.assign({parsed:()=>null}),d=u.withFallbacks({fallbacks:[c]});return Xs.from([{raw:o},d])}}function HS(t){return typeof(t==null?void 0:t.parse)=="function"}function DG(t){return t!==void 0&&typeof t.schema=="object"}const FG=()=>{const[t,e]=A.useState("");return{apiKey:t,setApiKey:e}},BG=()=>{const[t,e]=A.useState(!1),[n,r]=A.useState(null),i=A.useRef(),s=A.useRef([]),a=()=>{navigator.mediaDevices.getUserMedia({audio:!0}).then(c=>{e(!0),s.current=[];const d=new MediaRecorder(c);d&&(i.current=d,i.current&&(i.current.ondataavailable=l,i.current.start()))}).catch(c=>{console.error("Error accessing microphone:",c)})},o=()=>{i.current&&(e(!1),i.current.stop())},l=c=>{if(c.data.size===0)return;s.current.push(c.data);const d=new Blob(s.current,{type:"audio/webm"}),f=URL.createObjectURL(d);r(f)};return{recording:t,source:n,startRecording:a,stopRecording:o,revokeSource:()=>{if(n){const c=n;r(""),URL.revokeObjectURL(c)}}}},VG=t=>{const[e,n]=A.useState("");return{transcribeText:e,setTranscribeText:n,transcribe:async i=>{fetch(i).then(s=>s.blob()).then(s=>{new ht({apiKey:t,dangerouslyAllowBrowser:!0}).audio.transcriptions.create({file:new File([s],"audio.webm",{type:s.type}),model:"whisper-1"}).then(o=>{n(o.text)}).catch(o=>{console.error(o)})})}}},UG=(t,e)=>({start:async r=>{const s=await new zG({apiKey:t,model:"gpt-4o",temperature:.7}).stream(r);for await(const a of s)a.content&&e(o=>o+a.content)}});function HG(t,e){const n={};return(t[t.length-1]===""?[...t,""]:t).join((n.padRight?" ":"")+","+(n.padLeft===!1?"":" ")).trim()}const WG=/^[$_\p{ID_Start}][$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,qG=/^[$_\p{ID_Start}][-$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,ZG={};function WS(t,e){return(ZG.jsx?qG:WG).test(t)}const GG=/[ \t\n\f\r]/g;function KG(t){return typeof t=="object"?t.type==="text"?qS(t.value):!1:qS(t)}function qS(t){return t.replace(GG,"")===""}class Mc{constructor(e,n,r){this.property=e,this.normal=n,r&&(this.space=r)}}Mc.prototype.property={};Mc.prototype.normal={};Mc.prototype.space=null;function eR(t,e){const n={},r={};let i=-1;for(;++i<t.length;)Object.assign(n,t[i].property),Object.assign(r,t[i].normal);return new Mc(n,r,e)}function c0(t){return t.toLowerCase()}class nr{constructor(e,n){this.property=e,this.attribute=n}}nr.prototype.space=null;nr.prototype.boolean=!1;nr.prototype.booleanish=!1;nr.prototype.overloadedBoolean=!1;nr.prototype.number=!1;nr.prototype.commaSeparated=!1;nr.prototype.spaceSeparated=!1;nr.prototype.commaOrSpaceSeparated=!1;nr.prototype.mustUseProperty=!1;nr.prototype.defined=!1;let JG=0;const ie=xa(),pt=xa(),tR=xa(),z=xa(),Be=xa(),Eo=xa(),Sn=xa();function xa(){return 2**++JG}const d0=Object.freeze(Object.defineProperty({__proto__:null,boolean:ie,booleanish:pt,commaOrSpaceSeparated:Sn,commaSeparated:Eo,number:z,overloadedBoolean:tR,spaceSeparated:Be},Symbol.toStringTag,{value:"Module"})),Qg=Object.keys(d0);class Jw extends nr{constructor(e,n,r,i){let s=-1;if(super(e,n),ZS(this,"space",i),typeof r=="number")for(;++s<Qg.length;){const a=Qg[s];ZS(this,Qg[s],(r&d0[a])===d0[a])}}}Jw.prototype.defined=!0;function ZS(t,e,n){n&&(t[e]=n)}const XG={}.hasOwnProperty;function el(t){const e={},n={};let r;for(r in t.properties)if(XG.call(t.properties,r)){const i=t.properties[r],s=new Jw(r,t.transform(t.attributes||{},r),i,t.space);t.mustUseProperty&&t.mustUseProperty.includes(r)&&(s.mustUseProperty=!0),e[r]=s,n[c0(r)]=r,n[c0(s.attribute)]=r}return new Mc(e,n,t.space)}const nR=el({space:"xlink",transform(t,e){return"xlink:"+e.slice(5).toLowerCase()},properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null}}),rR=el({space:"xml",transform(t,e){return"xml:"+e.slice(3).toLowerCase()},properties:{xmlLang:null,xmlBase:null,xmlSpace:null}});function iR(t,e){return e in t?t[e]:e}function sR(t,e){return iR(t,e.toLowerCase())}const aR=el({space:"xmlns",attributes:{xmlnsxlink:"xmlns:xlink"},transform:sR,properties:{xmlns:null,xmlnsXLink:null}}),oR=el({transform(t,e){return e==="role"?e:"aria-"+e.slice(4).toLowerCase()},properties:{ariaActiveDescendant:null,ariaAtomic:pt,ariaAutoComplete:null,ariaBusy:pt,ariaChecked:pt,ariaColCount:z,ariaColIndex:z,ariaColSpan:z,ariaControls:Be,ariaCurrent:null,ariaDescribedBy:Be,ariaDetails:null,ariaDisabled:pt,ariaDropEffect:Be,ariaErrorMessage:null,ariaExpanded:pt,ariaFlowTo:Be,ariaGrabbed:pt,ariaHasPopup:null,ariaHidden:pt,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:Be,ariaLevel:z,ariaLive:null,ariaModal:pt,ariaMultiLine:pt,ariaMultiSelectable:pt,ariaOrientation:null,ariaOwns:Be,ariaPlaceholder:null,ariaPosInSet:z,ariaPressed:pt,ariaReadOnly:pt,ariaRelevant:null,ariaRequired:pt,ariaRoleDescription:Be,ariaRowCount:z,ariaRowIndex:z,ariaRowSpan:z,ariaSelected:pt,ariaSetSize:z,ariaSort:null,ariaValueMax:z,ariaValueMin:z,ariaValueNow:z,ariaValueText:null,role:null}}),YG=el({space:"html",attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},transform:sR,mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:Eo,acceptCharset:Be,accessKey:Be,action:null,allow:null,allowFullScreen:ie,allowPaymentRequest:ie,allowUserMedia:ie,alt:null,as:null,async:ie,autoCapitalize:null,autoComplete:Be,autoFocus:ie,autoPlay:ie,blocking:Be,capture:null,charSet:null,checked:ie,cite:null,className:Be,cols:z,colSpan:null,content:null,contentEditable:pt,controls:ie,controlsList:Be,coords:z|Eo,crossOrigin:null,data:null,dateTime:null,decoding:null,default:ie,defer:ie,dir:null,dirName:null,disabled:ie,download:tR,draggable:pt,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:ie,formTarget:null,headers:Be,height:z,hidden:ie,high:z,href:null,hrefLang:null,htmlFor:Be,httpEquiv:Be,id:null,imageSizes:null,imageSrcSet:null,inert:ie,inputMode:null,integrity:null,is:null,isMap:ie,itemId:null,itemProp:Be,itemRef:Be,itemScope:ie,itemType:Be,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:ie,low:z,manifest:null,max:null,maxLength:z,media:null,method:null,min:null,minLength:z,multiple:ie,muted:ie,name:null,nonce:null,noModule:ie,noValidate:ie,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:ie,optimum:z,pattern:null,ping:Be,placeholder:null,playsInline:ie,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:ie,referrerPolicy:null,rel:Be,required:ie,reversed:ie,rows:z,rowSpan:z,sandbox:Be,scope:null,scoped:ie,seamless:ie,selected:ie,shadowRootClonable:ie,shadowRootDelegatesFocus:ie,shadowRootMode:null,shape:null,size:z,sizes:null,slot:null,span:z,spellCheck:pt,src:null,srcDoc:null,srcLang:null,srcSet:null,start:z,step:null,style:null,tabIndex:z,target:null,title:null,translate:null,type:null,typeMustMatch:ie,useMap:null,value:pt,width:z,wrap:null,writingSuggestions:null,align:null,aLink:null,archive:Be,axis:null,background:null,bgColor:null,border:z,borderColor:null,bottomMargin:z,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:ie,declare:ie,event:null,face:null,frame:null,frameBorder:null,hSpace:z,leftMargin:z,link:null,longDesc:null,lowSrc:null,marginHeight:z,marginWidth:z,noResize:ie,noHref:ie,noShade:ie,noWrap:ie,object:null,profile:null,prompt:null,rev:null,rightMargin:z,rules:null,scheme:null,scrolling:pt,standby:null,summary:null,text:null,topMargin:z,valueType:null,version:null,vAlign:null,vLink:null,vSpace:z,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:ie,disableRemotePlayback:ie,prefix:null,property:null,results:z,security:null,unselectable:null}}),QG=el({space:"svg",attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},transform:iR,properties:{about:Sn,accentHeight:z,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:z,amplitude:z,arabicForm:null,ascent:z,attributeName:null,attributeType:null,azimuth:z,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:z,by:null,calcMode:null,capHeight:z,className:Be,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:z,diffuseConstant:z,direction:null,display:null,dur:null,divisor:z,dominantBaseline:null,download:ie,dx:null,dy:null,edgeMode:null,editable:null,elevation:z,enableBackground:null,end:null,event:null,exponent:z,externalResourcesRequired:null,fill:null,fillOpacity:z,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:Eo,g2:Eo,glyphName:Eo,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:z,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:z,horizOriginX:z,horizOriginY:z,id:null,ideographic:z,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:z,k:z,k1:z,k2:z,k3:z,k4:z,kernelMatrix:Sn,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:z,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:z,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:z,overlineThickness:z,paintOrder:null,panose1:null,path:null,pathLength:z,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:Be,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:z,pointsAtY:z,pointsAtZ:z,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:Sn,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:Sn,rev:Sn,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:Sn,requiredFeatures:Sn,requiredFonts:Sn,requiredFormats:Sn,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:z,specularExponent:z,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:z,strikethroughThickness:z,string:null,stroke:null,strokeDashArray:Sn,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:z,strokeOpacity:z,strokeWidth:null,style:null,surfaceScale:z,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:Sn,tabIndex:z,tableValues:null,target:null,targetX:z,targetY:z,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:Sn,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:z,underlineThickness:z,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:z,values:null,vAlphabetic:z,vMathematical:z,vectorEffect:null,vHanging:z,vIdeographic:z,version:null,vertAdvY:z,vertOriginX:z,vertOriginY:z,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:z,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null}}),eK=/^data[-\w.:]+$/i,GS=/-[a-z]/g,tK=/[A-Z]/g;function nK(t,e){const n=c0(e);let r=e,i=nr;if(n in t.normal)return t.property[t.normal[n]];if(n.length>4&&n.slice(0,4)==="data"&&eK.test(e)){if(e.charAt(4)==="-"){const s=e.slice(5).replace(GS,iK);r="data"+s.charAt(0).toUpperCase()+s.slice(1)}else{const s=e.slice(4);if(!GS.test(s)){let a=s.replace(tK,rK);a.charAt(0)!=="-"&&(a="-"+a),e="data"+a}}i=Jw}return new i(r,e)}function rK(t){return"-"+t.toLowerCase()}function iK(t){return t.charAt(1).toUpperCase()}const sK={classId:"classID",dataType:"datatype",itemId:"itemID",strokeDashArray:"strokeDasharray",strokeDashOffset:"strokeDashoffset",strokeLineCap:"strokeLinecap",strokeLineJoin:"strokeLinejoin",strokeMiterLimit:"strokeMiterlimit",typeOf:"typeof",xLinkActuate:"xlinkActuate",xLinkArcRole:"xlinkArcrole",xLinkHref:"xlinkHref",xLinkRole:"xlinkRole",xLinkShow:"xlinkShow",xLinkTitle:"xlinkTitle",xLinkType:"xlinkType",xmlnsXLink:"xmlnsXlink"},aK=eR([rR,nR,aR,oR,YG],"html"),Xw=eR([rR,nR,aR,oR,QG],"svg");function oK(t){return t.join(" ").trim()}var lR={},KS=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,lK=/\n/g,uK=/^\s*/,cK=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,dK=/^:\s*/,fK=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,hK=/^[;\s]*/,pK=/^\s+|\s+$/g,mK=`
`,JS="/",XS="*",Us="",gK="comment",yK="declaration",vK=function(t,e){if(typeof t!="string")throw new TypeError("First argument must be a string");if(!t)return[];e=e||{};var n=1,r=1;function i(p){var y=p.match(lK);y&&(n+=y.length);var b=p.lastIndexOf(mK);r=~b?p.length-b:r+p.length}function s(){var p={line:n,column:r};return function(y){return y.position=new a(p),u(),y}}function a(p){this.start=p,this.end={line:n,column:r},this.source=e.source}a.prototype.content=t;function o(p){var y=new Error(e.source+":"+n+":"+r+": "+p);if(y.reason=p,y.filename=e.source,y.line=n,y.column=r,y.source=t,!e.silent)throw y}function l(p){var y=p.exec(t);if(y){var b=y[0];return i(b),t=t.slice(b.length),y}}function u(){l(uK)}function c(p){var y;for(p=p||[];y=d();)y!==!1&&p.push(y);return p}function d(){var p=s();if(!(JS!=t.charAt(0)||XS!=t.charAt(1))){for(var y=2;Us!=t.charAt(y)&&(XS!=t.charAt(y)||JS!=t.charAt(y+1));)++y;if(y+=2,Us===t.charAt(y-1))return o("End of comment missing");var b=t.slice(2,y-2);return r+=2,i(b),t=t.slice(y),r+=2,p({type:gK,comment:b})}}function f(){var p=s(),y=l(cK);if(y){if(d(),!l(dK))return o("property missing ':'");var b=l(fK),m=p({type:yK,property:YS(y[0].replace(KS,Us)),value:b?YS(b[0].replace(KS,Us)):Us});return l(hK),m}}function h(){var p=[];c(p);for(var y;y=f();)y!==!1&&(p.push(y),c(p));return p}return u(),h()};function YS(t){return t?t.replace(pK,Us):Us}var bK=za&&za.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(lR,"__esModule",{value:!0});var wK=bK(vK);function _K(t,e){var n=null;if(!t||typeof t!="string")return n;var r=(0,wK.default)(t),i=typeof e=="function";return r.forEach(function(s){if(s.type==="declaration"){var a=s.property,o=s.value;i?e(a,o,s):o&&(n=n||{},n[a]=o)}}),n}var QS=lR.default=_K;const xK=QS.default||QS,uR=cR("end"),Yw=cR("start");function cR(t){return e;function e(n){const r=n&&n.position&&n.position[t]||{};if(typeof r.line=="number"&&r.line>0&&typeof r.column=="number"&&r.column>0)return{line:r.line,column:r.column,offset:typeof r.offset=="number"&&r.offset>-1?r.offset:void 0}}}function kK(t){const e=Yw(t),n=uR(t);if(e&&n)return{start:e,end:n}}function yu(t){return!t||typeof t!="object"?"":"position"in t||"type"in t?eC(t.position):"start"in t||"end"in t?eC(t):"line"in t||"column"in t?f0(t):""}function f0(t){return tC(t&&t.line)+":"+tC(t&&t.column)}function eC(t){return f0(t&&t.start)+"-"+f0(t&&t.end)}function tC(t){return t&&typeof t=="number"?t:1}class Zt extends Error{constructor(e,n,r){super(),typeof n=="string"&&(r=n,n=void 0);let i="",s={},a=!1;if(n&&("line"in n&&"column"in n?s={place:n}:"start"in n&&"end"in n?s={place:n}:"type"in n?s={ancestors:[n],place:n.position}:s={...n}),typeof e=="string"?i=e:!s.cause&&e&&(a=!0,i=e.message,s.cause=e),!s.ruleId&&!s.source&&typeof r=="string"){const l=r.indexOf(":");l===-1?s.ruleId=r:(s.source=r.slice(0,l),s.ruleId=r.slice(l+1))}if(!s.place&&s.ancestors&&s.ancestors){const l=s.ancestors[s.ancestors.length-1];l&&(s.place=l.position)}const o=s.place&&"start"in s.place?s.place.start:s.place;this.ancestors=s.ancestors||void 0,this.cause=s.cause||void 0,this.column=o?o.column:void 0,this.fatal=void 0,this.file,this.message=i,this.line=o?o.line:void 0,this.name=yu(s.place)||"1:1",this.place=s.place||void 0,this.reason=this.message,this.ruleId=s.ruleId||void 0,this.source=s.source||void 0,this.stack=a&&s.cause&&typeof s.cause.stack=="string"?s.cause.stack:"",this.actual,this.expected,this.note,this.url}}Zt.prototype.file="";Zt.prototype.name="";Zt.prototype.reason="";Zt.prototype.message="";Zt.prototype.stack="";Zt.prototype.column=void 0;Zt.prototype.line=void 0;Zt.prototype.ancestors=void 0;Zt.prototype.cause=void 0;Zt.prototype.fatal=void 0;Zt.prototype.place=void 0;Zt.prototype.ruleId=void 0;Zt.prototype.source=void 0;const Qw={}.hasOwnProperty,SK=new Map,CK=/[A-Z]/g,TK=/-([a-z])/g,PK=new Set(["table","tbody","thead","tfoot","tr"]),EK=new Set(["td","th"]),dR="https://github.com/syntax-tree/hast-util-to-jsx-runtime";function AK(t,e){if(!e||e.Fragment===void 0)throw new TypeError("Expected `Fragment` in options");const n=e.filePath||void 0;let r;if(e.development){if(typeof e.jsxDEV!="function")throw new TypeError("Expected `jsxDEV` in options when `development: true`");r=LK(n,e.jsxDEV)}else{if(typeof e.jsx!="function")throw new TypeError("Expected `jsx` in production options");if(typeof e.jsxs!="function")throw new TypeError("Expected `jsxs` in production options");r=MK(n,e.jsx,e.jsxs)}const i={Fragment:e.Fragment,ancestors:[],components:e.components||{},create:r,elementAttributeNameCase:e.elementAttributeNameCase||"react",evaluater:e.createEvaluater?e.createEvaluater():void 0,filePath:n,ignoreInvalidStyle:e.ignoreInvalidStyle||!1,passKeys:e.passKeys!==!1,passNode:e.passNode||!1,schema:e.space==="svg"?Xw:aK,stylePropertyNameCase:e.stylePropertyNameCase||"dom",tableCellAlignToStyle:e.tableCellAlignToStyle!==!1},s=fR(i,t,void 0);return s&&typeof s!="string"?s:i.create(t,i.Fragment,{children:s||void 0},void 0)}function fR(t,e,n){if(e.type==="element")return IK(t,e,n);if(e.type==="mdxFlowExpression"||e.type==="mdxTextExpression")return OK(t,e);if(e.type==="mdxJsxFlowElement"||e.type==="mdxJsxTextElement")return $K(t,e,n);if(e.type==="mdxjsEsm")return RK(t,e);if(e.type==="root")return NK(t,e,n);if(e.type==="text")return jK(t,e)}function IK(t,e,n){const r=t.schema;let i=r;e.tagName.toLowerCase()==="svg"&&r.space==="html"&&(i=Xw,t.schema=i),t.ancestors.push(e);const s=pR(t,e.tagName,!1),a=zK(t,e);let o=t_(t,e);return PK.has(e.tagName)&&(o=o.filter(function(l){return typeof l=="string"?!KG(l):!0})),hR(t,a,s,e),e_(a,o),t.ancestors.pop(),t.schema=r,t.create(e,s,a,n)}function OK(t,e){if(e.data&&e.data.estree&&t.evaluater){const r=e.data.estree.body[0];return r.type,t.evaluater.evaluateExpression(r.expression)}pc(t,e.position)}function RK(t,e){if(e.data&&e.data.estree&&t.evaluater)return t.evaluater.evaluateProgram(e.data.estree);pc(t,e.position)}function $K(t,e,n){const r=t.schema;let i=r;e.name==="svg"&&r.space==="html"&&(i=Xw,t.schema=i),t.ancestors.push(e);const s=e.name===null?t.Fragment:pR(t,e.name,!0),a=DK(t,e),o=t_(t,e);return hR(t,a,s,e),e_(a,o),t.ancestors.pop(),t.schema=r,t.create(e,s,a,n)}function NK(t,e,n){const r={};return e_(r,t_(t,e)),t.create(e,t.Fragment,r,n)}function jK(t,e){return e.value}function hR(t,e,n,r){typeof n!="string"&&n!==t.Fragment&&t.passNode&&(e.node=r)}function e_(t,e){if(e.length>0){const n=e.length>1?e:e[0];n&&(t.children=n)}}function MK(t,e,n){return r;function r(i,s,a,o){const u=Array.isArray(a.children)?n:e;return o?u(s,a,o):u(s,a)}}function LK(t,e){return n;function n(r,i,s,a){const o=Array.isArray(s.children),l=Yw(r);return e(i,s,a,o,{columnNumber:l?l.column-1:void 0,fileName:t,lineNumber:l?l.line:void 0},void 0)}}function zK(t,e){const n={};let r,i;for(i in e.properties)if(i!=="children"&&Qw.call(e.properties,i)){const s=FK(t,i,e.properties[i]);if(s){const[a,o]=s;t.tableCellAlignToStyle&&a==="align"&&typeof o=="string"&&EK.has(e.tagName)?r=o:n[a]=o}}if(r){const s=n.style||(n.style={});s[t.stylePropertyNameCase==="css"?"text-align":"textAlign"]=r}return n}function DK(t,e){const n={};for(const r of e.attributes)if(r.type==="mdxJsxExpressionAttribute")if(r.data&&r.data.estree&&t.evaluater){const s=r.data.estree.body[0];s.type;const a=s.expression;a.type;const o=a.properties[0];o.type,Object.assign(n,t.evaluater.evaluateExpression(o.argument))}else pc(t,e.position);else{const i=r.name;let s;if(r.value&&typeof r.value=="object")if(r.value.data&&r.value.data.estree&&t.evaluater){const o=r.value.data.estree.body[0];o.type,s=t.evaluater.evaluateExpression(o.expression)}else pc(t,e.position);else s=r.value===null?!0:r.value;n[i]=s}return n}function t_(t,e){const n=[];let r=-1;const i=t.passKeys?new Map:SK;for(;++r<e.children.length;){const s=e.children[r];let a;if(t.passKeys){const l=s.type==="element"?s.tagName:s.type==="mdxJsxFlowElement"||s.type==="mdxJsxTextElement"?s.name:void 0;if(l){const u=i.get(l)||0;a=l+"-"+u,i.set(l,u+1)}}const o=fR(t,s,a);o!==void 0&&n.push(o)}return n}function FK(t,e,n){const r=nK(t.schema,e);if(!(n==null||typeof n=="number"&&Number.isNaN(n))){if(Array.isArray(n)&&(n=r.commaSeparated?HG(n):oK(n)),r.property==="style"){let i=typeof n=="object"?n:BK(t,String(n));return t.stylePropertyNameCase==="css"&&(i=VK(i)),["style",i]}return[t.elementAttributeNameCase==="react"&&r.space?sK[r.property]||r.property:r.attribute,n]}}function BK(t,e){const n={};try{xK(e,r)}catch(i){if(!t.ignoreInvalidStyle){const s=i,a=new Zt("Cannot parse `style` attribute",{ancestors:t.ancestors,cause:s,ruleId:"style",source:"hast-util-to-jsx-runtime"});throw a.file=t.filePath||void 0,a.url=dR+"#cannot-parse-style-attribute",a}}return n;function r(i,s){let a=i;a.slice(0,2)!=="--"&&(a.slice(0,4)==="-ms-"&&(a="ms-"+a.slice(4)),a=a.replace(TK,HK)),n[a]=s}}function pR(t,e,n){let r;if(!n)r={type:"Literal",value:e};else if(e.includes(".")){const i=e.split(".");let s=-1,a;for(;++s<i.length;){const o=WS(i[s])?{type:"Identifier",name:i[s]}:{type:"Literal",value:i[s]};a=a?{type:"MemberExpression",object:a,property:o,computed:!!(s&&o.type==="Literal"),optional:!1}:o}r=a}else r=WS(e)&&!/^[a-z]/.test(e)?{type:"Identifier",name:e}:{type:"Literal",value:e};if(r.type==="Literal"){const i=r.value;return Qw.call(t.components,i)?t.components[i]:i}if(t.evaluater)return t.evaluater.evaluateExpression(r);pc(t)}function pc(t,e){const n=new Zt("Cannot handle MDX estrees without `createEvaluater`",{ancestors:t.ancestors,place:e,ruleId:"mdx-estree",source:"hast-util-to-jsx-runtime"});throw n.file=t.filePath||void 0,n.url=dR+"#cannot-handle-mdx-estrees-without-createevaluater",n}function VK(t){const e={};let n;for(n in t)Qw.call(t,n)&&(e[UK(n)]=t[n]);return e}function UK(t){let e=t.replace(CK,WK);return e.slice(0,3)==="ms-"&&(e="-"+e),e}function HK(t,e){return e.toUpperCase()}function WK(t){return"-"+t.toLowerCase()}const ey={action:["form"],cite:["blockquote","del","ins","q"],data:["object"],formAction:["button","input"],href:["a","area","base","link"],icon:["menuitem"],itemId:null,manifest:["html"],ping:["a","area"],poster:["video"],src:["audio","embed","iframe","img","input","script","source","track","video"]},qK={};function n_(t,e){const n=qK,r=typeof n.includeImageAlt=="boolean"?n.includeImageAlt:!0,i=typeof n.includeHtml=="boolean"?n.includeHtml:!0;return mR(t,r,i)}function mR(t,e,n){if(ZK(t)){if("value"in t)return t.type==="html"&&!n?"":t.value;if(e&&"alt"in t&&t.alt)return t.alt;if("children"in t)return nC(t.children,e,n)}return Array.isArray(t)?nC(t,e,n):""}function nC(t,e,n){const r=[];let i=-1;for(;++i<t.length;)r[i]=mR(t[i],e,n);return r.join("")}function ZK(t){return!!(t&&typeof t=="object")}const rC=document.createElement("i");function r_(t){const e="&"+t+";";rC.innerHTML=e;const n=rC.textContent;return n.charCodeAt(n.length-1)===59&&t!=="semi"||n===e?!1:n}function Yn(t,e,n,r){const i=t.length;let s=0,a;if(e<0?e=-e>i?0:i+e:e=e>i?i:e,n=n>0?n:0,r.length<1e4)a=Array.from(r),a.unshift(e,n),t.splice(...a);else for(n&&t.splice(e,n);s<r.length;)a=r.slice(s,s+1e4),a.unshift(e,0),t.splice(...a),s+=1e4,e+=1e4}function Gn(t,e){return t.length>0?(Yn(t,t.length,0,e),t):e}const iC={}.hasOwnProperty;function gR(t){const e={};let n=-1;for(;++n<t.length;)GK(e,t[n]);return e}function GK(t,e){let n;for(n in e){const i=(iC.call(t,n)?t[n]:void 0)||(t[n]={}),s=e[n];let a;if(s)for(a in s){iC.call(i,a)||(i[a]=[]);const o=s[a];KK(i[a],Array.isArray(o)?o:o?[o]:[])}}}function KK(t,e){let n=-1;const r=[];for(;++n<e.length;)(e[n].add==="after"?t:r).push(e[n]);Yn(t,0,0,r)}function yR(t,e){const n=Number.parseInt(t,e);return n<9||n===11||n>13&&n<32||n>126&&n<160||n>55295&&n<57344||n>64975&&n<65008||(n&65535)===65535||(n&65535)===65534||n>1114111?"":String.fromCodePoint(n)}function Pr(t){return t.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}const Jt=Cs(/[A-Za-z]/),Vt=Cs(/[\dA-Za-z]/),JK=Cs(/[#-'*+\--9=?A-Z^-~]/);function ap(t){return t!==null&&(t<32||t===127)}const h0=Cs(/\d/),XK=Cs(/[\dA-Fa-f]/),YK=Cs(/[!-/:-@[-`{-~]/);function Q(t){return t!==null&&t<-2}function De(t){return t!==null&&(t<0||t===32)}function de(t){return t===-2||t===-1||t===32}const mm=Cs(new RegExp("\\p{P}|\\p{S}","u")),ya=Cs(/\s/);function Cs(t){return e;function e(n){return n!==null&&n>-1&&t.test(String.fromCharCode(n))}}function tl(t){const e=[];let n=-1,r=0,i=0;for(;++n<t.length;){const s=t.charCodeAt(n);let a="";if(s===37&&Vt(t.charCodeAt(n+1))&&Vt(t.charCodeAt(n+2)))i=2;else if(s<128)/[!#$&-;=?-Z_a-z~]/.test(String.fromCharCode(s))||(a=String.fromCharCode(s));else if(s>55295&&s<57344){const o=t.charCodeAt(n+1);s<56320&&o>56319&&o<57344?(a=String.fromCharCode(s,o),i=1):a=""}else a=String.fromCharCode(s);a&&(e.push(t.slice(r,n),encodeURIComponent(a)),r=n+i+1,a=""),i&&(n+=i,i=0)}return e.join("")+t.slice(r)}function ve(t,e,n,r){const i=r?r-1:Number.POSITIVE_INFINITY;let s=0;return a;function a(l){return de(l)?(t.enter(n),o(l)):e(l)}function o(l){return de(l)&&s++<i?(t.consume(l),o):(t.exit(n),e(l))}}const QK={tokenize:eJ};function eJ(t){const e=t.attempt(this.parser.constructs.contentInitial,r,i);let n;return e;function r(o){if(o===null){t.consume(o);return}return t.enter("lineEnding"),t.consume(o),t.exit("lineEnding"),ve(t,e,"linePrefix")}function i(o){return t.enter("paragraph"),s(o)}function s(o){const l=t.enter("chunkText",{contentType:"text",previous:n});return n&&(n.next=l),n=l,a(o)}function a(o){if(o===null){t.exit("chunkText"),t.exit("paragraph"),t.consume(o);return}return Q(o)?(t.consume(o),t.exit("chunkText"),s):(t.consume(o),a)}}const tJ={tokenize:nJ},sC={tokenize:rJ};function nJ(t){const e=this,n=[];let r=0,i,s,a;return o;function o(v){if(r<n.length){const x=n[r];return e.containerState=x[1],t.attempt(x[0].continuation,l,u)(v)}return u(v)}function l(v){if(r++,e.containerState._closeFlow){e.containerState._closeFlow=void 0,i&&g();const x=e.events.length;let C=x,k;for(;C--;)if(e.events[C][0]==="exit"&&e.events[C][1].type==="chunkFlow"){k=e.events[C][1].end;break}m(r);let I=x;for(;I<e.events.length;)e.events[I][1].end=Object.assign({},k),I++;return Yn(e.events,C+1,0,e.events.slice(x)),e.events.length=I,u(v)}return o(v)}function u(v){if(r===n.length){if(!i)return f(v);if(i.currentConstruct&&i.currentConstruct.concrete)return p(v);e.interrupt=!!(i.currentConstruct&&!i._gfmTableDynamicInterruptHack)}return e.containerState={},t.check(sC,c,d)(v)}function c(v){return i&&g(),m(r),f(v)}function d(v){return e.parser.lazy[e.now().line]=r!==n.length,a=e.now().offset,p(v)}function f(v){return e.containerState={},t.attempt(sC,h,p)(v)}function h(v){return r++,n.push([e.currentConstruct,e.containerState]),f(v)}function p(v){if(v===null){i&&g(),m(0),t.consume(v);return}return i=i||e.parser.flow(e.now()),t.enter("chunkFlow",{contentType:"flow",previous:s,_tokenizer:i}),y(v)}function y(v){if(v===null){b(t.exit("chunkFlow"),!0),m(0),t.consume(v);return}return Q(v)?(t.consume(v),b(t.exit("chunkFlow")),r=0,e.interrupt=void 0,o):(t.consume(v),y)}function b(v,x){const C=e.sliceStream(v);if(x&&C.push(null),v.previous=s,s&&(s.next=v),s=v,i.defineSkip(v.start),i.write(C),e.parser.lazy[v.start.line]){let k=i.events.length;for(;k--;)if(i.events[k][1].start.offset<a&&(!i.events[k][1].end||i.events[k][1].end.offset>a))return;const I=e.events.length;let R=I,j,T;for(;R--;)if(e.events[R][0]==="exit"&&e.events[R][1].type==="chunkFlow"){if(j){T=e.events[R][1].end;break}j=!0}for(m(r),k=I;k<e.events.length;)e.events[k][1].end=Object.assign({},T),k++;Yn(e.events,R+1,0,e.events.slice(I)),e.events.length=k}}function m(v){let x=n.length;for(;x-- >v;){const C=n[x];e.containerState=C[1],C[0].exit.call(e,t)}n.length=v}function g(){i.write([null]),s=void 0,i=void 0,e.containerState._closeFlow=void 0}}function rJ(t,e,n){return ve(t,t.attempt(this.parser.constructs.document,e,n),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}function op(t){if(t===null||De(t)||ya(t))return 1;if(mm(t))return 2}function gm(t,e,n){const r=[];let i=-1;for(;++i<t.length;){const s=t[i].resolveAll;s&&!r.includes(s)&&(e=s(e,n),r.push(s))}return e}const p0={name:"attention",tokenize:sJ,resolveAll:iJ};function iJ(t,e){let n=-1,r,i,s,a,o,l,u,c;for(;++n<t.length;)if(t[n][0]==="enter"&&t[n][1].type==="attentionSequence"&&t[n][1]._close){for(r=n;r--;)if(t[r][0]==="exit"&&t[r][1].type==="attentionSequence"&&t[r][1]._open&&e.sliceSerialize(t[r][1]).charCodeAt(0)===e.sliceSerialize(t[n][1]).charCodeAt(0)){if((t[r][1]._close||t[n][1]._open)&&(t[n][1].end.offset-t[n][1].start.offset)%3&&!((t[r][1].end.offset-t[r][1].start.offset+t[n][1].end.offset-t[n][1].start.offset)%3))continue;l=t[r][1].end.offset-t[r][1].start.offset>1&&t[n][1].end.offset-t[n][1].start.offset>1?2:1;const d=Object.assign({},t[r][1].end),f=Object.assign({},t[n][1].start);aC(d,-l),aC(f,l),a={type:l>1?"strongSequence":"emphasisSequence",start:d,end:Object.assign({},t[r][1].end)},o={type:l>1?"strongSequence":"emphasisSequence",start:Object.assign({},t[n][1].start),end:f},s={type:l>1?"strongText":"emphasisText",start:Object.assign({},t[r][1].end),end:Object.assign({},t[n][1].start)},i={type:l>1?"strong":"emphasis",start:Object.assign({},a.start),end:Object.assign({},o.end)},t[r][1].end=Object.assign({},a.start),t[n][1].start=Object.assign({},o.end),u=[],t[r][1].end.offset-t[r][1].start.offset&&(u=Gn(u,[["enter",t[r][1],e],["exit",t[r][1],e]])),u=Gn(u,[["enter",i,e],["enter",a,e],["exit",a,e],["enter",s,e]]),u=Gn(u,gm(e.parser.constructs.insideSpan.null,t.slice(r+1,n),e)),u=Gn(u,[["exit",s,e],["enter",o,e],["exit",o,e],["exit",i,e]]),t[n][1].end.offset-t[n][1].start.offset?(c=2,u=Gn(u,[["enter",t[n][1],e],["exit",t[n][1],e]])):c=0,Yn(t,r-1,n-r+3,u),n=r+u.length-c-2;break}}for(n=-1;++n<t.length;)t[n][1].type==="attentionSequence"&&(t[n][1].type="data");return t}function sJ(t,e){const n=this.parser.constructs.attentionMarkers.null,r=this.previous,i=op(r);let s;return a;function a(l){return s=l,t.enter("attentionSequence"),o(l)}function o(l){if(l===s)return t.consume(l),o;const u=t.exit("attentionSequence"),c=op(l),d=!c||c===2&&i||n.includes(l),f=!i||i===2&&c||n.includes(r);return u._open=!!(s===42?d:d&&(i||!f)),u._close=!!(s===42?f:f&&(c||!d)),e(l)}}function aC(t,e){t.column+=e,t.offset+=e,t._bufferIndex+=e}const aJ={name:"autolink",tokenize:oJ};function oJ(t,e,n){let r=0;return i;function i(h){return t.enter("autolink"),t.enter("autolinkMarker"),t.consume(h),t.exit("autolinkMarker"),t.enter("autolinkProtocol"),s}function s(h){return Jt(h)?(t.consume(h),a):h===64?n(h):u(h)}function a(h){return h===43||h===45||h===46||Vt(h)?(r=1,o(h)):u(h)}function o(h){return h===58?(t.consume(h),r=0,l):(h===43||h===45||h===46||Vt(h))&&r++<32?(t.consume(h),o):(r=0,u(h))}function l(h){return h===62?(t.exit("autolinkProtocol"),t.enter("autolinkMarker"),t.consume(h),t.exit("autolinkMarker"),t.exit("autolink"),e):h===null||h===32||h===60||ap(h)?n(h):(t.consume(h),l)}function u(h){return h===64?(t.consume(h),c):JK(h)?(t.consume(h),u):n(h)}function c(h){return Vt(h)?d(h):n(h)}function d(h){return h===46?(t.consume(h),r=0,c):h===62?(t.exit("autolinkProtocol").type="autolinkEmail",t.enter("autolinkMarker"),t.consume(h),t.exit("autolinkMarker"),t.exit("autolink"),e):f(h)}function f(h){if((h===45||Vt(h))&&r++<63){const p=h===45?f:d;return t.consume(h),p}return n(h)}}const Lc={tokenize:lJ,partial:!0};function lJ(t,e,n){return r;function r(s){return de(s)?ve(t,i,"linePrefix")(s):i(s)}function i(s){return s===null||Q(s)?e(s):n(s)}}const vR={name:"blockQuote",tokenize:uJ,continuation:{tokenize:cJ},exit:dJ};function uJ(t,e,n){const r=this;return i;function i(a){if(a===62){const o=r.containerState;return o.open||(t.enter("blockQuote",{_container:!0}),o.open=!0),t.enter("blockQuotePrefix"),t.enter("blockQuoteMarker"),t.consume(a),t.exit("blockQuoteMarker"),s}return n(a)}function s(a){return de(a)?(t.enter("blockQuotePrefixWhitespace"),t.consume(a),t.exit("blockQuotePrefixWhitespace"),t.exit("blockQuotePrefix"),e):(t.exit("blockQuotePrefix"),e(a))}}function cJ(t,e,n){const r=this;return i;function i(a){return de(a)?ve(t,s,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(a):s(a)}function s(a){return t.attempt(vR,e,n)(a)}}function dJ(t){t.exit("blockQuote")}const bR={name:"characterEscape",tokenize:fJ};function fJ(t,e,n){return r;function r(s){return t.enter("characterEscape"),t.enter("escapeMarker"),t.consume(s),t.exit("escapeMarker"),i}function i(s){return YK(s)?(t.enter("characterEscapeValue"),t.consume(s),t.exit("characterEscapeValue"),t.exit("characterEscape"),e):n(s)}}const wR={name:"characterReference",tokenize:hJ};function hJ(t,e,n){const r=this;let i=0,s,a;return o;function o(d){return t.enter("characterReference"),t.enter("characterReferenceMarker"),t.consume(d),t.exit("characterReferenceMarker"),l}function l(d){return d===35?(t.enter("characterReferenceMarkerNumeric"),t.consume(d),t.exit("characterReferenceMarkerNumeric"),u):(t.enter("characterReferenceValue"),s=31,a=Vt,c(d))}function u(d){return d===88||d===120?(t.enter("characterReferenceMarkerHexadecimal"),t.consume(d),t.exit("characterReferenceMarkerHexadecimal"),t.enter("characterReferenceValue"),s=6,a=XK,c):(t.enter("characterReferenceValue"),s=7,a=h0,c(d))}function c(d){if(d===59&&i){const f=t.exit("characterReferenceValue");return a===Vt&&!r_(r.sliceSerialize(f))?n(d):(t.enter("characterReferenceMarker"),t.consume(d),t.exit("characterReferenceMarker"),t.exit("characterReference"),e)}return a(d)&&i++<s?(t.consume(d),c):n(d)}}const oC={tokenize:mJ,partial:!0},lC={name:"codeFenced",tokenize:pJ,concrete:!0};function pJ(t,e,n){const r=this,i={tokenize:C,partial:!0};let s=0,a=0,o;return l;function l(k){return u(k)}function u(k){const I=r.events[r.events.length-1];return s=I&&I[1].type==="linePrefix"?I[2].sliceSerialize(I[1],!0).length:0,o=k,t.enter("codeFenced"),t.enter("codeFencedFence"),t.enter("codeFencedFenceSequence"),c(k)}function c(k){return k===o?(a++,t.consume(k),c):a<3?n(k):(t.exit("codeFencedFenceSequence"),de(k)?ve(t,d,"whitespace")(k):d(k))}function d(k){return k===null||Q(k)?(t.exit("codeFencedFence"),r.interrupt?e(k):t.check(oC,y,x)(k)):(t.enter("codeFencedFenceInfo"),t.enter("chunkString",{contentType:"string"}),f(k))}function f(k){return k===null||Q(k)?(t.exit("chunkString"),t.exit("codeFencedFenceInfo"),d(k)):de(k)?(t.exit("chunkString"),t.exit("codeFencedFenceInfo"),ve(t,h,"whitespace")(k)):k===96&&k===o?n(k):(t.consume(k),f)}function h(k){return k===null||Q(k)?d(k):(t.enter("codeFencedFenceMeta"),t.enter("chunkString",{contentType:"string"}),p(k))}function p(k){return k===null||Q(k)?(t.exit("chunkString"),t.exit("codeFencedFenceMeta"),d(k)):k===96&&k===o?n(k):(t.consume(k),p)}function y(k){return t.attempt(i,x,b)(k)}function b(k){return t.enter("lineEnding"),t.consume(k),t.exit("lineEnding"),m}function m(k){return s>0&&de(k)?ve(t,g,"linePrefix",s+1)(k):g(k)}function g(k){return k===null||Q(k)?t.check(oC,y,x)(k):(t.enter("codeFlowValue"),v(k))}function v(k){return k===null||Q(k)?(t.exit("codeFlowValue"),g(k)):(t.consume(k),v)}function x(k){return t.exit("codeFenced"),e(k)}function C(k,I,R){let j=0;return T;function T(J){return k.enter("lineEnding"),k.consume(J),k.exit("lineEnding"),F}function F(J){return k.enter("codeFencedFence"),de(J)?ve(k,q,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(J):q(J)}function q(J){return J===o?(k.enter("codeFencedFenceSequence"),ue(J)):R(J)}function ue(J){return J===o?(j++,k.consume(J),ue):j>=a?(k.exit("codeFencedFenceSequence"),de(J)?ve(k,_e,"whitespace")(J):_e(J)):R(J)}function _e(J){return J===null||Q(J)?(k.exit("codeFencedFence"),I(J)):R(J)}}}function mJ(t,e,n){const r=this;return i;function i(a){return a===null?n(a):(t.enter("lineEnding"),t.consume(a),t.exit("lineEnding"),s)}function s(a){return r.parser.lazy[r.now().line]?n(a):e(a)}}const ty={name:"codeIndented",tokenize:yJ},gJ={tokenize:vJ,partial:!0};function yJ(t,e,n){const r=this;return i;function i(u){return t.enter("codeIndented"),ve(t,s,"linePrefix",5)(u)}function s(u){const c=r.events[r.events.length-1];return c&&c[1].type==="linePrefix"&&c[2].sliceSerialize(c[1],!0).length>=4?a(u):n(u)}function a(u){return u===null?l(u):Q(u)?t.attempt(gJ,a,l)(u):(t.enter("codeFlowValue"),o(u))}function o(u){return u===null||Q(u)?(t.exit("codeFlowValue"),a(u)):(t.consume(u),o)}function l(u){return t.exit("codeIndented"),e(u)}}function vJ(t,e,n){const r=this;return i;function i(a){return r.parser.lazy[r.now().line]?n(a):Q(a)?(t.enter("lineEnding"),t.consume(a),t.exit("lineEnding"),i):ve(t,s,"linePrefix",5)(a)}function s(a){const o=r.events[r.events.length-1];return o&&o[1].type==="linePrefix"&&o[2].sliceSerialize(o[1],!0).length>=4?e(a):Q(a)?i(a):n(a)}}const bJ={name:"codeText",tokenize:xJ,resolve:wJ,previous:_J};function wJ(t){let e=t.length-4,n=3,r,i;if((t[n][1].type==="lineEnding"||t[n][1].type==="space")&&(t[e][1].type==="lineEnding"||t[e][1].type==="space")){for(r=n;++r<e;)if(t[r][1].type==="codeTextData"){t[n][1].type="codeTextPadding",t[e][1].type="codeTextPadding",n+=2,e-=2;break}}for(r=n-1,e++;++r<=e;)i===void 0?r!==e&&t[r][1].type!=="lineEnding"&&(i=r):(r===e||t[r][1].type==="lineEnding")&&(t[i][1].type="codeTextData",r!==i+2&&(t[i][1].end=t[r-1][1].end,t.splice(i+2,r-i-2),e-=r-i-2,r=i+2),i=void 0);return t}function _J(t){return t!==96||this.events[this.events.length-1][1].type==="characterEscape"}function xJ(t,e,n){let r=0,i,s;return a;function a(d){return t.enter("codeText"),t.enter("codeTextSequence"),o(d)}function o(d){return d===96?(t.consume(d),r++,o):(t.exit("codeTextSequence"),l(d))}function l(d){return d===null?n(d):d===32?(t.enter("space"),t.consume(d),t.exit("space"),l):d===96?(s=t.enter("codeTextSequence"),i=0,c(d)):Q(d)?(t.enter("lineEnding"),t.consume(d),t.exit("lineEnding"),l):(t.enter("codeTextData"),u(d))}function u(d){return d===null||d===32||d===96||Q(d)?(t.exit("codeTextData"),l(d)):(t.consume(d),u)}function c(d){return d===96?(t.consume(d),i++,c):i===r?(t.exit("codeTextSequence"),t.exit("codeText"),e(d)):(s.type="codeTextData",u(d))}}class kJ{constructor(e){this.left=e?[...e]:[],this.right=[]}get(e){if(e<0||e>=this.left.length+this.right.length)throw new RangeError("Cannot access index `"+e+"` in a splice buffer of size `"+(this.left.length+this.right.length)+"`");return e<this.left.length?this.left[e]:this.right[this.right.length-e+this.left.length-1]}get length(){return this.left.length+this.right.length}shift(){return this.setCursor(0),this.right.pop()}slice(e,n){const r=n??Number.POSITIVE_INFINITY;return r<this.left.length?this.left.slice(e,r):e>this.left.length?this.right.slice(this.right.length-r+this.left.length,this.right.length-e+this.left.length).reverse():this.left.slice(e).concat(this.right.slice(this.right.length-r+this.left.length).reverse())}splice(e,n,r){const i=n||0;this.setCursor(Math.trunc(e));const s=this.right.splice(this.right.length-i,Number.POSITIVE_INFINITY);return r&&bl(this.left,r),s.reverse()}pop(){return this.setCursor(Number.POSITIVE_INFINITY),this.left.pop()}push(e){this.setCursor(Number.POSITIVE_INFINITY),this.left.push(e)}pushMany(e){this.setCursor(Number.POSITIVE_INFINITY),bl(this.left,e)}unshift(e){this.setCursor(0),this.right.push(e)}unshiftMany(e){this.setCursor(0),bl(this.right,e.reverse())}setCursor(e){if(!(e===this.left.length||e>this.left.length&&this.right.length===0||e<0&&this.left.length===0))if(e<this.left.length){const n=this.left.splice(e,Number.POSITIVE_INFINITY);bl(this.right,n.reverse())}else{const n=this.right.splice(this.left.length+this.right.length-e,Number.POSITIVE_INFINITY);bl(this.left,n.reverse())}}}function bl(t,e){let n=0;if(e.length<1e4)t.push(...e);else for(;n<e.length;)t.push(...e.slice(n,n+1e4)),n+=1e4}function _R(t){const e={};let n=-1,r,i,s,a,o,l,u;const c=new kJ(t);for(;++n<c.length;){for(;n in e;)n=e[n];if(r=c.get(n),n&&r[1].type==="chunkFlow"&&c.get(n-1)[1].type==="listItemPrefix"&&(l=r[1]._tokenizer.events,s=0,s<l.length&&l[s][1].type==="lineEndingBlank"&&(s+=2),s<l.length&&l[s][1].type==="content"))for(;++s<l.length&&l[s][1].type!=="content";)l[s][1].type==="chunkText"&&(l[s][1]._isInFirstContentOfListItem=!0,s++);if(r[0]==="enter")r[1].contentType&&(Object.assign(e,SJ(c,n)),n=e[n],u=!0);else if(r[1]._container){for(s=n,i=void 0;s--&&(a=c.get(s),a[1].type==="lineEnding"||a[1].type==="lineEndingBlank");)a[0]==="enter"&&(i&&(c.get(i)[1].type="lineEndingBlank"),a[1].type="lineEnding",i=s);i&&(r[1].end=Object.assign({},c.get(i)[1].start),o=c.slice(i,n),o.unshift(r),c.splice(i,n-i+1,o))}}return Yn(t,0,Number.POSITIVE_INFINITY,c.slice(0)),!u}function SJ(t,e){const n=t.get(e)[1],r=t.get(e)[2];let i=e-1;const s=[],a=n._tokenizer||r.parser[n.contentType](n.start),o=a.events,l=[],u={};let c,d,f=-1,h=n,p=0,y=0;const b=[y];for(;h;){for(;t.get(++i)[1]!==h;);s.push(i),h._tokenizer||(c=r.sliceStream(h),h.next||c.push(null),d&&a.defineSkip(h.start),h._isInFirstContentOfListItem&&(a._gfmTasklistFirstContentOfListItem=!0),a.write(c),h._isInFirstContentOfListItem&&(a._gfmTasklistFirstContentOfListItem=void 0)),d=h,h=h.next}for(h=n;++f<o.length;)o[f][0]==="exit"&&o[f-1][0]==="enter"&&o[f][1].type===o[f-1][1].type&&o[f][1].start.line!==o[f][1].end.line&&(y=f+1,b.push(y),h._tokenizer=void 0,h.previous=void 0,h=h.next);for(a.events=[],h?(h._tokenizer=void 0,h.previous=void 0):b.pop(),f=b.length;f--;){const m=o.slice(b[f],b[f+1]),g=s.pop();l.push([g,g+m.length-1]),t.splice(g,2,m)}for(l.reverse(),f=-1;++f<l.length;)u[p+l[f][0]]=p+l[f][1],p+=l[f][1]-l[f][0]-1;return u}const CJ={tokenize:EJ,resolve:PJ},TJ={tokenize:AJ,partial:!0};function PJ(t){return _R(t),t}function EJ(t,e){let n;return r;function r(o){return t.enter("content"),n=t.enter("chunkContent",{contentType:"content"}),i(o)}function i(o){return o===null?s(o):Q(o)?t.check(TJ,a,s)(o):(t.consume(o),i)}function s(o){return t.exit("chunkContent"),t.exit("content"),e(o)}function a(o){return t.consume(o),t.exit("chunkContent"),n.next=t.enter("chunkContent",{contentType:"content",previous:n}),n=n.next,i}}function AJ(t,e,n){const r=this;return i;function i(a){return t.exit("chunkContent"),t.enter("lineEnding"),t.consume(a),t.exit("lineEnding"),ve(t,s,"linePrefix")}function s(a){if(a===null||Q(a))return n(a);const o=r.events[r.events.length-1];return!r.parser.constructs.disable.null.includes("codeIndented")&&o&&o[1].type==="linePrefix"&&o[2].sliceSerialize(o[1],!0).length>=4?e(a):t.interrupt(r.parser.constructs.flow,n,e)(a)}}function xR(t,e,n,r,i,s,a,o,l){const u=l||Number.POSITIVE_INFINITY;let c=0;return d;function d(m){return m===60?(t.enter(r),t.enter(i),t.enter(s),t.consume(m),t.exit(s),f):m===null||m===32||m===41||ap(m)?n(m):(t.enter(r),t.enter(a),t.enter(o),t.enter("chunkString",{contentType:"string"}),y(m))}function f(m){return m===62?(t.enter(s),t.consume(m),t.exit(s),t.exit(i),t.exit(r),e):(t.enter(o),t.enter("chunkString",{contentType:"string"}),h(m))}function h(m){return m===62?(t.exit("chunkString"),t.exit(o),f(m)):m===null||m===60||Q(m)?n(m):(t.consume(m),m===92?p:h)}function p(m){return m===60||m===62||m===92?(t.consume(m),h):h(m)}function y(m){return!c&&(m===null||m===41||De(m))?(t.exit("chunkString"),t.exit(o),t.exit(a),t.exit(r),e(m)):c<u&&m===40?(t.consume(m),c++,y):m===41?(t.consume(m),c--,y):m===null||m===32||m===40||ap(m)?n(m):(t.consume(m),m===92?b:y)}function b(m){return m===40||m===41||m===92?(t.consume(m),y):y(m)}}function kR(t,e,n,r,i,s){const a=this;let o=0,l;return u;function u(h){return t.enter(r),t.enter(i),t.consume(h),t.exit(i),t.enter(s),c}function c(h){return o>999||h===null||h===91||h===93&&!l||h===94&&!o&&"_hiddenFootnoteSupport"in a.parser.constructs?n(h):h===93?(t.exit(s),t.enter(i),t.consume(h),t.exit(i),t.exit(r),e):Q(h)?(t.enter("lineEnding"),t.consume(h),t.exit("lineEnding"),c):(t.enter("chunkString",{contentType:"string"}),d(h))}function d(h){return h===null||h===91||h===93||Q(h)||o++>999?(t.exit("chunkString"),c(h)):(t.consume(h),l||(l=!de(h)),h===92?f:d)}function f(h){return h===91||h===92||h===93?(t.consume(h),o++,d):d(h)}}function SR(t,e,n,r,i,s){let a;return o;function o(f){return f===34||f===39||f===40?(t.enter(r),t.enter(i),t.consume(f),t.exit(i),a=f===40?41:f,l):n(f)}function l(f){return f===a?(t.enter(i),t.consume(f),t.exit(i),t.exit(r),e):(t.enter(s),u(f))}function u(f){return f===a?(t.exit(s),l(a)):f===null?n(f):Q(f)?(t.enter("lineEnding"),t.consume(f),t.exit("lineEnding"),ve(t,u,"linePrefix")):(t.enter("chunkString",{contentType:"string"}),c(f))}function c(f){return f===a||f===null||Q(f)?(t.exit("chunkString"),u(f)):(t.consume(f),f===92?d:c)}function d(f){return f===a||f===92?(t.consume(f),c):c(f)}}function vu(t,e){let n;return r;function r(i){return Q(i)?(t.enter("lineEnding"),t.consume(i),t.exit("lineEnding"),n=!0,r):de(i)?ve(t,r,n?"linePrefix":"lineSuffix")(i):e(i)}}const IJ={name:"definition",tokenize:RJ},OJ={tokenize:$J,partial:!0};function RJ(t,e,n){const r=this;let i;return s;function s(h){return t.enter("definition"),a(h)}function a(h){return kR.call(r,t,o,n,"definitionLabel","definitionLabelMarker","definitionLabelString")(h)}function o(h){return i=Pr(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)),h===58?(t.enter("definitionMarker"),t.consume(h),t.exit("definitionMarker"),l):n(h)}function l(h){return De(h)?vu(t,u)(h):u(h)}function u(h){return xR(t,c,n,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString")(h)}function c(h){return t.attempt(OJ,d,d)(h)}function d(h){return de(h)?ve(t,f,"whitespace")(h):f(h)}function f(h){return h===null||Q(h)?(t.exit("definition"),r.parser.defined.push(i),e(h)):n(h)}}function $J(t,e,n){return r;function r(o){return De(o)?vu(t,i)(o):n(o)}function i(o){return SR(t,s,n,"definitionTitle","definitionTitleMarker","definitionTitleString")(o)}function s(o){return de(o)?ve(t,a,"whitespace")(o):a(o)}function a(o){return o===null||Q(o)?e(o):n(o)}}const NJ={name:"hardBreakEscape",tokenize:jJ};function jJ(t,e,n){return r;function r(s){return t.enter("hardBreakEscape"),t.consume(s),i}function i(s){return Q(s)?(t.exit("hardBreakEscape"),e(s)):n(s)}}const MJ={name:"headingAtx",tokenize:zJ,resolve:LJ};function LJ(t,e){let n=t.length-2,r=3,i,s;return t[r][1].type==="whitespace"&&(r+=2),n-2>r&&t[n][1].type==="whitespace"&&(n-=2),t[n][1].type==="atxHeadingSequence"&&(r===n-1||n-4>r&&t[n-2][1].type==="whitespace")&&(n-=r+1===n?2:4),n>r&&(i={type:"atxHeadingText",start:t[r][1].start,end:t[n][1].end},s={type:"chunkText",start:t[r][1].start,end:t[n][1].end,contentType:"text"},Yn(t,r,n-r+1,[["enter",i,e],["enter",s,e],["exit",s,e],["exit",i,e]])),t}function zJ(t,e,n){let r=0;return i;function i(c){return t.enter("atxHeading"),s(c)}function s(c){return t.enter("atxHeadingSequence"),a(c)}function a(c){return c===35&&r++<6?(t.consume(c),a):c===null||De(c)?(t.exit("atxHeadingSequence"),o(c)):n(c)}function o(c){return c===35?(t.enter("atxHeadingSequence"),l(c)):c===null||Q(c)?(t.exit("atxHeading"),e(c)):de(c)?ve(t,o,"whitespace")(c):(t.enter("atxHeadingText"),u(c))}function l(c){return c===35?(t.consume(c),l):(t.exit("atxHeadingSequence"),o(c))}function u(c){return c===null||c===35||De(c)?(t.exit("atxHeadingText"),o(c)):(t.consume(c),u)}}const DJ=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],uC=["pre","script","style","textarea"],FJ={name:"htmlFlow",tokenize:HJ,resolveTo:UJ,concrete:!0},BJ={tokenize:qJ,partial:!0},VJ={tokenize:WJ,partial:!0};function UJ(t){let e=t.length;for(;e--&&!(t[e][0]==="enter"&&t[e][1].type==="htmlFlow"););return e>1&&t[e-2][1].type==="linePrefix"&&(t[e][1].start=t[e-2][1].start,t[e+1][1].start=t[e-2][1].start,t.splice(e-2,2)),t}function HJ(t,e,n){const r=this;let i,s,a,o,l;return u;function u(S){return c(S)}function c(S){return t.enter("htmlFlow"),t.enter("htmlFlowData"),t.consume(S),d}function d(S){return S===33?(t.consume(S),f):S===47?(t.consume(S),s=!0,y):S===63?(t.consume(S),i=3,r.interrupt?e:_):Jt(S)?(t.consume(S),a=String.fromCharCode(S),b):n(S)}function f(S){return S===45?(t.consume(S),i=2,h):S===91?(t.consume(S),i=5,o=0,p):Jt(S)?(t.consume(S),i=4,r.interrupt?e:_):n(S)}function h(S){return S===45?(t.consume(S),r.interrupt?e:_):n(S)}function p(S){const at="CDATA[";return S===at.charCodeAt(o++)?(t.consume(S),o===at.length?r.interrupt?e:q:p):n(S)}function y(S){return Jt(S)?(t.consume(S),a=String.fromCharCode(S),b):n(S)}function b(S){if(S===null||S===47||S===62||De(S)){const at=S===47,wn=a.toLowerCase();return!at&&!s&&uC.includes(wn)?(i=1,r.interrupt?e(S):q(S)):DJ.includes(a.toLowerCase())?(i=6,at?(t.consume(S),m):r.interrupt?e(S):q(S)):(i=7,r.interrupt&&!r.parser.lazy[r.now().line]?n(S):s?g(S):v(S))}return S===45||Vt(S)?(t.consume(S),a+=String.fromCharCode(S),b):n(S)}function m(S){return S===62?(t.consume(S),r.interrupt?e:q):n(S)}function g(S){return de(S)?(t.consume(S),g):T(S)}function v(S){return S===47?(t.consume(S),T):S===58||S===95||Jt(S)?(t.consume(S),x):de(S)?(t.consume(S),v):T(S)}function x(S){return S===45||S===46||S===58||S===95||Vt(S)?(t.consume(S),x):C(S)}function C(S){return S===61?(t.consume(S),k):de(S)?(t.consume(S),C):v(S)}function k(S){return S===null||S===60||S===61||S===62||S===96?n(S):S===34||S===39?(t.consume(S),l=S,I):de(S)?(t.consume(S),k):R(S)}function I(S){return S===l?(t.consume(S),l=null,j):S===null||Q(S)?n(S):(t.consume(S),I)}function R(S){return S===null||S===34||S===39||S===47||S===60||S===61||S===62||S===96||De(S)?C(S):(t.consume(S),R)}function j(S){return S===47||S===62||de(S)?v(S):n(S)}function T(S){return S===62?(t.consume(S),F):n(S)}function F(S){return S===null||Q(S)?q(S):de(S)?(t.consume(S),F):n(S)}function q(S){return S===45&&i===2?(t.consume(S),we):S===60&&i===1?(t.consume(S),Me):S===62&&i===4?(t.consume(S),he):S===63&&i===3?(t.consume(S),_):S===93&&i===5?(t.consume(S),X):Q(S)&&(i===6||i===7)?(t.exit("htmlFlowData"),t.check(BJ,Oe,ue)(S)):S===null||Q(S)?(t.exit("htmlFlowData"),ue(S)):(t.consume(S),q)}function ue(S){return t.check(VJ,_e,Oe)(S)}function _e(S){return t.enter("lineEnding"),t.consume(S),t.exit("lineEnding"),J}function J(S){return S===null||Q(S)?ue(S):(t.enter("htmlFlowData"),q(S))}function we(S){return S===45?(t.consume(S),_):q(S)}function Me(S){return S===47?(t.consume(S),a="",B):q(S)}function B(S){if(S===62){const at=a.toLowerCase();return uC.includes(at)?(t.consume(S),he):q(S)}return Jt(S)&&a.length<8?(t.consume(S),a+=String.fromCharCode(S),B):q(S)}function X(S){return S===93?(t.consume(S),_):q(S)}function _(S){return S===62?(t.consume(S),he):S===45&&i===2?(t.consume(S),_):q(S)}function he(S){return S===null||Q(S)?(t.exit("htmlFlowData"),Oe(S)):(t.consume(S),he)}function Oe(S){return t.exit("htmlFlow"),e(S)}}function WJ(t,e,n){const r=this;return i;function i(a){return Q(a)?(t.enter("lineEnding"),t.consume(a),t.exit("lineEnding"),s):n(a)}function s(a){return r.parser.lazy[r.now().line]?n(a):e(a)}}function qJ(t,e,n){return r;function r(i){return t.enter("lineEnding"),t.consume(i),t.exit("lineEnding"),t.attempt(Lc,e,n)}}const ZJ={name:"htmlText",tokenize:GJ};function GJ(t,e,n){const r=this;let i,s,a;return o;function o(_){return t.enter("htmlText"),t.enter("htmlTextData"),t.consume(_),l}function l(_){return _===33?(t.consume(_),u):_===47?(t.consume(_),C):_===63?(t.consume(_),v):Jt(_)?(t.consume(_),R):n(_)}function u(_){return _===45?(t.consume(_),c):_===91?(t.consume(_),s=0,p):Jt(_)?(t.consume(_),g):n(_)}function c(_){return _===45?(t.consume(_),h):n(_)}function d(_){return _===null?n(_):_===45?(t.consume(_),f):Q(_)?(a=d,Me(_)):(t.consume(_),d)}function f(_){return _===45?(t.consume(_),h):d(_)}function h(_){return _===62?we(_):_===45?f(_):d(_)}function p(_){const he="CDATA[";return _===he.charCodeAt(s++)?(t.consume(_),s===he.length?y:p):n(_)}function y(_){return _===null?n(_):_===93?(t.consume(_),b):Q(_)?(a=y,Me(_)):(t.consume(_),y)}function b(_){return _===93?(t.consume(_),m):y(_)}function m(_){return _===62?we(_):_===93?(t.consume(_),m):y(_)}function g(_){return _===null||_===62?we(_):Q(_)?(a=g,Me(_)):(t.consume(_),g)}function v(_){return _===null?n(_):_===63?(t.consume(_),x):Q(_)?(a=v,Me(_)):(t.consume(_),v)}function x(_){return _===62?we(_):v(_)}function C(_){return Jt(_)?(t.consume(_),k):n(_)}function k(_){return _===45||Vt(_)?(t.consume(_),k):I(_)}function I(_){return Q(_)?(a=I,Me(_)):de(_)?(t.consume(_),I):we(_)}function R(_){return _===45||Vt(_)?(t.consume(_),R):_===47||_===62||De(_)?j(_):n(_)}function j(_){return _===47?(t.consume(_),we):_===58||_===95||Jt(_)?(t.consume(_),T):Q(_)?(a=j,Me(_)):de(_)?(t.consume(_),j):we(_)}function T(_){return _===45||_===46||_===58||_===95||Vt(_)?(t.consume(_),T):F(_)}function F(_){return _===61?(t.consume(_),q):Q(_)?(a=F,Me(_)):de(_)?(t.consume(_),F):j(_)}function q(_){return _===null||_===60||_===61||_===62||_===96?n(_):_===34||_===39?(t.consume(_),i=_,ue):Q(_)?(a=q,Me(_)):de(_)?(t.consume(_),q):(t.consume(_),_e)}function ue(_){return _===i?(t.consume(_),i=void 0,J):_===null?n(_):Q(_)?(a=ue,Me(_)):(t.consume(_),ue)}function _e(_){return _===null||_===34||_===39||_===60||_===61||_===96?n(_):_===47||_===62||De(_)?j(_):(t.consume(_),_e)}function J(_){return _===47||_===62||De(_)?j(_):n(_)}function we(_){return _===62?(t.consume(_),t.exit("htmlTextData"),t.exit("htmlText"),e):n(_)}function Me(_){return t.exit("htmlTextData"),t.enter("lineEnding"),t.consume(_),t.exit("lineEnding"),B}function B(_){return de(_)?ve(t,X,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(_):X(_)}function X(_){return t.enter("htmlTextData"),a(_)}}const i_={name:"labelEnd",tokenize:eX,resolveTo:QJ,resolveAll:YJ},KJ={tokenize:tX},JJ={tokenize:nX},XJ={tokenize:rX};function YJ(t){let e=-1;for(;++e<t.length;){const n=t[e][1];(n.type==="labelImage"||n.type==="labelLink"||n.type==="labelEnd")&&(t.splice(e+1,n.type==="labelImage"?4:2),n.type="data",e++)}return t}function QJ(t,e){let n=t.length,r=0,i,s,a,o;for(;n--;)if(i=t[n][1],s){if(i.type==="link"||i.type==="labelLink"&&i._inactive)break;t[n][0]==="enter"&&i.type==="labelLink"&&(i._inactive=!0)}else if(a){if(t[n][0]==="enter"&&(i.type==="labelImage"||i.type==="labelLink")&&!i._balanced&&(s=n,i.type!=="labelLink")){r=2;break}}else i.type==="labelEnd"&&(a=n);const l={type:t[s][1].type==="labelLink"?"link":"image",start:Object.assign({},t[s][1].start),end:Object.assign({},t[t.length-1][1].end)},u={type:"label",start:Object.assign({},t[s][1].start),end:Object.assign({},t[a][1].end)},c={type:"labelText",start:Object.assign({},t[s+r+2][1].end),end:Object.assign({},t[a-2][1].start)};return o=[["enter",l,e],["enter",u,e]],o=Gn(o,t.slice(s+1,s+r+3)),o=Gn(o,[["enter",c,e]]),o=Gn(o,gm(e.parser.constructs.insideSpan.null,t.slice(s+r+4,a-3),e)),o=Gn(o,[["exit",c,e],t[a-2],t[a-1],["exit",u,e]]),o=Gn(o,t.slice(a+1)),o=Gn(o,[["exit",l,e]]),Yn(t,s,t.length,o),t}function eX(t,e,n){const r=this;let i=r.events.length,s,a;for(;i--;)if((r.events[i][1].type==="labelImage"||r.events[i][1].type==="labelLink")&&!r.events[i][1]._balanced){s=r.events[i][1];break}return o;function o(f){return s?s._inactive?d(f):(a=r.parser.defined.includes(Pr(r.sliceSerialize({start:s.end,end:r.now()}))),t.enter("labelEnd"),t.enter("labelMarker"),t.consume(f),t.exit("labelMarker"),t.exit("labelEnd"),l):n(f)}function l(f){return f===40?t.attempt(KJ,c,a?c:d)(f):f===91?t.attempt(JJ,c,a?u:d)(f):a?c(f):d(f)}function u(f){return t.attempt(XJ,c,d)(f)}function c(f){return e(f)}function d(f){return s._balanced=!0,n(f)}}function tX(t,e,n){return r;function r(d){return t.enter("resource"),t.enter("resourceMarker"),t.consume(d),t.exit("resourceMarker"),i}function i(d){return De(d)?vu(t,s)(d):s(d)}function s(d){return d===41?c(d):xR(t,a,o,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(d)}function a(d){return De(d)?vu(t,l)(d):c(d)}function o(d){return n(d)}function l(d){return d===34||d===39||d===40?SR(t,u,n,"resourceTitle","resourceTitleMarker","resourceTitleString")(d):c(d)}function u(d){return De(d)?vu(t,c)(d):c(d)}function c(d){return d===41?(t.enter("resourceMarker"),t.consume(d),t.exit("resourceMarker"),t.exit("resource"),e):n(d)}}function nX(t,e,n){const r=this;return i;function i(o){return kR.call(r,t,s,a,"reference","referenceMarker","referenceString")(o)}function s(o){return r.parser.defined.includes(Pr(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)))?e(o):n(o)}function a(o){return n(o)}}function rX(t,e,n){return r;function r(s){return t.enter("reference"),t.enter("referenceMarker"),t.consume(s),t.exit("referenceMarker"),i}function i(s){return s===93?(t.enter("referenceMarker"),t.consume(s),t.exit("referenceMarker"),t.exit("reference"),e):n(s)}}const iX={name:"labelStartImage",tokenize:sX,resolveAll:i_.resolveAll};function sX(t,e,n){const r=this;return i;function i(o){return t.enter("labelImage"),t.enter("labelImageMarker"),t.consume(o),t.exit("labelImageMarker"),s}function s(o){return o===91?(t.enter("labelMarker"),t.consume(o),t.exit("labelMarker"),t.exit("labelImage"),a):n(o)}function a(o){return o===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(o):e(o)}}const aX={name:"labelStartLink",tokenize:oX,resolveAll:i_.resolveAll};function oX(t,e,n){const r=this;return i;function i(a){return t.enter("labelLink"),t.enter("labelMarker"),t.consume(a),t.exit("labelMarker"),t.exit("labelLink"),s}function s(a){return a===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(a):e(a)}}const ny={name:"lineEnding",tokenize:lX};function lX(t,e){return n;function n(r){return t.enter("lineEnding"),t.consume(r),t.exit("lineEnding"),ve(t,e,"linePrefix")}}const Tf={name:"thematicBreak",tokenize:uX};function uX(t,e,n){let r=0,i;return s;function s(u){return t.enter("thematicBreak"),a(u)}function a(u){return i=u,o(u)}function o(u){return u===i?(t.enter("thematicBreakSequence"),l(u)):r>=3&&(u===null||Q(u))?(t.exit("thematicBreak"),e(u)):n(u)}function l(u){return u===i?(t.consume(u),r++,l):(t.exit("thematicBreakSequence"),de(u)?ve(t,o,"whitespace")(u):o(u))}}const ln={name:"list",tokenize:fX,continuation:{tokenize:hX},exit:mX},cX={tokenize:gX,partial:!0},dX={tokenize:pX,partial:!0};function fX(t,e,n){const r=this,i=r.events[r.events.length-1];let s=i&&i[1].type==="linePrefix"?i[2].sliceSerialize(i[1],!0).length:0,a=0;return o;function o(h){const p=r.containerState.type||(h===42||h===43||h===45?"listUnordered":"listOrdered");if(p==="listUnordered"?!r.containerState.marker||h===r.containerState.marker:h0(h)){if(r.containerState.type||(r.containerState.type=p,t.enter(p,{_container:!0})),p==="listUnordered")return t.enter("listItemPrefix"),h===42||h===45?t.check(Tf,n,u)(h):u(h);if(!r.interrupt||h===49)return t.enter("listItemPrefix"),t.enter("listItemValue"),l(h)}return n(h)}function l(h){return h0(h)&&++a<10?(t.consume(h),l):(!r.interrupt||a<2)&&(r.containerState.marker?h===r.containerState.marker:h===41||h===46)?(t.exit("listItemValue"),u(h)):n(h)}function u(h){return t.enter("listItemMarker"),t.consume(h),t.exit("listItemMarker"),r.containerState.marker=r.containerState.marker||h,t.check(Lc,r.interrupt?n:c,t.attempt(cX,f,d))}function c(h){return r.containerState.initialBlankLine=!0,s++,f(h)}function d(h){return de(h)?(t.enter("listItemPrefixWhitespace"),t.consume(h),t.exit("listItemPrefixWhitespace"),f):n(h)}function f(h){return r.containerState.size=s+r.sliceSerialize(t.exit("listItemPrefix"),!0).length,e(h)}}function hX(t,e,n){const r=this;return r.containerState._closeFlow=void 0,t.check(Lc,i,s);function i(o){return r.containerState.furtherBlankLines=r.containerState.furtherBlankLines||r.containerState.initialBlankLine,ve(t,e,"listItemIndent",r.containerState.size+1)(o)}function s(o){return r.containerState.furtherBlankLines||!de(o)?(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,a(o)):(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,t.attempt(dX,e,a)(o))}function a(o){return r.containerState._closeFlow=!0,r.interrupt=void 0,ve(t,t.attempt(ln,e,n),"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(o)}}function pX(t,e,n){const r=this;return ve(t,i,"listItemIndent",r.containerState.size+1);function i(s){const a=r.events[r.events.length-1];return a&&a[1].type==="listItemIndent"&&a[2].sliceSerialize(a[1],!0).length===r.containerState.size?e(s):n(s)}}function mX(t){t.exit(this.containerState.type)}function gX(t,e,n){const r=this;return ve(t,i,"listItemPrefixWhitespace",r.parser.constructs.disable.null.includes("codeIndented")?void 0:5);function i(s){const a=r.events[r.events.length-1];return!de(s)&&a&&a[1].type==="listItemPrefixWhitespace"?e(s):n(s)}}const cC={name:"setextUnderline",tokenize:vX,resolveTo:yX};function yX(t,e){let n=t.length,r,i,s;for(;n--;)if(t[n][0]==="enter"){if(t[n][1].type==="content"){r=n;break}t[n][1].type==="paragraph"&&(i=n)}else t[n][1].type==="content"&&t.splice(n,1),!s&&t[n][1].type==="definition"&&(s=n);const a={type:"setextHeading",start:Object.assign({},t[i][1].start),end:Object.assign({},t[t.length-1][1].end)};return t[i][1].type="setextHeadingText",s?(t.splice(i,0,["enter",a,e]),t.splice(s+1,0,["exit",t[r][1],e]),t[r][1].end=Object.assign({},t[s][1].end)):t[r][1]=a,t.push(["exit",a,e]),t}function vX(t,e,n){const r=this;let i;return s;function s(u){let c=r.events.length,d;for(;c--;)if(r.events[c][1].type!=="lineEnding"&&r.events[c][1].type!=="linePrefix"&&r.events[c][1].type!=="content"){d=r.events[c][1].type==="paragraph";break}return!r.parser.lazy[r.now().line]&&(r.interrupt||d)?(t.enter("setextHeadingLine"),i=u,a(u)):n(u)}function a(u){return t.enter("setextHeadingLineSequence"),o(u)}function o(u){return u===i?(t.consume(u),o):(t.exit("setextHeadingLineSequence"),de(u)?ve(t,l,"lineSuffix")(u):l(u))}function l(u){return u===null||Q(u)?(t.exit("setextHeadingLine"),e(u)):n(u)}}const bX={tokenize:wX};function wX(t){const e=this,n=t.attempt(Lc,r,t.attempt(this.parser.constructs.flowInitial,i,ve(t,t.attempt(this.parser.constructs.flow,i,t.attempt(CJ,i)),"linePrefix")));return n;function r(s){if(s===null){t.consume(s);return}return t.enter("lineEndingBlank"),t.consume(s),t.exit("lineEndingBlank"),e.currentConstruct=void 0,n}function i(s){if(s===null){t.consume(s);return}return t.enter("lineEnding"),t.consume(s),t.exit("lineEnding"),e.currentConstruct=void 0,n}}const _X={resolveAll:TR()},xX=CR("string"),kX=CR("text");function CR(t){return{tokenize:e,resolveAll:TR(t==="text"?SX:void 0)};function e(n){const r=this,i=this.parser.constructs[t],s=n.attempt(i,a,o);return a;function a(c){return u(c)?s(c):o(c)}function o(c){if(c===null){n.consume(c);return}return n.enter("data"),n.consume(c),l}function l(c){return u(c)?(n.exit("data"),s(c)):(n.consume(c),l)}function u(c){if(c===null)return!0;const d=i[c];let f=-1;if(d)for(;++f<d.length;){const h=d[f];if(!h.previous||h.previous.call(r,r.previous))return!0}return!1}}}function TR(t){return e;function e(n,r){let i=-1,s;for(;++i<=n.length;)s===void 0?n[i]&&n[i][1].type==="data"&&(s=i,i++):(!n[i]||n[i][1].type!=="data")&&(i!==s+2&&(n[s][1].end=n[i-1][1].end,n.splice(s+2,i-s-2),i=s+2),s=void 0);return t?t(n,r):n}}function SX(t,e){let n=0;for(;++n<=t.length;)if((n===t.length||t[n][1].type==="lineEnding")&&t[n-1][1].type==="data"){const r=t[n-1][1],i=e.sliceStream(r);let s=i.length,a=-1,o=0,l;for(;s--;){const u=i[s];if(typeof u=="string"){for(a=u.length;u.charCodeAt(a-1)===32;)o++,a--;if(a)break;a=-1}else if(u===-2)l=!0,o++;else if(u!==-1){s++;break}}if(o){const u={type:n===t.length||l||o<2?"lineSuffix":"hardBreakTrailing",start:{line:r.end.line,column:r.end.column-o,offset:r.end.offset-o,_index:r.start._index+s,_bufferIndex:s?a:r.start._bufferIndex+a},end:Object.assign({},r.end)};r.end=Object.assign({},u.start),r.start.offset===r.end.offset?Object.assign(r,u):(t.splice(n,0,["enter",u,e],["exit",u,e]),n+=2)}n++}return t}function CX(t,e,n){let r=Object.assign(n?Object.assign({},n):{line:1,column:1,offset:0},{_index:0,_bufferIndex:-1});const i={},s=[];let a=[],o=[];const l={consume:g,enter:v,exit:x,attempt:I(C),check:I(k),interrupt:I(k,{interrupt:!0})},u={previous:null,code:null,containerState:{},events:[],parser:t,sliceStream:h,sliceSerialize:f,now:p,defineSkip:y,write:d};let c=e.tokenize.call(u,l);return e.resolveAll&&s.push(e),u;function d(F){return a=Gn(a,F),b(),a[a.length-1]!==null?[]:(R(e,0),u.events=gm(s,u.events,u),u.events)}function f(F,q){return PX(h(F),q)}function h(F){return TX(a,F)}function p(){const{line:F,column:q,offset:ue,_index:_e,_bufferIndex:J}=r;return{line:F,column:q,offset:ue,_index:_e,_bufferIndex:J}}function y(F){i[F.line]=F.column,T()}function b(){let F;for(;r._index<a.length;){const q=a[r._index];if(typeof q=="string")for(F=r._index,r._bufferIndex<0&&(r._bufferIndex=0);r._index===F&&r._bufferIndex<q.length;)m(q.charCodeAt(r._bufferIndex));else m(q)}}function m(F){c=c(F)}function g(F){Q(F)?(r.line++,r.column=1,r.offset+=F===-3?2:1,T()):F!==-1&&(r.column++,r.offset++),r._bufferIndex<0?r._index++:(r._bufferIndex++,r._bufferIndex===a[r._index].length&&(r._bufferIndex=-1,r._index++)),u.previous=F}function v(F,q){const ue=q||{};return ue.type=F,ue.start=p(),u.events.push(["enter",ue,u]),o.push(ue),ue}function x(F){const q=o.pop();return q.end=p(),u.events.push(["exit",q,u]),q}function C(F,q){R(F,q.from)}function k(F,q){q.restore()}function I(F,q){return ue;function ue(_e,J,we){let Me,B,X,_;return Array.isArray(_e)?Oe(_e):"tokenize"in _e?Oe([_e]):he(_e);function he(xe){return _n;function _n(sn){const ai=sn!==null&&xe[sn],rr=sn!==null&&xe.null,ka=[...Array.isArray(ai)?ai:ai?[ai]:[],...Array.isArray(rr)?rr:rr?[rr]:[]];return Oe(ka)(sn)}}function Oe(xe){return Me=xe,B=0,xe.length===0?we:S(xe[B])}function S(xe){return _n;function _n(sn){return _=j(),X=xe,xe.partial||(u.currentConstruct=xe),xe.name&&u.parser.constructs.disable.null.includes(xe.name)?wn():xe.tokenize.call(q?Object.assign(Object.create(u),q):u,l,at,wn)(sn)}}function at(xe){return F(X,_),J}function wn(xe){return _.restore(),++B<Me.length?S(Me[B]):we}}}function R(F,q){F.resolveAll&&!s.includes(F)&&s.push(F),F.resolve&&Yn(u.events,q,u.events.length-q,F.resolve(u.events.slice(q),u)),F.resolveTo&&(u.events=F.resolveTo(u.events,u))}function j(){const F=p(),q=u.previous,ue=u.currentConstruct,_e=u.events.length,J=Array.from(o);return{restore:we,from:_e};function we(){r=F,u.previous=q,u.currentConstruct=ue,u.events.length=_e,o=J,T()}}function T(){r.line in i&&r.column<2&&(r.column=i[r.line],r.offset+=i[r.line]-1)}}function TX(t,e){const n=e.start._index,r=e.start._bufferIndex,i=e.end._index,s=e.end._bufferIndex;let a;if(n===i)a=[t[n].slice(r,s)];else{if(a=t.slice(n,i),r>-1){const o=a[0];typeof o=="string"?a[0]=o.slice(r):a.shift()}s>0&&a.push(t[i].slice(0,s))}return a}function PX(t,e){let n=-1;const r=[];let i;for(;++n<t.length;){const s=t[n];let a;if(typeof s=="string")a=s;else switch(s){case-5:{a="\r";break}case-4:{a=`
`;break}case-3:{a=`\r
`;break}case-2:{a=e?" ":"	";break}case-1:{if(!e&&i)continue;a=" ";break}default:a=String.fromCharCode(s)}i=s===-2,r.push(a)}return r.join("")}const EX={42:ln,43:ln,45:ln,48:ln,49:ln,50:ln,51:ln,52:ln,53:ln,54:ln,55:ln,56:ln,57:ln,62:vR},AX={91:IJ},IX={[-2]:ty,[-1]:ty,32:ty},OX={35:MJ,42:Tf,45:[cC,Tf],60:FJ,61:cC,95:Tf,96:lC,126:lC},RX={38:wR,92:bR},$X={[-5]:ny,[-4]:ny,[-3]:ny,33:iX,38:wR,42:p0,60:[aJ,ZJ],91:aX,92:[NJ,bR],93:i_,95:p0,96:bJ},NX={null:[p0,_X]},jX={null:[42,95]},MX={null:[]},LX=Object.freeze(Object.defineProperty({__proto__:null,attentionMarkers:jX,contentInitial:AX,disable:MX,document:EX,flow:OX,flowInitial:IX,insideSpan:NX,string:RX,text:$X},Symbol.toStringTag,{value:"Module"}));function zX(t){const n=gR([LX,...(t||{}).extensions||[]]),r={defined:[],lazy:{},constructs:n,content:i(QK),document:i(tJ),flow:i(bX),string:i(xX),text:i(kX)};return r;function i(s){return a;function a(o){return CX(r,s,o)}}}function DX(t){for(;!_R(t););return t}const dC=/[\0\t\n\r]/g;function FX(){let t=1,e="",n=!0,r;return i;function i(s,a,o){const l=[];let u,c,d,f,h;for(s=e+(typeof s=="string"?s.toString():new TextDecoder(a||void 0).decode(s)),d=0,e="",n&&(s.charCodeAt(0)===65279&&d++,n=void 0);d<s.length;){if(dC.lastIndex=d,u=dC.exec(s),f=u&&u.index!==void 0?u.index:s.length,h=s.charCodeAt(f),!u){e=s.slice(d);break}if(h===10&&d===f&&r)l.push(-3),r=void 0;else switch(r&&(l.push(-5),r=void 0),d<f&&(l.push(s.slice(d,f)),t+=f-d),h){case 0:{l.push(65533),t++;break}case 9:{for(c=Math.ceil(t/4)*4,l.push(-2);t++<c;)l.push(-1);break}case 10:{l.push(-4),t=1;break}default:r=!0,t=1}d=f+1}return o&&(r&&l.push(-5),e&&l.push(e),l.push(null)),l}}const BX=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function VX(t){return t.replace(BX,UX)}function UX(t,e,n){if(e)return e;if(n.charCodeAt(0)===35){const i=n.charCodeAt(1),s=i===120||i===88;return yR(n.slice(s?2:1),s?16:10)}return r_(n)||t}const PR={}.hasOwnProperty;function HX(t,e,n){return typeof e!="string"&&(n=e,e=void 0),WX(n)(DX(zX(n).document().write(FX()(t,e,!0))))}function WX(t){const e={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:s(Uc),autolinkProtocol:j,autolinkEmail:j,atxHeading:s(Fc),blockQuote:s(ai),characterEscape:j,characterReference:j,codeFenced:s(rr),codeFencedFenceInfo:a,codeFencedFenceMeta:a,codeIndented:s(rr,a),codeText:s(ka,a),codeTextData:j,data:j,codeFlowValue:j,definition:s(Dc),definitionDestinationString:a,definitionLabelString:a,definitionTitleString:a,emphasis:s(wm),hardBreakEscape:s(Bc),hardBreakTrailing:s(Bc),htmlFlow:s(Vc,a),htmlFlowData:j,htmlText:s(Vc,a),htmlTextData:j,image:s(_m),label:a,link:s(Uc),listItem:s(Sa),listItemValue:f,listOrdered:s(Hc,d),listUnordered:s(Hc),paragraph:s(nl),reference:S,referenceString:a,resourceDestinationString:a,resourceTitleString:a,setextHeading:s(Fc),strong:s(Ca),thematicBreak:s(Wc)},exit:{atxHeading:l(),atxHeadingSequence:C,autolink:l(),autolinkEmail:sn,autolinkProtocol:_n,blockQuote:l(),characterEscapeValue:T,characterReferenceMarkerHexadecimal:wn,characterReferenceMarkerNumeric:wn,characterReferenceValue:xe,codeFenced:l(b),codeFencedFence:y,codeFencedFenceInfo:h,codeFencedFenceMeta:p,codeFlowValue:T,codeIndented:l(m),codeText:l(J),codeTextData:T,data:T,definition:l(),definitionDestinationString:x,definitionLabelString:g,definitionTitleString:v,emphasis:l(),hardBreakEscape:l(q),hardBreakTrailing:l(q),htmlFlow:l(ue),htmlFlowData:T,htmlText:l(_e),htmlTextData:T,image:l(Me),label:X,labelText:B,lineEnding:F,link:l(we),listItem:l(),listOrdered:l(),listUnordered:l(),paragraph:l(),referenceString:at,resourceDestinationString:_,resourceTitleString:he,resource:Oe,setextHeading:l(R),setextHeadingLineSequence:I,setextHeadingText:k,strong:l(),thematicBreak:l()}};ER(e,(t||{}).mdastExtensions||[]);const n={};return r;function r(N){let V={type:"root",children:[]};const re={stack:[V],tokenStack:[],config:e,enter:o,exit:u,buffer:a,resume:c,data:n},ae=[];let ke=-1;for(;++ke<N.length;)if(N[ke][1].type==="listOrdered"||N[ke][1].type==="listUnordered")if(N[ke][0]==="enter")ae.push(ke);else{const an=ae.pop();ke=i(N,an,ke)}for(ke=-1;++ke<N.length;){const an=e[N[ke][0]];PR.call(an,N[ke][1].type)&&an[N[ke][1].type].call(Object.assign({sliceSerialize:N[ke][2].sliceSerialize},re),N[ke][1])}if(re.tokenStack.length>0){const an=re.tokenStack[re.tokenStack.length-1];(an[1]||fC).call(re,void 0,an[0])}for(V.position={start:Ui(N.length>0?N[0][1].start:{line:1,column:1,offset:0}),end:Ui(N.length>0?N[N.length-2][1].end:{line:1,column:1,offset:0})},ke=-1;++ke<e.transforms.length;)V=e.transforms[ke](V)||V;return V}function i(N,V,re){let ae=V-1,ke=-1,an=!1,$r,Fn,Ts,Ps;for(;++ae<=re;){const ut=N[ae];switch(ut[1].type){case"listUnordered":case"listOrdered":case"blockQuote":{ut[0]==="enter"?ke++:ke--,Ps=void 0;break}case"lineEndingBlank":{ut[0]==="enter"&&($r&&!Ps&&!ke&&!Ts&&(Ts=ae),Ps=void 0);break}case"linePrefix":case"listItemValue":case"listItemMarker":case"listItemPrefix":case"listItemPrefixWhitespace":break;default:Ps=void 0}if(!ke&&ut[0]==="enter"&&ut[1].type==="listItemPrefix"||ke===-1&&ut[0]==="exit"&&(ut[1].type==="listUnordered"||ut[1].type==="listOrdered")){if($r){let ir=ae;for(Fn=void 0;ir--;){const sr=N[ir];if(sr[1].type==="lineEnding"||sr[1].type==="lineEndingBlank"){if(sr[0]==="exit")continue;Fn&&(N[Fn][1].type="lineEndingBlank",an=!0),sr[1].type="lineEnding",Fn=ir}else if(!(sr[1].type==="linePrefix"||sr[1].type==="blockQuotePrefix"||sr[1].type==="blockQuotePrefixWhitespace"||sr[1].type==="blockQuoteMarker"||sr[1].type==="listItemIndent"))break}Ts&&(!Fn||Ts<Fn)&&($r._spread=!0),$r.end=Object.assign({},Fn?N[Fn][1].start:ut[1].end),N.splice(Fn||ae,0,["exit",$r,ut[2]]),ae++,re++}if(ut[1].type==="listItemPrefix"){const ir={type:"listItem",_spread:!1,start:Object.assign({},ut[1].start),end:void 0};$r=ir,N.splice(ae,0,["enter",ir,ut[2]]),ae++,re++,Ts=void 0,Ps=!0}}}return N[V][1]._spread=an,re}function s(N,V){return re;function re(ae){o.call(this,N(ae),ae),V&&V.call(this,ae)}}function a(){this.stack.push({type:"fragment",children:[]})}function o(N,V,re){this.stack[this.stack.length-1].children.push(N),this.stack.push(N),this.tokenStack.push([V,re]),N.position={start:Ui(V.start),end:void 0}}function l(N){return V;function V(re){N&&N.call(this,re),u.call(this,re)}}function u(N,V){const re=this.stack.pop(),ae=this.tokenStack.pop();if(ae)ae[0].type!==N.type&&(V?V.call(this,N,ae[0]):(ae[1]||fC).call(this,N,ae[0]));else throw new Error("Cannot close `"+N.type+"` ("+yu({start:N.start,end:N.end})+"): its not open");re.position.end=Ui(N.end)}function c(){return n_(this.stack.pop())}function d(){this.data.expectingFirstListItemValue=!0}function f(N){if(this.data.expectingFirstListItemValue){const V=this.stack[this.stack.length-2];V.start=Number.parseInt(this.sliceSerialize(N),10),this.data.expectingFirstListItemValue=void 0}}function h(){const N=this.resume(),V=this.stack[this.stack.length-1];V.lang=N}function p(){const N=this.resume(),V=this.stack[this.stack.length-1];V.meta=N}function y(){this.data.flowCodeInside||(this.buffer(),this.data.flowCodeInside=!0)}function b(){const N=this.resume(),V=this.stack[this.stack.length-1];V.value=N.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),this.data.flowCodeInside=void 0}function m(){const N=this.resume(),V=this.stack[this.stack.length-1];V.value=N.replace(/(\r?\n|\r)$/g,"")}function g(N){const V=this.resume(),re=this.stack[this.stack.length-1];re.label=V,re.identifier=Pr(this.sliceSerialize(N)).toLowerCase()}function v(){const N=this.resume(),V=this.stack[this.stack.length-1];V.title=N}function x(){const N=this.resume(),V=this.stack[this.stack.length-1];V.url=N}function C(N){const V=this.stack[this.stack.length-1];if(!V.depth){const re=this.sliceSerialize(N).length;V.depth=re}}function k(){this.data.setextHeadingSlurpLineEnding=!0}function I(N){const V=this.stack[this.stack.length-1];V.depth=this.sliceSerialize(N).codePointAt(0)===61?1:2}function R(){this.data.setextHeadingSlurpLineEnding=void 0}function j(N){const re=this.stack[this.stack.length-1].children;let ae=re[re.length-1];(!ae||ae.type!=="text")&&(ae=Rr(),ae.position={start:Ui(N.start),end:void 0},re.push(ae)),this.stack.push(ae)}function T(N){const V=this.stack.pop();V.value+=this.sliceSerialize(N),V.position.end=Ui(N.end)}function F(N){const V=this.stack[this.stack.length-1];if(this.data.atHardBreak){const re=V.children[V.children.length-1];re.position.end=Ui(N.end),this.data.atHardBreak=void 0;return}!this.data.setextHeadingSlurpLineEnding&&e.canContainEols.includes(V.type)&&(j.call(this,N),T.call(this,N))}function q(){this.data.atHardBreak=!0}function ue(){const N=this.resume(),V=this.stack[this.stack.length-1];V.value=N}function _e(){const N=this.resume(),V=this.stack[this.stack.length-1];V.value=N}function J(){const N=this.resume(),V=this.stack[this.stack.length-1];V.value=N}function we(){const N=this.stack[this.stack.length-1];if(this.data.inReference){const V=this.data.referenceType||"shortcut";N.type+="Reference",N.referenceType=V,delete N.url,delete N.title}else delete N.identifier,delete N.label;this.data.referenceType=void 0}function Me(){const N=this.stack[this.stack.length-1];if(this.data.inReference){const V=this.data.referenceType||"shortcut";N.type+="Reference",N.referenceType=V,delete N.url,delete N.title}else delete N.identifier,delete N.label;this.data.referenceType=void 0}function B(N){const V=this.sliceSerialize(N),re=this.stack[this.stack.length-2];re.label=VX(V),re.identifier=Pr(V).toLowerCase()}function X(){const N=this.stack[this.stack.length-1],V=this.resume(),re=this.stack[this.stack.length-1];if(this.data.inReference=!0,re.type==="link"){const ae=N.children;re.children=ae}else re.alt=V}function _(){const N=this.resume(),V=this.stack[this.stack.length-1];V.url=N}function he(){const N=this.resume(),V=this.stack[this.stack.length-1];V.title=N}function Oe(){this.data.inReference=void 0}function S(){this.data.referenceType="collapsed"}function at(N){const V=this.resume(),re=this.stack[this.stack.length-1];re.label=V,re.identifier=Pr(this.sliceSerialize(N)).toLowerCase(),this.data.referenceType="full"}function wn(N){this.data.characterReferenceType=N.type}function xe(N){const V=this.sliceSerialize(N),re=this.data.characterReferenceType;let ae;re?(ae=yR(V,re==="characterReferenceMarkerNumeric"?10:16),this.data.characterReferenceType=void 0):ae=r_(V);const ke=this.stack.pop();ke.value+=ae,ke.position.end=Ui(N.end)}function _n(N){T.call(this,N);const V=this.stack[this.stack.length-1];V.url=this.sliceSerialize(N)}function sn(N){T.call(this,N);const V=this.stack[this.stack.length-1];V.url="mailto:"+this.sliceSerialize(N)}function ai(){return{type:"blockquote",children:[]}}function rr(){return{type:"code",lang:null,meta:null,value:""}}function ka(){return{type:"inlineCode",value:""}}function Dc(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function wm(){return{type:"emphasis",children:[]}}function Fc(){return{type:"heading",depth:0,children:[]}}function Bc(){return{type:"break"}}function Vc(){return{type:"html",value:""}}function _m(){return{type:"image",title:null,url:"",alt:null}}function Uc(){return{type:"link",title:null,url:"",children:[]}}function Hc(N){return{type:"list",ordered:N.type==="listOrdered",start:null,spread:N._spread,children:[]}}function Sa(N){return{type:"listItem",spread:N._spread,checked:null,children:[]}}function nl(){return{type:"paragraph",children:[]}}function Ca(){return{type:"strong",children:[]}}function Rr(){return{type:"text",value:""}}function Wc(){return{type:"thematicBreak"}}}function Ui(t){return{line:t.line,column:t.column,offset:t.offset}}function ER(t,e){let n=-1;for(;++n<e.length;){const r=e[n];Array.isArray(r)?ER(t,r):qX(t,r)}}function qX(t,e){let n;for(n in e)if(PR.call(e,n))switch(n){case"canContainEols":{const r=e[n];r&&t[n].push(...r);break}case"transforms":{const r=e[n];r&&t[n].push(...r);break}case"enter":case"exit":{const r=e[n];r&&Object.assign(t[n],r);break}}}function fC(t,e){throw t?new Error("Cannot close `"+t.type+"` ("+yu({start:t.start,end:t.end})+"): a different token (`"+e.type+"`, "+yu({start:e.start,end:e.end})+") is open"):new Error("Cannot close document, a token (`"+e.type+"`, "+yu({start:e.start,end:e.end})+") is still open")}function ZX(t){const e=this;e.parser=n;function n(r){return HX(r,{...e.data("settings"),...t,extensions:e.data("micromarkExtensions")||[],mdastExtensions:e.data("fromMarkdownExtensions")||[]})}}function GX(t,e){const n={type:"element",tagName:"blockquote",properties:{},children:t.wrap(t.all(e),!0)};return t.patch(e,n),t.applyData(e,n)}function KX(t,e){const n={type:"element",tagName:"br",properties:{},children:[]};return t.patch(e,n),[t.applyData(e,n),{type:"text",value:`
`}]}function JX(t,e){const n=e.value?e.value+`
`:"",r={};e.lang&&(r.className=["language-"+e.lang]);let i={type:"element",tagName:"code",properties:r,children:[{type:"text",value:n}]};return e.meta&&(i.data={meta:e.meta}),t.patch(e,i),i=t.applyData(e,i),i={type:"element",tagName:"pre",properties:{},children:[i]},t.patch(e,i),i}function XX(t,e){const n={type:"element",tagName:"del",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function YX(t,e){const n={type:"element",tagName:"em",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function QX(t,e){const n=typeof t.options.clobberPrefix=="string"?t.options.clobberPrefix:"user-content-",r=String(e.identifier).toUpperCase(),i=tl(r.toLowerCase()),s=t.footnoteOrder.indexOf(r);let a,o=t.footnoteCounts.get(r);o===void 0?(o=0,t.footnoteOrder.push(r),a=t.footnoteOrder.length):a=s+1,o+=1,t.footnoteCounts.set(r,o);const l={type:"element",tagName:"a",properties:{href:"#"+n+"fn-"+i,id:n+"fnref-"+i+(o>1?"-"+o:""),dataFootnoteRef:!0,ariaDescribedBy:["footnote-label"]},children:[{type:"text",value:String(a)}]};t.patch(e,l);const u={type:"element",tagName:"sup",properties:{},children:[l]};return t.patch(e,u),t.applyData(e,u)}function eY(t,e){const n={type:"element",tagName:"h"+e.depth,properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function tY(t,e){if(t.options.allowDangerousHtml){const n={type:"raw",value:e.value};return t.patch(e,n),t.applyData(e,n)}}function AR(t,e){const n=e.referenceType;let r="]";if(n==="collapsed"?r+="[]":n==="full"&&(r+="["+(e.label||e.identifier)+"]"),e.type==="imageReference")return[{type:"text",value:"!["+e.alt+r}];const i=t.all(e),s=i[0];s&&s.type==="text"?s.value="["+s.value:i.unshift({type:"text",value:"["});const a=i[i.length-1];return a&&a.type==="text"?a.value+=r:i.push({type:"text",value:r}),i}function nY(t,e){const n=String(e.identifier).toUpperCase(),r=t.definitionById.get(n);if(!r)return AR(t,e);const i={src:tl(r.url||""),alt:e.alt};r.title!==null&&r.title!==void 0&&(i.title=r.title);const s={type:"element",tagName:"img",properties:i,children:[]};return t.patch(e,s),t.applyData(e,s)}function rY(t,e){const n={src:tl(e.url)};e.alt!==null&&e.alt!==void 0&&(n.alt=e.alt),e.title!==null&&e.title!==void 0&&(n.title=e.title);const r={type:"element",tagName:"img",properties:n,children:[]};return t.patch(e,r),t.applyData(e,r)}function iY(t,e){const n={type:"text",value:e.value.replace(/\r?\n|\r/g," ")};t.patch(e,n);const r={type:"element",tagName:"code",properties:{},children:[n]};return t.patch(e,r),t.applyData(e,r)}function sY(t,e){const n=String(e.identifier).toUpperCase(),r=t.definitionById.get(n);if(!r)return AR(t,e);const i={href:tl(r.url||"")};r.title!==null&&r.title!==void 0&&(i.title=r.title);const s={type:"element",tagName:"a",properties:i,children:t.all(e)};return t.patch(e,s),t.applyData(e,s)}function aY(t,e){const n={href:tl(e.url)};e.title!==null&&e.title!==void 0&&(n.title=e.title);const r={type:"element",tagName:"a",properties:n,children:t.all(e)};return t.patch(e,r),t.applyData(e,r)}function oY(t,e,n){const r=t.all(e),i=n?lY(n):IR(e),s={},a=[];if(typeof e.checked=="boolean"){const c=r[0];let d;c&&c.type==="element"&&c.tagName==="p"?d=c:(d={type:"element",tagName:"p",properties:{},children:[]},r.unshift(d)),d.children.length>0&&d.children.unshift({type:"text",value:" "}),d.children.unshift({type:"element",tagName:"input",properties:{type:"checkbox",checked:e.checked,disabled:!0},children:[]}),s.className=["task-list-item"]}let o=-1;for(;++o<r.length;){const c=r[o];(i||o!==0||c.type!=="element"||c.tagName!=="p")&&a.push({type:"text",value:`
`}),c.type==="element"&&c.tagName==="p"&&!i?a.push(...c.children):a.push(c)}const l=r[r.length-1];l&&(i||l.type!=="element"||l.tagName!=="p")&&a.push({type:"text",value:`
`});const u={type:"element",tagName:"li",properties:s,children:a};return t.patch(e,u),t.applyData(e,u)}function lY(t){let e=!1;if(t.type==="list"){e=t.spread||!1;const n=t.children;let r=-1;for(;!e&&++r<n.length;)e=IR(n[r])}return e}function IR(t){const e=t.spread;return e??t.children.length>1}function uY(t,e){const n={},r=t.all(e);let i=-1;for(typeof e.start=="number"&&e.start!==1&&(n.start=e.start);++i<r.length;){const a=r[i];if(a.type==="element"&&a.tagName==="li"&&a.properties&&Array.isArray(a.properties.className)&&a.properties.className.includes("task-list-item")){n.className=["contains-task-list"];break}}const s={type:"element",tagName:e.ordered?"ol":"ul",properties:n,children:t.wrap(r,!0)};return t.patch(e,s),t.applyData(e,s)}function cY(t,e){const n={type:"element",tagName:"p",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function dY(t,e){const n={type:"root",children:t.wrap(t.all(e))};return t.patch(e,n),t.applyData(e,n)}function fY(t,e){const n={type:"element",tagName:"strong",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function hY(t,e){const n=t.all(e),r=n.shift(),i=[];if(r){const a={type:"element",tagName:"thead",properties:{},children:t.wrap([r],!0)};t.patch(e.children[0],a),i.push(a)}if(n.length>0){const a={type:"element",tagName:"tbody",properties:{},children:t.wrap(n,!0)},o=Yw(e.children[1]),l=uR(e.children[e.children.length-1]);o&&l&&(a.position={start:o,end:l}),i.push(a)}const s={type:"element",tagName:"table",properties:{},children:t.wrap(i,!0)};return t.patch(e,s),t.applyData(e,s)}function pY(t,e,n){const r=n?n.children:void 0,s=(r?r.indexOf(e):1)===0?"th":"td",a=n&&n.type==="table"?n.align:void 0,o=a?a.length:e.children.length;let l=-1;const u=[];for(;++l<o;){const d=e.children[l],f={},h=a?a[l]:void 0;h&&(f.align=h);let p={type:"element",tagName:s,properties:f,children:[]};d&&(p.children=t.all(d),t.patch(d,p),p=t.applyData(d,p)),u.push(p)}const c={type:"element",tagName:"tr",properties:{},children:t.wrap(u,!0)};return t.patch(e,c),t.applyData(e,c)}function mY(t,e){const n={type:"element",tagName:"td",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}const hC=9,pC=32;function gY(t){const e=String(t),n=/\r?\n|\r/g;let r=n.exec(e),i=0;const s=[];for(;r;)s.push(mC(e.slice(i,r.index),i>0,!0),r[0]),i=r.index+r[0].length,r=n.exec(e);return s.push(mC(e.slice(i),i>0,!1)),s.join("")}function mC(t,e,n){let r=0,i=t.length;if(e){let s=t.codePointAt(r);for(;s===hC||s===pC;)r++,s=t.codePointAt(r)}if(n){let s=t.codePointAt(i-1);for(;s===hC||s===pC;)i--,s=t.codePointAt(i-1)}return i>r?t.slice(r,i):""}function yY(t,e){const n={type:"text",value:gY(String(e.value))};return t.patch(e,n),t.applyData(e,n)}function vY(t,e){const n={type:"element",tagName:"hr",properties:{},children:[]};return t.patch(e,n),t.applyData(e,n)}const bY={blockquote:GX,break:KX,code:JX,delete:XX,emphasis:YX,footnoteReference:QX,heading:eY,html:tY,imageReference:nY,image:rY,inlineCode:iY,linkReference:sY,link:aY,listItem:oY,list:uY,paragraph:cY,root:dY,strong:fY,table:hY,tableCell:mY,tableRow:pY,text:yY,thematicBreak:vY,toml:$d,yaml:$d,definition:$d,footnoteDefinition:$d};function $d(){}const OR=-1,ym=0,lp=1,up=2,s_=3,a_=4,o_=5,l_=6,RR=7,$R=8,gC=typeof self=="object"?self:globalThis,wY=(t,e)=>{const n=(i,s)=>(t.set(s,i),i),r=i=>{if(t.has(i))return t.get(i);const[s,a]=e[i];switch(s){case ym:case OR:return n(a,i);case lp:{const o=n([],i);for(const l of a)o.push(r(l));return o}case up:{const o=n({},i);for(const[l,u]of a)o[r(l)]=r(u);return o}case s_:return n(new Date(a),i);case a_:{const{source:o,flags:l}=a;return n(new RegExp(o,l),i)}case o_:{const o=n(new Map,i);for(const[l,u]of a)o.set(r(l),r(u));return o}case l_:{const o=n(new Set,i);for(const l of a)o.add(r(l));return o}case RR:{const{name:o,message:l}=a;return n(new gC[o](l),i)}case $R:return n(BigInt(a),i);case"BigInt":return n(Object(BigInt(a)),i)}return n(new gC[s](a),i)};return r},yC=t=>wY(new Map,t)(0),Ra="",{toString:_Y}={},{keys:xY}=Object,wl=t=>{const e=typeof t;if(e!=="object"||!t)return[ym,e];const n=_Y.call(t).slice(8,-1);switch(n){case"Array":return[lp,Ra];case"Object":return[up,Ra];case"Date":return[s_,Ra];case"RegExp":return[a_,Ra];case"Map":return[o_,Ra];case"Set":return[l_,Ra]}return n.includes("Array")?[lp,n]:n.includes("Error")?[RR,n]:[up,n]},Nd=([t,e])=>t===ym&&(e==="function"||e==="symbol"),kY=(t,e,n,r)=>{const i=(a,o)=>{const l=r.push(a)-1;return n.set(o,l),l},s=a=>{if(n.has(a))return n.get(a);let[o,l]=wl(a);switch(o){case ym:{let c=a;switch(l){case"bigint":o=$R,c=a.toString();break;case"function":case"symbol":if(t)throw new TypeError("unable to serialize "+l);c=null;break;case"undefined":return i([OR],a)}return i([o,c],a)}case lp:{if(l)return i([l,[...a]],a);const c=[],d=i([o,c],a);for(const f of a)c.push(s(f));return d}case up:{if(l)switch(l){case"BigInt":return i([l,a.toString()],a);case"Boolean":case"Number":case"String":return i([l,a.valueOf()],a)}if(e&&"toJSON"in a)return s(a.toJSON());const c=[],d=i([o,c],a);for(const f of xY(a))(t||!Nd(wl(a[f])))&&c.push([s(f),s(a[f])]);return d}case s_:return i([o,a.toISOString()],a);case a_:{const{source:c,flags:d}=a;return i([o,{source:c,flags:d}],a)}case o_:{const c=[],d=i([o,c],a);for(const[f,h]of a)(t||!(Nd(wl(f))||Nd(wl(h))))&&c.push([s(f),s(h)]);return d}case l_:{const c=[],d=i([o,c],a);for(const f of a)(t||!Nd(wl(f)))&&c.push(s(f));return d}}const{message:u}=a;return i([o,{name:l,message:u}],a)};return s},vC=(t,{json:e,lossy:n}={})=>{const r=[];return kY(!(e||n),!!e,new Map,r)(t),r},cp=typeof structuredClone=="function"?(t,e)=>e&&("json"in e||"lossy"in e)?yC(vC(t,e)):structuredClone(t):(t,e)=>yC(vC(t,e));function SY(t,e){const n=[{type:"text",value:""}];return e>1&&n.push({type:"element",tagName:"sup",properties:{},children:[{type:"text",value:String(e)}]}),n}function CY(t,e){return"Back to reference "+(t+1)+(e>1?"-"+e:"")}function TY(t){const e=typeof t.options.clobberPrefix=="string"?t.options.clobberPrefix:"user-content-",n=t.options.footnoteBackContent||SY,r=t.options.footnoteBackLabel||CY,i=t.options.footnoteLabel||"Footnotes",s=t.options.footnoteLabelTagName||"h2",a=t.options.footnoteLabelProperties||{className:["sr-only"]},o=[];let l=-1;for(;++l<t.footnoteOrder.length;){const u=t.footnoteById.get(t.footnoteOrder[l]);if(!u)continue;const c=t.all(u),d=String(u.identifier).toUpperCase(),f=tl(d.toLowerCase());let h=0;const p=[],y=t.footnoteCounts.get(d);for(;y!==void 0&&++h<=y;){p.length>0&&p.push({type:"text",value:" "});let g=typeof n=="string"?n:n(l,h);typeof g=="string"&&(g={type:"text",value:g}),p.push({type:"element",tagName:"a",properties:{href:"#"+e+"fnref-"+f+(h>1?"-"+h:""),dataFootnoteBackref:"",ariaLabel:typeof r=="string"?r:r(l,h),className:["data-footnote-backref"]},children:Array.isArray(g)?g:[g]})}const b=c[c.length-1];if(b&&b.type==="element"&&b.tagName==="p"){const g=b.children[b.children.length-1];g&&g.type==="text"?g.value+=" ":b.children.push({type:"text",value:" "}),b.children.push(...p)}else c.push(...p);const m={type:"element",tagName:"li",properties:{id:e+"fn-"+f},children:t.wrap(c,!0)};t.patch(u,m),o.push(m)}if(o.length!==0)return{type:"element",tagName:"section",properties:{dataFootnotes:!0,className:["footnotes"]},children:[{type:"element",tagName:s,properties:{...cp(a),id:"footnote-label"},children:[{type:"text",value:i}]},{type:"text",value:`
`},{type:"element",tagName:"ol",properties:{},children:t.wrap(o,!0)},{type:"text",value:`
`}]}}const vm=function(t){if(t==null)return IY;if(typeof t=="function")return bm(t);if(typeof t=="object")return Array.isArray(t)?PY(t):EY(t);if(typeof t=="string")return AY(t);throw new Error("Expected function, string, or object as test")};function PY(t){const e=[];let n=-1;for(;++n<t.length;)e[n]=vm(t[n]);return bm(r);function r(...i){let s=-1;for(;++s<e.length;)if(e[s].apply(this,i))return!0;return!1}}function EY(t){const e=t;return bm(n);function n(r){const i=r;let s;for(s in t)if(i[s]!==e[s])return!1;return!0}}function AY(t){return bm(e);function e(n){return n&&n.type===t}}function bm(t){return e;function e(n,r,i){return!!(OY(n)&&t.call(this,n,typeof r=="number"?r:void 0,i||void 0))}}function IY(){return!0}function OY(t){return t!==null&&typeof t=="object"&&"type"in t}const NR=[],RY=!0,m0=!1,$Y="skip";function jR(t,e,n,r){let i;typeof e=="function"&&typeof n!="function"?(r=n,n=e):i=e;const s=vm(i),a=r?-1:1;o(t,void 0,[])();function o(l,u,c){const d=l&&typeof l=="object"?l:{};if(typeof d.type=="string"){const h=typeof d.tagName=="string"?d.tagName:typeof d.name=="string"?d.name:void 0;Object.defineProperty(f,"name",{value:"node ("+(l.type+(h?"<"+h+">":""))+")"})}return f;function f(){let h=NR,p,y,b;if((!e||s(l,u,c[c.length-1]||void 0))&&(h=NY(n(l,c)),h[0]===m0))return h;if("children"in l&&l.children){const m=l;if(m.children&&h[0]!==$Y)for(y=(r?m.children.length:-1)+a,b=c.concat(m);y>-1&&y<m.children.length;){const g=m.children[y];if(p=o(g,y,b)(),p[0]===m0)return p;y=typeof p[1]=="number"?p[1]:y+a}}return h}}}function NY(t){return Array.isArray(t)?t:typeof t=="number"?[RY,t]:t==null?NR:[t]}function u_(t,e,n,r){let i,s,a;typeof e=="function"&&typeof n!="function"?(s=void 0,a=e,i=n):(s=e,a=n,i=r),jR(t,s,o,i);function o(l,u){const c=u[u.length-1],d=c?c.children.indexOf(l):void 0;return a(l,d,c)}}const g0={}.hasOwnProperty,jY={};function MY(t,e){const n=e||jY,r=new Map,i=new Map,s=new Map,a={...bY,...n.handlers},o={all:u,applyData:zY,definitionById:r,footnoteById:i,footnoteCounts:s,footnoteOrder:[],handlers:a,one:l,options:n,patch:LY,wrap:FY};return u_(t,function(c){if(c.type==="definition"||c.type==="footnoteDefinition"){const d=c.type==="definition"?r:i,f=String(c.identifier).toUpperCase();d.has(f)||d.set(f,c)}}),o;function l(c,d){const f=c.type,h=o.handlers[f];if(g0.call(o.handlers,f)&&h)return h(o,c,d);if(o.options.passThrough&&o.options.passThrough.includes(f)){if("children"in c){const{children:y,...b}=c,m=cp(b);return m.children=o.all(c),m}return cp(c)}return(o.options.unknownHandler||DY)(o,c,d)}function u(c){const d=[];if("children"in c){const f=c.children;let h=-1;for(;++h<f.length;){const p=o.one(f[h],c);if(p){if(h&&f[h-1].type==="break"&&(!Array.isArray(p)&&p.type==="text"&&(p.value=bC(p.value)),!Array.isArray(p)&&p.type==="element")){const y=p.children[0];y&&y.type==="text"&&(y.value=bC(y.value))}Array.isArray(p)?d.push(...p):d.push(p)}}}return d}}function LY(t,e){t.position&&(e.position=kK(t))}function zY(t,e){let n=e;if(t&&t.data){const r=t.data.hName,i=t.data.hChildren,s=t.data.hProperties;if(typeof r=="string")if(n.type==="element")n.tagName=r;else{const a="children"in n?n.children:[n];n={type:"element",tagName:r,properties:{},children:a}}n.type==="element"&&s&&Object.assign(n.properties,cp(s)),"children"in n&&n.children&&i!==null&&i!==void 0&&(n.children=i)}return n}function DY(t,e){const n=e.data||{},r="value"in e&&!(g0.call(n,"hProperties")||g0.call(n,"hChildren"))?{type:"text",value:e.value}:{type:"element",tagName:"div",properties:{},children:t.all(e)};return t.patch(e,r),t.applyData(e,r)}function FY(t,e){const n=[];let r=-1;for(e&&n.push({type:"text",value:`
`});++r<t.length;)r&&n.push({type:"text",value:`
`}),n.push(t[r]);return e&&t.length>0&&n.push({type:"text",value:`
`}),n}function bC(t){let e=0,n=t.charCodeAt(e);for(;n===9||n===32;)e++,n=t.charCodeAt(e);return t.slice(e)}function wC(t,e){const n=MY(t,e),r=n.one(t,void 0),i=TY(n),s=Array.isArray(r)?{type:"root",children:r}:r||{type:"root",children:[]};return i&&s.children.push({type:"text",value:`
`},i),s}function BY(t,e){return t&&"run"in t?async function(n,r){const i=wC(n,{file:r,...e});await t.run(i,r)}:function(n,r){return wC(n,{file:r,...e||t})}}function _C(t){if(t)throw t}var Pf=Object.prototype.hasOwnProperty,MR=Object.prototype.toString,xC=Object.defineProperty,kC=Object.getOwnPropertyDescriptor,SC=function(e){return typeof Array.isArray=="function"?Array.isArray(e):MR.call(e)==="[object Array]"},CC=function(e){if(!e||MR.call(e)!=="[object Object]")return!1;var n=Pf.call(e,"constructor"),r=e.constructor&&e.constructor.prototype&&Pf.call(e.constructor.prototype,"isPrototypeOf");if(e.constructor&&!n&&!r)return!1;var i;for(i in e);return typeof i>"u"||Pf.call(e,i)},TC=function(e,n){xC&&n.name==="__proto__"?xC(e,n.name,{enumerable:!0,configurable:!0,value:n.newValue,writable:!0}):e[n.name]=n.newValue},PC=function(e,n){if(n==="__proto__")if(Pf.call(e,n)){if(kC)return kC(e,n).value}else return;return e[n]},VY=function t(){var e,n,r,i,s,a,o=arguments[0],l=1,u=arguments.length,c=!1;for(typeof o=="boolean"&&(c=o,o=arguments[1]||{},l=2),(o==null||typeof o!="object"&&typeof o!="function")&&(o={});l<u;++l)if(e=arguments[l],e!=null)for(n in e)r=PC(o,n),i=PC(e,n),o!==i&&(c&&i&&(CC(i)||(s=SC(i)))?(s?(s=!1,a=r&&SC(r)?r:[]):a=r&&CC(r)?r:{},TC(o,{name:n,newValue:t(c,a,i)})):typeof i<"u"&&TC(o,{name:n,newValue:i}));return o};const ry=va(VY);function y0(t){if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)}function UY(){const t=[],e={run:n,use:r};return e;function n(...i){let s=-1;const a=i.pop();if(typeof a!="function")throw new TypeError("Expected function as last argument, not "+a);o(null,...i);function o(l,...u){const c=t[++s];let d=-1;if(l){a(l);return}for(;++d<i.length;)(u[d]===null||u[d]===void 0)&&(u[d]=i[d]);i=u,c?HY(c,o)(...u):a(null,...u)}}function r(i){if(typeof i!="function")throw new TypeError("Expected `middelware` to be a function, not "+i);return t.push(i),e}}function HY(t,e){let n;return r;function r(...a){const o=t.length>a.length;let l;o&&a.push(i);try{l=t.apply(this,a)}catch(u){const c=u;if(o&&n)throw c;return i(c)}o||(l&&l.then&&typeof l.then=="function"?l.then(s,i):l instanceof Error?i(l):s(l))}function i(a,...o){n||(n=!0,e(a,...o))}function s(a){i(null,a)}}const Dr={basename:WY,dirname:qY,extname:ZY,join:GY,sep:"/"};function WY(t,e){if(e!==void 0&&typeof e!="string")throw new TypeError('"ext" argument must be a string');zc(t);let n=0,r=-1,i=t.length,s;if(e===void 0||e.length===0||e.length>t.length){for(;i--;)if(t.codePointAt(i)===47){if(s){n=i+1;break}}else r<0&&(s=!0,r=i+1);return r<0?"":t.slice(n,r)}if(e===t)return"";let a=-1,o=e.length-1;for(;i--;)if(t.codePointAt(i)===47){if(s){n=i+1;break}}else a<0&&(s=!0,a=i+1),o>-1&&(t.codePointAt(i)===e.codePointAt(o--)?o<0&&(r=i):(o=-1,r=a));return n===r?r=a:r<0&&(r=t.length),t.slice(n,r)}function qY(t){if(zc(t),t.length===0)return".";let e=-1,n=t.length,r;for(;--n;)if(t.codePointAt(n)===47){if(r){e=n;break}}else r||(r=!0);return e<0?t.codePointAt(0)===47?"/":".":e===1&&t.codePointAt(0)===47?"//":t.slice(0,e)}function ZY(t){zc(t);let e=t.length,n=-1,r=0,i=-1,s=0,a;for(;e--;){const o=t.codePointAt(e);if(o===47){if(a){r=e+1;break}continue}n<0&&(a=!0,n=e+1),o===46?i<0?i=e:s!==1&&(s=1):i>-1&&(s=-1)}return i<0||n<0||s===0||s===1&&i===n-1&&i===r+1?"":t.slice(i,n)}function GY(...t){let e=-1,n;for(;++e<t.length;)zc(t[e]),t[e]&&(n=n===void 0?t[e]:n+"/"+t[e]);return n===void 0?".":KY(n)}function KY(t){zc(t);const e=t.codePointAt(0)===47;let n=JY(t,!e);return n.length===0&&!e&&(n="."),n.length>0&&t.codePointAt(t.length-1)===47&&(n+="/"),e?"/"+n:n}function JY(t,e){let n="",r=0,i=-1,s=0,a=-1,o,l;for(;++a<=t.length;){if(a<t.length)o=t.codePointAt(a);else{if(o===47)break;o=47}if(o===47){if(!(i===a-1||s===1))if(i!==a-1&&s===2){if(n.length<2||r!==2||n.codePointAt(n.length-1)!==46||n.codePointAt(n.length-2)!==46){if(n.length>2){if(l=n.lastIndexOf("/"),l!==n.length-1){l<0?(n="",r=0):(n=n.slice(0,l),r=n.length-1-n.lastIndexOf("/")),i=a,s=0;continue}}else if(n.length>0){n="",r=0,i=a,s=0;continue}}e&&(n=n.length>0?n+"/..":"..",r=2)}else n.length>0?n+="/"+t.slice(i+1,a):n=t.slice(i+1,a),r=a-i-1;i=a,s=0}else o===46&&s>-1?s++:s=-1}return n}function zc(t){if(typeof t!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(t))}const XY={cwd:YY};function YY(){return"/"}function v0(t){return!!(t!==null&&typeof t=="object"&&"href"in t&&t.href&&"protocol"in t&&t.protocol&&t.auth===void 0)}function QY(t){if(typeof t=="string")t=new URL(t);else if(!v0(t)){const e=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+t+"`");throw e.code="ERR_INVALID_ARG_TYPE",e}if(t.protocol!=="file:"){const e=new TypeError("The URL must be of scheme file");throw e.code="ERR_INVALID_URL_SCHEME",e}return eQ(t)}function eQ(t){if(t.hostname!==""){const r=new TypeError('File URL host must be "localhost" or empty on darwin');throw r.code="ERR_INVALID_FILE_URL_HOST",r}const e=t.pathname;let n=-1;for(;++n<e.length;)if(e.codePointAt(n)===37&&e.codePointAt(n+1)===50){const r=e.codePointAt(n+2);if(r===70||r===102){const i=new TypeError("File URL path must not include encoded / characters");throw i.code="ERR_INVALID_FILE_URL_PATH",i}}return decodeURIComponent(e)}const iy=["history","path","basename","stem","extname","dirname"];class LR{constructor(e){let n;e?v0(e)?n={path:e}:typeof e=="string"||tQ(e)?n={value:e}:n=e:n={},this.cwd=XY.cwd(),this.data={},this.history=[],this.messages=[],this.value,this.map,this.result,this.stored;let r=-1;for(;++r<iy.length;){const s=iy[r];s in n&&n[s]!==void 0&&n[s]!==null&&(this[s]=s==="history"?[...n[s]]:n[s])}let i;for(i in n)iy.includes(i)||(this[i]=n[i])}get basename(){return typeof this.path=="string"?Dr.basename(this.path):void 0}set basename(e){ay(e,"basename"),sy(e,"basename"),this.path=Dr.join(this.dirname||"",e)}get dirname(){return typeof this.path=="string"?Dr.dirname(this.path):void 0}set dirname(e){EC(this.basename,"dirname"),this.path=Dr.join(e||"",this.basename)}get extname(){return typeof this.path=="string"?Dr.extname(this.path):void 0}set extname(e){if(sy(e,"extname"),EC(this.dirname,"extname"),e){if(e.codePointAt(0)!==46)throw new Error("`extname` must start with `.`");if(e.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=Dr.join(this.dirname,this.stem+(e||""))}get path(){return this.history[this.history.length-1]}set path(e){v0(e)&&(e=QY(e)),ay(e,"path"),this.path!==e&&this.history.push(e)}get stem(){return typeof this.path=="string"?Dr.basename(this.path,this.extname):void 0}set stem(e){ay(e,"stem"),sy(e,"stem"),this.path=Dr.join(this.dirname||"",e+(this.extname||""))}fail(e,n,r){const i=this.message(e,n,r);throw i.fatal=!0,i}info(e,n,r){const i=this.message(e,n,r);return i.fatal=void 0,i}message(e,n,r){const i=new Zt(e,n,r);return this.path&&(i.name=this.path+":"+i.name,i.file=this.path),i.fatal=!1,this.messages.push(i),i}toString(e){return this.value===void 0?"":typeof this.value=="string"?this.value:new TextDecoder(e||void 0).decode(this.value)}}function sy(t,e){if(t&&t.includes(Dr.sep))throw new Error("`"+e+"` cannot be a path: did not expect `"+Dr.sep+"`")}function ay(t,e){if(!t)throw new Error("`"+e+"` cannot be empty")}function EC(t,e){if(!t)throw new Error("Setting `"+e+"` requires `path` to be set too")}function tQ(t){return!!(t&&typeof t=="object"&&"byteLength"in t&&"byteOffset"in t)}const nQ=function(t){const r=this.constructor.prototype,i=r[t],s=function(){return i.apply(s,arguments)};Object.setPrototypeOf(s,r);const a=Object.getOwnPropertyNames(i);for(const o of a){const l=Object.getOwnPropertyDescriptor(i,o);l&&Object.defineProperty(s,o,l)}return s},rQ={}.hasOwnProperty;class c_ extends nQ{constructor(){super("copy"),this.Compiler=void 0,this.Parser=void 0,this.attachers=[],this.compiler=void 0,this.freezeIndex=-1,this.frozen=void 0,this.namespace={},this.parser=void 0,this.transformers=UY()}copy(){const e=new c_;let n=-1;for(;++n<this.attachers.length;){const r=this.attachers[n];e.use(...r)}return e.data(ry(!0,{},this.namespace)),e}data(e,n){return typeof e=="string"?arguments.length===2?(uy("data",this.frozen),this.namespace[e]=n,this):rQ.call(this.namespace,e)&&this.namespace[e]||void 0:e?(uy("data",this.frozen),this.namespace=e,this):this.namespace}freeze(){if(this.frozen)return this;const e=this;for(;++this.freezeIndex<this.attachers.length;){const[n,...r]=this.attachers[this.freezeIndex];if(r[0]===!1)continue;r[0]===!0&&(r[0]=void 0);const i=n.call(e,...r);typeof i=="function"&&this.transformers.use(i)}return this.frozen=!0,this.freezeIndex=Number.POSITIVE_INFINITY,this}parse(e){this.freeze();const n=jd(e),r=this.parser||this.Parser;return oy("parse",r),r(String(n),n)}process(e,n){const r=this;return this.freeze(),oy("process",this.parser||this.Parser),ly("process",this.compiler||this.Compiler),n?i(void 0,n):new Promise(i);function i(s,a){const o=jd(e),l=r.parse(o);r.run(l,o,function(c,d,f){if(c||!d||!f)return u(c);const h=d,p=r.stringify(h,f);aQ(p)?f.value=p:f.result=p,u(c,f)});function u(c,d){c||!d?a(c):s?s(d):n(void 0,d)}}}processSync(e){let n=!1,r;return this.freeze(),oy("processSync",this.parser||this.Parser),ly("processSync",this.compiler||this.Compiler),this.process(e,i),IC("processSync","process",n),r;function i(s,a){n=!0,_C(s),r=a}}run(e,n,r){AC(e),this.freeze();const i=this.transformers;return!r&&typeof n=="function"&&(r=n,n=void 0),r?s(void 0,r):new Promise(s);function s(a,o){const l=jd(n);i.run(e,l,u);function u(c,d,f){const h=d||e;c?o(c):a?a(h):r(void 0,h,f)}}}runSync(e,n){let r=!1,i;return this.run(e,n,s),IC("runSync","run",r),i;function s(a,o){_C(a),i=o,r=!0}}stringify(e,n){this.freeze();const r=jd(n),i=this.compiler||this.Compiler;return ly("stringify",i),AC(e),i(e,r)}use(e,...n){const r=this.attachers,i=this.namespace;if(uy("use",this.frozen),e!=null)if(typeof e=="function")l(e,n);else if(typeof e=="object")Array.isArray(e)?o(e):a(e);else throw new TypeError("Expected usable value, not `"+e+"`");return this;function s(u){if(typeof u=="function")l(u,[]);else if(typeof u=="object")if(Array.isArray(u)){const[c,...d]=u;l(c,d)}else a(u);else throw new TypeError("Expected usable value, not `"+u+"`")}function a(u){if(!("plugins"in u)&&!("settings"in u))throw new Error("Expected usable value but received an empty preset, which is probably a mistake: presets typically come with `plugins` and sometimes with `settings`, but this has neither");o(u.plugins),u.settings&&(i.settings=ry(!0,i.settings,u.settings))}function o(u){let c=-1;if(u!=null)if(Array.isArray(u))for(;++c<u.length;){const d=u[c];s(d)}else throw new TypeError("Expected a list of plugins, not `"+u+"`")}function l(u,c){let d=-1,f=-1;for(;++d<r.length;)if(r[d][0]===u){f=d;break}if(f===-1)r.push([u,...c]);else if(c.length>0){let[h,...p]=c;const y=r[f][1];y0(y)&&y0(h)&&(h=ry(!0,y,h)),r[f]=[u,h,...p]}}}}const iQ=new c_().freeze();function oy(t,e){if(typeof e!="function")throw new TypeError("Cannot `"+t+"` without `parser`")}function ly(t,e){if(typeof e!="function")throw new TypeError("Cannot `"+t+"` without `compiler`")}function uy(t,e){if(e)throw new Error("Cannot call `"+t+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function AC(t){if(!y0(t)||typeof t.type!="string")throw new TypeError("Expected node, got `"+t+"`")}function IC(t,e,n){if(!n)throw new Error("`"+t+"` finished async. Use `"+e+"` instead")}function jd(t){return sQ(t)?t:new LR(t)}function sQ(t){return!!(t&&typeof t=="object"&&"message"in t&&"messages"in t)}function aQ(t){return typeof t=="string"||oQ(t)}function oQ(t){return!!(t&&typeof t=="object"&&"byteLength"in t&&"byteOffset"in t)}const lQ="https://github.com/remarkjs/react-markdown/blob/main/changelog.md",OC=[],RC={allowDangerousHtml:!0},uQ=/^(https?|ircs?|mailto|xmpp)$/i,cQ=[{from:"astPlugins",id:"remove-buggy-html-in-markdown-parser"},{from:"allowDangerousHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"allowNode",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowElement"},{from:"allowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowedElements"},{from:"disallowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"disallowedElements"},{from:"escapeHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"includeElementIndex",id:"#remove-includeelementindex"},{from:"includeNodeIndex",id:"change-includenodeindex-to-includeelementindex"},{from:"linkTarget",id:"remove-linktarget"},{from:"plugins",id:"change-plugins-to-remarkplugins",to:"remarkPlugins"},{from:"rawSourcePos",id:"#remove-rawsourcepos"},{from:"renderers",id:"change-renderers-to-components",to:"components"},{from:"source",id:"change-source-to-children",to:"children"},{from:"sourcePos",id:"#remove-sourcepos"},{from:"transformImageUri",id:"#add-urltransform",to:"urlTransform"},{from:"transformLinkUri",id:"#add-urltransform",to:"urlTransform"}];function dQ(t){const e=t.allowedElements,n=t.allowElement,r=t.children||"",i=t.className,s=t.components,a=t.disallowedElements,o=t.rehypePlugins||OC,l=t.remarkPlugins||OC,u=t.remarkRehypeOptions?{...t.remarkRehypeOptions,...RC}:RC,c=t.skipHtml,d=t.unwrapDisallowed,f=t.urlTransform||fQ,h=iQ().use(ZX).use(l).use(BY,u).use(o),p=new LR;typeof r=="string"&&(p.value=r);for(const g of cQ)Object.hasOwn(t,g.from)&&(""+g.from+(g.to?"use `"+g.to+"` instead":"remove it")+lQ+g.id,void 0);const y=h.parse(p);let b=h.runSync(y,p);return i&&(b={type:"element",tagName:"div",properties:{className:i},children:b.type==="root"?b.children:[b]}),u_(b,m),AK(b,{Fragment:O.Fragment,components:s,ignoreInvalidStyle:!0,jsx:O.jsx,jsxs:O.jsxs,passKeys:!0,passNode:!0});function m(g,v,x){if(g.type==="raw"&&x&&typeof v=="number")return c?x.children.splice(v,1):x.children[v]={type:"text",value:g.value},v;if(g.type==="element"){let C;for(C in ey)if(Object.hasOwn(ey,C)&&Object.hasOwn(g.properties,C)){const k=g.properties[C],I=ey[C];(I===null||I.includes(g.tagName))&&(g.properties[C]=f(String(k||""),C,g))}}if(g.type==="element"){let C=e?!e.includes(g.tagName):a?a.includes(g.tagName):!1;if(!C&&n&&typeof v=="number"&&(C=!n(g,v,x)),C&&x&&typeof v=="number")return d&&g.children?x.children.splice(v,1,...g.children):x.children.splice(v,1),v}}}function fQ(t){const e=t.indexOf(":"),n=t.indexOf("?"),r=t.indexOf("#"),i=t.indexOf("/");return e<0||i>-1&&e>i||n>-1&&e>n||r>-1&&e>r||uQ.test(t.slice(0,e))?t:""}function $C(t,e){const n=String(t);if(typeof e!="string")throw new TypeError("Expected character");let r=0,i=n.indexOf(e);for(;i!==-1;)r++,i=n.indexOf(e,i+e.length);return r}function hQ(t){if(typeof t!="string")throw new TypeError("Expected a string");return t.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d")}function pQ(t,e,n){const i=vm((n||{}).ignore||[]),s=mQ(e);let a=-1;for(;++a<s.length;)jR(t,"text",o);function o(u,c){let d=-1,f;for(;++d<c.length;){const h=c[d],p=f?f.children:void 0;if(i(h,p?p.indexOf(h):void 0,f))return;f=h}if(f)return l(u,c)}function l(u,c){const d=c[c.length-1],f=s[a][0],h=s[a][1];let p=0;const b=d.children.indexOf(u);let m=!1,g=[];f.lastIndex=0;let v=f.exec(u.value);for(;v;){const x=v.index,C={index:v.index,input:v.input,stack:[...c,u]};let k=h(...v,C);if(typeof k=="string"&&(k=k.length>0?{type:"text",value:k}:void 0),k===!1?f.lastIndex=x+1:(p!==x&&g.push({type:"text",value:u.value.slice(p,x)}),Array.isArray(k)?g.push(...k):k&&g.push(k),p=x+v[0].length,m=!0),!f.global)break;v=f.exec(u.value)}return m?(p<u.value.length&&g.push({type:"text",value:u.value.slice(p)}),d.children.splice(b,1,...g)):g=[u],b+g.length}}function mQ(t){const e=[];if(!Array.isArray(t))throw new TypeError("Expected find and replace tuple or list of tuples");const n=!t[0]||Array.isArray(t[0])?t:[t];let r=-1;for(;++r<n.length;){const i=n[r];e.push([gQ(i[0]),yQ(i[1])])}return e}function gQ(t){return typeof t=="string"?new RegExp(hQ(t),"g"):t}function yQ(t){return typeof t=="function"?t:function(){return t}}const cy="phrasing",dy=["autolink","link","image","label"];function vQ(){return{transforms:[CQ],enter:{literalAutolink:wQ,literalAutolinkEmail:fy,literalAutolinkHttp:fy,literalAutolinkWww:fy},exit:{literalAutolink:SQ,literalAutolinkEmail:kQ,literalAutolinkHttp:_Q,literalAutolinkWww:xQ}}}function bQ(){return{unsafe:[{character:"@",before:"[+\\-.\\w]",after:"[\\-.\\w]",inConstruct:cy,notInConstruct:dy},{character:".",before:"[Ww]",after:"[\\-.\\w]",inConstruct:cy,notInConstruct:dy},{character:":",before:"[ps]",after:"\\/",inConstruct:cy,notInConstruct:dy}]}}function wQ(t){this.enter({type:"link",title:null,url:"",children:[]},t)}function fy(t){this.config.enter.autolinkProtocol.call(this,t)}function _Q(t){this.config.exit.autolinkProtocol.call(this,t)}function xQ(t){this.config.exit.data.call(this,t);const e=this.stack[this.stack.length-1];e.type,e.url="http://"+this.sliceSerialize(t)}function kQ(t){this.config.exit.autolinkEmail.call(this,t)}function SQ(t){this.exit(t)}function CQ(t){pQ(t,[[/(https?:\/\/|www(?=\.))([-.\w]+)([^ \t\r\n]*)/gi,TQ],[/([-.\w+]+)@([-\w]+(?:\.[-\w]+)+)/g,PQ]],{ignore:["link","linkReference"]})}function TQ(t,e,n,r,i){let s="";if(!zR(i)||(/^w/i.test(e)&&(n=e+n,e="",s="http://"),!EQ(n)))return!1;const a=AQ(n+r);if(!a[0])return!1;const o={type:"link",title:null,url:s+e+a[0],children:[{type:"text",value:e+a[0]}]};return a[1]?[o,{type:"text",value:a[1]}]:o}function PQ(t,e,n,r){return!zR(r,!0)||/[-\d_]$/.test(n)?!1:{type:"link",title:null,url:"mailto:"+e+"@"+n,children:[{type:"text",value:e+"@"+n}]}}function EQ(t){const e=t.split(".");return!(e.length<2||e[e.length-1]&&(/_/.test(e[e.length-1])||!/[a-zA-Z\d]/.test(e[e.length-1]))||e[e.length-2]&&(/_/.test(e[e.length-2])||!/[a-zA-Z\d]/.test(e[e.length-2])))}function AQ(t){const e=/[!"&'),.:;<>?\]}]+$/.exec(t);if(!e)return[t,void 0];t=t.slice(0,e.index);let n=e[0],r=n.indexOf(")");const i=$C(t,"(");let s=$C(t,")");for(;r!==-1&&i>s;)t+=n.slice(0,r+1),n=n.slice(r+1),r=n.indexOf(")"),s++;return[t,n]}function zR(t,e){const n=t.input.charCodeAt(t.index-1);return(t.index===0||ya(n)||mm(n))&&(!e||n!==47)}DR.peek=FQ;function IQ(){return{enter:{gfmFootnoteDefinition:RQ,gfmFootnoteDefinitionLabelString:$Q,gfmFootnoteCall:MQ,gfmFootnoteCallString:LQ},exit:{gfmFootnoteDefinition:jQ,gfmFootnoteDefinitionLabelString:NQ,gfmFootnoteCall:DQ,gfmFootnoteCallString:zQ}}}function OQ(){return{unsafe:[{character:"[",inConstruct:["phrasing","label","reference"]}],handlers:{footnoteDefinition:BQ,footnoteReference:DR}}}function RQ(t){this.enter({type:"footnoteDefinition",identifier:"",label:"",children:[]},t)}function $Q(){this.buffer()}function NQ(t){const e=this.resume(),n=this.stack[this.stack.length-1];n.type,n.label=e,n.identifier=Pr(this.sliceSerialize(t)).toLowerCase()}function jQ(t){this.exit(t)}function MQ(t){this.enter({type:"footnoteReference",identifier:"",label:""},t)}function LQ(){this.buffer()}function zQ(t){const e=this.resume(),n=this.stack[this.stack.length-1];n.type,n.label=e,n.identifier=Pr(this.sliceSerialize(t)).toLowerCase()}function DQ(t){this.exit(t)}function DR(t,e,n,r){const i=n.createTracker(r);let s=i.move("[^");const a=n.enter("footnoteReference"),o=n.enter("reference");return s+=i.move(n.safe(n.associationId(t),{...i.current(),before:s,after:"]"})),o(),a(),s+=i.move("]"),s}function FQ(){return"["}function BQ(t,e,n,r){const i=n.createTracker(r);let s=i.move("[^");const a=n.enter("footnoteDefinition"),o=n.enter("label");return s+=i.move(n.safe(n.associationId(t),{...i.current(),before:s,after:"]"})),o(),s+=i.move("]:"+(t.children&&t.children.length>0?" ":"")),i.shift(4),s+=i.move(n.indentLines(n.containerFlow(t,i.current()),VQ)),a(),s}function VQ(t,e,n){return e===0?t:(n?"":"    ")+t}const UQ=["autolink","destinationLiteral","destinationRaw","reference","titleQuote","titleApostrophe"];FR.peek=GQ;function HQ(){return{canContainEols:["delete"],enter:{strikethrough:qQ},exit:{strikethrough:ZQ}}}function WQ(){return{unsafe:[{character:"~",inConstruct:"phrasing",notInConstruct:UQ}],handlers:{delete:FR}}}function qQ(t){this.enter({type:"delete",children:[]},t)}function ZQ(t){this.exit(t)}function FR(t,e,n,r){const i=n.createTracker(r),s=n.enter("strikethrough");let a=i.move("~~");return a+=n.containerPhrasing(t,{...i.current(),before:a,after:"~"}),a+=i.move("~~"),s(),a}function GQ(){return"~"}function KQ(t,e={}){const n=(e.align||[]).concat(),r=e.stringLength||XQ,i=[],s=[],a=[],o=[];let l=0,u=-1;for(;++u<t.length;){const p=[],y=[];let b=-1;for(t[u].length>l&&(l=t[u].length);++b<t[u].length;){const m=JQ(t[u][b]);if(e.alignDelimiters!==!1){const g=r(m);y[b]=g,(o[b]===void 0||g>o[b])&&(o[b]=g)}p.push(m)}s[u]=p,a[u]=y}let c=-1;if(typeof n=="object"&&"length"in n)for(;++c<l;)i[c]=NC(n[c]);else{const p=NC(n);for(;++c<l;)i[c]=p}c=-1;const d=[],f=[];for(;++c<l;){const p=i[c];let y="",b="";p===99?(y=":",b=":"):p===108?y=":":p===114&&(b=":");let m=e.alignDelimiters===!1?1:Math.max(1,o[c]-y.length-b.length);const g=y+"-".repeat(m)+b;e.alignDelimiters!==!1&&(m=y.length+m+b.length,m>o[c]&&(o[c]=m),f[c]=m),d[c]=g}s.splice(1,0,d),a.splice(1,0,f),u=-1;const h=[];for(;++u<s.length;){const p=s[u],y=a[u];c=-1;const b=[];for(;++c<l;){const m=p[c]||"";let g="",v="";if(e.alignDelimiters!==!1){const x=o[c]-(y[c]||0),C=i[c];C===114?g=" ".repeat(x):C===99?x%2?(g=" ".repeat(x/2+.5),v=" ".repeat(x/2-.5)):(g=" ".repeat(x/2),v=g):v=" ".repeat(x)}e.delimiterStart!==!1&&!c&&b.push("|"),e.padding!==!1&&!(e.alignDelimiters===!1&&m==="")&&(e.delimiterStart!==!1||c)&&b.push(" "),e.alignDelimiters!==!1&&b.push(g),b.push(m),e.alignDelimiters!==!1&&b.push(v),e.padding!==!1&&b.push(" "),(e.delimiterEnd!==!1||c!==l-1)&&b.push("|")}h.push(e.delimiterEnd===!1?b.join("").replace(/ +$/,""):b.join(""))}return h.join(`
`)}function JQ(t){return t==null?"":String(t)}function XQ(t){return t.length}function NC(t){const e=typeof t=="string"?t.codePointAt(0):0;return e===67||e===99?99:e===76||e===108?108:e===82||e===114?114:0}function YQ(t,e,n,r){const i=n.enter("blockquote"),s=n.createTracker(r);s.move("> "),s.shift(2);const a=n.indentLines(n.containerFlow(t,s.current()),QQ);return i(),a}function QQ(t,e,n){return">"+(n?"":" ")+t}function eee(t,e){return jC(t,e.inConstruct,!0)&&!jC(t,e.notInConstruct,!1)}function jC(t,e,n){if(typeof e=="string"&&(e=[e]),!e||e.length===0)return n;let r=-1;for(;++r<e.length;)if(t.includes(e[r]))return!0;return!1}function MC(t,e,n,r){let i=-1;for(;++i<n.unsafe.length;)if(n.unsafe[i].character===`
`&&eee(n.stack,n.unsafe[i]))return/[ \t]/.test(r.before)?"":" ";return`\\
`}function tee(t,e){const n=String(t);let r=n.indexOf(e),i=r,s=0,a=0;if(typeof e!="string")throw new TypeError("Expected substring");for(;r!==-1;)r===i?++s>a&&(a=s):s=1,i=r+e.length,r=n.indexOf(e,i);return a}function nee(t,e){return!!(e.options.fences===!1&&t.value&&!t.lang&&/[^ \r\n]/.test(t.value)&&!/^[\t ]*(?:[\r\n]|$)|(?:^|[\r\n])[\t ]*$/.test(t.value))}function ree(t){const e=t.options.fence||"`";if(e!=="`"&&e!=="~")throw new Error("Cannot serialize code with `"+e+"` for `options.fence`, expected `` ` `` or `~`");return e}function iee(t,e,n,r){const i=ree(n),s=t.value||"",a=i==="`"?"GraveAccent":"Tilde";if(nee(t,n)){const d=n.enter("codeIndented"),f=n.indentLines(s,see);return d(),f}const o=n.createTracker(r),l=i.repeat(Math.max(tee(s,i)+1,3)),u=n.enter("codeFenced");let c=o.move(l);if(t.lang){const d=n.enter(`codeFencedLang${a}`);c+=o.move(n.safe(t.lang,{before:c,after:" ",encode:["`"],...o.current()})),d()}if(t.lang&&t.meta){const d=n.enter(`codeFencedMeta${a}`);c+=o.move(" "),c+=o.move(n.safe(t.meta,{before:c,after:`
`,encode:["`"],...o.current()})),d()}return c+=o.move(`
`),s&&(c+=o.move(s+`
`)),c+=o.move(l),u(),c}function see(t,e,n){return(n?"":"    ")+t}function d_(t){const e=t.options.quote||'"';if(e!=='"'&&e!=="'")throw new Error("Cannot serialize title with `"+e+"` for `options.quote`, expected `\"`, or `'`");return e}function aee(t,e,n,r){const i=d_(n),s=i==='"'?"Quote":"Apostrophe",a=n.enter("definition");let o=n.enter("label");const l=n.createTracker(r);let u=l.move("[");return u+=l.move(n.safe(n.associationId(t),{before:u,after:"]",...l.current()})),u+=l.move("]: "),o(),!t.url||/[\0- \u007F]/.test(t.url)?(o=n.enter("destinationLiteral"),u+=l.move("<"),u+=l.move(n.safe(t.url,{before:u,after:">",...l.current()})),u+=l.move(">")):(o=n.enter("destinationRaw"),u+=l.move(n.safe(t.url,{before:u,after:t.title?" ":`
`,...l.current()}))),o(),t.title&&(o=n.enter(`title${s}`),u+=l.move(" "+i),u+=l.move(n.safe(t.title,{before:u,after:i,...l.current()})),u+=l.move(i),o()),a(),u}function oee(t){const e=t.options.emphasis||"*";if(e!=="*"&&e!=="_")throw new Error("Cannot serialize emphasis with `"+e+"` for `options.emphasis`, expected `*`, or `_`");return e}BR.peek=lee;function BR(t,e,n,r){const i=oee(n),s=n.enter("emphasis"),a=n.createTracker(r);let o=a.move(i);return o+=a.move(n.containerPhrasing(t,{before:o,after:i,...a.current()})),o+=a.move(i),s(),o}function lee(t,e,n){return n.options.emphasis||"*"}function uee(t,e){let n=!1;return u_(t,function(r){if("value"in r&&/\r?\n|\r/.test(r.value)||r.type==="break")return n=!0,m0}),!!((!t.depth||t.depth<3)&&n_(t)&&(e.options.setext||n))}function cee(t,e,n,r){const i=Math.max(Math.min(6,t.depth||1),1),s=n.createTracker(r);if(uee(t,n)){const c=n.enter("headingSetext"),d=n.enter("phrasing"),f=n.containerPhrasing(t,{...s.current(),before:`
`,after:`
`});return d(),c(),f+`
`+(i===1?"=":"-").repeat(f.length-(Math.max(f.lastIndexOf("\r"),f.lastIndexOf(`
`))+1))}const a="#".repeat(i),o=n.enter("headingAtx"),l=n.enter("phrasing");s.move(a+" ");let u=n.containerPhrasing(t,{before:"# ",after:`
`,...s.current()});return/^[\t ]/.test(u)&&(u="&#x"+u.charCodeAt(0).toString(16).toUpperCase()+";"+u.slice(1)),u=u?a+" "+u:a,n.options.closeAtx&&(u+=" "+a),l(),o(),u}VR.peek=dee;function VR(t){return t.value||""}function dee(){return"<"}UR.peek=fee;function UR(t,e,n,r){const i=d_(n),s=i==='"'?"Quote":"Apostrophe",a=n.enter("image");let o=n.enter("label");const l=n.createTracker(r);let u=l.move("![");return u+=l.move(n.safe(t.alt,{before:u,after:"]",...l.current()})),u+=l.move("]("),o(),!t.url&&t.title||/[\0- \u007F]/.test(t.url)?(o=n.enter("destinationLiteral"),u+=l.move("<"),u+=l.move(n.safe(t.url,{before:u,after:">",...l.current()})),u+=l.move(">")):(o=n.enter("destinationRaw"),u+=l.move(n.safe(t.url,{before:u,after:t.title?" ":")",...l.current()}))),o(),t.title&&(o=n.enter(`title${s}`),u+=l.move(" "+i),u+=l.move(n.safe(t.title,{before:u,after:i,...l.current()})),u+=l.move(i),o()),u+=l.move(")"),a(),u}function fee(){return"!"}HR.peek=hee;function HR(t,e,n,r){const i=t.referenceType,s=n.enter("imageReference");let a=n.enter("label");const o=n.createTracker(r);let l=o.move("![");const u=n.safe(t.alt,{before:l,after:"]",...o.current()});l+=o.move(u+"]["),a();const c=n.stack;n.stack=[],a=n.enter("reference");const d=n.safe(n.associationId(t),{before:l,after:"]",...o.current()});return a(),n.stack=c,s(),i==="full"||!u||u!==d?l+=o.move(d+"]"):i==="shortcut"?l=l.slice(0,-1):l+=o.move("]"),l}function hee(){return"!"}WR.peek=pee;function WR(t,e,n){let r=t.value||"",i="`",s=-1;for(;new RegExp("(^|[^`])"+i+"([^`]|$)").test(r);)i+="`";for(/[^ \r\n]/.test(r)&&(/^[ \r\n]/.test(r)&&/[ \r\n]$/.test(r)||/^`|`$/.test(r))&&(r=" "+r+" ");++s<n.unsafe.length;){const a=n.unsafe[s],o=n.compilePattern(a);let l;if(a.atBreak)for(;l=o.exec(r);){let u=l.index;r.charCodeAt(u)===10&&r.charCodeAt(u-1)===13&&u--,r=r.slice(0,u)+" "+r.slice(l.index+1)}}return i+r+i}function pee(){return"`"}function qR(t,e){const n=n_(t);return!!(!e.options.resourceLink&&t.url&&!t.title&&t.children&&t.children.length===1&&t.children[0].type==="text"&&(n===t.url||"mailto:"+n===t.url)&&/^[a-z][a-z+.-]+:/i.test(t.url)&&!/[\0- <>\u007F]/.test(t.url))}ZR.peek=mee;function ZR(t,e,n,r){const i=d_(n),s=i==='"'?"Quote":"Apostrophe",a=n.createTracker(r);let o,l;if(qR(t,n)){const c=n.stack;n.stack=[],o=n.enter("autolink");let d=a.move("<");return d+=a.move(n.containerPhrasing(t,{before:d,after:">",...a.current()})),d+=a.move(">"),o(),n.stack=c,d}o=n.enter("link"),l=n.enter("label");let u=a.move("[");return u+=a.move(n.containerPhrasing(t,{before:u,after:"](",...a.current()})),u+=a.move("]("),l(),!t.url&&t.title||/[\0- \u007F]/.test(t.url)?(l=n.enter("destinationLiteral"),u+=a.move("<"),u+=a.move(n.safe(t.url,{before:u,after:">",...a.current()})),u+=a.move(">")):(l=n.enter("destinationRaw"),u+=a.move(n.safe(t.url,{before:u,after:t.title?" ":")",...a.current()}))),l(),t.title&&(l=n.enter(`title${s}`),u+=a.move(" "+i),u+=a.move(n.safe(t.title,{before:u,after:i,...a.current()})),u+=a.move(i),l()),u+=a.move(")"),o(),u}function mee(t,e,n){return qR(t,n)?"<":"["}GR.peek=gee;function GR(t,e,n,r){const i=t.referenceType,s=n.enter("linkReference");let a=n.enter("label");const o=n.createTracker(r);let l=o.move("[");const u=n.containerPhrasing(t,{before:l,after:"]",...o.current()});l+=o.move(u+"]["),a();const c=n.stack;n.stack=[],a=n.enter("reference");const d=n.safe(n.associationId(t),{before:l,after:"]",...o.current()});return a(),n.stack=c,s(),i==="full"||!u||u!==d?l+=o.move(d+"]"):i==="shortcut"?l=l.slice(0,-1):l+=o.move("]"),l}function gee(){return"["}function f_(t){const e=t.options.bullet||"*";if(e!=="*"&&e!=="+"&&e!=="-")throw new Error("Cannot serialize items with `"+e+"` for `options.bullet`, expected `*`, `+`, or `-`");return e}function yee(t){const e=f_(t),n=t.options.bulletOther;if(!n)return e==="*"?"-":"*";if(n!=="*"&&n!=="+"&&n!=="-")throw new Error("Cannot serialize items with `"+n+"` for `options.bulletOther`, expected `*`, `+`, or `-`");if(n===e)throw new Error("Expected `bullet` (`"+e+"`) and `bulletOther` (`"+n+"`) to be different");return n}function vee(t){const e=t.options.bulletOrdered||".";if(e!=="."&&e!==")")throw new Error("Cannot serialize items with `"+e+"` for `options.bulletOrdered`, expected `.` or `)`");return e}function KR(t){const e=t.options.rule||"*";if(e!=="*"&&e!=="-"&&e!=="_")throw new Error("Cannot serialize rules with `"+e+"` for `options.rule`, expected `*`, `-`, or `_`");return e}function bee(t,e,n,r){const i=n.enter("list"),s=n.bulletCurrent;let a=t.ordered?vee(n):f_(n);const o=t.ordered?a==="."?")":".":yee(n);let l=e&&n.bulletLastUsed?a===n.bulletLastUsed:!1;if(!t.ordered){const c=t.children?t.children[0]:void 0;if((a==="*"||a==="-")&&c&&(!c.children||!c.children[0])&&n.stack[n.stack.length-1]==="list"&&n.stack[n.stack.length-2]==="listItem"&&n.stack[n.stack.length-3]==="list"&&n.stack[n.stack.length-4]==="listItem"&&n.indexStack[n.indexStack.length-1]===0&&n.indexStack[n.indexStack.length-2]===0&&n.indexStack[n.indexStack.length-3]===0&&(l=!0),KR(n)===a&&c){let d=-1;for(;++d<t.children.length;){const f=t.children[d];if(f&&f.type==="listItem"&&f.children&&f.children[0]&&f.children[0].type==="thematicBreak"){l=!0;break}}}}l&&(a=o),n.bulletCurrent=a;const u=n.containerFlow(t,r);return n.bulletLastUsed=a,n.bulletCurrent=s,i(),u}function wee(t){const e=t.options.listItemIndent||"one";if(e!=="tab"&&e!=="one"&&e!=="mixed")throw new Error("Cannot serialize items with `"+e+"` for `options.listItemIndent`, expected `tab`, `one`, or `mixed`");return e}function _ee(t,e,n,r){const i=wee(n);let s=n.bulletCurrent||f_(n);e&&e.type==="list"&&e.ordered&&(s=(typeof e.start=="number"&&e.start>-1?e.start:1)+(n.options.incrementListMarker===!1?0:e.children.indexOf(t))+s);let a=s.length+1;(i==="tab"||i==="mixed"&&(e&&e.type==="list"&&e.spread||t.spread))&&(a=Math.ceil(a/4)*4);const o=n.createTracker(r);o.move(s+" ".repeat(a-s.length)),o.shift(a);const l=n.enter("listItem"),u=n.indentLines(n.containerFlow(t,o.current()),c);return l(),u;function c(d,f,h){return f?(h?"":" ".repeat(a))+d:(h?s:s+" ".repeat(a-s.length))+d}}function xee(t,e,n,r){const i=n.enter("paragraph"),s=n.enter("phrasing"),a=n.containerPhrasing(t,r);return s(),i(),a}const kee=vm(["break","delete","emphasis","footnote","footnoteReference","image","imageReference","inlineCode","inlineMath","link","linkReference","mdxJsxTextElement","mdxTextExpression","strong","text","textDirective"]);function See(t,e,n,r){return(t.children.some(function(a){return kee(a)})?n.containerPhrasing:n.containerFlow).call(n,t,r)}function Cee(t){const e=t.options.strong||"*";if(e!=="*"&&e!=="_")throw new Error("Cannot serialize strong with `"+e+"` for `options.strong`, expected `*`, or `_`");return e}JR.peek=Tee;function JR(t,e,n,r){const i=Cee(n),s=n.enter("strong"),a=n.createTracker(r);let o=a.move(i+i);return o+=a.move(n.containerPhrasing(t,{before:o,after:i,...a.current()})),o+=a.move(i+i),s(),o}function Tee(t,e,n){return n.options.strong||"*"}function Pee(t,e,n,r){return n.safe(t.value,r)}function Eee(t){const e=t.options.ruleRepetition||3;if(e<3)throw new Error("Cannot serialize rules with repetition `"+e+"` for `options.ruleRepetition`, expected `3` or more");return e}function Aee(t,e,n){const r=(KR(n)+(n.options.ruleSpaces?" ":"")).repeat(Eee(n));return n.options.ruleSpaces?r.slice(0,-1):r}const XR={blockquote:YQ,break:MC,code:iee,definition:aee,emphasis:BR,hardBreak:MC,heading:cee,html:VR,image:UR,imageReference:HR,inlineCode:WR,link:ZR,linkReference:GR,list:bee,listItem:_ee,paragraph:xee,root:See,strong:JR,text:Pee,thematicBreak:Aee};function Iee(){return{enter:{table:Oee,tableData:LC,tableHeader:LC,tableRow:$ee},exit:{codeText:Nee,table:Ree,tableData:hy,tableHeader:hy,tableRow:hy}}}function Oee(t){const e=t._align;this.enter({type:"table",align:e.map(function(n){return n==="none"?null:n}),children:[]},t),this.data.inTable=!0}function Ree(t){this.exit(t),this.data.inTable=void 0}function $ee(t){this.enter({type:"tableRow",children:[]},t)}function hy(t){this.exit(t)}function LC(t){this.enter({type:"tableCell",children:[]},t)}function Nee(t){let e=this.resume();this.data.inTable&&(e=e.replace(/\\([\\|])/g,jee));const n=this.stack[this.stack.length-1];n.type,n.value=e,this.exit(t)}function jee(t,e){return e==="|"?e:t}function Mee(t){const e=t||{},n=e.tableCellPadding,r=e.tablePipeAlign,i=e.stringLength,s=n?" ":"|";return{unsafe:[{character:"\r",inConstruct:"tableCell"},{character:`
`,inConstruct:"tableCell"},{atBreak:!0,character:"|",after:"[	 :-]"},{character:"|",inConstruct:"tableCell"},{atBreak:!0,character:":",after:"-"},{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{inlineCode:f,table:a,tableCell:l,tableRow:o}};function a(h,p,y,b){return u(c(h,y,b),h.align)}function o(h,p,y,b){const m=d(h,y,b),g=u([m]);return g.slice(0,g.indexOf(`
`))}function l(h,p,y,b){const m=y.enter("tableCell"),g=y.enter("phrasing"),v=y.containerPhrasing(h,{...b,before:s,after:s});return g(),m(),v}function u(h,p){return KQ(h,{align:p,alignDelimiters:r,padding:n,stringLength:i})}function c(h,p,y){const b=h.children;let m=-1;const g=[],v=p.enter("table");for(;++m<b.length;)g[m]=d(b[m],p,y);return v(),g}function d(h,p,y){const b=h.children;let m=-1;const g=[],v=p.enter("tableRow");for(;++m<b.length;)g[m]=l(b[m],h,p,y);return v(),g}function f(h,p,y){let b=XR.inlineCode(h,p,y);return y.stack.includes("tableCell")&&(b=b.replace(/\|/g,"\\$&")),b}}function Lee(){return{exit:{taskListCheckValueChecked:zC,taskListCheckValueUnchecked:zC,paragraph:Dee}}}function zee(){return{unsafe:[{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{listItem:Fee}}}function zC(t){const e=this.stack[this.stack.length-2];e.type,e.checked=t.type==="taskListCheckValueChecked"}function Dee(t){const e=this.stack[this.stack.length-2];if(e&&e.type==="listItem"&&typeof e.checked=="boolean"){const n=this.stack[this.stack.length-1];n.type;const r=n.children[0];if(r&&r.type==="text"){const i=e.children;let s=-1,a;for(;++s<i.length;){const o=i[s];if(o.type==="paragraph"){a=o;break}}a===n&&(r.value=r.value.slice(1),r.value.length===0?n.children.shift():n.position&&r.position&&typeof r.position.start.offset=="number"&&(r.position.start.column++,r.position.start.offset++,n.position.start=Object.assign({},r.position.start)))}}this.exit(t)}function Fee(t,e,n,r){const i=t.children[0],s=typeof t.checked=="boolean"&&i&&i.type==="paragraph",a="["+(t.checked?"x":" ")+"] ",o=n.createTracker(r);s&&o.move(a);let l=XR.listItem(t,e,n,{...r,...o.current()});return s&&(l=l.replace(/^(?:[*+-]|\d+\.)([\r\n]| {1,3})/,u)),l;function u(c){return c+a}}function Bee(){return[vQ(),IQ(),HQ(),Iee(),Lee()]}function Vee(t){return{extensions:[bQ(),OQ(),WQ(),Mee(t),zee()]}}const Uee={tokenize:Kee,partial:!0},YR={tokenize:Jee,partial:!0},QR={tokenize:Xee,partial:!0},e2={tokenize:Yee,partial:!0},Hee={tokenize:Qee,partial:!0},t2={tokenize:Zee,previous:r2},n2={tokenize:Gee,previous:i2},Ni={tokenize:qee,previous:s2},si={};function Wee(){return{text:si}}let Rs=48;for(;Rs<123;)si[Rs]=Ni,Rs++,Rs===58?Rs=65:Rs===91&&(Rs=97);si[43]=Ni;si[45]=Ni;si[46]=Ni;si[95]=Ni;si[72]=[Ni,n2];si[104]=[Ni,n2];si[87]=[Ni,t2];si[119]=[Ni,t2];function qee(t,e,n){const r=this;let i,s;return a;function a(d){return!b0(d)||!s2.call(r,r.previous)||h_(r.events)?n(d):(t.enter("literalAutolink"),t.enter("literalAutolinkEmail"),o(d))}function o(d){return b0(d)?(t.consume(d),o):d===64?(t.consume(d),l):n(d)}function l(d){return d===46?t.check(Hee,c,u)(d):d===45||d===95||Vt(d)?(s=!0,t.consume(d),l):c(d)}function u(d){return t.consume(d),i=!0,l}function c(d){return s&&i&&Jt(r.previous)?(t.exit("literalAutolinkEmail"),t.exit("literalAutolink"),e(d)):n(d)}}function Zee(t,e,n){const r=this;return i;function i(a){return a!==87&&a!==119||!r2.call(r,r.previous)||h_(r.events)?n(a):(t.enter("literalAutolink"),t.enter("literalAutolinkWww"),t.check(Uee,t.attempt(YR,t.attempt(QR,s),n),n)(a))}function s(a){return t.exit("literalAutolinkWww"),t.exit("literalAutolink"),e(a)}}function Gee(t,e,n){const r=this;let i="",s=!1;return a;function a(d){return(d===72||d===104)&&i2.call(r,r.previous)&&!h_(r.events)?(t.enter("literalAutolink"),t.enter("literalAutolinkHttp"),i+=String.fromCodePoint(d),t.consume(d),o):n(d)}function o(d){if(Jt(d)&&i.length<5)return i+=String.fromCodePoint(d),t.consume(d),o;if(d===58){const f=i.toLowerCase();if(f==="http"||f==="https")return t.consume(d),l}return n(d)}function l(d){return d===47?(t.consume(d),s?u:(s=!0,l)):n(d)}function u(d){return d===null||ap(d)||De(d)||ya(d)||mm(d)?n(d):t.attempt(YR,t.attempt(QR,c),n)(d)}function c(d){return t.exit("literalAutolinkHttp"),t.exit("literalAutolink"),e(d)}}function Kee(t,e,n){let r=0;return i;function i(a){return(a===87||a===119)&&r<3?(r++,t.consume(a),i):a===46&&r===3?(t.consume(a),s):n(a)}function s(a){return a===null?n(a):e(a)}}function Jee(t,e,n){let r,i,s;return a;function a(u){return u===46||u===95?t.check(e2,l,o)(u):u===null||De(u)||ya(u)||u!==45&&mm(u)?l(u):(s=!0,t.consume(u),a)}function o(u){return u===95?r=!0:(i=r,r=void 0),t.consume(u),a}function l(u){return i||r||!s?n(u):e(u)}}function Xee(t,e){let n=0,r=0;return i;function i(a){return a===40?(n++,t.consume(a),i):a===41&&r<n?s(a):a===33||a===34||a===38||a===39||a===41||a===42||a===44||a===46||a===58||a===59||a===60||a===63||a===93||a===95||a===126?t.check(e2,e,s)(a):a===null||De(a)||ya(a)?e(a):(t.consume(a),i)}function s(a){return a===41&&r++,t.consume(a),i}}function Yee(t,e,n){return r;function r(o){return o===33||o===34||o===39||o===41||o===42||o===44||o===46||o===58||o===59||o===63||o===95||o===126?(t.consume(o),r):o===38?(t.consume(o),s):o===93?(t.consume(o),i):o===60||o===null||De(o)||ya(o)?e(o):n(o)}function i(o){return o===null||o===40||o===91||De(o)||ya(o)?e(o):r(o)}function s(o){return Jt(o)?a(o):n(o)}function a(o){return o===59?(t.consume(o),r):Jt(o)?(t.consume(o),a):n(o)}}function Qee(t,e,n){return r;function r(s){return t.consume(s),i}function i(s){return Vt(s)?n(s):e(s)}}function r2(t){return t===null||t===40||t===42||t===95||t===91||t===93||t===126||De(t)}function i2(t){return!Jt(t)}function s2(t){return!(t===47||b0(t))}function b0(t){return t===43||t===45||t===46||t===95||Vt(t)}function h_(t){let e=t.length,n=!1;for(;e--;){const r=t[e][1];if((r.type==="labelLink"||r.type==="labelImage")&&!r._balanced){n=!0;break}if(r._gfmAutolinkLiteralWalkedInto){n=!1;break}}return t.length>0&&!n&&(t[t.length-1][1]._gfmAutolinkLiteralWalkedInto=!0),n}const ete={tokenize:lte,partial:!0};function tte(){return{document:{91:{tokenize:ste,continuation:{tokenize:ate},exit:ote}},text:{91:{tokenize:ite},93:{add:"after",tokenize:nte,resolveTo:rte}}}}function nte(t,e,n){const r=this;let i=r.events.length;const s=r.parser.gfmFootnotes||(r.parser.gfmFootnotes=[]);let a;for(;i--;){const l=r.events[i][1];if(l.type==="labelImage"){a=l;break}if(l.type==="gfmFootnoteCall"||l.type==="labelLink"||l.type==="label"||l.type==="image"||l.type==="link")break}return o;function o(l){if(!a||!a._balanced)return n(l);const u=Pr(r.sliceSerialize({start:a.end,end:r.now()}));return u.codePointAt(0)!==94||!s.includes(u.slice(1))?n(l):(t.enter("gfmFootnoteCallLabelMarker"),t.consume(l),t.exit("gfmFootnoteCallLabelMarker"),e(l))}}function rte(t,e){let n=t.length;for(;n--;)if(t[n][1].type==="labelImage"&&t[n][0]==="enter"){t[n][1];break}t[n+1][1].type="data",t[n+3][1].type="gfmFootnoteCallLabelMarker";const r={type:"gfmFootnoteCall",start:Object.assign({},t[n+3][1].start),end:Object.assign({},t[t.length-1][1].end)},i={type:"gfmFootnoteCallMarker",start:Object.assign({},t[n+3][1].end),end:Object.assign({},t[n+3][1].end)};i.end.column++,i.end.offset++,i.end._bufferIndex++;const s={type:"gfmFootnoteCallString",start:Object.assign({},i.end),end:Object.assign({},t[t.length-1][1].start)},a={type:"chunkString",contentType:"string",start:Object.assign({},s.start),end:Object.assign({},s.end)},o=[t[n+1],t[n+2],["enter",r,e],t[n+3],t[n+4],["enter",i,e],["exit",i,e],["enter",s,e],["enter",a,e],["exit",a,e],["exit",s,e],t[t.length-2],t[t.length-1],["exit",r,e]];return t.splice(n,t.length-n+1,...o),t}function ite(t,e,n){const r=this,i=r.parser.gfmFootnotes||(r.parser.gfmFootnotes=[]);let s=0,a;return o;function o(d){return t.enter("gfmFootnoteCall"),t.enter("gfmFootnoteCallLabelMarker"),t.consume(d),t.exit("gfmFootnoteCallLabelMarker"),l}function l(d){return d!==94?n(d):(t.enter("gfmFootnoteCallMarker"),t.consume(d),t.exit("gfmFootnoteCallMarker"),t.enter("gfmFootnoteCallString"),t.enter("chunkString").contentType="string",u)}function u(d){if(s>999||d===93&&!a||d===null||d===91||De(d))return n(d);if(d===93){t.exit("chunkString");const f=t.exit("gfmFootnoteCallString");return i.includes(Pr(r.sliceSerialize(f)))?(t.enter("gfmFootnoteCallLabelMarker"),t.consume(d),t.exit("gfmFootnoteCallLabelMarker"),t.exit("gfmFootnoteCall"),e):n(d)}return De(d)||(a=!0),s++,t.consume(d),d===92?c:u}function c(d){return d===91||d===92||d===93?(t.consume(d),s++,u):u(d)}}function ste(t,e,n){const r=this,i=r.parser.gfmFootnotes||(r.parser.gfmFootnotes=[]);let s,a=0,o;return l;function l(p){return t.enter("gfmFootnoteDefinition")._container=!0,t.enter("gfmFootnoteDefinitionLabel"),t.enter("gfmFootnoteDefinitionLabelMarker"),t.consume(p),t.exit("gfmFootnoteDefinitionLabelMarker"),u}function u(p){return p===94?(t.enter("gfmFootnoteDefinitionMarker"),t.consume(p),t.exit("gfmFootnoteDefinitionMarker"),t.enter("gfmFootnoteDefinitionLabelString"),t.enter("chunkString").contentType="string",c):n(p)}function c(p){if(a>999||p===93&&!o||p===null||p===91||De(p))return n(p);if(p===93){t.exit("chunkString");const y=t.exit("gfmFootnoteDefinitionLabelString");return s=Pr(r.sliceSerialize(y)),t.enter("gfmFootnoteDefinitionLabelMarker"),t.consume(p),t.exit("gfmFootnoteDefinitionLabelMarker"),t.exit("gfmFootnoteDefinitionLabel"),f}return De(p)||(o=!0),a++,t.consume(p),p===92?d:c}function d(p){return p===91||p===92||p===93?(t.consume(p),a++,c):c(p)}function f(p){return p===58?(t.enter("definitionMarker"),t.consume(p),t.exit("definitionMarker"),i.includes(s)||i.push(s),ve(t,h,"gfmFootnoteDefinitionWhitespace")):n(p)}function h(p){return e(p)}}function ate(t,e,n){return t.check(Lc,e,t.attempt(ete,e,n))}function ote(t){t.exit("gfmFootnoteDefinition")}function lte(t,e,n){const r=this;return ve(t,i,"gfmFootnoteDefinitionIndent",5);function i(s){const a=r.events[r.events.length-1];return a&&a[1].type==="gfmFootnoteDefinitionIndent"&&a[2].sliceSerialize(a[1],!0).length===4?e(s):n(s)}}function ute(t){let n=(t||{}).singleTilde;const r={tokenize:s,resolveAll:i};return n==null&&(n=!0),{text:{126:r},insideSpan:{null:[r]},attentionMarkers:{null:[126]}};function i(a,o){let l=-1;for(;++l<a.length;)if(a[l][0]==="enter"&&a[l][1].type==="strikethroughSequenceTemporary"&&a[l][1]._close){let u=l;for(;u--;)if(a[u][0]==="exit"&&a[u][1].type==="strikethroughSequenceTemporary"&&a[u][1]._open&&a[l][1].end.offset-a[l][1].start.offset===a[u][1].end.offset-a[u][1].start.offset){a[l][1].type="strikethroughSequence",a[u][1].type="strikethroughSequence";const c={type:"strikethrough",start:Object.assign({},a[u][1].start),end:Object.assign({},a[l][1].end)},d={type:"strikethroughText",start:Object.assign({},a[u][1].end),end:Object.assign({},a[l][1].start)},f=[["enter",c,o],["enter",a[u][1],o],["exit",a[u][1],o],["enter",d,o]],h=o.parser.constructs.insideSpan.null;h&&Yn(f,f.length,0,gm(h,a.slice(u+1,l),o)),Yn(f,f.length,0,[["exit",d,o],["enter",a[l][1],o],["exit",a[l][1],o],["exit",c,o]]),Yn(a,u-1,l-u+3,f),l=u+f.length-2;break}}for(l=-1;++l<a.length;)a[l][1].type==="strikethroughSequenceTemporary"&&(a[l][1].type="data");return a}function s(a,o,l){const u=this.previous,c=this.events;let d=0;return f;function f(p){return u===126&&c[c.length-1][1].type!=="characterEscape"?l(p):(a.enter("strikethroughSequenceTemporary"),h(p))}function h(p){const y=op(u);if(p===126)return d>1?l(p):(a.consume(p),d++,h);if(d<2&&!n)return l(p);const b=a.exit("strikethroughSequenceTemporary"),m=op(p);return b._open=!m||m===2&&!!y,b._close=!y||y===2&&!!m,o(p)}}}class cte{constructor(){this.map=[]}add(e,n,r){dte(this,e,n,r)}consume(e){if(this.map.sort(function(s,a){return s[0]-a[0]}),this.map.length===0)return;let n=this.map.length;const r=[];for(;n>0;)n-=1,r.push(e.slice(this.map[n][0]+this.map[n][1]),this.map[n][2]),e.length=this.map[n][0];r.push([...e]),e.length=0;let i=r.pop();for(;i;)e.push(...i),i=r.pop();this.map.length=0}}function dte(t,e,n,r){let i=0;if(!(n===0&&r.length===0)){for(;i<t.map.length;){if(t.map[i][0]===e){t.map[i][1]+=n,t.map[i][2].push(...r);return}i+=1}t.map.push([e,n,r])}}function fte(t,e){let n=!1;const r=[];for(;e<t.length;){const i=t[e];if(n){if(i[0]==="enter")i[1].type==="tableContent"&&r.push(t[e+1][1].type==="tableDelimiterMarker"?"left":"none");else if(i[1].type==="tableContent"){if(t[e-1][1].type==="tableDelimiterMarker"){const s=r.length-1;r[s]=r[s]==="left"?"center":"right"}}else if(i[1].type==="tableDelimiterRow")break}else i[0]==="enter"&&i[1].type==="tableDelimiterRow"&&(n=!0);e+=1}return r}function hte(){return{flow:{null:{tokenize:pte,resolveAll:mte}}}}function pte(t,e,n){const r=this;let i=0,s=0,a;return o;function o(T){let F=r.events.length-1;for(;F>-1;){const _e=r.events[F][1].type;if(_e==="lineEnding"||_e==="linePrefix")F--;else break}const q=F>-1?r.events[F][1].type:null,ue=q==="tableHead"||q==="tableRow"?k:l;return ue===k&&r.parser.lazy[r.now().line]?n(T):ue(T)}function l(T){return t.enter("tableHead"),t.enter("tableRow"),u(T)}function u(T){return T===124||(a=!0,s+=1),c(T)}function c(T){return T===null?n(T):Q(T)?s>1?(s=0,r.interrupt=!0,t.exit("tableRow"),t.enter("lineEnding"),t.consume(T),t.exit("lineEnding"),h):n(T):de(T)?ve(t,c,"whitespace")(T):(s+=1,a&&(a=!1,i+=1),T===124?(t.enter("tableCellDivider"),t.consume(T),t.exit("tableCellDivider"),a=!0,c):(t.enter("data"),d(T)))}function d(T){return T===null||T===124||De(T)?(t.exit("data"),c(T)):(t.consume(T),T===92?f:d)}function f(T){return T===92||T===124?(t.consume(T),d):d(T)}function h(T){return r.interrupt=!1,r.parser.lazy[r.now().line]?n(T):(t.enter("tableDelimiterRow"),a=!1,de(T)?ve(t,p,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(T):p(T))}function p(T){return T===45||T===58?b(T):T===124?(a=!0,t.enter("tableCellDivider"),t.consume(T),t.exit("tableCellDivider"),y):C(T)}function y(T){return de(T)?ve(t,b,"whitespace")(T):b(T)}function b(T){return T===58?(s+=1,a=!0,t.enter("tableDelimiterMarker"),t.consume(T),t.exit("tableDelimiterMarker"),m):T===45?(s+=1,m(T)):T===null||Q(T)?x(T):C(T)}function m(T){return T===45?(t.enter("tableDelimiterFiller"),g(T)):C(T)}function g(T){return T===45?(t.consume(T),g):T===58?(a=!0,t.exit("tableDelimiterFiller"),t.enter("tableDelimiterMarker"),t.consume(T),t.exit("tableDelimiterMarker"),v):(t.exit("tableDelimiterFiller"),v(T))}function v(T){return de(T)?ve(t,x,"whitespace")(T):x(T)}function x(T){return T===124?p(T):T===null||Q(T)?!a||i!==s?C(T):(t.exit("tableDelimiterRow"),t.exit("tableHead"),e(T)):C(T)}function C(T){return n(T)}function k(T){return t.enter("tableRow"),I(T)}function I(T){return T===124?(t.enter("tableCellDivider"),t.consume(T),t.exit("tableCellDivider"),I):T===null||Q(T)?(t.exit("tableRow"),e(T)):de(T)?ve(t,I,"whitespace")(T):(t.enter("data"),R(T))}function R(T){return T===null||T===124||De(T)?(t.exit("data"),I(T)):(t.consume(T),T===92?j:R)}function j(T){return T===92||T===124?(t.consume(T),R):R(T)}}function mte(t,e){let n=-1,r=!0,i=0,s=[0,0,0,0],a=[0,0,0,0],o=!1,l=0,u,c,d;const f=new cte;for(;++n<t.length;){const h=t[n],p=h[1];h[0]==="enter"?p.type==="tableHead"?(o=!1,l!==0&&(DC(f,e,l,u,c),c=void 0,l=0),u={type:"table",start:Object.assign({},p.start),end:Object.assign({},p.end)},f.add(n,0,[["enter",u,e]])):p.type==="tableRow"||p.type==="tableDelimiterRow"?(r=!0,d=void 0,s=[0,0,0,0],a=[0,n+1,0,0],o&&(o=!1,c={type:"tableBody",start:Object.assign({},p.start),end:Object.assign({},p.end)},f.add(n,0,[["enter",c,e]])),i=p.type==="tableDelimiterRow"?2:c?3:1):i&&(p.type==="data"||p.type==="tableDelimiterMarker"||p.type==="tableDelimiterFiller")?(r=!1,a[2]===0&&(s[1]!==0&&(a[0]=a[1],d=Md(f,e,s,i,void 0,d),s=[0,0,0,0]),a[2]=n)):p.type==="tableCellDivider"&&(r?r=!1:(s[1]!==0&&(a[0]=a[1],d=Md(f,e,s,i,void 0,d)),s=a,a=[s[1],n,0,0])):p.type==="tableHead"?(o=!0,l=n):p.type==="tableRow"||p.type==="tableDelimiterRow"?(l=n,s[1]!==0?(a[0]=a[1],d=Md(f,e,s,i,n,d)):a[1]!==0&&(d=Md(f,e,a,i,n,d)),i=0):i&&(p.type==="data"||p.type==="tableDelimiterMarker"||p.type==="tableDelimiterFiller")&&(a[3]=n)}for(l!==0&&DC(f,e,l,u,c),f.consume(e.events),n=-1;++n<e.events.length;){const h=e.events[n];h[0]==="enter"&&h[1].type==="table"&&(h[1]._align=fte(e.events,n))}return t}function Md(t,e,n,r,i,s){const a=r===1?"tableHeader":r===2?"tableDelimiter":"tableData",o="tableContent";n[0]!==0&&(s.end=Object.assign({},La(e.events,n[0])),t.add(n[0],0,[["exit",s,e]]));const l=La(e.events,n[1]);if(s={type:a,start:Object.assign({},l),end:Object.assign({},l)},t.add(n[1],0,[["enter",s,e]]),n[2]!==0){const u=La(e.events,n[2]),c=La(e.events,n[3]),d={type:o,start:Object.assign({},u),end:Object.assign({},c)};if(t.add(n[2],0,[["enter",d,e]]),r!==2){const f=e.events[n[2]],h=e.events[n[3]];if(f[1].end=Object.assign({},h[1].end),f[1].type="chunkText",f[1].contentType="text",n[3]>n[2]+1){const p=n[2]+1,y=n[3]-n[2]-1;t.add(p,y,[])}}t.add(n[3]+1,0,[["exit",d,e]])}return i!==void 0&&(s.end=Object.assign({},La(e.events,i)),t.add(i,0,[["exit",s,e]]),s=void 0),s}function DC(t,e,n,r,i){const s=[],a=La(e.events,n);i&&(i.end=Object.assign({},a),s.push(["exit",i,e])),r.end=Object.assign({},a),s.push(["exit",r,e]),t.add(n+1,0,s)}function La(t,e){const n=t[e],r=n[0]==="enter"?"start":"end";return n[1][r]}const gte={tokenize:vte};function yte(){return{text:{91:gte}}}function vte(t,e,n){const r=this;return i;function i(l){return r.previous!==null||!r._gfmTasklistFirstContentOfListItem?n(l):(t.enter("taskListCheck"),t.enter("taskListCheckMarker"),t.consume(l),t.exit("taskListCheckMarker"),s)}function s(l){return De(l)?(t.enter("taskListCheckValueUnchecked"),t.consume(l),t.exit("taskListCheckValueUnchecked"),a):l===88||l===120?(t.enter("taskListCheckValueChecked"),t.consume(l),t.exit("taskListCheckValueChecked"),a):n(l)}function a(l){return l===93?(t.enter("taskListCheckMarker"),t.consume(l),t.exit("taskListCheckMarker"),t.exit("taskListCheck"),o):n(l)}function o(l){return Q(l)?e(l):de(l)?t.check({tokenize:bte},e,n)(l):n(l)}}function bte(t,e,n){return ve(t,r,"whitespace");function r(i){return i===null?n(i):e(i)}}function wte(t){return gR([Wee(),tte(),ute(t),hte(),yte()])}const _te={};function xte(t){const e=this,n=t||_te,r=e.data(),i=r.micromarkExtensions||(r.micromarkExtensions=[]),s=r.fromMarkdownExtensions||(r.fromMarkdownExtensions=[]),a=r.toMarkdownExtensions||(r.toMarkdownExtensions=[]);i.push(wte(n)),s.push(Bee()),a.push(Vee(n))}const kte=t=>{const{apiKeyRef:e,setApiKey:n,prompt:r,setPrompt:i}={...t},[s,a]=A.useState(!1),o=()=>a(u=>!u),l=u=>{e.current=u.target.value,n(e.current)};return O.jsx(OI,{allowMultiple:!0,children:O.jsxs(AI,{children:[O.jsx("h3",{children:O.jsxs(PI,{children:[O.jsx(Ks,{as:"span",flex:"1",textAlign:"left",children:"Config"}),O.jsx(EI,{})]})}),O.jsxs(jv,{pb:"4",children:[O.jsx("h3",{children:"API KEY"}),O.jsxs(NI,{children:[O.jsx(mw,{placeholder:"OpenAI API KEY",type:s?"text":"password",defaultValue:e.current,onChange:l}),O.jsx(pw,{width:"4.5rem",children:O.jsx(fu,{p:2,h:"1.75rem",size:"sm",onClick:o,children:s?"Hide":"Show"})})]})]}),O.jsxs(jv,{pb:"4",children:[O.jsx("h3",{children:""}),O.jsx(gw,{rows:6,placeholder:"",value:r,onChange:u=>i(u.target.value)})]})]})})};function Ste(){const{setApiKey:t}=FG(),e=A.useRef("");A.useEffect(()=>{t(e.current)},[t]);const{recording:n,source:r,startRecording:i,stopRecording:s,revokeSource:a}=BG(),{transcribeText:o,setTranscribeText:l,transcribe:u}=VG(e.current),[c,d]=A.useState(""),{start:f}=UG(e.current,d),h=A.useRef(!1),p=A.useCallback(async x=>{!h.current&&r&&(h.current=!0,await u(x),h.current=!1)},[u]),[y,b]=A.useState(`
### 
GitHub Flavored Markdown (GFM) 

### 
- 
- 
- 
- GFM
- 
- 
- 

### 
`),m=()=>{a(),l(""),i()},g=()=>{d("");const x=`
${y}
${o}`;f(x)},v=async()=>{s()};return A.useEffect(()=>{r&&p(r)},[r]),O.jsxs(O.Fragment,{children:[O.jsx(kte,{apiKeyRef:e,setApiKey:t,prompt:y,setPrompt:b}),O.jsxs(Ks,{alignItems:"center",children:[O.jsxs(zv,{m:8,alignItems:"center",justifyContent:"center",children:[!n&&O.jsx(fu,{m:2,colorScheme:"blue",onClick:m,children:"Record"}),n&&O.jsx(fu,{m:2,colorScheme:"red",onClick:v,children:"Stop"}),!n&&O.jsx(fu,{m:2,colorScheme:"blue",onClick:g,children:""})]}),O.jsx(zv,{m:8,alignItems:"center",justifyContent:"center",children:typeof r=="string"&&r&&O.jsx("audio",{src:r,controls:!0})}),O.jsxs(Ks,{m:8,alignItems:"center",justifyContent:"center",children:[O.jsx("h2",{children:""}),O.jsx(gw,{m:4,rows:6,placeholder:"Whisper Response",value:o,onChange:x=>l(x.target.value)})]}),c&&O.jsxs(Ks,{mx:16,children:[O.jsx(MI,{as:"h2",my:2,children:""}),O.jsx(Ks,{children:O.jsx(dQ,{remarkPlugins:[xte],children:c})})]})]})]})}const Cte=jB({styles:{global:{h1:{fontSize:"1.7em"},h2:{fontSize:"1.5em"},h3:{fontSize:"1.3em"},h4:{fontSize:"1.1em"},h5:{fontSize:"1.0em"},h6:{fontSize:"0.85em"},"h1, h2, h3, h4, h5, h6":{marginTop:"1.5rem",marginBottom:"1rem",fontWeight:"bold"},p:{marginBottom:"1rem"},ul:{marginBottom:"1rem",paddingLeft:"1.5rem"},ol:{marginBottom:"1rem",paddingLeft:"1.5rem"},code:{backgroundColor:"gray.100",padding:"0.2rem 0.4rem",borderRadius:"0.2rem"},pre:{backgroundColor:"gray.100",padding:"1rem",borderRadius:"0.5rem",overflowX:"auto"}}}});py.createRoot(document.getElementById("root")).render(O.jsx(Ef.StrictMode,{children:O.jsx(eH,{theme:Cte,children:O.jsx(Ste,{})})}));
