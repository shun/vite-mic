var h$=Object.defineProperty;var p$=(t,e,n)=>e in t?h$(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var Mi=(t,e,n)=>(p$(t,typeof e!="symbol"?e+"":e,n),n);function m$(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const a of s.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();var Da=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function ba(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var qC={exports:{}},fp={},ZC={exports:{}},fe={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var yc=Symbol.for("react.element"),g$=Symbol.for("react.portal"),y$=Symbol.for("react.fragment"),v$=Symbol.for("react.strict_mode"),b$=Symbol.for("react.profiler"),w$=Symbol.for("react.provider"),_$=Symbol.for("react.context"),x$=Symbol.for("react.forward_ref"),k$=Symbol.for("react.suspense"),S$=Symbol.for("react.memo"),C$=Symbol.for("react.lazy"),P_=Symbol.iterator;function T$(t){return t===null||typeof t!="object"?null:(t=P_&&t[P_]||t["@@iterator"],typeof t=="function"?t:null)}var GC={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},KC=Object.assign,JC={};function Ho(t,e,n){this.props=t,this.context=e,this.refs=JC,this.updater=n||GC}Ho.prototype.isReactComponent={};Ho.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Ho.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function XC(){}XC.prototype=Ho.prototype;function _0(t,e,n){this.props=t,this.context=e,this.refs=JC,this.updater=n||GC}var x0=_0.prototype=new XC;x0.constructor=_0;KC(x0,Ho.prototype);x0.isPureReactComponent=!0;var E_=Array.isArray,YC=Object.prototype.hasOwnProperty,k0={current:null},QC={key:!0,ref:!0,__self:!0,__source:!0};function eT(t,e,n){var r,i={},s=null,a=null;if(e!=null)for(r in e.ref!==void 0&&(a=e.ref),e.key!==void 0&&(s=""+e.key),e)YC.call(e,r)&&!QC.hasOwnProperty(r)&&(i[r]=e[r]);var o=arguments.length-2;if(o===1)i.children=n;else if(1<o){for(var l=Array(o),u=0;u<o;u++)l[u]=arguments[u+2];i.children=l}if(t&&t.defaultProps)for(r in o=t.defaultProps,o)i[r]===void 0&&(i[r]=o[r]);return{$$typeof:yc,type:t,key:s,ref:a,props:i,_owner:k0.current}}function P$(t,e){return{$$typeof:yc,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function S0(t){return typeof t=="object"&&t!==null&&t.$$typeof===yc}function E$(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var A_=/\/+/g;function $m(t,e){return typeof t=="object"&&t!==null&&t.key!=null?E$(""+t.key):e.toString(36)}function Dd(t,e,n,r,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var a=!1;if(t===null)a=!0;else switch(s){case"string":case"number":a=!0;break;case"object":switch(t.$$typeof){case yc:case g$:a=!0}}if(a)return a=t,i=i(a),t=r===""?"."+$m(a,0):r,E_(i)?(n="",t!=null&&(n=t.replace(A_,"$&/")+"/"),Dd(i,e,n,"",function(u){return u})):i!=null&&(S0(i)&&(i=P$(i,n+(!i.key||a&&a.key===i.key?"":(""+i.key).replace(A_,"$&/")+"/")+t)),e.push(i)),1;if(a=0,r=r===""?".":r+":",E_(t))for(var o=0;o<t.length;o++){s=t[o];var l=r+$m(s,o);a+=Dd(s,e,n,l,i)}else if(l=T$(t),typeof l=="function")for(t=l.call(t),o=0;!(s=t.next()).done;)s=s.value,l=r+$m(s,o++),a+=Dd(s,e,n,l,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return a}function Yc(t,e,n){if(t==null)return t;var r=[],i=0;return Dd(t,r,"","",function(s){return e.call(n,s,i++)}),r}function A$(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var nn={current:null},Fd={transition:null},I$={ReactCurrentDispatcher:nn,ReactCurrentBatchConfig:Fd,ReactCurrentOwner:k0};function tT(){throw Error("act(...) is not supported in production builds of React.")}fe.Children={map:Yc,forEach:function(t,e,n){Yc(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Yc(t,function(){e++}),e},toArray:function(t){return Yc(t,function(e){return e})||[]},only:function(t){if(!S0(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};fe.Component=Ho;fe.Fragment=y$;fe.Profiler=b$;fe.PureComponent=_0;fe.StrictMode=v$;fe.Suspense=k$;fe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=I$;fe.act=tT;fe.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=KC({},t.props),i=t.key,s=t.ref,a=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,a=k0.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var o=t.type.defaultProps;for(l in e)YC.call(e,l)&&!QC.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&o!==void 0?o[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){o=Array(l);for(var u=0;u<l;u++)o[u]=arguments[u+2];r.children=o}return{$$typeof:yc,type:t.type,key:i,ref:s,props:r,_owner:a}};fe.createContext=function(t){return t={$$typeof:_$,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:w$,_context:t},t.Consumer=t};fe.createElement=eT;fe.createFactory=function(t){var e=eT.bind(null,t);return e.type=t,e};fe.createRef=function(){return{current:null}};fe.forwardRef=function(t){return{$$typeof:x$,render:t}};fe.isValidElement=S0;fe.lazy=function(t){return{$$typeof:C$,_payload:{_status:-1,_result:t},_init:A$}};fe.memo=function(t,e){return{$$typeof:S$,type:t,compare:e===void 0?null:e}};fe.startTransition=function(t){var e=Fd.transition;Fd.transition={};try{t()}finally{Fd.transition=e}};fe.unstable_act=tT;fe.useCallback=function(t,e){return nn.current.useCallback(t,e)};fe.useContext=function(t){return nn.current.useContext(t)};fe.useDebugValue=function(){};fe.useDeferredValue=function(t){return nn.current.useDeferredValue(t)};fe.useEffect=function(t,e){return nn.current.useEffect(t,e)};fe.useId=function(){return nn.current.useId()};fe.useImperativeHandle=function(t,e,n){return nn.current.useImperativeHandle(t,e,n)};fe.useInsertionEffect=function(t,e){return nn.current.useInsertionEffect(t,e)};fe.useLayoutEffect=function(t,e){return nn.current.useLayoutEffect(t,e)};fe.useMemo=function(t,e){return nn.current.useMemo(t,e)};fe.useReducer=function(t,e,n){return nn.current.useReducer(t,e,n)};fe.useRef=function(t){return nn.current.useRef(t)};fe.useState=function(t){return nn.current.useState(t)};fe.useSyncExternalStore=function(t,e,n){return nn.current.useSyncExternalStore(t,e,n)};fe.useTransition=function(){return nn.current.useTransition()};fe.version="18.3.1";ZC.exports=fe;var A=ZC.exports;const If=ba(A),I_=m$({__proto__:null,default:If},[A]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var O$=A,R$=Symbol.for("react.element"),$$=Symbol.for("react.fragment"),N$=Object.prototype.hasOwnProperty,j$=O$.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,M$={key:!0,ref:!0,__self:!0,__source:!0};function nT(t,e,n){var r,i={},s=null,a=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(a=e.ref);for(r in e)N$.call(e,r)&&!M$.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:R$,type:t,key:s,ref:a,props:i,_owner:j$.current}}fp.Fragment=$$;fp.jsx=nT;fp.jsxs=nT;qC.exports=fp;var O=qC.exports,my={},rT={exports:{}},Mn={},iT={exports:{}},sT={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(B,X){var _=B.length;B.push(X);e:for(;0<_;){var he=_-1>>>1,Oe=B[he];if(0<i(Oe,X))B[he]=X,B[_]=Oe,_=he;else break e}}function n(B){return B.length===0?null:B[0]}function r(B){if(B.length===0)return null;var X=B[0],_=B.pop();if(_!==X){B[0]=_;e:for(var he=0,Oe=B.length,S=Oe>>>1;he<S;){var at=2*(he+1)-1,wn=B[at],xe=at+1,_n=B[xe];if(0>i(wn,_))xe<Oe&&0>i(_n,wn)?(B[he]=_n,B[xe]=_,he=xe):(B[he]=wn,B[at]=_,he=at);else if(xe<Oe&&0>i(_n,_))B[he]=_n,B[xe]=_,he=xe;else break e}}return X}function i(B,X){var _=B.sortIndex-X.sortIndex;return _!==0?_:B.id-X.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var a=Date,o=a.now();t.unstable_now=function(){return a.now()-o}}var l=[],u=[],c=1,d=null,f=3,h=!1,p=!1,y=!1,b=typeof setTimeout=="function"?setTimeout:null,m=typeof clearTimeout=="function"?clearTimeout:null,g=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function v(B){for(var X=n(u);X!==null;){if(X.callback===null)r(u);else if(X.startTime<=B)r(u),X.sortIndex=X.expirationTime,e(l,X);else break;X=n(u)}}function x(B){if(y=!1,v(B),!p)if(n(l)!==null)p=!0,we(C);else{var X=n(u);X!==null&&Le(x,X.startTime-B)}}function C(B,X){p=!1,y&&(y=!1,m(R),R=-1),h=!0;var _=f;try{for(v(X),d=n(l);d!==null&&(!(d.expirationTime>X)||B&&!F());){var he=d.callback;if(typeof he=="function"){d.callback=null,f=d.priorityLevel;var Oe=he(d.expirationTime<=X);X=t.unstable_now(),typeof Oe=="function"?d.callback=Oe:d===n(l)&&r(l),v(X)}else r(l);d=n(l)}if(d!==null)var S=!0;else{var at=n(u);at!==null&&Le(x,at.startTime-X),S=!1}return S}finally{d=null,f=_,h=!1}}var k=!1,I=null,R=-1,j=5,T=-1;function F(){return!(t.unstable_now()-T<j)}function q(){if(I!==null){var B=t.unstable_now();T=B;var X=!0;try{X=I(!0,B)}finally{X?ue():(k=!1,I=null)}}else k=!1}var ue;if(typeof g=="function")ue=function(){g(q)};else if(typeof MessageChannel<"u"){var _e=new MessageChannel,J=_e.port2;_e.port1.onmessage=q,ue=function(){J.postMessage(null)}}else ue=function(){b(q,0)};function we(B){I=B,k||(k=!0,ue())}function Le(B,X){R=b(function(){B(t.unstable_now())},X)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(B){B.callback=null},t.unstable_continueExecution=function(){p||h||(p=!0,we(C))},t.unstable_forceFrameRate=function(B){0>B||125<B?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):j=0<B?Math.floor(1e3/B):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(B){switch(f){case 1:case 2:case 3:var X=3;break;default:X=f}var _=f;f=X;try{return B()}finally{f=_}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(B,X){switch(B){case 1:case 2:case 3:case 4:case 5:break;default:B=3}var _=f;f=B;try{return X()}finally{f=_}},t.unstable_scheduleCallback=function(B,X,_){var he=t.unstable_now();switch(typeof _=="object"&&_!==null?(_=_.delay,_=typeof _=="number"&&0<_?he+_:he):_=he,B){case 1:var Oe=-1;break;case 2:Oe=250;break;case 5:Oe=1073741823;break;case 4:Oe=1e4;break;default:Oe=5e3}return Oe=_+Oe,B={id:c++,callback:X,priorityLevel:B,startTime:_,expirationTime:Oe,sortIndex:-1},_>he?(B.sortIndex=_,e(u,B),n(l)===null&&B===n(u)&&(y?(m(R),R=-1):y=!0,Le(x,_-he))):(B.sortIndex=Oe,e(l,B),p||h||(p=!0,we(C))),B},t.unstable_shouldYield=F,t.unstable_wrapCallback=function(B){var X=f;return function(){var _=f;f=X;try{return B.apply(this,arguments)}finally{f=_}}}})(sT);iT.exports=sT;var L$=iT.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var z$=A,$n=L$;function M(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var aT=new Set,wu={};function wa(t,e){Io(t,e),Io(t+"Capture",e)}function Io(t,e){for(wu[t]=e,t=0;t<e.length;t++)aT.add(e[t])}var Ei=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),gy=Object.prototype.hasOwnProperty,D$=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,O_={},R_={};function F$(t){return gy.call(R_,t)?!0:gy.call(O_,t)?!1:D$.test(t)?R_[t]=!0:(O_[t]=!0,!1)}function B$(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function V$(t,e,n,r){if(e===null||typeof e>"u"||B$(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function rn(t,e,n,r,i,s,a){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=a}var $t={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){$t[t]=new rn(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];$t[e]=new rn(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){$t[t]=new rn(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){$t[t]=new rn(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){$t[t]=new rn(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){$t[t]=new rn(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){$t[t]=new rn(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){$t[t]=new rn(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){$t[t]=new rn(t,5,!1,t.toLowerCase(),null,!1,!1)});var C0=/[\-:]([a-z])/g;function T0(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(C0,T0);$t[e]=new rn(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(C0,T0);$t[e]=new rn(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(C0,T0);$t[e]=new rn(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){$t[t]=new rn(t,1,!1,t.toLowerCase(),null,!1,!1)});$t.xlinkHref=new rn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){$t[t]=new rn(t,1,!1,t.toLowerCase(),null,!0,!0)});function P0(t,e,n,r){var i=$t.hasOwnProperty(e)?$t[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(V$(e,n,i,r)&&(n=null),r||i===null?F$(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var Ni=z$.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Qc=Symbol.for("react.element"),Fa=Symbol.for("react.portal"),Ba=Symbol.for("react.fragment"),E0=Symbol.for("react.strict_mode"),yy=Symbol.for("react.profiler"),oT=Symbol.for("react.provider"),lT=Symbol.for("react.context"),A0=Symbol.for("react.forward_ref"),vy=Symbol.for("react.suspense"),by=Symbol.for("react.suspense_list"),I0=Symbol.for("react.memo"),qi=Symbol.for("react.lazy"),uT=Symbol.for("react.offscreen"),$_=Symbol.iterator;function ol(t){return t===null||typeof t!="object"?null:(t=$_&&t[$_]||t["@@iterator"],typeof t=="function"?t:null)}var rt=Object.assign,Nm;function xl(t){if(Nm===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Nm=e&&e[1]||""}return`
`+Nm+t}var jm=!1;function Mm(t,e){if(!t||jm)return"";jm=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var r=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){r=u}t.call(e.prototype)}else{try{throw Error()}catch(u){r=u}t()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),s=r.stack.split(`
`),a=i.length-1,o=s.length-1;1<=a&&0<=o&&i[a]!==s[o];)o--;for(;1<=a&&0<=o;a--,o--)if(i[a]!==s[o]){if(a!==1||o!==1)do if(a--,o--,0>o||i[a]!==s[o]){var l=`
`+i[a].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=a&&0<=o);break}}}finally{jm=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?xl(t):""}function U$(t){switch(t.tag){case 5:return xl(t.type);case 16:return xl("Lazy");case 13:return xl("Suspense");case 19:return xl("SuspenseList");case 0:case 2:case 15:return t=Mm(t.type,!1),t;case 11:return t=Mm(t.type.render,!1),t;case 1:return t=Mm(t.type,!0),t;default:return""}}function wy(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Ba:return"Fragment";case Fa:return"Portal";case yy:return"Profiler";case E0:return"StrictMode";case vy:return"Suspense";case by:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case lT:return(t.displayName||"Context")+".Consumer";case oT:return(t._context.displayName||"Context")+".Provider";case A0:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case I0:return e=t.displayName||null,e!==null?e:wy(t.type)||"Memo";case qi:e=t._payload,t=t._init;try{return wy(t(e))}catch{}}return null}function H$(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return wy(e);case 8:return e===E0?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function hs(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function cT(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function W$(t){var e=cT(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(a){r=""+a,s.call(this,a)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(a){r=""+a},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function ed(t){t._valueTracker||(t._valueTracker=W$(t))}function dT(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=cT(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function Of(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function _y(t,e){var n=e.checked;return rt({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function N_(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=hs(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function fT(t,e){e=e.checked,e!=null&&P0(t,"checked",e,!1)}function xy(t,e){fT(t,e);var n=hs(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?ky(t,e.type,n):e.hasOwnProperty("defaultValue")&&ky(t,e.type,hs(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function j_(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function ky(t,e,n){(e!=="number"||Of(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var kl=Array.isArray;function fo(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+hs(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function Sy(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(M(91));return rt({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function M_(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(M(92));if(kl(n)){if(1<n.length)throw Error(M(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:hs(n)}}function hT(t,e){var n=hs(e.value),r=hs(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function L_(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function pT(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Cy(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?pT(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var td,mT=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(td=td||document.createElement("div"),td.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=td.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function _u(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var ql={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},q$=["Webkit","ms","Moz","O"];Object.keys(ql).forEach(function(t){q$.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),ql[e]=ql[t]})});function gT(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||ql.hasOwnProperty(t)&&ql[t]?(""+e).trim():e+"px"}function yT(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=gT(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var Z$=rt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Ty(t,e){if(e){if(Z$[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(M(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(M(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(M(61))}if(e.style!=null&&typeof e.style!="object")throw Error(M(62))}}function Py(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ey=null;function O0(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Ay=null,ho=null,po=null;function z_(t){if(t=wc(t)){if(typeof Ay!="function")throw Error(M(280));var e=t.stateNode;e&&(e=yp(e),Ay(t.stateNode,t.type,e))}}function vT(t){ho?po?po.push(t):po=[t]:ho=t}function bT(){if(ho){var t=ho,e=po;if(po=ho=null,z_(t),e)for(t=0;t<e.length;t++)z_(e[t])}}function wT(t,e){return t(e)}function _T(){}var Lm=!1;function xT(t,e,n){if(Lm)return t(e,n);Lm=!0;try{return wT(t,e,n)}finally{Lm=!1,(ho!==null||po!==null)&&(_T(),bT())}}function xu(t,e){var n=t.stateNode;if(n===null)return null;var r=yp(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(M(231,e,typeof n));return n}var Iy=!1;if(Ei)try{var ll={};Object.defineProperty(ll,"passive",{get:function(){Iy=!0}}),window.addEventListener("test",ll,ll),window.removeEventListener("test",ll,ll)}catch{Iy=!1}function G$(t,e,n,r,i,s,a,o,l){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(c){this.onError(c)}}var Zl=!1,Rf=null,$f=!1,Oy=null,K$={onError:function(t){Zl=!0,Rf=t}};function J$(t,e,n,r,i,s,a,o,l){Zl=!1,Rf=null,G$.apply(K$,arguments)}function X$(t,e,n,r,i,s,a,o,l){if(J$.apply(this,arguments),Zl){if(Zl){var u=Rf;Zl=!1,Rf=null}else throw Error(M(198));$f||($f=!0,Oy=u)}}function _a(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function kT(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function D_(t){if(_a(t)!==t)throw Error(M(188))}function Y$(t){var e=t.alternate;if(!e){if(e=_a(t),e===null)throw Error(M(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return D_(i),t;if(s===r)return D_(i),e;s=s.sibling}throw Error(M(188))}if(n.return!==r.return)n=i,r=s;else{for(var a=!1,o=i.child;o;){if(o===n){a=!0,n=i,r=s;break}if(o===r){a=!0,r=i,n=s;break}o=o.sibling}if(!a){for(o=s.child;o;){if(o===n){a=!0,n=s,r=i;break}if(o===r){a=!0,r=s,n=i;break}o=o.sibling}if(!a)throw Error(M(189))}}if(n.alternate!==r)throw Error(M(190))}if(n.tag!==3)throw Error(M(188));return n.stateNode.current===n?t:e}function ST(t){return t=Y$(t),t!==null?CT(t):null}function CT(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=CT(t);if(e!==null)return e;t=t.sibling}return null}var TT=$n.unstable_scheduleCallback,F_=$n.unstable_cancelCallback,Q$=$n.unstable_shouldYield,eN=$n.unstable_requestPaint,dt=$n.unstable_now,tN=$n.unstable_getCurrentPriorityLevel,R0=$n.unstable_ImmediatePriority,PT=$n.unstable_UserBlockingPriority,Nf=$n.unstable_NormalPriority,nN=$n.unstable_LowPriority,ET=$n.unstable_IdlePriority,hp=null,Jr=null;function rN(t){if(Jr&&typeof Jr.onCommitFiberRoot=="function")try{Jr.onCommitFiberRoot(hp,t,void 0,(t.current.flags&128)===128)}catch{}}var Sr=Math.clz32?Math.clz32:aN,iN=Math.log,sN=Math.LN2;function aN(t){return t>>>=0,t===0?32:31-(iN(t)/sN|0)|0}var nd=64,rd=4194304;function Sl(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function jf(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,s=t.pingedLanes,a=n&268435455;if(a!==0){var o=a&~i;o!==0?r=Sl(o):(s&=a,s!==0&&(r=Sl(s)))}else a=n&~i,a!==0?r=Sl(a):s!==0&&(r=Sl(s));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-Sr(e),i=1<<n,r|=t[n],e&=~i;return r}function oN(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function lN(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var a=31-Sr(s),o=1<<a,l=i[a];l===-1?(!(o&n)||o&r)&&(i[a]=oN(o,e)):l<=e&&(t.expiredLanes|=o),s&=~o}}function Ry(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function AT(){var t=nd;return nd<<=1,!(nd&4194240)&&(nd=64),t}function zm(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function vc(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Sr(e),t[e]=n}function uN(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-Sr(n),s=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~s}}function $0(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-Sr(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var $e=0;function IT(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var OT,N0,RT,$T,NT,$y=!1,id=[],rs=null,is=null,ss=null,ku=new Map,Su=new Map,Ji=[],cN="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function B_(t,e){switch(t){case"focusin":case"focusout":rs=null;break;case"dragenter":case"dragleave":is=null;break;case"mouseover":case"mouseout":ss=null;break;case"pointerover":case"pointerout":ku.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Su.delete(e.pointerId)}}function ul(t,e,n,r,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=wc(e),e!==null&&N0(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function dN(t,e,n,r,i){switch(e){case"focusin":return rs=ul(rs,t,e,n,r,i),!0;case"dragenter":return is=ul(is,t,e,n,r,i),!0;case"mouseover":return ss=ul(ss,t,e,n,r,i),!0;case"pointerover":var s=i.pointerId;return ku.set(s,ul(ku.get(s)||null,t,e,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,Su.set(s,ul(Su.get(s)||null,t,e,n,r,i)),!0}return!1}function jT(t){var e=Ws(t.target);if(e!==null){var n=_a(e);if(n!==null){if(e=n.tag,e===13){if(e=kT(n),e!==null){t.blockedOn=e,NT(t.priority,function(){RT(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Bd(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Ny(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);Ey=r,n.target.dispatchEvent(r),Ey=null}else return e=wc(n),e!==null&&N0(e),t.blockedOn=n,!1;e.shift()}return!0}function V_(t,e,n){Bd(t)&&n.delete(e)}function fN(){$y=!1,rs!==null&&Bd(rs)&&(rs=null),is!==null&&Bd(is)&&(is=null),ss!==null&&Bd(ss)&&(ss=null),ku.forEach(V_),Su.forEach(V_)}function cl(t,e){t.blockedOn===e&&(t.blockedOn=null,$y||($y=!0,$n.unstable_scheduleCallback($n.unstable_NormalPriority,fN)))}function Cu(t){function e(i){return cl(i,t)}if(0<id.length){cl(id[0],t);for(var n=1;n<id.length;n++){var r=id[n];r.blockedOn===t&&(r.blockedOn=null)}}for(rs!==null&&cl(rs,t),is!==null&&cl(is,t),ss!==null&&cl(ss,t),ku.forEach(e),Su.forEach(e),n=0;n<Ji.length;n++)r=Ji[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<Ji.length&&(n=Ji[0],n.blockedOn===null);)jT(n),n.blockedOn===null&&Ji.shift()}var mo=Ni.ReactCurrentBatchConfig,Mf=!0;function hN(t,e,n,r){var i=$e,s=mo.transition;mo.transition=null;try{$e=1,j0(t,e,n,r)}finally{$e=i,mo.transition=s}}function pN(t,e,n,r){var i=$e,s=mo.transition;mo.transition=null;try{$e=4,j0(t,e,n,r)}finally{$e=i,mo.transition=s}}function j0(t,e,n,r){if(Mf){var i=Ny(t,e,n,r);if(i===null)Gm(t,e,r,Lf,n),B_(t,r);else if(dN(i,t,e,n,r))r.stopPropagation();else if(B_(t,r),e&4&&-1<cN.indexOf(t)){for(;i!==null;){var s=wc(i);if(s!==null&&OT(s),s=Ny(t,e,n,r),s===null&&Gm(t,e,r,Lf,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else Gm(t,e,r,null,n)}}var Lf=null;function Ny(t,e,n,r){if(Lf=null,t=O0(r),t=Ws(t),t!==null)if(e=_a(t),e===null)t=null;else if(n=e.tag,n===13){if(t=kT(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Lf=t,null}function MT(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(tN()){case R0:return 1;case PT:return 4;case Nf:case nN:return 16;case ET:return 536870912;default:return 16}default:return 16}}var es=null,M0=null,Vd=null;function LT(){if(Vd)return Vd;var t,e=M0,n=e.length,r,i="value"in es?es.value:es.textContent,s=i.length;for(t=0;t<n&&e[t]===i[t];t++);var a=n-t;for(r=1;r<=a&&e[n-r]===i[s-r];r++);return Vd=i.slice(t,1<r?1-r:void 0)}function Ud(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function sd(){return!0}function U_(){return!1}function Ln(t){function e(n,r,i,s,a){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=a,this.currentTarget=null;for(var o in t)t.hasOwnProperty(o)&&(n=t[o],this[o]=n?n(s):s[o]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?sd:U_,this.isPropagationStopped=U_,this}return rt(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=sd)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=sd)},persist:function(){},isPersistent:sd}),e}var Wo={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},L0=Ln(Wo),bc=rt({},Wo,{view:0,detail:0}),mN=Ln(bc),Dm,Fm,dl,pp=rt({},bc,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:z0,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==dl&&(dl&&t.type==="mousemove"?(Dm=t.screenX-dl.screenX,Fm=t.screenY-dl.screenY):Fm=Dm=0,dl=t),Dm)},movementY:function(t){return"movementY"in t?t.movementY:Fm}}),H_=Ln(pp),gN=rt({},pp,{dataTransfer:0}),yN=Ln(gN),vN=rt({},bc,{relatedTarget:0}),Bm=Ln(vN),bN=rt({},Wo,{animationName:0,elapsedTime:0,pseudoElement:0}),wN=Ln(bN),_N=rt({},Wo,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),xN=Ln(_N),kN=rt({},Wo,{data:0}),W_=Ln(kN),SN={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},CN={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},TN={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function PN(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=TN[t])?!!e[t]:!1}function z0(){return PN}var EN=rt({},bc,{key:function(t){if(t.key){var e=SN[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Ud(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?CN[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:z0,charCode:function(t){return t.type==="keypress"?Ud(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Ud(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),AN=Ln(EN),IN=rt({},pp,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),q_=Ln(IN),ON=rt({},bc,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:z0}),RN=Ln(ON),$N=rt({},Wo,{propertyName:0,elapsedTime:0,pseudoElement:0}),NN=Ln($N),jN=rt({},pp,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),MN=Ln(jN),LN=[9,13,27,32],D0=Ei&&"CompositionEvent"in window,Gl=null;Ei&&"documentMode"in document&&(Gl=document.documentMode);var zN=Ei&&"TextEvent"in window&&!Gl,zT=Ei&&(!D0||Gl&&8<Gl&&11>=Gl),Z_=" ",G_=!1;function DT(t,e){switch(t){case"keyup":return LN.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function FT(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Va=!1;function DN(t,e){switch(t){case"compositionend":return FT(e);case"keypress":return e.which!==32?null:(G_=!0,Z_);case"textInput":return t=e.data,t===Z_&&G_?null:t;default:return null}}function FN(t,e){if(Va)return t==="compositionend"||!D0&&DT(t,e)?(t=LT(),Vd=M0=es=null,Va=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return zT&&e.locale!=="ko"?null:e.data;default:return null}}var BN={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function K_(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!BN[t.type]:e==="textarea"}function BT(t,e,n,r){vT(r),e=zf(e,"onChange"),0<e.length&&(n=new L0("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Kl=null,Tu=null;function VN(t){YT(t,0)}function mp(t){var e=Wa(t);if(dT(e))return t}function UN(t,e){if(t==="change")return e}var VT=!1;if(Ei){var Vm;if(Ei){var Um="oninput"in document;if(!Um){var J_=document.createElement("div");J_.setAttribute("oninput","return;"),Um=typeof J_.oninput=="function"}Vm=Um}else Vm=!1;VT=Vm&&(!document.documentMode||9<document.documentMode)}function X_(){Kl&&(Kl.detachEvent("onpropertychange",UT),Tu=Kl=null)}function UT(t){if(t.propertyName==="value"&&mp(Tu)){var e=[];BT(e,Tu,t,O0(t)),xT(VN,e)}}function HN(t,e,n){t==="focusin"?(X_(),Kl=e,Tu=n,Kl.attachEvent("onpropertychange",UT)):t==="focusout"&&X_()}function WN(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return mp(Tu)}function qN(t,e){if(t==="click")return mp(e)}function ZN(t,e){if(t==="input"||t==="change")return mp(e)}function GN(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Ar=typeof Object.is=="function"?Object.is:GN;function Pu(t,e){if(Ar(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!gy.call(e,i)||!Ar(t[i],e[i]))return!1}return!0}function Y_(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Q_(t,e){var n=Y_(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Y_(n)}}function HT(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?HT(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function WT(){for(var t=window,e=Of();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Of(t.document)}return e}function F0(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function KN(t){var e=WT(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&HT(n.ownerDocument.documentElement,n)){if(r!==null&&F0(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!t.extend&&s>r&&(i=r,r=s,s=i),i=Q_(n,s);var a=Q_(n,r);i&&a&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==a.node||t.focusOffset!==a.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>r?(t.addRange(e),t.extend(a.node,a.offset)):(e.setEnd(a.node,a.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var JN=Ei&&"documentMode"in document&&11>=document.documentMode,Ua=null,jy=null,Jl=null,My=!1;function ex(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;My||Ua==null||Ua!==Of(r)||(r=Ua,"selectionStart"in r&&F0(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Jl&&Pu(Jl,r)||(Jl=r,r=zf(jy,"onSelect"),0<r.length&&(e=new L0("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Ua)))}function ad(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Ha={animationend:ad("Animation","AnimationEnd"),animationiteration:ad("Animation","AnimationIteration"),animationstart:ad("Animation","AnimationStart"),transitionend:ad("Transition","TransitionEnd")},Hm={},qT={};Ei&&(qT=document.createElement("div").style,"AnimationEvent"in window||(delete Ha.animationend.animation,delete Ha.animationiteration.animation,delete Ha.animationstart.animation),"TransitionEvent"in window||delete Ha.transitionend.transition);function gp(t){if(Hm[t])return Hm[t];if(!Ha[t])return t;var e=Ha[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in qT)return Hm[t]=e[n];return t}var ZT=gp("animationend"),GT=gp("animationiteration"),KT=gp("animationstart"),JT=gp("transitionend"),XT=new Map,tx="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function xs(t,e){XT.set(t,e),wa(e,[t])}for(var Wm=0;Wm<tx.length;Wm++){var qm=tx[Wm],XN=qm.toLowerCase(),YN=qm[0].toUpperCase()+qm.slice(1);xs(XN,"on"+YN)}xs(ZT,"onAnimationEnd");xs(GT,"onAnimationIteration");xs(KT,"onAnimationStart");xs("dblclick","onDoubleClick");xs("focusin","onFocus");xs("focusout","onBlur");xs(JT,"onTransitionEnd");Io("onMouseEnter",["mouseout","mouseover"]);Io("onMouseLeave",["mouseout","mouseover"]);Io("onPointerEnter",["pointerout","pointerover"]);Io("onPointerLeave",["pointerout","pointerover"]);wa("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));wa("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));wa("onBeforeInput",["compositionend","keypress","textInput","paste"]);wa("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));wa("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));wa("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Cl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),QN=new Set("cancel close invalid load scroll toggle".split(" ").concat(Cl));function nx(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,X$(r,e,void 0,t),t.currentTarget=null}function YT(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var a=r.length-1;0<=a;a--){var o=r[a],l=o.instance,u=o.currentTarget;if(o=o.listener,l!==s&&i.isPropagationStopped())break e;nx(i,o,u),s=l}else for(a=0;a<r.length;a++){if(o=r[a],l=o.instance,u=o.currentTarget,o=o.listener,l!==s&&i.isPropagationStopped())break e;nx(i,o,u),s=l}}}if($f)throw t=Oy,$f=!1,Oy=null,t}function We(t,e){var n=e[By];n===void 0&&(n=e[By]=new Set);var r=t+"__bubble";n.has(r)||(QT(e,t,2,!1),n.add(r))}function Zm(t,e,n){var r=0;e&&(r|=4),QT(n,t,r,e)}var od="_reactListening"+Math.random().toString(36).slice(2);function Eu(t){if(!t[od]){t[od]=!0,aT.forEach(function(n){n!=="selectionchange"&&(QN.has(n)||Zm(n,!1,t),Zm(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[od]||(e[od]=!0,Zm("selectionchange",!1,e))}}function QT(t,e,n,r){switch(MT(e)){case 1:var i=hN;break;case 4:i=pN;break;default:i=j0}n=i.bind(null,e,n,t),i=void 0,!Iy||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function Gm(t,e,n,r,i){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var a=r.tag;if(a===3||a===4){var o=r.stateNode.containerInfo;if(o===i||o.nodeType===8&&o.parentNode===i)break;if(a===4)for(a=r.return;a!==null;){var l=a.tag;if((l===3||l===4)&&(l=a.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;a=a.return}for(;o!==null;){if(a=Ws(o),a===null)return;if(l=a.tag,l===5||l===6){r=s=a;continue e}o=o.parentNode}}r=r.return}xT(function(){var u=s,c=O0(n),d=[];e:{var f=XT.get(t);if(f!==void 0){var h=L0,p=t;switch(t){case"keypress":if(Ud(n)===0)break e;case"keydown":case"keyup":h=AN;break;case"focusin":p="focus",h=Bm;break;case"focusout":p="blur",h=Bm;break;case"beforeblur":case"afterblur":h=Bm;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":h=H_;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":h=yN;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":h=RN;break;case ZT:case GT:case KT:h=wN;break;case JT:h=NN;break;case"scroll":h=mN;break;case"wheel":h=MN;break;case"copy":case"cut":case"paste":h=xN;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":h=q_}var y=(e&4)!==0,b=!y&&t==="scroll",m=y?f!==null?f+"Capture":null:f;y=[];for(var g=u,v;g!==null;){v=g;var x=v.stateNode;if(v.tag===5&&x!==null&&(v=x,m!==null&&(x=xu(g,m),x!=null&&y.push(Au(g,x,v)))),b)break;g=g.return}0<y.length&&(f=new h(f,p,null,n,c),d.push({event:f,listeners:y}))}}if(!(e&7)){e:{if(f=t==="mouseover"||t==="pointerover",h=t==="mouseout"||t==="pointerout",f&&n!==Ey&&(p=n.relatedTarget||n.fromElement)&&(Ws(p)||p[Ai]))break e;if((h||f)&&(f=c.window===c?c:(f=c.ownerDocument)?f.defaultView||f.parentWindow:window,h?(p=n.relatedTarget||n.toElement,h=u,p=p?Ws(p):null,p!==null&&(b=_a(p),p!==b||p.tag!==5&&p.tag!==6)&&(p=null)):(h=null,p=u),h!==p)){if(y=H_,x="onMouseLeave",m="onMouseEnter",g="mouse",(t==="pointerout"||t==="pointerover")&&(y=q_,x="onPointerLeave",m="onPointerEnter",g="pointer"),b=h==null?f:Wa(h),v=p==null?f:Wa(p),f=new y(x,g+"leave",h,n,c),f.target=b,f.relatedTarget=v,x=null,Ws(c)===u&&(y=new y(m,g+"enter",p,n,c),y.target=v,y.relatedTarget=b,x=y),b=x,h&&p)t:{for(y=h,m=p,g=0,v=y;v;v=Aa(v))g++;for(v=0,x=m;x;x=Aa(x))v++;for(;0<g-v;)y=Aa(y),g--;for(;0<v-g;)m=Aa(m),v--;for(;g--;){if(y===m||m!==null&&y===m.alternate)break t;y=Aa(y),m=Aa(m)}y=null}else y=null;h!==null&&rx(d,f,h,y,!1),p!==null&&b!==null&&rx(d,b,p,y,!0)}}e:{if(f=u?Wa(u):window,h=f.nodeName&&f.nodeName.toLowerCase(),h==="select"||h==="input"&&f.type==="file")var C=UN;else if(K_(f))if(VT)C=ZN;else{C=WN;var k=HN}else(h=f.nodeName)&&h.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(C=qN);if(C&&(C=C(t,u))){BT(d,C,n,c);break e}k&&k(t,f,u),t==="focusout"&&(k=f._wrapperState)&&k.controlled&&f.type==="number"&&ky(f,"number",f.value)}switch(k=u?Wa(u):window,t){case"focusin":(K_(k)||k.contentEditable==="true")&&(Ua=k,jy=u,Jl=null);break;case"focusout":Jl=jy=Ua=null;break;case"mousedown":My=!0;break;case"contextmenu":case"mouseup":case"dragend":My=!1,ex(d,n,c);break;case"selectionchange":if(JN)break;case"keydown":case"keyup":ex(d,n,c)}var I;if(D0)e:{switch(t){case"compositionstart":var R="onCompositionStart";break e;case"compositionend":R="onCompositionEnd";break e;case"compositionupdate":R="onCompositionUpdate";break e}R=void 0}else Va?DT(t,n)&&(R="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(R="onCompositionStart");R&&(zT&&n.locale!=="ko"&&(Va||R!=="onCompositionStart"?R==="onCompositionEnd"&&Va&&(I=LT()):(es=c,M0="value"in es?es.value:es.textContent,Va=!0)),k=zf(u,R),0<k.length&&(R=new W_(R,t,null,n,c),d.push({event:R,listeners:k}),I?R.data=I:(I=FT(n),I!==null&&(R.data=I)))),(I=zN?DN(t,n):FN(t,n))&&(u=zf(u,"onBeforeInput"),0<u.length&&(c=new W_("onBeforeInput","beforeinput",null,n,c),d.push({event:c,listeners:u}),c.data=I))}YT(d,e)})}function Au(t,e,n){return{instance:t,listener:e,currentTarget:n}}function zf(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=xu(t,n),s!=null&&r.unshift(Au(t,s,i)),s=xu(t,e),s!=null&&r.push(Au(t,s,i))),t=t.return}return r}function Aa(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function rx(t,e,n,r,i){for(var s=e._reactName,a=[];n!==null&&n!==r;){var o=n,l=o.alternate,u=o.stateNode;if(l!==null&&l===r)break;o.tag===5&&u!==null&&(o=u,i?(l=xu(n,s),l!=null&&a.unshift(Au(n,l,o))):i||(l=xu(n,s),l!=null&&a.push(Au(n,l,o)))),n=n.return}a.length!==0&&t.push({event:e,listeners:a})}var ej=/\r\n?/g,tj=/\u0000|\uFFFD/g;function ix(t){return(typeof t=="string"?t:""+t).replace(ej,`
`).replace(tj,"")}function ld(t,e,n){if(e=ix(e),ix(t)!==e&&n)throw Error(M(425))}function Df(){}var Ly=null,zy=null;function Dy(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Fy=typeof setTimeout=="function"?setTimeout:void 0,nj=typeof clearTimeout=="function"?clearTimeout:void 0,sx=typeof Promise=="function"?Promise:void 0,rj=typeof queueMicrotask=="function"?queueMicrotask:typeof sx<"u"?function(t){return sx.resolve(null).then(t).catch(ij)}:Fy;function ij(t){setTimeout(function(){throw t})}function Km(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),Cu(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);Cu(e)}function as(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function ax(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var qo=Math.random().toString(36).slice(2),qr="__reactFiber$"+qo,Iu="__reactProps$"+qo,Ai="__reactContainer$"+qo,By="__reactEvents$"+qo,sj="__reactListeners$"+qo,aj="__reactHandles$"+qo;function Ws(t){var e=t[qr];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Ai]||n[qr]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=ax(t);t!==null;){if(n=t[qr])return n;t=ax(t)}return e}t=n,n=t.parentNode}return null}function wc(t){return t=t[qr]||t[Ai],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Wa(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(M(33))}function yp(t){return t[Iu]||null}var Vy=[],qa=-1;function ks(t){return{current:t}}function Ze(t){0>qa||(t.current=Vy[qa],Vy[qa]=null,qa--)}function Ue(t,e){qa++,Vy[qa]=t.current,t.current=e}var ps={},Wt=ks(ps),pn=ks(!1),la=ps;function Oo(t,e){var n=t.type.contextTypes;if(!n)return ps;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=e[s];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function mn(t){return t=t.childContextTypes,t!=null}function Ff(){Ze(pn),Ze(Wt)}function ox(t,e,n){if(Wt.current!==ps)throw Error(M(168));Ue(Wt,e),Ue(pn,n)}function eP(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(M(108,H$(t)||"Unknown",i));return rt({},n,r)}function Bf(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||ps,la=Wt.current,Ue(Wt,t),Ue(pn,pn.current),!0}function lx(t,e,n){var r=t.stateNode;if(!r)throw Error(M(169));n?(t=eP(t,e,la),r.__reactInternalMemoizedMergedChildContext=t,Ze(pn),Ze(Wt),Ue(Wt,t)):Ze(pn),Ue(pn,n)}var pi=null,vp=!1,Jm=!1;function tP(t){pi===null?pi=[t]:pi.push(t)}function oj(t){vp=!0,tP(t)}function Ss(){if(!Jm&&pi!==null){Jm=!0;var t=0,e=$e;try{var n=pi;for($e=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}pi=null,vp=!1}catch(i){throw pi!==null&&(pi=pi.slice(t+1)),TT(R0,Ss),i}finally{$e=e,Jm=!1}}return null}var Za=[],Ga=0,Vf=null,Uf=0,qn=[],Zn=0,ua=null,yi=1,vi="";function Ns(t,e){Za[Ga++]=Uf,Za[Ga++]=Vf,Vf=t,Uf=e}function nP(t,e,n){qn[Zn++]=yi,qn[Zn++]=vi,qn[Zn++]=ua,ua=t;var r=yi;t=vi;var i=32-Sr(r)-1;r&=~(1<<i),n+=1;var s=32-Sr(e)+i;if(30<s){var a=i-i%5;s=(r&(1<<a)-1).toString(32),r>>=a,i-=a,yi=1<<32-Sr(e)+i|n<<i|r,vi=s+t}else yi=1<<s|n<<i|r,vi=t}function B0(t){t.return!==null&&(Ns(t,1),nP(t,1,0))}function V0(t){for(;t===Vf;)Vf=Za[--Ga],Za[Ga]=null,Uf=Za[--Ga],Za[Ga]=null;for(;t===ua;)ua=qn[--Zn],qn[Zn]=null,vi=qn[--Zn],qn[Zn]=null,yi=qn[--Zn],qn[Zn]=null}var An=null,En=null,Je=!1,wr=null;function rP(t,e){var n=Kn(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function ux(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,An=t,En=as(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,An=t,En=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=ua!==null?{id:yi,overflow:vi}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Kn(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,An=t,En=null,!0):!1;default:return!1}}function Uy(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Hy(t){if(Je){var e=En;if(e){var n=e;if(!ux(t,e)){if(Uy(t))throw Error(M(418));e=as(n.nextSibling);var r=An;e&&ux(t,e)?rP(r,n):(t.flags=t.flags&-4097|2,Je=!1,An=t)}}else{if(Uy(t))throw Error(M(418));t.flags=t.flags&-4097|2,Je=!1,An=t}}}function cx(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;An=t}function ud(t){if(t!==An)return!1;if(!Je)return cx(t),Je=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Dy(t.type,t.memoizedProps)),e&&(e=En)){if(Uy(t))throw iP(),Error(M(418));for(;e;)rP(t,e),e=as(e.nextSibling)}if(cx(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(M(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){En=as(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}En=null}}else En=An?as(t.stateNode.nextSibling):null;return!0}function iP(){for(var t=En;t;)t=as(t.nextSibling)}function Ro(){En=An=null,Je=!1}function U0(t){wr===null?wr=[t]:wr.push(t)}var lj=Ni.ReactCurrentBatchConfig;function fl(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(M(309));var r=n.stateNode}if(!r)throw Error(M(147,t));var i=r,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(a){var o=i.refs;a===null?delete o[s]:o[s]=a},e._stringRef=s,e)}if(typeof t!="string")throw Error(M(284));if(!n._owner)throw Error(M(290,t))}return t}function cd(t,e){throw t=Object.prototype.toString.call(e),Error(M(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function dx(t){var e=t._init;return e(t._payload)}function sP(t){function e(m,g){if(t){var v=m.deletions;v===null?(m.deletions=[g],m.flags|=16):v.push(g)}}function n(m,g){if(!t)return null;for(;g!==null;)e(m,g),g=g.sibling;return null}function r(m,g){for(m=new Map;g!==null;)g.key!==null?m.set(g.key,g):m.set(g.index,g),g=g.sibling;return m}function i(m,g){return m=cs(m,g),m.index=0,m.sibling=null,m}function s(m,g,v){return m.index=v,t?(v=m.alternate,v!==null?(v=v.index,v<g?(m.flags|=2,g):v):(m.flags|=2,g)):(m.flags|=1048576,g)}function a(m){return t&&m.alternate===null&&(m.flags|=2),m}function o(m,g,v,x){return g===null||g.tag!==6?(g=rg(v,m.mode,x),g.return=m,g):(g=i(g,v),g.return=m,g)}function l(m,g,v,x){var C=v.type;return C===Ba?c(m,g,v.props.children,x,v.key):g!==null&&(g.elementType===C||typeof C=="object"&&C!==null&&C.$$typeof===qi&&dx(C)===g.type)?(x=i(g,v.props),x.ref=fl(m,g,v),x.return=m,x):(x=Jd(v.type,v.key,v.props,null,m.mode,x),x.ref=fl(m,g,v),x.return=m,x)}function u(m,g,v,x){return g===null||g.tag!==4||g.stateNode.containerInfo!==v.containerInfo||g.stateNode.implementation!==v.implementation?(g=ig(v,m.mode,x),g.return=m,g):(g=i(g,v.children||[]),g.return=m,g)}function c(m,g,v,x,C){return g===null||g.tag!==7?(g=ta(v,m.mode,x,C),g.return=m,g):(g=i(g,v),g.return=m,g)}function d(m,g,v){if(typeof g=="string"&&g!==""||typeof g=="number")return g=rg(""+g,m.mode,v),g.return=m,g;if(typeof g=="object"&&g!==null){switch(g.$$typeof){case Qc:return v=Jd(g.type,g.key,g.props,null,m.mode,v),v.ref=fl(m,null,g),v.return=m,v;case Fa:return g=ig(g,m.mode,v),g.return=m,g;case qi:var x=g._init;return d(m,x(g._payload),v)}if(kl(g)||ol(g))return g=ta(g,m.mode,v,null),g.return=m,g;cd(m,g)}return null}function f(m,g,v,x){var C=g!==null?g.key:null;if(typeof v=="string"&&v!==""||typeof v=="number")return C!==null?null:o(m,g,""+v,x);if(typeof v=="object"&&v!==null){switch(v.$$typeof){case Qc:return v.key===C?l(m,g,v,x):null;case Fa:return v.key===C?u(m,g,v,x):null;case qi:return C=v._init,f(m,g,C(v._payload),x)}if(kl(v)||ol(v))return C!==null?null:c(m,g,v,x,null);cd(m,v)}return null}function h(m,g,v,x,C){if(typeof x=="string"&&x!==""||typeof x=="number")return m=m.get(v)||null,o(g,m,""+x,C);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case Qc:return m=m.get(x.key===null?v:x.key)||null,l(g,m,x,C);case Fa:return m=m.get(x.key===null?v:x.key)||null,u(g,m,x,C);case qi:var k=x._init;return h(m,g,v,k(x._payload),C)}if(kl(x)||ol(x))return m=m.get(v)||null,c(g,m,x,C,null);cd(g,x)}return null}function p(m,g,v,x){for(var C=null,k=null,I=g,R=g=0,j=null;I!==null&&R<v.length;R++){I.index>R?(j=I,I=null):j=I.sibling;var T=f(m,I,v[R],x);if(T===null){I===null&&(I=j);break}t&&I&&T.alternate===null&&e(m,I),g=s(T,g,R),k===null?C=T:k.sibling=T,k=T,I=j}if(R===v.length)return n(m,I),Je&&Ns(m,R),C;if(I===null){for(;R<v.length;R++)I=d(m,v[R],x),I!==null&&(g=s(I,g,R),k===null?C=I:k.sibling=I,k=I);return Je&&Ns(m,R),C}for(I=r(m,I);R<v.length;R++)j=h(I,m,R,v[R],x),j!==null&&(t&&j.alternate!==null&&I.delete(j.key===null?R:j.key),g=s(j,g,R),k===null?C=j:k.sibling=j,k=j);return t&&I.forEach(function(F){return e(m,F)}),Je&&Ns(m,R),C}function y(m,g,v,x){var C=ol(v);if(typeof C!="function")throw Error(M(150));if(v=C.call(v),v==null)throw Error(M(151));for(var k=C=null,I=g,R=g=0,j=null,T=v.next();I!==null&&!T.done;R++,T=v.next()){I.index>R?(j=I,I=null):j=I.sibling;var F=f(m,I,T.value,x);if(F===null){I===null&&(I=j);break}t&&I&&F.alternate===null&&e(m,I),g=s(F,g,R),k===null?C=F:k.sibling=F,k=F,I=j}if(T.done)return n(m,I),Je&&Ns(m,R),C;if(I===null){for(;!T.done;R++,T=v.next())T=d(m,T.value,x),T!==null&&(g=s(T,g,R),k===null?C=T:k.sibling=T,k=T);return Je&&Ns(m,R),C}for(I=r(m,I);!T.done;R++,T=v.next())T=h(I,m,R,T.value,x),T!==null&&(t&&T.alternate!==null&&I.delete(T.key===null?R:T.key),g=s(T,g,R),k===null?C=T:k.sibling=T,k=T);return t&&I.forEach(function(q){return e(m,q)}),Je&&Ns(m,R),C}function b(m,g,v,x){if(typeof v=="object"&&v!==null&&v.type===Ba&&v.key===null&&(v=v.props.children),typeof v=="object"&&v!==null){switch(v.$$typeof){case Qc:e:{for(var C=v.key,k=g;k!==null;){if(k.key===C){if(C=v.type,C===Ba){if(k.tag===7){n(m,k.sibling),g=i(k,v.props.children),g.return=m,m=g;break e}}else if(k.elementType===C||typeof C=="object"&&C!==null&&C.$$typeof===qi&&dx(C)===k.type){n(m,k.sibling),g=i(k,v.props),g.ref=fl(m,k,v),g.return=m,m=g;break e}n(m,k);break}else e(m,k);k=k.sibling}v.type===Ba?(g=ta(v.props.children,m.mode,x,v.key),g.return=m,m=g):(x=Jd(v.type,v.key,v.props,null,m.mode,x),x.ref=fl(m,g,v),x.return=m,m=x)}return a(m);case Fa:e:{for(k=v.key;g!==null;){if(g.key===k)if(g.tag===4&&g.stateNode.containerInfo===v.containerInfo&&g.stateNode.implementation===v.implementation){n(m,g.sibling),g=i(g,v.children||[]),g.return=m,m=g;break e}else{n(m,g);break}else e(m,g);g=g.sibling}g=ig(v,m.mode,x),g.return=m,m=g}return a(m);case qi:return k=v._init,b(m,g,k(v._payload),x)}if(kl(v))return p(m,g,v,x);if(ol(v))return y(m,g,v,x);cd(m,v)}return typeof v=="string"&&v!==""||typeof v=="number"?(v=""+v,g!==null&&g.tag===6?(n(m,g.sibling),g=i(g,v),g.return=m,m=g):(n(m,g),g=rg(v,m.mode,x),g.return=m,m=g),a(m)):n(m,g)}return b}var $o=sP(!0),aP=sP(!1),Hf=ks(null),Wf=null,Ka=null,H0=null;function W0(){H0=Ka=Wf=null}function q0(t){var e=Hf.current;Ze(Hf),t._currentValue=e}function Wy(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function go(t,e){Wf=t,H0=Ka=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(fn=!0),t.firstContext=null)}function Qn(t){var e=t._currentValue;if(H0!==t)if(t={context:t,memoizedValue:e,next:null},Ka===null){if(Wf===null)throw Error(M(308));Ka=t,Wf.dependencies={lanes:0,firstContext:t}}else Ka=Ka.next=t;return e}var qs=null;function Z0(t){qs===null?qs=[t]:qs.push(t)}function oP(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,Z0(e)):(n.next=i.next,i.next=n),e.interleaved=n,Ii(t,r)}function Ii(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Zi=!1;function G0(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function lP(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function _i(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function os(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,be&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,Ii(t,n)}return i=r.interleaved,i===null?(e.next=e,Z0(r)):(e.next=i.next,i.next=e),r.interleaved=e,Ii(t,n)}function Hd(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,$0(t,n)}}function fx(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=a:s=s.next=a,n=n.next}while(n!==null);s===null?i=s=e:s=s.next=e}else i=s=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function qf(t,e,n,r){var i=t.updateQueue;Zi=!1;var s=i.firstBaseUpdate,a=i.lastBaseUpdate,o=i.shared.pending;if(o!==null){i.shared.pending=null;var l=o,u=l.next;l.next=null,a===null?s=u:a.next=u,a=l;var c=t.alternate;c!==null&&(c=c.updateQueue,o=c.lastBaseUpdate,o!==a&&(o===null?c.firstBaseUpdate=u:o.next=u,c.lastBaseUpdate=l))}if(s!==null){var d=i.baseState;a=0,c=u=l=null,o=s;do{var f=o.lane,h=o.eventTime;if((r&f)===f){c!==null&&(c=c.next={eventTime:h,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var p=t,y=o;switch(f=e,h=n,y.tag){case 1:if(p=y.payload,typeof p=="function"){d=p.call(h,d,f);break e}d=p;break e;case 3:p.flags=p.flags&-65537|128;case 0:if(p=y.payload,f=typeof p=="function"?p.call(h,d,f):p,f==null)break e;d=rt({},d,f);break e;case 2:Zi=!0}}o.callback!==null&&o.lane!==0&&(t.flags|=64,f=i.effects,f===null?i.effects=[o]:f.push(o))}else h={eventTime:h,lane:f,tag:o.tag,payload:o.payload,callback:o.callback,next:null},c===null?(u=c=h,l=d):c=c.next=h,a|=f;if(o=o.next,o===null){if(o=i.shared.pending,o===null)break;f=o,o=f.next,f.next=null,i.lastBaseUpdate=f,i.shared.pending=null}}while(!0);if(c===null&&(l=d),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=c,e=i.shared.interleaved,e!==null){i=e;do a|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);da|=a,t.lanes=a,t.memoizedState=d}}function hx(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(M(191,i));i.call(r)}}}var _c={},Xr=ks(_c),Ou=ks(_c),Ru=ks(_c);function Zs(t){if(t===_c)throw Error(M(174));return t}function K0(t,e){switch(Ue(Ru,e),Ue(Ou,t),Ue(Xr,_c),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Cy(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Cy(e,t)}Ze(Xr),Ue(Xr,e)}function No(){Ze(Xr),Ze(Ou),Ze(Ru)}function uP(t){Zs(Ru.current);var e=Zs(Xr.current),n=Cy(e,t.type);e!==n&&(Ue(Ou,t),Ue(Xr,n))}function J0(t){Ou.current===t&&(Ze(Xr),Ze(Ou))}var et=ks(0);function Zf(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Xm=[];function X0(){for(var t=0;t<Xm.length;t++)Xm[t]._workInProgressVersionPrimary=null;Xm.length=0}var Wd=Ni.ReactCurrentDispatcher,Ym=Ni.ReactCurrentBatchConfig,ca=0,nt=null,vt=null,xt=null,Gf=!1,Xl=!1,$u=0,uj=0;function Nt(){throw Error(M(321))}function Y0(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Ar(t[n],e[n]))return!1;return!0}function Q0(t,e,n,r,i,s){if(ca=s,nt=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Wd.current=t===null||t.memoizedState===null?hj:pj,t=n(r,i),Xl){s=0;do{if(Xl=!1,$u=0,25<=s)throw Error(M(301));s+=1,xt=vt=null,e.updateQueue=null,Wd.current=mj,t=n(r,i)}while(Xl)}if(Wd.current=Kf,e=vt!==null&&vt.next!==null,ca=0,xt=vt=nt=null,Gf=!1,e)throw Error(M(300));return t}function eb(){var t=$u!==0;return $u=0,t}function zr(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return xt===null?nt.memoizedState=xt=t:xt=xt.next=t,xt}function er(){if(vt===null){var t=nt.alternate;t=t!==null?t.memoizedState:null}else t=vt.next;var e=xt===null?nt.memoizedState:xt.next;if(e!==null)xt=e,vt=t;else{if(t===null)throw Error(M(310));vt=t,t={memoizedState:vt.memoizedState,baseState:vt.baseState,baseQueue:vt.baseQueue,queue:vt.queue,next:null},xt===null?nt.memoizedState=xt=t:xt=xt.next=t}return xt}function Nu(t,e){return typeof e=="function"?e(t):e}function Qm(t){var e=er(),n=e.queue;if(n===null)throw Error(M(311));n.lastRenderedReducer=t;var r=vt,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var a=i.next;i.next=s.next,s.next=a}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var o=a=null,l=null,u=s;do{var c=u.lane;if((ca&c)===c)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:t(r,u.action);else{var d={lane:c,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(o=l=d,a=r):l=l.next=d,nt.lanes|=c,da|=c}u=u.next}while(u!==null&&u!==s);l===null?a=r:l.next=o,Ar(r,e.memoizedState)||(fn=!0),e.memoizedState=r,e.baseState=a,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do s=i.lane,nt.lanes|=s,da|=s,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function eg(t){var e=er(),n=e.queue;if(n===null)throw Error(M(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,s=e.memoizedState;if(i!==null){n.pending=null;var a=i=i.next;do s=t(s,a.action),a=a.next;while(a!==i);Ar(s,e.memoizedState)||(fn=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,r]}function cP(){}function dP(t,e){var n=nt,r=er(),i=e(),s=!Ar(r.memoizedState,i);if(s&&(r.memoizedState=i,fn=!0),r=r.queue,tb(pP.bind(null,n,r,t),[t]),r.getSnapshot!==e||s||xt!==null&&xt.memoizedState.tag&1){if(n.flags|=2048,ju(9,hP.bind(null,n,r,i,e),void 0,null),kt===null)throw Error(M(349));ca&30||fP(n,e,i)}return i}function fP(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=nt.updateQueue,e===null?(e={lastEffect:null,stores:null},nt.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function hP(t,e,n,r){e.value=n,e.getSnapshot=r,mP(e)&&gP(t)}function pP(t,e,n){return n(function(){mP(e)&&gP(t)})}function mP(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Ar(t,n)}catch{return!0}}function gP(t){var e=Ii(t,1);e!==null&&Cr(e,t,1,-1)}function px(t){var e=zr();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Nu,lastRenderedState:t},e.queue=t,t=t.dispatch=fj.bind(null,nt,t),[e.memoizedState,t]}function ju(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=nt.updateQueue,e===null?(e={lastEffect:null,stores:null},nt.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function yP(){return er().memoizedState}function qd(t,e,n,r){var i=zr();nt.flags|=t,i.memoizedState=ju(1|e,n,void 0,r===void 0?null:r)}function bp(t,e,n,r){var i=er();r=r===void 0?null:r;var s=void 0;if(vt!==null){var a=vt.memoizedState;if(s=a.destroy,r!==null&&Y0(r,a.deps)){i.memoizedState=ju(e,n,s,r);return}}nt.flags|=t,i.memoizedState=ju(1|e,n,s,r)}function mx(t,e){return qd(8390656,8,t,e)}function tb(t,e){return bp(2048,8,t,e)}function vP(t,e){return bp(4,2,t,e)}function bP(t,e){return bp(4,4,t,e)}function wP(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function _P(t,e,n){return n=n!=null?n.concat([t]):null,bp(4,4,wP.bind(null,e,t),n)}function nb(){}function xP(t,e){var n=er();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Y0(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function kP(t,e){var n=er();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Y0(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function SP(t,e,n){return ca&21?(Ar(n,e)||(n=AT(),nt.lanes|=n,da|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,fn=!0),t.memoizedState=n)}function cj(t,e){var n=$e;$e=n!==0&&4>n?n:4,t(!0);var r=Ym.transition;Ym.transition={};try{t(!1),e()}finally{$e=n,Ym.transition=r}}function CP(){return er().memoizedState}function dj(t,e,n){var r=us(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},TP(t))PP(e,n);else if(n=oP(t,e,n,r),n!==null){var i=Yt();Cr(n,t,r,i),EP(n,e,r)}}function fj(t,e,n){var r=us(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(TP(t))PP(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var a=e.lastRenderedState,o=s(a,n);if(i.hasEagerState=!0,i.eagerState=o,Ar(o,a)){var l=e.interleaved;l===null?(i.next=i,Z0(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}n=oP(t,e,i,r),n!==null&&(i=Yt(),Cr(n,t,r,i),EP(n,e,r))}}function TP(t){var e=t.alternate;return t===nt||e!==null&&e===nt}function PP(t,e){Xl=Gf=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function EP(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,$0(t,n)}}var Kf={readContext:Qn,useCallback:Nt,useContext:Nt,useEffect:Nt,useImperativeHandle:Nt,useInsertionEffect:Nt,useLayoutEffect:Nt,useMemo:Nt,useReducer:Nt,useRef:Nt,useState:Nt,useDebugValue:Nt,useDeferredValue:Nt,useTransition:Nt,useMutableSource:Nt,useSyncExternalStore:Nt,useId:Nt,unstable_isNewReconciler:!1},hj={readContext:Qn,useCallback:function(t,e){return zr().memoizedState=[t,e===void 0?null:e],t},useContext:Qn,useEffect:mx,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,qd(4194308,4,wP.bind(null,e,t),n)},useLayoutEffect:function(t,e){return qd(4194308,4,t,e)},useInsertionEffect:function(t,e){return qd(4,2,t,e)},useMemo:function(t,e){var n=zr();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=zr();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=dj.bind(null,nt,t),[r.memoizedState,t]},useRef:function(t){var e=zr();return t={current:t},e.memoizedState=t},useState:px,useDebugValue:nb,useDeferredValue:function(t){return zr().memoizedState=t},useTransition:function(){var t=px(!1),e=t[0];return t=cj.bind(null,t[1]),zr().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=nt,i=zr();if(Je){if(n===void 0)throw Error(M(407));n=n()}else{if(n=e(),kt===null)throw Error(M(349));ca&30||fP(r,e,n)}i.memoizedState=n;var s={value:n,getSnapshot:e};return i.queue=s,mx(pP.bind(null,r,s,t),[t]),r.flags|=2048,ju(9,hP.bind(null,r,s,n,e),void 0,null),n},useId:function(){var t=zr(),e=kt.identifierPrefix;if(Je){var n=vi,r=yi;n=(r&~(1<<32-Sr(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=$u++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=uj++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},pj={readContext:Qn,useCallback:xP,useContext:Qn,useEffect:tb,useImperativeHandle:_P,useInsertionEffect:vP,useLayoutEffect:bP,useMemo:kP,useReducer:Qm,useRef:yP,useState:function(){return Qm(Nu)},useDebugValue:nb,useDeferredValue:function(t){var e=er();return SP(e,vt.memoizedState,t)},useTransition:function(){var t=Qm(Nu)[0],e=er().memoizedState;return[t,e]},useMutableSource:cP,useSyncExternalStore:dP,useId:CP,unstable_isNewReconciler:!1},mj={readContext:Qn,useCallback:xP,useContext:Qn,useEffect:tb,useImperativeHandle:_P,useInsertionEffect:vP,useLayoutEffect:bP,useMemo:kP,useReducer:eg,useRef:yP,useState:function(){return eg(Nu)},useDebugValue:nb,useDeferredValue:function(t){var e=er();return vt===null?e.memoizedState=t:SP(e,vt.memoizedState,t)},useTransition:function(){var t=eg(Nu)[0],e=er().memoizedState;return[t,e]},useMutableSource:cP,useSyncExternalStore:dP,useId:CP,unstable_isNewReconciler:!1};function yr(t,e){if(t&&t.defaultProps){e=rt({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function qy(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:rt({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var wp={isMounted:function(t){return(t=t._reactInternals)?_a(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Yt(),i=us(t),s=_i(r,i);s.payload=e,n!=null&&(s.callback=n),e=os(t,s,i),e!==null&&(Cr(e,t,i,r),Hd(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Yt(),i=us(t),s=_i(r,i);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=os(t,s,i),e!==null&&(Cr(e,t,i,r),Hd(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Yt(),r=us(t),i=_i(n,r);i.tag=2,e!=null&&(i.callback=e),e=os(t,i,r),e!==null&&(Cr(e,t,r,n),Hd(e,t,r))}};function gx(t,e,n,r,i,s,a){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,s,a):e.prototype&&e.prototype.isPureReactComponent?!Pu(n,r)||!Pu(i,s):!0}function AP(t,e,n){var r=!1,i=ps,s=e.contextType;return typeof s=="object"&&s!==null?s=Qn(s):(i=mn(e)?la:Wt.current,r=e.contextTypes,s=(r=r!=null)?Oo(t,i):ps),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=wp,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function yx(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&wp.enqueueReplaceState(e,e.state,null)}function Zy(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},G0(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=Qn(s):(s=mn(e)?la:Wt.current,i.context=Oo(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(qy(t,e,s,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&wp.enqueueReplaceState(i,i.state,null),qf(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function jo(t,e){try{var n="",r=e;do n+=U$(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function tg(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function Gy(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var gj=typeof WeakMap=="function"?WeakMap:Map;function IP(t,e,n){n=_i(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Xf||(Xf=!0,iv=r),Gy(t,e)},n}function OP(t,e,n){n=_i(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){Gy(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){Gy(t,e),typeof r!="function"&&(ls===null?ls=new Set([this]):ls.add(this));var a=e.stack;this.componentDidCatch(e.value,{componentStack:a!==null?a:""})}),n}function vx(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new gj;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=Ij.bind(null,t,e,n),e.then(t,t))}function bx(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function wx(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=_i(-1,1),e.tag=2,os(n,e,1))),n.lanes|=1),t)}var yj=Ni.ReactCurrentOwner,fn=!1;function Kt(t,e,n,r){e.child=t===null?aP(e,null,n,r):$o(e,t.child,n,r)}function _x(t,e,n,r,i){n=n.render;var s=e.ref;return go(e,i),r=Q0(t,e,n,r,s,i),n=eb(),t!==null&&!fn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Oi(t,e,i)):(Je&&n&&B0(e),e.flags|=1,Kt(t,e,r,i),e.child)}function xx(t,e,n,r,i){if(t===null){var s=n.type;return typeof s=="function"&&!cb(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=s,RP(t,e,s,r,i)):(t=Jd(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var a=s.memoizedProps;if(n=n.compare,n=n!==null?n:Pu,n(a,r)&&t.ref===e.ref)return Oi(t,e,i)}return e.flags|=1,t=cs(s,r),t.ref=e.ref,t.return=e,e.child=t}function RP(t,e,n,r,i){if(t!==null){var s=t.memoizedProps;if(Pu(s,r)&&t.ref===e.ref)if(fn=!1,e.pendingProps=r=s,(t.lanes&i)!==0)t.flags&131072&&(fn=!0);else return e.lanes=t.lanes,Oi(t,e,i)}return Ky(t,e,n,r,i)}function $P(t,e,n){var r=e.pendingProps,i=r.children,s=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ue(Xa,Tn),Tn|=n;else{if(!(n&1073741824))return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Ue(Xa,Tn),Tn|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,Ue(Xa,Tn),Tn|=r}else s!==null?(r=s.baseLanes|n,e.memoizedState=null):r=n,Ue(Xa,Tn),Tn|=r;return Kt(t,e,i,n),e.child}function NP(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function Ky(t,e,n,r,i){var s=mn(n)?la:Wt.current;return s=Oo(e,s),go(e,i),n=Q0(t,e,n,r,s,i),r=eb(),t!==null&&!fn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Oi(t,e,i)):(Je&&r&&B0(e),e.flags|=1,Kt(t,e,n,i),e.child)}function kx(t,e,n,r,i){if(mn(n)){var s=!0;Bf(e)}else s=!1;if(go(e,i),e.stateNode===null)Zd(t,e),AP(e,n,r),Zy(e,n,r,i),r=!0;else if(t===null){var a=e.stateNode,o=e.memoizedProps;a.props=o;var l=a.context,u=n.contextType;typeof u=="object"&&u!==null?u=Qn(u):(u=mn(n)?la:Wt.current,u=Oo(e,u));var c=n.getDerivedStateFromProps,d=typeof c=="function"||typeof a.getSnapshotBeforeUpdate=="function";d||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(o!==r||l!==u)&&yx(e,a,r,u),Zi=!1;var f=e.memoizedState;a.state=f,qf(e,r,a,i),l=e.memoizedState,o!==r||f!==l||pn.current||Zi?(typeof c=="function"&&(qy(e,n,c,r),l=e.memoizedState),(o=Zi||gx(e,n,o,r,f,l,u))?(d||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(e.flags|=4194308)):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),a.props=r,a.state=l,a.context=u,r=o):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{a=e.stateNode,lP(t,e),o=e.memoizedProps,u=e.type===e.elementType?o:yr(e.type,o),a.props=u,d=e.pendingProps,f=a.context,l=n.contextType,typeof l=="object"&&l!==null?l=Qn(l):(l=mn(n)?la:Wt.current,l=Oo(e,l));var h=n.getDerivedStateFromProps;(c=typeof h=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(o!==d||f!==l)&&yx(e,a,r,l),Zi=!1,f=e.memoizedState,a.state=f,qf(e,r,a,i);var p=e.memoizedState;o!==d||f!==p||pn.current||Zi?(typeof h=="function"&&(qy(e,n,h,r),p=e.memoizedState),(u=Zi||gx(e,n,u,r,f,p,l)||!1)?(c||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(r,p,l),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(r,p,l)),typeof a.componentDidUpdate=="function"&&(e.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof a.componentDidUpdate!="function"||o===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||o===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=p),a.props=r,a.state=p,a.context=l,r=u):(typeof a.componentDidUpdate!="function"||o===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||o===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),r=!1)}return Jy(t,e,n,r,s,i)}function Jy(t,e,n,r,i,s){NP(t,e);var a=(e.flags&128)!==0;if(!r&&!a)return i&&lx(e,n,!1),Oi(t,e,s);r=e.stateNode,yj.current=e;var o=a&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&a?(e.child=$o(e,t.child,null,s),e.child=$o(e,null,o,s)):Kt(t,e,o,s),e.memoizedState=r.state,i&&lx(e,n,!0),e.child}function jP(t){var e=t.stateNode;e.pendingContext?ox(t,e.pendingContext,e.pendingContext!==e.context):e.context&&ox(t,e.context,!1),K0(t,e.containerInfo)}function Sx(t,e,n,r,i){return Ro(),U0(i),e.flags|=256,Kt(t,e,n,r),e.child}var Xy={dehydrated:null,treeContext:null,retryLane:0};function Yy(t){return{baseLanes:t,cachePool:null,transitions:null}}function MP(t,e,n){var r=e.pendingProps,i=et.current,s=!1,a=(e.flags&128)!==0,o;if((o=a)||(o=t!==null&&t.memoizedState===null?!1:(i&2)!==0),o?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),Ue(et,i&1),t===null)return Hy(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(a=r.children,t=r.fallback,s?(r=e.mode,s=e.child,a={mode:"hidden",children:a},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=a):s=kp(a,r,0,null),t=ta(t,r,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=Yy(n),e.memoizedState=Xy,t):rb(e,a));if(i=t.memoizedState,i!==null&&(o=i.dehydrated,o!==null))return vj(t,e,a,r,o,i,n);if(s){s=r.fallback,a=e.mode,i=t.child,o=i.sibling;var l={mode:"hidden",children:r.children};return!(a&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=cs(i,l),r.subtreeFlags=i.subtreeFlags&14680064),o!==null?s=cs(o,s):(s=ta(s,a,n,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,a=t.child.memoizedState,a=a===null?Yy(n):{baseLanes:a.baseLanes|n,cachePool:null,transitions:a.transitions},s.memoizedState=a,s.childLanes=t.childLanes&~n,e.memoizedState=Xy,r}return s=t.child,t=s.sibling,r=cs(s,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function rb(t,e){return e=kp({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function dd(t,e,n,r){return r!==null&&U0(r),$o(e,t.child,null,n),t=rb(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function vj(t,e,n,r,i,s,a){if(n)return e.flags&256?(e.flags&=-257,r=tg(Error(M(422))),dd(t,e,a,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=r.fallback,i=e.mode,r=kp({mode:"visible",children:r.children},i,0,null),s=ta(s,i,a,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,e.mode&1&&$o(e,t.child,null,a),e.child.memoizedState=Yy(a),e.memoizedState=Xy,s);if(!(e.mode&1))return dd(t,e,a,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var o=r.dgst;return r=o,s=Error(M(419)),r=tg(s,r,void 0),dd(t,e,a,r)}if(o=(a&t.childLanes)!==0,fn||o){if(r=kt,r!==null){switch(a&-a){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|a)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,Ii(t,i),Cr(r,t,i,-1))}return ub(),r=tg(Error(M(421))),dd(t,e,a,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=Oj.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,En=as(i.nextSibling),An=e,Je=!0,wr=null,t!==null&&(qn[Zn++]=yi,qn[Zn++]=vi,qn[Zn++]=ua,yi=t.id,vi=t.overflow,ua=e),e=rb(e,r.children),e.flags|=4096,e)}function Cx(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),Wy(t.return,e,n)}function ng(t,e,n,r,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function LP(t,e,n){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(Kt(t,e,r.children,n),r=et.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Cx(t,n,e);else if(t.tag===19)Cx(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(Ue(et,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&Zf(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),ng(e,!1,i,n,s);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&Zf(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}ng(e,!0,n,null,s);break;case"together":ng(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Zd(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Oi(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),da|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(M(153));if(e.child!==null){for(t=e.child,n=cs(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=cs(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function bj(t,e,n){switch(e.tag){case 3:jP(e),Ro();break;case 5:uP(e);break;case 1:mn(e.type)&&Bf(e);break;case 4:K0(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;Ue(Hf,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(Ue(et,et.current&1),e.flags|=128,null):n&e.child.childLanes?MP(t,e,n):(Ue(et,et.current&1),t=Oi(t,e,n),t!==null?t.sibling:null);Ue(et,et.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return LP(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Ue(et,et.current),r)break;return null;case 22:case 23:return e.lanes=0,$P(t,e,n)}return Oi(t,e,n)}var zP,Qy,DP,FP;zP=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Qy=function(){};DP=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,Zs(Xr.current);var s=null;switch(n){case"input":i=_y(t,i),r=_y(t,r),s=[];break;case"select":i=rt({},i,{value:void 0}),r=rt({},r,{value:void 0}),s=[];break;case"textarea":i=Sy(t,i),r=Sy(t,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=Df)}Ty(n,r);var a;n=null;for(u in i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var o=i[u];for(a in o)o.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(wu.hasOwnProperty(u)?s||(s=[]):(s=s||[]).push(u,null));for(u in r){var l=r[u];if(o=i!=null?i[u]:void 0,r.hasOwnProperty(u)&&l!==o&&(l!=null||o!=null))if(u==="style")if(o){for(a in o)!o.hasOwnProperty(a)||l&&l.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in l)l.hasOwnProperty(a)&&o[a]!==l[a]&&(n||(n={}),n[a]=l[a])}else n||(s||(s=[]),s.push(u,n)),n=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,o=o?o.__html:void 0,l!=null&&o!==l&&(s=s||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(wu.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&We("scroll",t),s||o===l||(s=[])):(s=s||[]).push(u,l))}n&&(s=s||[]).push("style",n);var u=s;(e.updateQueue=u)&&(e.flags|=4)}};FP=function(t,e,n,r){n!==r&&(e.flags|=4)};function hl(t,e){if(!Je)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function jt(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function wj(t,e,n){var r=e.pendingProps;switch(V0(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return jt(e),null;case 1:return mn(e.type)&&Ff(),jt(e),null;case 3:return r=e.stateNode,No(),Ze(pn),Ze(Wt),X0(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(ud(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,wr!==null&&(ov(wr),wr=null))),Qy(t,e),jt(e),null;case 5:J0(e);var i=Zs(Ru.current);if(n=e.type,t!==null&&e.stateNode!=null)DP(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(M(166));return jt(e),null}if(t=Zs(Xr.current),ud(e)){r=e.stateNode,n=e.type;var s=e.memoizedProps;switch(r[qr]=e,r[Iu]=s,t=(e.mode&1)!==0,n){case"dialog":We("cancel",r),We("close",r);break;case"iframe":case"object":case"embed":We("load",r);break;case"video":case"audio":for(i=0;i<Cl.length;i++)We(Cl[i],r);break;case"source":We("error",r);break;case"img":case"image":case"link":We("error",r),We("load",r);break;case"details":We("toggle",r);break;case"input":N_(r,s),We("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},We("invalid",r);break;case"textarea":M_(r,s),We("invalid",r)}Ty(n,s),i=null;for(var a in s)if(s.hasOwnProperty(a)){var o=s[a];a==="children"?typeof o=="string"?r.textContent!==o&&(s.suppressHydrationWarning!==!0&&ld(r.textContent,o,t),i=["children",o]):typeof o=="number"&&r.textContent!==""+o&&(s.suppressHydrationWarning!==!0&&ld(r.textContent,o,t),i=["children",""+o]):wu.hasOwnProperty(a)&&o!=null&&a==="onScroll"&&We("scroll",r)}switch(n){case"input":ed(r),j_(r,s,!0);break;case"textarea":ed(r),L_(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=Df)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{a=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=pT(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=a.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=a.createElement(n,{is:r.is}):(t=a.createElement(n),n==="select"&&(a=t,r.multiple?a.multiple=!0:r.size&&(a.size=r.size))):t=a.createElementNS(t,n),t[qr]=e,t[Iu]=r,zP(t,e,!1,!1),e.stateNode=t;e:{switch(a=Py(n,r),n){case"dialog":We("cancel",t),We("close",t),i=r;break;case"iframe":case"object":case"embed":We("load",t),i=r;break;case"video":case"audio":for(i=0;i<Cl.length;i++)We(Cl[i],t);i=r;break;case"source":We("error",t),i=r;break;case"img":case"image":case"link":We("error",t),We("load",t),i=r;break;case"details":We("toggle",t),i=r;break;case"input":N_(t,r),i=_y(t,r),We("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=rt({},r,{value:void 0}),We("invalid",t);break;case"textarea":M_(t,r),i=Sy(t,r),We("invalid",t);break;default:i=r}Ty(n,i),o=i;for(s in o)if(o.hasOwnProperty(s)){var l=o[s];s==="style"?yT(t,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&mT(t,l)):s==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&_u(t,l):typeof l=="number"&&_u(t,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(wu.hasOwnProperty(s)?l!=null&&s==="onScroll"&&We("scroll",t):l!=null&&P0(t,s,l,a))}switch(n){case"input":ed(t),j_(t,r,!1);break;case"textarea":ed(t),L_(t);break;case"option":r.value!=null&&t.setAttribute("value",""+hs(r.value));break;case"select":t.multiple=!!r.multiple,s=r.value,s!=null?fo(t,!!r.multiple,s,!1):r.defaultValue!=null&&fo(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=Df)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return jt(e),null;case 6:if(t&&e.stateNode!=null)FP(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(M(166));if(n=Zs(Ru.current),Zs(Xr.current),ud(e)){if(r=e.stateNode,n=e.memoizedProps,r[qr]=e,(s=r.nodeValue!==n)&&(t=An,t!==null))switch(t.tag){case 3:ld(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&ld(r.nodeValue,n,(t.mode&1)!==0)}s&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[qr]=e,e.stateNode=r}return jt(e),null;case 13:if(Ze(et),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Je&&En!==null&&e.mode&1&&!(e.flags&128))iP(),Ro(),e.flags|=98560,s=!1;else if(s=ud(e),r!==null&&r.dehydrated!==null){if(t===null){if(!s)throw Error(M(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(M(317));s[qr]=e}else Ro(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;jt(e),s=!1}else wr!==null&&(ov(wr),wr=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||et.current&1?bt===0&&(bt=3):ub())),e.updateQueue!==null&&(e.flags|=4),jt(e),null);case 4:return No(),Qy(t,e),t===null&&Eu(e.stateNode.containerInfo),jt(e),null;case 10:return q0(e.type._context),jt(e),null;case 17:return mn(e.type)&&Ff(),jt(e),null;case 19:if(Ze(et),s=e.memoizedState,s===null)return jt(e),null;if(r=(e.flags&128)!==0,a=s.rendering,a===null)if(r)hl(s,!1);else{if(bt!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(a=Zf(t),a!==null){for(e.flags|=128,hl(s,!1),r=a.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)s=n,t=r,s.flags&=14680066,a=s.alternate,a===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=a.childLanes,s.lanes=a.lanes,s.child=a.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=a.memoizedProps,s.memoizedState=a.memoizedState,s.updateQueue=a.updateQueue,s.type=a.type,t=a.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Ue(et,et.current&1|2),e.child}t=t.sibling}s.tail!==null&&dt()>Mo&&(e.flags|=128,r=!0,hl(s,!1),e.lanes=4194304)}else{if(!r)if(t=Zf(a),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),hl(s,!0),s.tail===null&&s.tailMode==="hidden"&&!a.alternate&&!Je)return jt(e),null}else 2*dt()-s.renderingStartTime>Mo&&n!==1073741824&&(e.flags|=128,r=!0,hl(s,!1),e.lanes=4194304);s.isBackwards?(a.sibling=e.child,e.child=a):(n=s.last,n!==null?n.sibling=a:e.child=a,s.last=a)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=dt(),e.sibling=null,n=et.current,Ue(et,r?n&1|2:n&1),e):(jt(e),null);case 22:case 23:return lb(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Tn&1073741824&&(jt(e),e.subtreeFlags&6&&(e.flags|=8192)):jt(e),null;case 24:return null;case 25:return null}throw Error(M(156,e.tag))}function _j(t,e){switch(V0(e),e.tag){case 1:return mn(e.type)&&Ff(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return No(),Ze(pn),Ze(Wt),X0(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return J0(e),null;case 13:if(Ze(et),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(M(340));Ro()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Ze(et),null;case 4:return No(),null;case 10:return q0(e.type._context),null;case 22:case 23:return lb(),null;case 24:return null;default:return null}}var fd=!1,Dt=!1,xj=typeof WeakSet=="function"?WeakSet:Set,W=null;function Ja(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){lt(t,e,r)}else n.current=null}function ev(t,e,n){try{n()}catch(r){lt(t,e,r)}}var Tx=!1;function kj(t,e){if(Ly=Mf,t=WT(),F0(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var a=0,o=-1,l=-1,u=0,c=0,d=t,f=null;t:for(;;){for(var h;d!==n||i!==0&&d.nodeType!==3||(o=a+i),d!==s||r!==0&&d.nodeType!==3||(l=a+r),d.nodeType===3&&(a+=d.nodeValue.length),(h=d.firstChild)!==null;)f=d,d=h;for(;;){if(d===t)break t;if(f===n&&++u===i&&(o=a),f===s&&++c===r&&(l=a),(h=d.nextSibling)!==null)break;d=f,f=d.parentNode}d=h}n=o===-1||l===-1?null:{start:o,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(zy={focusedElem:t,selectionRange:n},Mf=!1,W=e;W!==null;)if(e=W,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,W=t;else for(;W!==null;){e=W;try{var p=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(p!==null){var y=p.memoizedProps,b=p.memoizedState,m=e.stateNode,g=m.getSnapshotBeforeUpdate(e.elementType===e.type?y:yr(e.type,y),b);m.__reactInternalSnapshotBeforeUpdate=g}break;case 3:var v=e.stateNode.containerInfo;v.nodeType===1?v.textContent="":v.nodeType===9&&v.documentElement&&v.removeChild(v.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(M(163))}}catch(x){lt(e,e.return,x)}if(t=e.sibling,t!==null){t.return=e.return,W=t;break}W=e.return}return p=Tx,Tx=!1,p}function Yl(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&ev(e,n,s)}i=i.next}while(i!==r)}}function _p(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function tv(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function BP(t){var e=t.alternate;e!==null&&(t.alternate=null,BP(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[qr],delete e[Iu],delete e[By],delete e[sj],delete e[aj])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function VP(t){return t.tag===5||t.tag===3||t.tag===4}function Px(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||VP(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function nv(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Df));else if(r!==4&&(t=t.child,t!==null))for(nv(t,e,n),t=t.sibling;t!==null;)nv(t,e,n),t=t.sibling}function rv(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(rv(t,e,n),t=t.sibling;t!==null;)rv(t,e,n),t=t.sibling}var Pt=null,br=!1;function Li(t,e,n){for(n=n.child;n!==null;)UP(t,e,n),n=n.sibling}function UP(t,e,n){if(Jr&&typeof Jr.onCommitFiberUnmount=="function")try{Jr.onCommitFiberUnmount(hp,n)}catch{}switch(n.tag){case 5:Dt||Ja(n,e);case 6:var r=Pt,i=br;Pt=null,Li(t,e,n),Pt=r,br=i,Pt!==null&&(br?(t=Pt,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):Pt.removeChild(n.stateNode));break;case 18:Pt!==null&&(br?(t=Pt,n=n.stateNode,t.nodeType===8?Km(t.parentNode,n):t.nodeType===1&&Km(t,n),Cu(t)):Km(Pt,n.stateNode));break;case 4:r=Pt,i=br,Pt=n.stateNode.containerInfo,br=!0,Li(t,e,n),Pt=r,br=i;break;case 0:case 11:case 14:case 15:if(!Dt&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,a=s.destroy;s=s.tag,a!==void 0&&(s&2||s&4)&&ev(n,e,a),i=i.next}while(i!==r)}Li(t,e,n);break;case 1:if(!Dt&&(Ja(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(o){lt(n,e,o)}Li(t,e,n);break;case 21:Li(t,e,n);break;case 22:n.mode&1?(Dt=(r=Dt)||n.memoizedState!==null,Li(t,e,n),Dt=r):Li(t,e,n);break;default:Li(t,e,n)}}function Ex(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new xj),e.forEach(function(r){var i=Rj.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function lr(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=t,a=e,o=a;e:for(;o!==null;){switch(o.tag){case 5:Pt=o.stateNode,br=!1;break e;case 3:Pt=o.stateNode.containerInfo,br=!0;break e;case 4:Pt=o.stateNode.containerInfo,br=!0;break e}o=o.return}if(Pt===null)throw Error(M(160));UP(s,a,i),Pt=null,br=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(u){lt(i,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)HP(e,t),e=e.sibling}function HP(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(lr(e,t),jr(t),r&4){try{Yl(3,t,t.return),_p(3,t)}catch(y){lt(t,t.return,y)}try{Yl(5,t,t.return)}catch(y){lt(t,t.return,y)}}break;case 1:lr(e,t),jr(t),r&512&&n!==null&&Ja(n,n.return);break;case 5:if(lr(e,t),jr(t),r&512&&n!==null&&Ja(n,n.return),t.flags&32){var i=t.stateNode;try{_u(i,"")}catch(y){lt(t,t.return,y)}}if(r&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,a=n!==null?n.memoizedProps:s,o=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{o==="input"&&s.type==="radio"&&s.name!=null&&fT(i,s),Py(o,a);var u=Py(o,s);for(a=0;a<l.length;a+=2){var c=l[a],d=l[a+1];c==="style"?yT(i,d):c==="dangerouslySetInnerHTML"?mT(i,d):c==="children"?_u(i,d):P0(i,c,d,u)}switch(o){case"input":xy(i,s);break;case"textarea":hT(i,s);break;case"select":var f=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var h=s.value;h!=null?fo(i,!!s.multiple,h,!1):f!==!!s.multiple&&(s.defaultValue!=null?fo(i,!!s.multiple,s.defaultValue,!0):fo(i,!!s.multiple,s.multiple?[]:"",!1))}i[Iu]=s}catch(y){lt(t,t.return,y)}}break;case 6:if(lr(e,t),jr(t),r&4){if(t.stateNode===null)throw Error(M(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(y){lt(t,t.return,y)}}break;case 3:if(lr(e,t),jr(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Cu(e.containerInfo)}catch(y){lt(t,t.return,y)}break;case 4:lr(e,t),jr(t);break;case 13:lr(e,t),jr(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(ab=dt())),r&4&&Ex(t);break;case 22:if(c=n!==null&&n.memoizedState!==null,t.mode&1?(Dt=(u=Dt)||c,lr(e,t),Dt=u):lr(e,t),jr(t),r&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!c&&t.mode&1)for(W=t,c=t.child;c!==null;){for(d=W=c;W!==null;){switch(f=W,h=f.child,f.tag){case 0:case 11:case 14:case 15:Yl(4,f,f.return);break;case 1:Ja(f,f.return);var p=f.stateNode;if(typeof p.componentWillUnmount=="function"){r=f,n=f.return;try{e=r,p.props=e.memoizedProps,p.state=e.memoizedState,p.componentWillUnmount()}catch(y){lt(r,n,y)}}break;case 5:Ja(f,f.return);break;case 22:if(f.memoizedState!==null){Ix(d);continue}}h!==null?(h.return=f,W=h):Ix(d)}c=c.sibling}e:for(c=null,d=t;;){if(d.tag===5){if(c===null){c=d;try{i=d.stateNode,u?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(o=d.stateNode,l=d.memoizedProps.style,a=l!=null&&l.hasOwnProperty("display")?l.display:null,o.style.display=gT("display",a))}catch(y){lt(t,t.return,y)}}}else if(d.tag===6){if(c===null)try{d.stateNode.nodeValue=u?"":d.memoizedProps}catch(y){lt(t,t.return,y)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===t)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===t)break e;for(;d.sibling===null;){if(d.return===null||d.return===t)break e;c===d&&(c=null),d=d.return}c===d&&(c=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:lr(e,t),jr(t),r&4&&Ex(t);break;case 21:break;default:lr(e,t),jr(t)}}function jr(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(VP(n)){var r=n;break e}n=n.return}throw Error(M(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(_u(i,""),r.flags&=-33);var s=Px(t);rv(t,s,i);break;case 3:case 4:var a=r.stateNode.containerInfo,o=Px(t);nv(t,o,a);break;default:throw Error(M(161))}}catch(l){lt(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function Sj(t,e,n){W=t,WP(t)}function WP(t,e,n){for(var r=(t.mode&1)!==0;W!==null;){var i=W,s=i.child;if(i.tag===22&&r){var a=i.memoizedState!==null||fd;if(!a){var o=i.alternate,l=o!==null&&o.memoizedState!==null||Dt;o=fd;var u=Dt;if(fd=a,(Dt=l)&&!u)for(W=i;W!==null;)a=W,l=a.child,a.tag===22&&a.memoizedState!==null?Ox(i):l!==null?(l.return=a,W=l):Ox(i);for(;s!==null;)W=s,WP(s),s=s.sibling;W=i,fd=o,Dt=u}Ax(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,W=s):Ax(t)}}function Ax(t){for(;W!==null;){var e=W;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Dt||_p(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Dt)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:yr(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&hx(e,s,r);break;case 3:var a=e.updateQueue;if(a!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}hx(e,a,n)}break;case 5:var o=e.stateNode;if(n===null&&e.flags&4){n=o;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var c=u.memoizedState;if(c!==null){var d=c.dehydrated;d!==null&&Cu(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(M(163))}Dt||e.flags&512&&tv(e)}catch(f){lt(e,e.return,f)}}if(e===t){W=null;break}if(n=e.sibling,n!==null){n.return=e.return,W=n;break}W=e.return}}function Ix(t){for(;W!==null;){var e=W;if(e===t){W=null;break}var n=e.sibling;if(n!==null){n.return=e.return,W=n;break}W=e.return}}function Ox(t){for(;W!==null;){var e=W;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{_p(4,e)}catch(l){lt(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){lt(e,i,l)}}var s=e.return;try{tv(e)}catch(l){lt(e,s,l)}break;case 5:var a=e.return;try{tv(e)}catch(l){lt(e,a,l)}}}catch(l){lt(e,e.return,l)}if(e===t){W=null;break}var o=e.sibling;if(o!==null){o.return=e.return,W=o;break}W=e.return}}var Cj=Math.ceil,Jf=Ni.ReactCurrentDispatcher,ib=Ni.ReactCurrentOwner,Xn=Ni.ReactCurrentBatchConfig,be=0,kt=null,yt=null,Rt=0,Tn=0,Xa=ks(0),bt=0,Mu=null,da=0,xp=0,sb=0,Ql=null,un=null,ab=0,Mo=1/0,hi=null,Xf=!1,iv=null,ls=null,hd=!1,ts=null,Yf=0,eu=0,sv=null,Gd=-1,Kd=0;function Yt(){return be&6?dt():Gd!==-1?Gd:Gd=dt()}function us(t){return t.mode&1?be&2&&Rt!==0?Rt&-Rt:lj.transition!==null?(Kd===0&&(Kd=AT()),Kd):(t=$e,t!==0||(t=window.event,t=t===void 0?16:MT(t.type)),t):1}function Cr(t,e,n,r){if(50<eu)throw eu=0,sv=null,Error(M(185));vc(t,n,r),(!(be&2)||t!==kt)&&(t===kt&&(!(be&2)&&(xp|=n),bt===4&&Xi(t,Rt)),gn(t,r),n===1&&be===0&&!(e.mode&1)&&(Mo=dt()+500,vp&&Ss()))}function gn(t,e){var n=t.callbackNode;lN(t,e);var r=jf(t,t===kt?Rt:0);if(r===0)n!==null&&F_(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&F_(n),e===1)t.tag===0?oj(Rx.bind(null,t)):tP(Rx.bind(null,t)),rj(function(){!(be&6)&&Ss()}),n=null;else{switch(IT(r)){case 1:n=R0;break;case 4:n=PT;break;case 16:n=Nf;break;case 536870912:n=ET;break;default:n=Nf}n=QP(n,qP.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function qP(t,e){if(Gd=-1,Kd=0,be&6)throw Error(M(327));var n=t.callbackNode;if(yo()&&t.callbackNode!==n)return null;var r=jf(t,t===kt?Rt:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=Qf(t,r);else{e=r;var i=be;be|=2;var s=GP();(kt!==t||Rt!==e)&&(hi=null,Mo=dt()+500,ea(t,e));do try{Ej();break}catch(o){ZP(t,o)}while(!0);W0(),Jf.current=s,be=i,yt!==null?e=0:(kt=null,Rt=0,e=bt)}if(e!==0){if(e===2&&(i=Ry(t),i!==0&&(r=i,e=av(t,i))),e===1)throw n=Mu,ea(t,0),Xi(t,r),gn(t,dt()),n;if(e===6)Xi(t,r);else{if(i=t.current.alternate,!(r&30)&&!Tj(i)&&(e=Qf(t,r),e===2&&(s=Ry(t),s!==0&&(r=s,e=av(t,s))),e===1))throw n=Mu,ea(t,0),Xi(t,r),gn(t,dt()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(M(345));case 2:js(t,un,hi);break;case 3:if(Xi(t,r),(r&130023424)===r&&(e=ab+500-dt(),10<e)){if(jf(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){Yt(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=Fy(js.bind(null,t,un,hi),e);break}js(t,un,hi);break;case 4:if(Xi(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var a=31-Sr(r);s=1<<a,a=e[a],a>i&&(i=a),r&=~s}if(r=i,r=dt()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Cj(r/1960))-r,10<r){t.timeoutHandle=Fy(js.bind(null,t,un,hi),r);break}js(t,un,hi);break;case 5:js(t,un,hi);break;default:throw Error(M(329))}}}return gn(t,dt()),t.callbackNode===n?qP.bind(null,t):null}function av(t,e){var n=Ql;return t.current.memoizedState.isDehydrated&&(ea(t,e).flags|=256),t=Qf(t,e),t!==2&&(e=un,un=n,e!==null&&ov(e)),t}function ov(t){un===null?un=t:un.push.apply(un,t)}function Tj(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!Ar(s(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Xi(t,e){for(e&=~sb,e&=~xp,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Sr(e),r=1<<n;t[n]=-1,e&=~r}}function Rx(t){if(be&6)throw Error(M(327));yo();var e=jf(t,0);if(!(e&1))return gn(t,dt()),null;var n=Qf(t,e);if(t.tag!==0&&n===2){var r=Ry(t);r!==0&&(e=r,n=av(t,r))}if(n===1)throw n=Mu,ea(t,0),Xi(t,e),gn(t,dt()),n;if(n===6)throw Error(M(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,js(t,un,hi),gn(t,dt()),null}function ob(t,e){var n=be;be|=1;try{return t(e)}finally{be=n,be===0&&(Mo=dt()+500,vp&&Ss())}}function fa(t){ts!==null&&ts.tag===0&&!(be&6)&&yo();var e=be;be|=1;var n=Xn.transition,r=$e;try{if(Xn.transition=null,$e=1,t)return t()}finally{$e=r,Xn.transition=n,be=e,!(be&6)&&Ss()}}function lb(){Tn=Xa.current,Ze(Xa)}function ea(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,nj(n)),yt!==null)for(n=yt.return;n!==null;){var r=n;switch(V0(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Ff();break;case 3:No(),Ze(pn),Ze(Wt),X0();break;case 5:J0(r);break;case 4:No();break;case 13:Ze(et);break;case 19:Ze(et);break;case 10:q0(r.type._context);break;case 22:case 23:lb()}n=n.return}if(kt=t,yt=t=cs(t.current,null),Rt=Tn=e,bt=0,Mu=null,sb=xp=da=0,un=Ql=null,qs!==null){for(e=0;e<qs.length;e++)if(n=qs[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var a=s.next;s.next=i,r.next=a}n.pending=r}qs=null}return t}function ZP(t,e){do{var n=yt;try{if(W0(),Wd.current=Kf,Gf){for(var r=nt.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}Gf=!1}if(ca=0,xt=vt=nt=null,Xl=!1,$u=0,ib.current=null,n===null||n.return===null){bt=1,Mu=e,yt=null;break}e:{var s=t,a=n.return,o=n,l=e;if(e=Rt,o.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,c=o,d=c.tag;if(!(c.mode&1)&&(d===0||d===11||d===15)){var f=c.alternate;f?(c.updateQueue=f.updateQueue,c.memoizedState=f.memoizedState,c.lanes=f.lanes):(c.updateQueue=null,c.memoizedState=null)}var h=bx(a);if(h!==null){h.flags&=-257,wx(h,a,o,s,e),h.mode&1&&vx(s,u,e),e=h,l=u;var p=e.updateQueue;if(p===null){var y=new Set;y.add(l),e.updateQueue=y}else p.add(l);break e}else{if(!(e&1)){vx(s,u,e),ub();break e}l=Error(M(426))}}else if(Je&&o.mode&1){var b=bx(a);if(b!==null){!(b.flags&65536)&&(b.flags|=256),wx(b,a,o,s,e),U0(jo(l,o));break e}}s=l=jo(l,o),bt!==4&&(bt=2),Ql===null?Ql=[s]:Ql.push(s),s=a;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var m=IP(s,l,e);fx(s,m);break e;case 1:o=l;var g=s.type,v=s.stateNode;if(!(s.flags&128)&&(typeof g.getDerivedStateFromError=="function"||v!==null&&typeof v.componentDidCatch=="function"&&(ls===null||!ls.has(v)))){s.flags|=65536,e&=-e,s.lanes|=e;var x=OP(s,o,e);fx(s,x);break e}}s=s.return}while(s!==null)}JP(n)}catch(C){e=C,yt===n&&n!==null&&(yt=n=n.return);continue}break}while(!0)}function GP(){var t=Jf.current;return Jf.current=Kf,t===null?Kf:t}function ub(){(bt===0||bt===3||bt===2)&&(bt=4),kt===null||!(da&268435455)&&!(xp&268435455)||Xi(kt,Rt)}function Qf(t,e){var n=be;be|=2;var r=GP();(kt!==t||Rt!==e)&&(hi=null,ea(t,e));do try{Pj();break}catch(i){ZP(t,i)}while(!0);if(W0(),be=n,Jf.current=r,yt!==null)throw Error(M(261));return kt=null,Rt=0,bt}function Pj(){for(;yt!==null;)KP(yt)}function Ej(){for(;yt!==null&&!Q$();)KP(yt)}function KP(t){var e=YP(t.alternate,t,Tn);t.memoizedProps=t.pendingProps,e===null?JP(t):yt=e,ib.current=null}function JP(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=_j(n,e),n!==null){n.flags&=32767,yt=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{bt=6,yt=null;return}}else if(n=wj(n,e,Tn),n!==null){yt=n;return}if(e=e.sibling,e!==null){yt=e;return}yt=e=t}while(e!==null);bt===0&&(bt=5)}function js(t,e,n){var r=$e,i=Xn.transition;try{Xn.transition=null,$e=1,Aj(t,e,n,r)}finally{Xn.transition=i,$e=r}return null}function Aj(t,e,n,r){do yo();while(ts!==null);if(be&6)throw Error(M(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(M(177));t.callbackNode=null,t.callbackPriority=0;var s=n.lanes|n.childLanes;if(uN(t,s),t===kt&&(yt=kt=null,Rt=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||hd||(hd=!0,QP(Nf,function(){return yo(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=Xn.transition,Xn.transition=null;var a=$e;$e=1;var o=be;be|=4,ib.current=null,kj(t,n),HP(n,t),KN(zy),Mf=!!Ly,zy=Ly=null,t.current=n,Sj(n),eN(),be=o,$e=a,Xn.transition=s}else t.current=n;if(hd&&(hd=!1,ts=t,Yf=i),s=t.pendingLanes,s===0&&(ls=null),rN(n.stateNode),gn(t,dt()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Xf)throw Xf=!1,t=iv,iv=null,t;return Yf&1&&t.tag!==0&&yo(),s=t.pendingLanes,s&1?t===sv?eu++:(eu=0,sv=t):eu=0,Ss(),null}function yo(){if(ts!==null){var t=IT(Yf),e=Xn.transition,n=$e;try{if(Xn.transition=null,$e=16>t?16:t,ts===null)var r=!1;else{if(t=ts,ts=null,Yf=0,be&6)throw Error(M(331));var i=be;for(be|=4,W=t.current;W!==null;){var s=W,a=s.child;if(W.flags&16){var o=s.deletions;if(o!==null){for(var l=0;l<o.length;l++){var u=o[l];for(W=u;W!==null;){var c=W;switch(c.tag){case 0:case 11:case 15:Yl(8,c,s)}var d=c.child;if(d!==null)d.return=c,W=d;else for(;W!==null;){c=W;var f=c.sibling,h=c.return;if(BP(c),c===u){W=null;break}if(f!==null){f.return=h,W=f;break}W=h}}}var p=s.alternate;if(p!==null){var y=p.child;if(y!==null){p.child=null;do{var b=y.sibling;y.sibling=null,y=b}while(y!==null)}}W=s}}if(s.subtreeFlags&2064&&a!==null)a.return=s,W=a;else e:for(;W!==null;){if(s=W,s.flags&2048)switch(s.tag){case 0:case 11:case 15:Yl(9,s,s.return)}var m=s.sibling;if(m!==null){m.return=s.return,W=m;break e}W=s.return}}var g=t.current;for(W=g;W!==null;){a=W;var v=a.child;if(a.subtreeFlags&2064&&v!==null)v.return=a,W=v;else e:for(a=g;W!==null;){if(o=W,o.flags&2048)try{switch(o.tag){case 0:case 11:case 15:_p(9,o)}}catch(C){lt(o,o.return,C)}if(o===a){W=null;break e}var x=o.sibling;if(x!==null){x.return=o.return,W=x;break e}W=o.return}}if(be=i,Ss(),Jr&&typeof Jr.onPostCommitFiberRoot=="function")try{Jr.onPostCommitFiberRoot(hp,t)}catch{}r=!0}return r}finally{$e=n,Xn.transition=e}}return!1}function $x(t,e,n){e=jo(n,e),e=IP(t,e,1),t=os(t,e,1),e=Yt(),t!==null&&(vc(t,1,e),gn(t,e))}function lt(t,e,n){if(t.tag===3)$x(t,t,n);else for(;e!==null;){if(e.tag===3){$x(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(ls===null||!ls.has(r))){t=jo(n,t),t=OP(e,t,1),e=os(e,t,1),t=Yt(),e!==null&&(vc(e,1,t),gn(e,t));break}}e=e.return}}function Ij(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=Yt(),t.pingedLanes|=t.suspendedLanes&n,kt===t&&(Rt&n)===n&&(bt===4||bt===3&&(Rt&130023424)===Rt&&500>dt()-ab?ea(t,0):sb|=n),gn(t,e)}function XP(t,e){e===0&&(t.mode&1?(e=rd,rd<<=1,!(rd&130023424)&&(rd=4194304)):e=1);var n=Yt();t=Ii(t,e),t!==null&&(vc(t,e,n),gn(t,n))}function Oj(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),XP(t,n)}function Rj(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(M(314))}r!==null&&r.delete(e),XP(t,n)}var YP;YP=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||pn.current)fn=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return fn=!1,bj(t,e,n);fn=!!(t.flags&131072)}else fn=!1,Je&&e.flags&1048576&&nP(e,Uf,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Zd(t,e),t=e.pendingProps;var i=Oo(e,Wt.current);go(e,n),i=Q0(null,e,r,t,i,n);var s=eb();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,mn(r)?(s=!0,Bf(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,G0(e),i.updater=wp,e.stateNode=i,i._reactInternals=e,Zy(e,r,t,n),e=Jy(null,e,r,!0,s,n)):(e.tag=0,Je&&s&&B0(e),Kt(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(Zd(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=Nj(r),t=yr(r,t),i){case 0:e=Ky(null,e,r,t,n);break e;case 1:e=kx(null,e,r,t,n);break e;case 11:e=_x(null,e,r,t,n);break e;case 14:e=xx(null,e,r,yr(r.type,t),n);break e}throw Error(M(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:yr(r,i),Ky(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:yr(r,i),kx(t,e,r,i,n);case 3:e:{if(jP(e),t===null)throw Error(M(387));r=e.pendingProps,s=e.memoizedState,i=s.element,lP(t,e),qf(e,r,null,n);var a=e.memoizedState;if(r=a.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=jo(Error(M(423)),e),e=Sx(t,e,r,n,i);break e}else if(r!==i){i=jo(Error(M(424)),e),e=Sx(t,e,r,n,i);break e}else for(En=as(e.stateNode.containerInfo.firstChild),An=e,Je=!0,wr=null,n=aP(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Ro(),r===i){e=Oi(t,e,n);break e}Kt(t,e,r,n)}e=e.child}return e;case 5:return uP(e),t===null&&Hy(e),r=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,a=i.children,Dy(r,i)?a=null:s!==null&&Dy(r,s)&&(e.flags|=32),NP(t,e),Kt(t,e,a,n),e.child;case 6:return t===null&&Hy(e),null;case 13:return MP(t,e,n);case 4:return K0(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=$o(e,null,r,n):Kt(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:yr(r,i),_x(t,e,r,i,n);case 7:return Kt(t,e,e.pendingProps,n),e.child;case 8:return Kt(t,e,e.pendingProps.children,n),e.child;case 12:return Kt(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,a=i.value,Ue(Hf,r._currentValue),r._currentValue=a,s!==null)if(Ar(s.value,a)){if(s.children===i.children&&!pn.current){e=Oi(t,e,n);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var o=s.dependencies;if(o!==null){a=s.child;for(var l=o.firstContext;l!==null;){if(l.context===r){if(s.tag===1){l=_i(-1,n&-n),l.tag=2;var u=s.updateQueue;if(u!==null){u=u.shared;var c=u.pending;c===null?l.next=l:(l.next=c.next,c.next=l),u.pending=l}}s.lanes|=n,l=s.alternate,l!==null&&(l.lanes|=n),Wy(s.return,n,e),o.lanes|=n;break}l=l.next}}else if(s.tag===10)a=s.type===e.type?null:s.child;else if(s.tag===18){if(a=s.return,a===null)throw Error(M(341));a.lanes|=n,o=a.alternate,o!==null&&(o.lanes|=n),Wy(a,n,e),a=s.sibling}else a=s.child;if(a!==null)a.return=s;else for(a=s;a!==null;){if(a===e){a=null;break}if(s=a.sibling,s!==null){s.return=a.return,a=s;break}a=a.return}s=a}Kt(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,go(e,n),i=Qn(i),r=r(i),e.flags|=1,Kt(t,e,r,n),e.child;case 14:return r=e.type,i=yr(r,e.pendingProps),i=yr(r.type,i),xx(t,e,r,i,n);case 15:return RP(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:yr(r,i),Zd(t,e),e.tag=1,mn(r)?(t=!0,Bf(e)):t=!1,go(e,n),AP(e,r,i),Zy(e,r,i,n),Jy(null,e,r,!0,t,n);case 19:return LP(t,e,n);case 22:return $P(t,e,n)}throw Error(M(156,e.tag))};function QP(t,e){return TT(t,e)}function $j(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Kn(t,e,n,r){return new $j(t,e,n,r)}function cb(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Nj(t){if(typeof t=="function")return cb(t)?1:0;if(t!=null){if(t=t.$$typeof,t===A0)return 11;if(t===I0)return 14}return 2}function cs(t,e){var n=t.alternate;return n===null?(n=Kn(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Jd(t,e,n,r,i,s){var a=2;if(r=t,typeof t=="function")cb(t)&&(a=1);else if(typeof t=="string")a=5;else e:switch(t){case Ba:return ta(n.children,i,s,e);case E0:a=8,i|=8;break;case yy:return t=Kn(12,n,e,i|2),t.elementType=yy,t.lanes=s,t;case vy:return t=Kn(13,n,e,i),t.elementType=vy,t.lanes=s,t;case by:return t=Kn(19,n,e,i),t.elementType=by,t.lanes=s,t;case uT:return kp(n,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case oT:a=10;break e;case lT:a=9;break e;case A0:a=11;break e;case I0:a=14;break e;case qi:a=16,r=null;break e}throw Error(M(130,t==null?t:typeof t,""))}return e=Kn(a,n,e,i),e.elementType=t,e.type=r,e.lanes=s,e}function ta(t,e,n,r){return t=Kn(7,t,r,e),t.lanes=n,t}function kp(t,e,n,r){return t=Kn(22,t,r,e),t.elementType=uT,t.lanes=n,t.stateNode={isHidden:!1},t}function rg(t,e,n){return t=Kn(6,t,null,e),t.lanes=n,t}function ig(t,e,n){return e=Kn(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function jj(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=zm(0),this.expirationTimes=zm(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=zm(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function db(t,e,n,r,i,s,a,o,l){return t=new jj(t,e,n,o,l),e===1?(e=1,s===!0&&(e|=8)):e=0,s=Kn(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},G0(s),t}function Mj(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Fa,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function eE(t){if(!t)return ps;t=t._reactInternals;e:{if(_a(t)!==t||t.tag!==1)throw Error(M(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(mn(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(M(171))}if(t.tag===1){var n=t.type;if(mn(n))return eP(t,n,e)}return e}function tE(t,e,n,r,i,s,a,o,l){return t=db(n,r,!0,t,i,s,a,o,l),t.context=eE(null),n=t.current,r=Yt(),i=us(n),s=_i(r,i),s.callback=e??null,os(n,s,i),t.current.lanes=i,vc(t,i,r),gn(t,r),t}function Sp(t,e,n,r){var i=e.current,s=Yt(),a=us(i);return n=eE(n),e.context===null?e.context=n:e.pendingContext=n,e=_i(s,a),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=os(i,e,a),t!==null&&(Cr(t,i,a,s),Hd(t,i,a)),a}function eh(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function Nx(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function fb(t,e){Nx(t,e),(t=t.alternate)&&Nx(t,e)}function Lj(){return null}var nE=typeof reportError=="function"?reportError:function(t){console.error(t)};function hb(t){this._internalRoot=t}Cp.prototype.render=hb.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(M(409));Sp(t,e,null,null)};Cp.prototype.unmount=hb.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;fa(function(){Sp(null,t,null,null)}),e[Ai]=null}};function Cp(t){this._internalRoot=t}Cp.prototype.unstable_scheduleHydration=function(t){if(t){var e=$T();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Ji.length&&e!==0&&e<Ji[n].priority;n++);Ji.splice(n,0,t),n===0&&jT(t)}};function pb(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Tp(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function jx(){}function zj(t,e,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var u=eh(a);s.call(u)}}var a=tE(e,r,t,0,null,!1,!1,"",jx);return t._reactRootContainer=a,t[Ai]=a.current,Eu(t.nodeType===8?t.parentNode:t),fa(),a}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var o=r;r=function(){var u=eh(l);o.call(u)}}var l=db(t,0,!1,null,null,!1,!1,"",jx);return t._reactRootContainer=l,t[Ai]=l.current,Eu(t.nodeType===8?t.parentNode:t),fa(function(){Sp(e,l,n,r)}),l}function Pp(t,e,n,r,i){var s=n._reactRootContainer;if(s){var a=s;if(typeof i=="function"){var o=i;i=function(){var l=eh(a);o.call(l)}}Sp(e,a,t,i)}else a=zj(n,e,t,i,r);return eh(a)}OT=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Sl(e.pendingLanes);n!==0&&($0(e,n|1),gn(e,dt()),!(be&6)&&(Mo=dt()+500,Ss()))}break;case 13:fa(function(){var r=Ii(t,1);if(r!==null){var i=Yt();Cr(r,t,1,i)}}),fb(t,1)}};N0=function(t){if(t.tag===13){var e=Ii(t,134217728);if(e!==null){var n=Yt();Cr(e,t,134217728,n)}fb(t,134217728)}};RT=function(t){if(t.tag===13){var e=us(t),n=Ii(t,e);if(n!==null){var r=Yt();Cr(n,t,e,r)}fb(t,e)}};$T=function(){return $e};NT=function(t,e){var n=$e;try{return $e=t,e()}finally{$e=n}};Ay=function(t,e,n){switch(e){case"input":if(xy(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=yp(r);if(!i)throw Error(M(90));dT(r),xy(r,i)}}}break;case"textarea":hT(t,n);break;case"select":e=n.value,e!=null&&fo(t,!!n.multiple,e,!1)}};wT=ob;_T=fa;var Dj={usingClientEntryPoint:!1,Events:[wc,Wa,yp,vT,bT,ob]},pl={findFiberByHostInstance:Ws,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Fj={bundleType:pl.bundleType,version:pl.version,rendererPackageName:pl.rendererPackageName,rendererConfig:pl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Ni.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=ST(t),t===null?null:t.stateNode},findFiberByHostInstance:pl.findFiberByHostInstance||Lj,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var pd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!pd.isDisabled&&pd.supportsFiber)try{hp=pd.inject(Fj),Jr=pd}catch{}}Mn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Dj;Mn.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!pb(e))throw Error(M(200));return Mj(t,e,null,n)};Mn.createRoot=function(t,e){if(!pb(t))throw Error(M(299));var n=!1,r="",i=nE;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=db(t,1,!1,null,null,n,!1,r,i),t[Ai]=e.current,Eu(t.nodeType===8?t.parentNode:t),new hb(e)};Mn.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(M(188)):(t=Object.keys(t).join(","),Error(M(268,t)));return t=ST(e),t=t===null?null:t.stateNode,t};Mn.flushSync=function(t){return fa(t)};Mn.hydrate=function(t,e,n){if(!Tp(e))throw Error(M(200));return Pp(null,t,e,!0,n)};Mn.hydrateRoot=function(t,e,n){if(!pb(t))throw Error(M(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",a=nE;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(a=n.onRecoverableError)),e=tE(e,null,t,1,n??null,i,!1,s,a),t[Ai]=e.current,Eu(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new Cp(e)};Mn.render=function(t,e,n){if(!Tp(e))throw Error(M(200));return Pp(null,t,e,!1,n)};Mn.unmountComponentAtNode=function(t){if(!Tp(t))throw Error(M(40));return t._reactRootContainer?(fa(function(){Pp(null,null,t,!1,function(){t._reactRootContainer=null,t[Ai]=null})}),!0):!1};Mn.unstable_batchedUpdates=ob;Mn.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Tp(n))throw Error(M(200));if(t==null||t._reactInternals===void 0)throw Error(M(38));return Pp(t,e,n,!1,r)};Mn.version="18.3.1-next-f1338f8080-20240426";function rE(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(rE)}catch(t){console.error(t)}}rE(),rT.exports=Mn;var mb=rT.exports,Mx=mb;my.createRoot=Mx.createRoot,my.hydrateRoot=Mx.hydrateRoot;function Bj(t){if(t.sheet)return t.sheet;for(var e=0;e<document.styleSheets.length;e++)if(document.styleSheets[e].ownerNode===t)return document.styleSheets[e]}function Vj(t){var e=document.createElement("style");return e.setAttribute("data-emotion",t.key),t.nonce!==void 0&&e.setAttribute("nonce",t.nonce),e.appendChild(document.createTextNode("")),e.setAttribute("data-s",""),e}var Uj=function(){function t(n){var r=this;this._insertTag=function(i){var s;r.tags.length===0?r.insertionPoint?s=r.insertionPoint.nextSibling:r.prepend?s=r.container.firstChild:s=r.before:s=r.tags[r.tags.length-1].nextSibling,r.container.insertBefore(i,s),r.tags.push(i)},this.isSpeedy=n.speedy===void 0?!0:n.speedy,this.tags=[],this.ctr=0,this.nonce=n.nonce,this.key=n.key,this.container=n.container,this.prepend=n.prepend,this.insertionPoint=n.insertionPoint,this.before=null}var e=t.prototype;return e.hydrate=function(r){r.forEach(this._insertTag)},e.insert=function(r){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(Vj(this));var i=this.tags[this.tags.length-1];if(this.isSpeedy){var s=Bj(i);try{s.insertRule(r,s.cssRules.length)}catch{}}else i.appendChild(document.createTextNode(r));this.ctr++},e.flush=function(){this.tags.forEach(function(r){return r.parentNode&&r.parentNode.removeChild(r)}),this.tags=[],this.ctr=0},t}(),Mt="-ms-",th="-moz-",Te="-webkit-",iE="comm",gb="rule",yb="decl",Hj="@import",sE="@keyframes",Wj="@layer",qj=Math.abs,Ep=String.fromCharCode,Zj=Object.assign;function Gj(t,e){return It(t,0)^45?(((e<<2^It(t,0))<<2^It(t,1))<<2^It(t,2))<<2^It(t,3):0}function aE(t){return t.trim()}function Kj(t,e){return(t=e.exec(t))?t[0]:t}function Pe(t,e,n){return t.replace(e,n)}function lv(t,e){return t.indexOf(e)}function It(t,e){return t.charCodeAt(e)|0}function Lu(t,e,n){return t.slice(e,n)}function Ur(t){return t.length}function vb(t){return t.length}function md(t,e){return e.push(t),t}function Jj(t,e){return t.map(e).join("")}var Ap=1,Lo=1,oE=0,vn=0,gt=0,Zo="";function Ip(t,e,n,r,i,s,a){return{value:t,root:e,parent:n,type:r,props:i,children:s,line:Ap,column:Lo,length:a,return:""}}function ml(t,e){return Zj(Ip("",null,null,"",null,null,0),t,{length:-t.length},e)}function Xj(){return gt}function Yj(){return gt=vn>0?It(Zo,--vn):0,Lo--,gt===10&&(Lo=1,Ap--),gt}function In(){return gt=vn<oE?It(Zo,vn++):0,Lo++,gt===10&&(Lo=1,Ap++),gt}function Yr(){return It(Zo,vn)}function Xd(){return vn}function xc(t,e){return Lu(Zo,t,e)}function zu(t){switch(t){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function lE(t){return Ap=Lo=1,oE=Ur(Zo=t),vn=0,[]}function uE(t){return Zo="",t}function Yd(t){return aE(xc(vn-1,uv(t===91?t+2:t===40?t+1:t)))}function Qj(t){for(;(gt=Yr())&&gt<33;)In();return zu(t)>2||zu(gt)>3?"":" "}function eM(t,e){for(;--e&&In()&&!(gt<48||gt>102||gt>57&&gt<65||gt>70&&gt<97););return xc(t,Xd()+(e<6&&Yr()==32&&In()==32))}function uv(t){for(;In();)switch(gt){case t:return vn;case 34:case 39:t!==34&&t!==39&&uv(gt);break;case 40:t===41&&uv(t);break;case 92:In();break}return vn}function tM(t,e){for(;In()&&t+gt!==57;)if(t+gt===84&&Yr()===47)break;return"/*"+xc(e,vn-1)+"*"+Ep(t===47?t:In())}function nM(t){for(;!zu(Yr());)In();return xc(t,vn)}function rM(t){return uE(Qd("",null,null,null,[""],t=lE(t),0,[0],t))}function Qd(t,e,n,r,i,s,a,o,l){for(var u=0,c=0,d=a,f=0,h=0,p=0,y=1,b=1,m=1,g=0,v="",x=i,C=s,k=r,I=v;b;)switch(p=g,g=In()){case 40:if(p!=108&&It(I,d-1)==58){lv(I+=Pe(Yd(g),"&","&\f"),"&\f")!=-1&&(m=-1);break}case 34:case 39:case 91:I+=Yd(g);break;case 9:case 10:case 13:case 32:I+=Qj(p);break;case 92:I+=eM(Xd()-1,7);continue;case 47:switch(Yr()){case 42:case 47:md(iM(tM(In(),Xd()),e,n),l);break;default:I+="/"}break;case 123*y:o[u++]=Ur(I)*m;case 125*y:case 59:case 0:switch(g){case 0:case 125:b=0;case 59+c:m==-1&&(I=Pe(I,/\f/g,"")),h>0&&Ur(I)-d&&md(h>32?zx(I+";",r,n,d-1):zx(Pe(I," ","")+";",r,n,d-2),l);break;case 59:I+=";";default:if(md(k=Lx(I,e,n,u,c,i,o,v,x=[],C=[],d),s),g===123)if(c===0)Qd(I,e,k,k,x,s,d,o,C);else switch(f===99&&It(I,3)===110?100:f){case 100:case 108:case 109:case 115:Qd(t,k,k,r&&md(Lx(t,k,k,0,0,i,o,v,i,x=[],d),C),i,C,d,o,r?x:C);break;default:Qd(I,k,k,k,[""],C,0,o,C)}}u=c=h=0,y=m=1,v=I="",d=a;break;case 58:d=1+Ur(I),h=p;default:if(y<1){if(g==123)--y;else if(g==125&&y++==0&&Yj()==125)continue}switch(I+=Ep(g),g*y){case 38:m=c>0?1:(I+="\f",-1);break;case 44:o[u++]=(Ur(I)-1)*m,m=1;break;case 64:Yr()===45&&(I+=Yd(In())),f=Yr(),c=d=Ur(v=I+=nM(Xd())),g++;break;case 45:p===45&&Ur(I)==2&&(y=0)}}return s}function Lx(t,e,n,r,i,s,a,o,l,u,c){for(var d=i-1,f=i===0?s:[""],h=vb(f),p=0,y=0,b=0;p<r;++p)for(var m=0,g=Lu(t,d+1,d=qj(y=a[p])),v=t;m<h;++m)(v=aE(y>0?f[m]+" "+g:Pe(g,/&\f/g,f[m])))&&(l[b++]=v);return Ip(t,e,n,i===0?gb:o,l,u,c)}function iM(t,e,n){return Ip(t,e,n,iE,Ep(Xj()),Lu(t,2,-2),0)}function zx(t,e,n,r){return Ip(t,e,n,yb,Lu(t,0,r),Lu(t,r+1,-1),r)}function vo(t,e){for(var n="",r=vb(t),i=0;i<r;i++)n+=e(t[i],i,t,e)||"";return n}function sM(t,e,n,r){switch(t.type){case Wj:if(t.children.length)break;case Hj:case yb:return t.return=t.return||t.value;case iE:return"";case sE:return t.return=t.value+"{"+vo(t.children,r)+"}";case gb:t.value=t.props.join(",")}return Ur(n=vo(t.children,r))?t.return=t.value+"{"+n+"}":""}function aM(t){var e=vb(t);return function(n,r,i,s){for(var a="",o=0;o<e;o++)a+=t[o](n,r,i,s)||"";return a}}function oM(t){return function(e){e.root||(e=e.return)&&t(e)}}var Dx=function(e){var n=new WeakMap;return function(r){if(n.has(r))return n.get(r);var i=e(r);return n.set(r,i),i}};function cE(t){var e=Object.create(null);return function(n){return e[n]===void 0&&(e[n]=t(n)),e[n]}}var lM=function(e,n,r){for(var i=0,s=0;i=s,s=Yr(),i===38&&s===12&&(n[r]=1),!zu(s);)In();return xc(e,vn)},uM=function(e,n){var r=-1,i=44;do switch(zu(i)){case 0:i===38&&Yr()===12&&(n[r]=1),e[r]+=lM(vn-1,n,r);break;case 2:e[r]+=Yd(i);break;case 4:if(i===44){e[++r]=Yr()===58?"&\f":"",n[r]=e[r].length;break}default:e[r]+=Ep(i)}while(i=In());return e},cM=function(e,n){return uE(uM(lE(e),n))},Fx=new WeakMap,dM=function(e){if(!(e.type!=="rule"||!e.parent||e.length<1)){for(var n=e.value,r=e.parent,i=e.column===r.column&&e.line===r.line;r.type!=="rule";)if(r=r.parent,!r)return;if(!(e.props.length===1&&n.charCodeAt(0)!==58&&!Fx.get(r))&&!i){Fx.set(e,!0);for(var s=[],a=cM(n,s),o=r.props,l=0,u=0;l<a.length;l++)for(var c=0;c<o.length;c++,u++)e.props[u]=s[l]?a[l].replace(/&\f/g,o[c]):o[c]+" "+a[l]}}},fM=function(e){if(e.type==="decl"){var n=e.value;n.charCodeAt(0)===108&&n.charCodeAt(2)===98&&(e.return="",e.value="")}};function dE(t,e){switch(Gj(t,e)){case 5103:return Te+"print-"+t+t;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return Te+t+t;case 5349:case 4246:case 4810:case 6968:case 2756:return Te+t+th+t+Mt+t+t;case 6828:case 4268:return Te+t+Mt+t+t;case 6165:return Te+t+Mt+"flex-"+t+t;case 5187:return Te+t+Pe(t,/(\w+).+(:[^]+)/,Te+"box-$1$2"+Mt+"flex-$1$2")+t;case 5443:return Te+t+Mt+"flex-item-"+Pe(t,/flex-|-self/,"")+t;case 4675:return Te+t+Mt+"flex-line-pack"+Pe(t,/align-content|flex-|-self/,"")+t;case 5548:return Te+t+Mt+Pe(t,"shrink","negative")+t;case 5292:return Te+t+Mt+Pe(t,"basis","preferred-size")+t;case 6060:return Te+"box-"+Pe(t,"-grow","")+Te+t+Mt+Pe(t,"grow","positive")+t;case 4554:return Te+Pe(t,/([^-])(transform)/g,"$1"+Te+"$2")+t;case 6187:return Pe(Pe(Pe(t,/(zoom-|grab)/,Te+"$1"),/(image-set)/,Te+"$1"),t,"")+t;case 5495:case 3959:return Pe(t,/(image-set\([^]*)/,Te+"$1$`$1");case 4968:return Pe(Pe(t,/(.+:)(flex-)?(.*)/,Te+"box-pack:$3"+Mt+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+Te+t+t;case 4095:case 3583:case 4068:case 2532:return Pe(t,/(.+)-inline(.+)/,Te+"$1$2")+t;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(Ur(t)-1-e>6)switch(It(t,e+1)){case 109:if(It(t,e+4)!==45)break;case 102:return Pe(t,/(.+:)(.+)-([^]+)/,"$1"+Te+"$2-$3$1"+th+(It(t,e+3)==108?"$3":"$2-$3"))+t;case 115:return~lv(t,"stretch")?dE(Pe(t,"stretch","fill-available"),e)+t:t}break;case 4949:if(It(t,e+1)!==115)break;case 6444:switch(It(t,Ur(t)-3-(~lv(t,"!important")&&10))){case 107:return Pe(t,":",":"+Te)+t;case 101:return Pe(t,/(.+:)([^;!]+)(;|!.+)?/,"$1"+Te+(It(t,14)===45?"inline-":"")+"box$3$1"+Te+"$2$3$1"+Mt+"$2box$3")+t}break;case 5936:switch(It(t,e+11)){case 114:return Te+t+Mt+Pe(t,/[svh]\w+-[tblr]{2}/,"tb")+t;case 108:return Te+t+Mt+Pe(t,/[svh]\w+-[tblr]{2}/,"tb-rl")+t;case 45:return Te+t+Mt+Pe(t,/[svh]\w+-[tblr]{2}/,"lr")+t}return Te+t+Mt+t+t}return t}var hM=function(e,n,r,i){if(e.length>-1&&!e.return)switch(e.type){case yb:e.return=dE(e.value,e.length);break;case sE:return vo([ml(e,{value:Pe(e.value,"@","@"+Te)})],i);case gb:if(e.length)return Jj(e.props,function(s){switch(Kj(s,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return vo([ml(e,{props:[Pe(s,/:(read-\w+)/,":"+th+"$1")]})],i);case"::placeholder":return vo([ml(e,{props:[Pe(s,/:(plac\w+)/,":"+Te+"input-$1")]}),ml(e,{props:[Pe(s,/:(plac\w+)/,":"+th+"$1")]}),ml(e,{props:[Pe(s,/:(plac\w+)/,Mt+"input-$1")]})],i)}return""})}},pM=[hM],mM=function(e){var n=e.key;if(n==="css"){var r=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(r,function(y){var b=y.getAttribute("data-emotion");b.indexOf(" ")!==-1&&(document.head.appendChild(y),y.setAttribute("data-s",""))})}var i=e.stylisPlugins||pM,s={},a,o=[];a=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+n+' "]'),function(y){for(var b=y.getAttribute("data-emotion").split(" "),m=1;m<b.length;m++)s[b[m]]=!0;o.push(y)});var l,u=[dM,fM];{var c,d=[sM,oM(function(y){c.insert(y)})],f=aM(u.concat(i,d)),h=function(b){return vo(rM(b),f)};l=function(b,m,g,v){c=g,h(b?b+"{"+m.styles+"}":m.styles),v&&(p.inserted[m.name]=!0)}}var p={key:n,sheet:new Uj({key:n,container:a,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:s,registered:{},insert:l};return p.sheet.hydrate(o),p};function nh(){return nh=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},nh.apply(this,arguments)}var fE={exports:{}},Ne={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var St=typeof Symbol=="function"&&Symbol.for,bb=St?Symbol.for("react.element"):60103,wb=St?Symbol.for("react.portal"):60106,Op=St?Symbol.for("react.fragment"):60107,Rp=St?Symbol.for("react.strict_mode"):60108,$p=St?Symbol.for("react.profiler"):60114,Np=St?Symbol.for("react.provider"):60109,jp=St?Symbol.for("react.context"):60110,_b=St?Symbol.for("react.async_mode"):60111,Mp=St?Symbol.for("react.concurrent_mode"):60111,Lp=St?Symbol.for("react.forward_ref"):60112,zp=St?Symbol.for("react.suspense"):60113,gM=St?Symbol.for("react.suspense_list"):60120,Dp=St?Symbol.for("react.memo"):60115,Fp=St?Symbol.for("react.lazy"):60116,yM=St?Symbol.for("react.block"):60121,vM=St?Symbol.for("react.fundamental"):60117,bM=St?Symbol.for("react.responder"):60118,wM=St?Symbol.for("react.scope"):60119;function zn(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case bb:switch(t=t.type,t){case _b:case Mp:case Op:case $p:case Rp:case zp:return t;default:switch(t=t&&t.$$typeof,t){case jp:case Lp:case Fp:case Dp:case Np:return t;default:return e}}case wb:return e}}}function hE(t){return zn(t)===Mp}Ne.AsyncMode=_b;Ne.ConcurrentMode=Mp;Ne.ContextConsumer=jp;Ne.ContextProvider=Np;Ne.Element=bb;Ne.ForwardRef=Lp;Ne.Fragment=Op;Ne.Lazy=Fp;Ne.Memo=Dp;Ne.Portal=wb;Ne.Profiler=$p;Ne.StrictMode=Rp;Ne.Suspense=zp;Ne.isAsyncMode=function(t){return hE(t)||zn(t)===_b};Ne.isConcurrentMode=hE;Ne.isContextConsumer=function(t){return zn(t)===jp};Ne.isContextProvider=function(t){return zn(t)===Np};Ne.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===bb};Ne.isForwardRef=function(t){return zn(t)===Lp};Ne.isFragment=function(t){return zn(t)===Op};Ne.isLazy=function(t){return zn(t)===Fp};Ne.isMemo=function(t){return zn(t)===Dp};Ne.isPortal=function(t){return zn(t)===wb};Ne.isProfiler=function(t){return zn(t)===$p};Ne.isStrictMode=function(t){return zn(t)===Rp};Ne.isSuspense=function(t){return zn(t)===zp};Ne.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===Op||t===Mp||t===$p||t===Rp||t===zp||t===gM||typeof t=="object"&&t!==null&&(t.$$typeof===Fp||t.$$typeof===Dp||t.$$typeof===Np||t.$$typeof===jp||t.$$typeof===Lp||t.$$typeof===vM||t.$$typeof===bM||t.$$typeof===wM||t.$$typeof===yM)};Ne.typeOf=zn;fE.exports=Ne;var _M=fE.exports,pE=_M,xM={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},kM={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},mE={};mE[pE.ForwardRef]=xM;mE[pE.Memo]=kM;var SM=!0;function CM(t,e,n){var r="";return n.split(" ").forEach(function(i){t[i]!==void 0?e.push(t[i]+";"):r+=i+" "}),r}var gE=function(e,n,r){var i=e.key+"-"+n.name;(r===!1||SM===!1)&&e.registered[i]===void 0&&(e.registered[i]=n.styles)},yE=function(e,n,r){gE(e,n,r);var i=e.key+"-"+n.name;if(e.inserted[n.name]===void 0){var s=n;do e.insert(n===s?"."+i:"",s,e.sheet,!0),s=s.next;while(s!==void 0)}};function TM(t){for(var e=0,n,r=0,i=t.length;i>=4;++r,i-=4)n=t.charCodeAt(r)&255|(t.charCodeAt(++r)&255)<<8|(t.charCodeAt(++r)&255)<<16|(t.charCodeAt(++r)&255)<<24,n=(n&65535)*1540483477+((n>>>16)*59797<<16),n^=n>>>24,e=(n&65535)*1540483477+((n>>>16)*59797<<16)^(e&65535)*1540483477+((e>>>16)*59797<<16);switch(i){case 3:e^=(t.charCodeAt(r+2)&255)<<16;case 2:e^=(t.charCodeAt(r+1)&255)<<8;case 1:e^=t.charCodeAt(r)&255,e=(e&65535)*1540483477+((e>>>16)*59797<<16)}return e^=e>>>13,e=(e&65535)*1540483477+((e>>>16)*59797<<16),((e^e>>>15)>>>0).toString(36)}var PM={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},EM=/[A-Z]|^ms/g,AM=/_EMO_([^_]+?)_([^]*?)_EMO_/g,vE=function(e){return e.charCodeAt(1)===45},Bx=function(e){return e!=null&&typeof e!="boolean"},sg=cE(function(t){return vE(t)?t:t.replace(EM,"-$&").toLowerCase()}),Vx=function(e,n){switch(e){case"animation":case"animationName":if(typeof n=="string")return n.replace(AM,function(r,i,s){return Hr={name:i,styles:s,next:Hr},i})}return PM[e]!==1&&!vE(e)&&typeof n=="number"&&n!==0?n+"px":n};function Du(t,e,n){if(n==null)return"";if(n.__emotion_styles!==void 0)return n;switch(typeof n){case"boolean":return"";case"object":{if(n.anim===1)return Hr={name:n.name,styles:n.styles,next:Hr},n.name;if(n.styles!==void 0){var r=n.next;if(r!==void 0)for(;r!==void 0;)Hr={name:r.name,styles:r.styles,next:Hr},r=r.next;var i=n.styles+";";return i}return IM(t,e,n)}case"function":{if(t!==void 0){var s=Hr,a=n(t);return Hr=s,Du(t,e,a)}break}}if(e==null)return n;var o=e[n];return o!==void 0?o:n}function IM(t,e,n){var r="";if(Array.isArray(n))for(var i=0;i<n.length;i++)r+=Du(t,e,n[i])+";";else for(var s in n){var a=n[s];if(typeof a!="object")e!=null&&e[a]!==void 0?r+=s+"{"+e[a]+"}":Bx(a)&&(r+=sg(s)+":"+Vx(s,a)+";");else if(Array.isArray(a)&&typeof a[0]=="string"&&(e==null||e[a[0]]===void 0))for(var o=0;o<a.length;o++)Bx(a[o])&&(r+=sg(s)+":"+Vx(s,a[o])+";");else{var l=Du(t,e,a);switch(s){case"animation":case"animationName":{r+=sg(s)+":"+l+";";break}default:r+=s+"{"+l+"}"}}}return r}var Ux=/label:\s*([^\s;\n{]+)\s*(;|$)/g,Hr,xb=function(e,n,r){if(e.length===1&&typeof e[0]=="object"&&e[0]!==null&&e[0].styles!==void 0)return e[0];var i=!0,s="";Hr=void 0;var a=e[0];a==null||a.raw===void 0?(i=!1,s+=Du(r,n,a)):s+=a[0];for(var o=1;o<e.length;o++)s+=Du(r,n,e[o]),i&&(s+=a[o]);Ux.lastIndex=0;for(var l="",u;(u=Ux.exec(s))!==null;)l+="-"+u[1];var c=TM(s)+l;return{name:c,styles:s,next:Hr}},OM=function(e){return e()},bE=I_.useInsertionEffect?I_.useInsertionEffect:!1,RM=bE||OM,Hx=bE||A.useLayoutEffect,wE=A.createContext(typeof HTMLElement<"u"?mM({key:"css"}):null);wE.Provider;var _E=function(e){return A.forwardRef(function(n,r){var i=A.useContext(wE);return e(n,i,r)})},Fu=A.createContext({}),$M=function(e,n){if(typeof n=="function"){var r=n(e);return r}return nh({},e,n)},NM=Dx(function(t){return Dx(function(e){return $M(t,e)})}),jM=function(e){var n=A.useContext(Fu);return e.theme!==n&&(n=NM(n)(e.theme)),A.createElement(Fu.Provider,{value:n},e.children)},Bp=_E(function(t,e){var n=t.styles,r=xb([n],void 0,A.useContext(Fu)),i=A.useRef();return Hx(function(){var s=e.key+"-global",a=new e.sheet.constructor({key:s,nonce:e.sheet.nonce,container:e.sheet.container,speedy:e.sheet.isSpeedy}),o=!1,l=document.querySelector('style[data-emotion="'+s+" "+r.name+'"]');return e.sheet.tags.length&&(a.before=e.sheet.tags[0]),l!==null&&(o=!0,l.setAttribute("data-emotion",s),a.hydrate([l])),i.current=[a,o],function(){a.flush()}},[e]),Hx(function(){var s=i.current,a=s[0],o=s[1];if(o){s[1]=!1;return}if(r.next!==void 0&&yE(e,r.next,!0),a.tags.length){var l=a.tags[a.tags.length-1].nextElementSibling;a.before=l,a.flush()}e.insert("",r,a,!1)},[e,r.name]),null});function MM(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return xb(e)}var LM=function(){var e=MM.apply(void 0,arguments),n="animation-"+e.name;return{name:n,styles:"@keyframes "+n+"{"+e.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}},xE=String.raw,kE=xE`
  :root,
  :host {
    --chakra-vh: 100vh;
  }

  @supports (height: -webkit-fill-available) {
    :root,
    :host {
      --chakra-vh: -webkit-fill-available;
    }
  }

  @supports (height: -moz-fill-available) {
    :root,
    :host {
      --chakra-vh: -moz-fill-available;
    }
  }

  @supports (height: 100dvh) {
    :root,
    :host {
      --chakra-vh: 100dvh;
    }
  }
`,zM=()=>O.jsx(Bp,{styles:kE}),DM=({scope:t=""})=>O.jsx(Bp,{styles:xE`
      html {
        line-height: 1.5;
        -webkit-text-size-adjust: 100%;
        font-family: system-ui, sans-serif;
        -webkit-font-smoothing: antialiased;
        text-rendering: optimizeLegibility;
        -moz-osx-font-smoothing: grayscale;
        touch-action: manipulation;
      }

      body {
        position: relative;
        min-height: 100%;
        margin: 0;
        font-feature-settings: "kern";
      }

      ${t} :where(*, *::before, *::after) {
        border-width: 0;
        border-style: solid;
        box-sizing: border-box;
        word-wrap: break-word;
      }

      main {
        display: block;
      }

      ${t} hr {
        border-top-width: 1px;
        box-sizing: content-box;
        height: 0;
        overflow: visible;
      }

      ${t} :where(pre, code, kbd,samp) {
        font-family: SFMono-Regular, Menlo, Monaco, Consolas, monospace;
        font-size: 1em;
      }

      ${t} a {
        background-color: transparent;
        color: inherit;
        text-decoration: inherit;
      }

      ${t} abbr[title] {
        border-bottom: none;
        text-decoration: underline;
        -webkit-text-decoration: underline dotted;
        text-decoration: underline dotted;
      }

      ${t} :where(b, strong) {
        font-weight: bold;
      }

      ${t} small {
        font-size: 80%;
      }

      ${t} :where(sub,sup) {
        font-size: 75%;
        line-height: 0;
        position: relative;
        vertical-align: baseline;
      }

      ${t} sub {
        bottom: -0.25em;
      }

      ${t} sup {
        top: -0.5em;
      }

      ${t} img {
        border-style: none;
      }

      ${t} :where(button, input, optgroup, select, textarea) {
        font-family: inherit;
        font-size: 100%;
        line-height: 1.15;
        margin: 0;
      }

      ${t} :where(button, input) {
        overflow: visible;
      }

      ${t} :where(button, select) {
        text-transform: none;
      }

      ${t} :where(
          button::-moz-focus-inner,
          [type="button"]::-moz-focus-inner,
          [type="reset"]::-moz-focus-inner,
          [type="submit"]::-moz-focus-inner
        ) {
        border-style: none;
        padding: 0;
      }

      ${t} fieldset {
        padding: 0.35em 0.75em 0.625em;
      }

      ${t} legend {
        box-sizing: border-box;
        color: inherit;
        display: table;
        max-width: 100%;
        padding: 0;
        white-space: normal;
      }

      ${t} progress {
        vertical-align: baseline;
      }

      ${t} textarea {
        overflow: auto;
      }

      ${t} :where([type="checkbox"], [type="radio"]) {
        box-sizing: border-box;
        padding: 0;
      }

      ${t} input[type="number"]::-webkit-inner-spin-button,
      ${t} input[type="number"]::-webkit-outer-spin-button {
        -webkit-appearance: none !important;
      }

      ${t} input[type="number"] {
        -moz-appearance: textfield;
      }

      ${t} input[type="search"] {
        -webkit-appearance: textfield;
        outline-offset: -2px;
      }

      ${t} input[type="search"]::-webkit-search-decoration {
        -webkit-appearance: none !important;
      }

      ${t} ::-webkit-file-upload-button {
        -webkit-appearance: button;
        font: inherit;
      }

      ${t} details {
        display: block;
      }

      ${t} summary {
        display: list-item;
      }

      template {
        display: none;
      }

      [hidden] {
        display: none !important;
      }

      ${t} :where(
          blockquote,
          dl,
          dd,
          h1,
          h2,
          h3,
          h4,
          h5,
          h6,
          hr,
          figure,
          p,
          pre
        ) {
        margin: 0;
      }

      ${t} button {
        background: transparent;
        padding: 0;
      }

      ${t} fieldset {
        margin: 0;
        padding: 0;
      }

      ${t} :where(ol, ul) {
        margin: 0;
        padding: 0;
      }

      ${t} textarea {
        resize: vertical;
      }

      ${t} :where(button, [role="button"]) {
        cursor: pointer;
      }

      ${t} button::-moz-focus-inner {
        border: 0 !important;
      }

      ${t} table {
        border-collapse: collapse;
      }

      ${t} :where(h1, h2, h3, h4, h5, h6) {
        font-size: inherit;
        font-weight: inherit;
      }

      ${t} :where(button, input, optgroup, select, textarea) {
        padding: 0;
        line-height: inherit;
        color: inherit;
      }

      ${t} :where(img, svg, video, canvas, audio, iframe, embed, object) {
        display: block;
      }

      ${t} :where(img, video) {
        max-width: 100%;
        height: auto;
      }

      [data-js-focus-visible]
        :focus:not([data-focus-visible-added]):not(
          [data-focus-visible-disabled]
        ) {
        outline: none;
        box-shadow: none;
      }

      ${t} select::-ms-expand {
        display: none;
      }

      ${kE}
    `});function FM(t,e){return`${t} returned \`undefined\`. Seems you forgot to wrap component within ${e}`}function Dn(t={}){const{name:e,strict:n=!0,hookName:r="useContext",providerName:i="Provider",errorMessage:s,defaultValue:a}=t,o=A.createContext(a);o.displayName=e;function l(){var u;const c=A.useContext(o);if(!c&&n){const d=new Error(s??FM(r,i));throw d.name="ContextError",(u=Error.captureStackTrace)==null||u.call(Error,d,l),d}return c}return[o.Provider,l,o]}var[BM,VM]=Dn({strict:!1,name:"PortalManagerContext"});function SE(t){const{children:e,zIndex:n}=t;return O.jsx(BM,{value:{zIndex:n},children:e})}SE.displayName="PortalManager";var rh=globalThis!=null&&globalThis.document?A.useLayoutEffect:A.useEffect,[CE,UM]=Dn({strict:!1,name:"PortalContext"}),kb="chakra-portal",HM=".chakra-portal",WM=t=>O.jsx("div",{className:"chakra-portal-zIndex",style:{position:"absolute",zIndex:t.zIndex,top:0,left:0,right:0},children:t.children}),qM=t=>{const{appendToParentPortal:e,children:n}=t,[r,i]=A.useState(null),s=A.useRef(null),[,a]=A.useState({});A.useEffect(()=>a({}),[]);const o=UM(),l=VM();rh(()=>{if(!r)return;const c=r.ownerDocument,d=e?o??c.body:c.body;if(!d)return;s.current=c.createElement("div"),s.current.className=kb,d.appendChild(s.current),a({});const f=s.current;return()=>{d.contains(f)&&d.removeChild(f)}},[r]);const u=l!=null&&l.zIndex?O.jsx(WM,{zIndex:l==null?void 0:l.zIndex,children:n}):n;return s.current?mb.createPortal(O.jsx(CE,{value:s.current,children:u}),s.current):O.jsx("span",{ref:c=>{c&&i(c)}})},ZM=t=>{const{children:e,containerRef:n,appendToParentPortal:r}=t,i=n.current,s=i??(typeof window<"u"?document.body:void 0),a=A.useMemo(()=>{const l=i==null?void 0:i.ownerDocument.createElement("div");return l&&(l.className=kb),l},[i]),[,o]=A.useState({});return rh(()=>o({}),[]),rh(()=>{if(!(!a||!s))return s.appendChild(a),()=>{s.removeChild(a)}},[a,s]),s&&a?mb.createPortal(O.jsx(CE,{value:r?a:null,children:e}),a):null};function Vp(t){const e={appendToParentPortal:!0,...t},{containerRef:n,...r}=e;return n?O.jsx(ZM,{containerRef:n,...r}):O.jsx(qM,{...r})}Vp.className=kb;Vp.selector=HM;Vp.displayName="Portal";function GM(){const t=A.useContext(Fu);if(!t)throw Error("useTheme: `theme` is undefined. Seems you forgot to wrap your app in `<ChakraProvider />` or `<ThemeProvider />`");return t}var Sb=A.createContext({});Sb.displayName="ColorModeContext";function Cb(){const t=A.useContext(Sb);if(t===void 0)throw new Error("useColorMode must be used within a ColorModeProvider");return t}var gd={light:"chakra-ui-light",dark:"chakra-ui-dark"};function KM(t={}){const{preventTransition:e=!0}=t,n={setDataset:r=>{const i=e?n.preventTransition():void 0;document.documentElement.dataset.theme=r,document.documentElement.style.colorScheme=r,i==null||i()},setClassName(r){document.body.classList.add(r?gd.dark:gd.light),document.body.classList.remove(r?gd.light:gd.dark)},query(){return window.matchMedia("(prefers-color-scheme: dark)")},getSystemTheme(r){var i;return((i=n.query().matches)!=null?i:r==="dark")?"dark":"light"},addListener(r){const i=n.query(),s=a=>{r(a.matches?"dark":"light")};return typeof i.addListener=="function"?i.addListener(s):i.addEventListener("change",s),()=>{typeof i.removeListener=="function"?i.removeListener(s):i.removeEventListener("change",s)}},preventTransition(){const r=document.createElement("style");return r.appendChild(document.createTextNode("*{-webkit-transition:none!important;-moz-transition:none!important;-o-transition:none!important;-ms-transition:none!important;transition:none!important}")),document.head.appendChild(r),()=>{window.getComputedStyle(document.body),requestAnimationFrame(()=>{requestAnimationFrame(()=>{document.head.removeChild(r)})})}}};return n}var JM="chakra-ui-color-mode";function XM(t){return{ssr:!1,type:"localStorage",get(e){if(!(globalThis!=null&&globalThis.document))return e;let n;try{n=localStorage.getItem(t)||e}catch{}return n||e},set(e){try{localStorage.setItem(t,e)}catch{}}}}var YM=XM(JM),Wx=()=>{};function qx(t,e){return t.type==="cookie"&&t.ssr?t.get(e):e}function TE(t){const{value:e,children:n,options:{useSystemColorMode:r,initialColorMode:i,disableTransitionOnChange:s}={},colorModeManager:a=YM}=t,o=i==="dark"?"dark":"light",[l,u]=A.useState(()=>qx(a,o)),[c,d]=A.useState(()=>qx(a)),{getSystemTheme:f,setClassName:h,setDataset:p,addListener:y}=A.useMemo(()=>KM({preventTransition:s}),[s]),b=i==="system"&&!l?c:l,m=A.useCallback(x=>{const C=x==="system"?f():x;u(C),h(C==="dark"),p(C),a.set(C)},[a,f,h,p]);rh(()=>{i==="system"&&d(f())},[]),A.useEffect(()=>{const x=a.get();if(x){m(x);return}if(i==="system"){m("system");return}m(o)},[a,o,i,m]);const g=A.useCallback(()=>{m(b==="dark"?"light":"dark")},[b,m]);A.useEffect(()=>{if(r)return y(m)},[r,y,m]);const v=A.useMemo(()=>({colorMode:e??b,toggleColorMode:e?Wx:g,setColorMode:e?Wx:m,forced:e!==void 0}),[b,g,m,e]);return O.jsx(Sb.Provider,{value:v,children:n})}TE.displayName="ColorModeProvider";function QM(){const t=Cb(),e=GM();return{...t,theme:e}}var it=(...t)=>t.filter(Boolean).join(" ");function eL(){return!1}function Tr(t){const e=typeof t;return t!=null&&(e==="object"||e==="function")&&!Array.isArray(t)}var kc=t=>{const{condition:e,message:n}=t;e&&eL()&&console.warn(n)};function ns(t,...e){return tL(t)?t(...e):t}var tL=t=>typeof t=="function",Dr=t=>t?"":void 0,ag=t=>t?!0:void 0;function tu(...t){return function(n){t.some(r=>(r==null||r(n),n==null?void 0:n.defaultPrevented))}}var ih={exports:{}};ih.exports;(function(t,e){var n=200,r="__lodash_hash_undefined__",i=800,s=16,a=9007199254740991,o="[object Arguments]",l="[object Array]",u="[object AsyncFunction]",c="[object Boolean]",d="[object Date]",f="[object Error]",h="[object Function]",p="[object GeneratorFunction]",y="[object Map]",b="[object Number]",m="[object Null]",g="[object Object]",v="[object Proxy]",x="[object RegExp]",C="[object Set]",k="[object String]",I="[object Undefined]",R="[object WeakMap]",j="[object ArrayBuffer]",T="[object DataView]",F="[object Float32Array]",q="[object Float64Array]",ue="[object Int8Array]",_e="[object Int16Array]",J="[object Int32Array]",we="[object Uint8Array]",Le="[object Uint8ClampedArray]",B="[object Uint16Array]",X="[object Uint32Array]",_=/[\\^$.*+?()[\]{}|]/g,he=/^\[object .+?Constructor\]$/,Oe=/^(?:0|[1-9]\d*)$/,S={};S[F]=S[q]=S[ue]=S[_e]=S[J]=S[we]=S[Le]=S[B]=S[X]=!0,S[o]=S[l]=S[j]=S[c]=S[T]=S[d]=S[f]=S[h]=S[y]=S[b]=S[g]=S[x]=S[C]=S[k]=S[R]=!1;var at=typeof Da=="object"&&Da&&Da.Object===Object&&Da,wn=typeof self=="object"&&self&&self.Object===Object&&self,xe=at||wn||Function("return this")(),_n=e&&!e.nodeType&&e,sn=_n&&!0&&t&&!t.nodeType&&t,ai=sn&&sn.exports===_n,ir=ai&&at.process,Sa=function(){try{var w=sn&&sn.require&&sn.require("util").types;return w||ir&&ir.binding&&ir.binding("util")}catch{}}(),Bc=Sa&&Sa.isTypedArray;function _m(w,E,$){switch($.length){case 0:return w.call(E);case 1:return w.call(E,$[0]);case 2:return w.call(E,$[0],$[1]);case 3:return w.call(E,$[0],$[1],$[2])}return w.apply(E,$)}function Vc(w,E){for(var $=-1,Z=Array(w);++$<w;)Z[$]=E($);return Z}function Uc(w){return function(E){return w(E)}}function Hc(w,E){return w==null?void 0:w[E]}function xm(w,E){return function($){return w(E($))}}var Wc=Array.prototype,qc=Function.prototype,Ca=Object.prototype,rl=xe["__core-js_shared__"],Ta=qc.toString,$r=Ca.hasOwnProperty,Zc=function(){var w=/[^.]+$/.exec(rl&&rl.keys&&rl.keys.IE_PROTO||"");return w?"Symbol(src)_1."+w:""}(),N=Ca.toString,V=Ta.call(Object),re=RegExp("^"+Ta.call($r).replace(_,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),ae=ai?xe.Buffer:void 0,ke=xe.Symbol,an=xe.Uint8Array;ae&&ae.allocUnsafe;var Nr=xm(Object.getPrototypeOf,Object),Fn=Object.create,Ps=Ca.propertyIsEnumerable,Es=Wc.splice,ut=ke?ke.toStringTag:void 0,sr=function(){try{var w=Cm(Object,"defineProperty");return w({},"",{}),w}catch{}}(),ar=ae?ae.isBuffer:void 0,m_=Math.max,f2=Date.now,g_=Cm(xe,"Map"),il=Cm(Object,"create"),h2=function(){function w(){}return function(E){if(!Is(E))return{};if(Fn)return Fn(E);w.prototype=E;var $=new w;return w.prototype=void 0,$}}();function As(w){var E=-1,$=w==null?0:w.length;for(this.clear();++E<$;){var Z=w[E];this.set(Z[0],Z[1])}}function p2(){this.__data__=il?il(null):{},this.size=0}function m2(w){var E=this.has(w)&&delete this.__data__[w];return this.size-=E?1:0,E}function g2(w){var E=this.__data__;if(il){var $=E[w];return $===r?void 0:$}return $r.call(E,w)?E[w]:void 0}function y2(w){var E=this.__data__;return il?E[w]!==void 0:$r.call(E,w)}function v2(w,E){var $=this.__data__;return this.size+=this.has(w)?0:1,$[w]=il&&E===void 0?r:E,this}As.prototype.clear=p2,As.prototype.delete=m2,As.prototype.get=g2,As.prototype.has=y2,As.prototype.set=v2;function oi(w){var E=-1,$=w==null?0:w.length;for(this.clear();++E<$;){var Z=w[E];this.set(Z[0],Z[1])}}function b2(){this.__data__=[],this.size=0}function w2(w){var E=this.__data__,$=Gc(E,w);if($<0)return!1;var Z=E.length-1;return $==Z?E.pop():Es.call(E,$,1),--this.size,!0}function _2(w){var E=this.__data__,$=Gc(E,w);return $<0?void 0:E[$][1]}function x2(w){return Gc(this.__data__,w)>-1}function k2(w,E){var $=this.__data__,Z=Gc($,w);return Z<0?(++this.size,$.push([w,E])):$[Z][1]=E,this}oi.prototype.clear=b2,oi.prototype.delete=w2,oi.prototype.get=_2,oi.prototype.has=x2,oi.prototype.set=k2;function Pa(w){var E=-1,$=w==null?0:w.length;for(this.clear();++E<$;){var Z=w[E];this.set(Z[0],Z[1])}}function S2(){this.size=0,this.__data__={hash:new As,map:new(g_||oi),string:new As}}function C2(w){var E=Jc(this,w).delete(w);return this.size-=E?1:0,E}function T2(w){return Jc(this,w).get(w)}function P2(w){return Jc(this,w).has(w)}function E2(w,E){var $=Jc(this,w),Z=$.size;return $.set(w,E),this.size+=$.size==Z?0:1,this}Pa.prototype.clear=S2,Pa.prototype.delete=C2,Pa.prototype.get=T2,Pa.prototype.has=P2,Pa.prototype.set=E2;function Ea(w){var E=this.__data__=new oi(w);this.size=E.size}function A2(){this.__data__=new oi,this.size=0}function I2(w){var E=this.__data__,$=E.delete(w);return this.size=E.size,$}function O2(w){return this.__data__.get(w)}function R2(w){return this.__data__.has(w)}function $2(w,E){var $=this.__data__;if($ instanceof oi){var Z=$.__data__;if(!g_||Z.length<n-1)return Z.push([w,E]),this.size=++$.size,this;$=this.__data__=new Pa(Z)}return $.set(w,E),this.size=$.size,this}Ea.prototype.clear=A2,Ea.prototype.delete=I2,Ea.prototype.get=O2,Ea.prototype.has=R2,Ea.prototype.set=$2;function N2(w,E){var $=Em(w),Z=!$&&Pm(w),ge=!$&&!Z&&__(w),ze=!$&&!Z&&!ge&&k_(w),Ge=$||Z||ge||ze,Se=Ge?Vc(w.length,String):[],Ke=Se.length;for(var or in w)Ge&&(or=="length"||ge&&(or=="offset"||or=="parent")||ze&&(or=="buffer"||or=="byteLength"||or=="byteOffset")||b_(or,Ke))||Se.push(or);return Se}function km(w,E,$){($!==void 0&&!Xc(w[E],$)||$===void 0&&!(E in w))&&Sm(w,E,$)}function j2(w,E,$){var Z=w[E];(!($r.call(w,E)&&Xc(Z,$))||$===void 0&&!(E in w))&&Sm(w,E,$)}function Gc(w,E){for(var $=w.length;$--;)if(Xc(w[$][0],E))return $;return-1}function Sm(w,E,$){E=="__proto__"&&sr?sr(w,E,{configurable:!0,enumerable:!0,value:$,writable:!0}):w[E]=$}var M2=K2();function Kc(w){return w==null?w===void 0?I:m:ut&&ut in Object(w)?J2(w):n$(w)}function y_(w){return sl(w)&&Kc(w)==o}function L2(w){if(!Is(w)||e$(w))return!1;var E=Im(w)?re:he;return E.test(a$(w))}function z2(w){return sl(w)&&x_(w.length)&&!!S[Kc(w)]}function D2(w){if(!Is(w))return t$(w);var E=w_(w),$=[];for(var Z in w)Z=="constructor"&&(E||!$r.call(w,Z))||$.push(Z);return $}function v_(w,E,$,Z,ge){w!==E&&M2(E,function(ze,Ge){if(ge||(ge=new Ea),Is(ze))F2(w,E,Ge,$,v_,Z,ge);else{var Se=Z?Z(Tm(w,Ge),ze,Ge+"",w,E,ge):void 0;Se===void 0&&(Se=ze),km(w,Ge,Se)}},S_)}function F2(w,E,$,Z,ge,ze,Ge){var Se=Tm(w,$),Ke=Tm(E,$),or=Ge.get(Ke);if(or){km(w,$,or);return}var xn=ze?ze(Se,Ke,$+"",w,E,Ge):void 0,al=xn===void 0;if(al){var Om=Em(Ke),Rm=!Om&&__(Ke),T_=!Om&&!Rm&&k_(Ke);xn=Ke,Om||Rm||T_?Em(Se)?xn=Se:o$(Se)?xn=q2(Se):Rm?(al=!1,xn=U2(Ke)):T_?(al=!1,xn=W2(Ke)):xn=[]:l$(Ke)||Pm(Ke)?(xn=Se,Pm(Se)?xn=u$(Se):(!Is(Se)||Im(Se))&&(xn=X2(Ke))):al=!1}al&&(Ge.set(Ke,xn),ge(xn,Ke,Z,ze,Ge),Ge.delete(Ke)),km(w,$,xn)}function B2(w,E){return i$(r$(w,E,C_),w+"")}var V2=sr?function(w,E){return sr(w,"toString",{configurable:!0,enumerable:!1,value:d$(E),writable:!0})}:C_;function U2(w,E){return w.slice()}function H2(w){var E=new w.constructor(w.byteLength);return new an(E).set(new an(w)),E}function W2(w,E){var $=H2(w.buffer);return new w.constructor($,w.byteOffset,w.length)}function q2(w,E){var $=-1,Z=w.length;for(E||(E=Array(Z));++$<Z;)E[$]=w[$];return E}function Z2(w,E,$,Z){var ge=!$;$||($={});for(var ze=-1,Ge=E.length;++ze<Ge;){var Se=E[ze],Ke=void 0;Ke===void 0&&(Ke=w[Se]),ge?Sm($,Se,Ke):j2($,Se,Ke)}return $}function G2(w){return B2(function(E,$){var Z=-1,ge=$.length,ze=ge>1?$[ge-1]:void 0,Ge=ge>2?$[2]:void 0;for(ze=w.length>3&&typeof ze=="function"?(ge--,ze):void 0,Ge&&Y2($[0],$[1],Ge)&&(ze=ge<3?void 0:ze,ge=1),E=Object(E);++Z<ge;){var Se=$[Z];Se&&w(E,Se,Z,ze)}return E})}function K2(w){return function(E,$,Z){for(var ge=-1,ze=Object(E),Ge=Z(E),Se=Ge.length;Se--;){var Ke=Ge[++ge];if($(ze[Ke],Ke,ze)===!1)break}return E}}function Jc(w,E){var $=w.__data__;return Q2(E)?$[typeof E=="string"?"string":"hash"]:$.map}function Cm(w,E){var $=Hc(w,E);return L2($)?$:void 0}function J2(w){var E=$r.call(w,ut),$=w[ut];try{w[ut]=void 0;var Z=!0}catch{}var ge=N.call(w);return Z&&(E?w[ut]=$:delete w[ut]),ge}function X2(w){return typeof w.constructor=="function"&&!w_(w)?h2(Nr(w)):{}}function b_(w,E){var $=typeof w;return E=E??a,!!E&&($=="number"||$!="symbol"&&Oe.test(w))&&w>-1&&w%1==0&&w<E}function Y2(w,E,$){if(!Is($))return!1;var Z=typeof E;return(Z=="number"?Am($)&&b_(E,$.length):Z=="string"&&E in $)?Xc($[E],w):!1}function Q2(w){var E=typeof w;return E=="string"||E=="number"||E=="symbol"||E=="boolean"?w!=="__proto__":w===null}function e$(w){return!!Zc&&Zc in w}function w_(w){var E=w&&w.constructor,$=typeof E=="function"&&E.prototype||Ca;return w===$}function t$(w){var E=[];if(w!=null)for(var $ in Object(w))E.push($);return E}function n$(w){return N.call(w)}function r$(w,E,$){return E=m_(E===void 0?w.length-1:E,0),function(){for(var Z=arguments,ge=-1,ze=m_(Z.length-E,0),Ge=Array(ze);++ge<ze;)Ge[ge]=Z[E+ge];ge=-1;for(var Se=Array(E+1);++ge<E;)Se[ge]=Z[ge];return Se[E]=$(Ge),_m(w,this,Se)}}function Tm(w,E){if(!(E==="constructor"&&typeof w[E]=="function")&&E!="__proto__")return w[E]}var i$=s$(V2);function s$(w){var E=0,$=0;return function(){var Z=f2(),ge=s-(Z-$);if($=Z,ge>0){if(++E>=i)return arguments[0]}else E=0;return w.apply(void 0,arguments)}}function a$(w){if(w!=null){try{return Ta.call(w)}catch{}try{return w+""}catch{}}return""}function Xc(w,E){return w===E||w!==w&&E!==E}var Pm=y_(function(){return arguments}())?y_:function(w){return sl(w)&&$r.call(w,"callee")&&!Ps.call(w,"callee")},Em=Array.isArray;function Am(w){return w!=null&&x_(w.length)&&!Im(w)}function o$(w){return sl(w)&&Am(w)}var __=ar||f$;function Im(w){if(!Is(w))return!1;var E=Kc(w);return E==h||E==p||E==u||E==v}function x_(w){return typeof w=="number"&&w>-1&&w%1==0&&w<=a}function Is(w){var E=typeof w;return w!=null&&(E=="object"||E=="function")}function sl(w){return w!=null&&typeof w=="object"}function l$(w){if(!sl(w)||Kc(w)!=g)return!1;var E=Nr(w);if(E===null)return!0;var $=$r.call(E,"constructor")&&E.constructor;return typeof $=="function"&&$ instanceof $&&Ta.call($)==V}var k_=Bc?Uc(Bc):z2;function u$(w){return Z2(w,S_(w))}function S_(w){return Am(w)?N2(w):D2(w)}var c$=G2(function(w,E,$,Z){v_(w,E,$,Z)});function d$(w){return function(){return w}}function C_(w){return w}function f$(){return!1}t.exports=c$})(ih,ih.exports);var nL=ih.exports;const Jn=ba(nL);var rL=t=>/!(important)?$/.test(t),Zx=t=>typeof t=="string"?t.replace(/!(important)?$/,"").trim():t,iL=(t,e)=>n=>{const r=String(e),i=rL(r),s=Zx(r),a=t?`${t}.${s}`:s;let o=Tr(n.__cssMap)&&a in n.__cssMap?n.__cssMap[a].varRef:e;return o=Zx(o),i?`${o} !important`:o};function Tb(t){const{scale:e,transform:n,compose:r}=t;return(s,a)=>{var o;const l=iL(e,s)(a);let u=(o=n==null?void 0:n(l,a))!=null?o:l;return r&&(u=r(u,a)),u}}var yd=(...t)=>e=>t.reduce((n,r)=>r(n),e);function Bn(t,e){return n=>{const r={property:n,scale:t};return r.transform=Tb({scale:t,transform:e}),r}}var sL=({rtl:t,ltr:e})=>n=>n.direction==="rtl"?t:e;function aL(t){const{property:e,scale:n,transform:r}=t;return{scale:n,property:sL(e),transform:n?Tb({scale:n,compose:r}):r}}var PE=["rotate(var(--chakra-rotate, 0))","scaleX(var(--chakra-scale-x, 1))","scaleY(var(--chakra-scale-y, 1))","skewX(var(--chakra-skew-x, 0))","skewY(var(--chakra-skew-y, 0))"];function oL(){return["translateX(var(--chakra-translate-x, 0))","translateY(var(--chakra-translate-y, 0))",...PE].join(" ")}function lL(){return["translate3d(var(--chakra-translate-x, 0), var(--chakra-translate-y, 0), 0)",...PE].join(" ")}var uL={"--chakra-blur":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-brightness":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-contrast":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-grayscale":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-hue-rotate":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-invert":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-saturate":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-sepia":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-drop-shadow":"var(--chakra-empty,/*!*/ /*!*/)",filter:["var(--chakra-blur)","var(--chakra-brightness)","var(--chakra-contrast)","var(--chakra-grayscale)","var(--chakra-hue-rotate)","var(--chakra-invert)","var(--chakra-saturate)","var(--chakra-sepia)","var(--chakra-drop-shadow)"].join(" ")},cL={backdropFilter:["var(--chakra-backdrop-blur)","var(--chakra-backdrop-brightness)","var(--chakra-backdrop-contrast)","var(--chakra-backdrop-grayscale)","var(--chakra-backdrop-hue-rotate)","var(--chakra-backdrop-invert)","var(--chakra-backdrop-opacity)","var(--chakra-backdrop-saturate)","var(--chakra-backdrop-sepia)"].join(" "),"--chakra-backdrop-blur":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-backdrop-brightness":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-backdrop-contrast":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-backdrop-grayscale":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-backdrop-hue-rotate":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-backdrop-invert":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-backdrop-opacity":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-backdrop-saturate":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-backdrop-sepia":"var(--chakra-empty,/*!*/ /*!*/)"};function dL(t){return{"--chakra-ring-offset-shadow":"var(--chakra-ring-inset) 0 0 0 var(--chakra-ring-offset-width) var(--chakra-ring-offset-color)","--chakra-ring-shadow":"var(--chakra-ring-inset) 0 0 0 calc(var(--chakra-ring-width) + var(--chakra-ring-offset-width)) var(--chakra-ring-color)","--chakra-ring-width":t,boxShadow:["var(--chakra-ring-offset-shadow)","var(--chakra-ring-shadow)","var(--chakra-shadow, 0 0 #0000)"].join(", ")}}var fL={"row-reverse":{space:"--chakra-space-x-reverse",divide:"--chakra-divide-x-reverse"},"column-reverse":{space:"--chakra-space-y-reverse",divide:"--chakra-divide-y-reverse"}},cv={"to-t":"to top","to-tr":"to top right","to-r":"to right","to-br":"to bottom right","to-b":"to bottom","to-bl":"to bottom left","to-l":"to left","to-tl":"to top left"},hL=new Set(Object.values(cv)),dv=new Set(["none","-moz-initial","inherit","initial","revert","unset"]),pL=t=>t.trim();function mL(t,e){if(t==null||dv.has(t))return t;if(!(fv(t)||dv.has(t)))return`url('${t}')`;const i=/(^[a-z-A-Z]+)\((.*)\)/g.exec(t),s=i==null?void 0:i[1],a=i==null?void 0:i[2];if(!s||!a)return t;const o=s.includes("-gradient")?s:`${s}-gradient`,[l,...u]=a.split(",").map(pL).filter(Boolean);if((u==null?void 0:u.length)===0)return t;const c=l in cv?cv[l]:l;u.unshift(c);const d=u.map(f=>{if(hL.has(f))return f;const h=f.indexOf(" "),[p,y]=h!==-1?[f.substr(0,h),f.substr(h+1)]:[f],b=fv(y)?y:y&&y.split(" "),m=`colors.${p}`,g=m in e.__cssMap?e.__cssMap[m].varRef:p;return b?[g,...Array.isArray(b)?b:[b]].join(" "):g});return`${o}(${d.join(", ")})`}var fv=t=>typeof t=="string"&&t.includes("(")&&t.includes(")"),gL=(t,e)=>mL(t,e??{});function yL(t){return/^var\(--.+\)$/.test(t)}var vL=t=>{const e=parseFloat(t.toString()),n=t.toString().replace(String(e),"");return{unitless:!n,value:e,unit:n}},Mr=t=>e=>`${t}(${e})`,pe={filter(t){return t!=="auto"?t:uL},backdropFilter(t){return t!=="auto"?t:cL},ring(t){return dL(pe.px(t))},bgClip(t){return t==="text"?{color:"transparent",backgroundClip:"text"}:{backgroundClip:t}},transform(t){return t==="auto"?oL():t==="auto-gpu"?lL():t},vh(t){return t==="$100vh"?"var(--chakra-vh)":t},px(t){if(t==null)return t;const{unitless:e}=vL(t);return e||typeof t=="number"?`${t}px`:t},fraction(t){return typeof t!="number"||t>1?t:`${t*100}%`},float(t,e){const n={left:"right",right:"left"};return e.direction==="rtl"?n[t]:t},degree(t){if(yL(t)||t==null)return t;const e=typeof t=="string"&&!t.endsWith("deg");return typeof t=="number"||e?`${t}deg`:t},gradient:gL,blur:Mr("blur"),opacity:Mr("opacity"),brightness:Mr("brightness"),contrast:Mr("contrast"),dropShadow:Mr("drop-shadow"),grayscale:Mr("grayscale"),hueRotate:t=>Mr("hue-rotate")(pe.degree(t)),invert:Mr("invert"),saturate:Mr("saturate"),sepia:Mr("sepia"),bgImage(t){return t==null||fv(t)||dv.has(t)?t:`url(${t})`},outline(t){const e=String(t)==="0"||String(t)==="none";return t!==null&&e?{outline:"2px solid transparent",outlineOffset:"2px"}:{outline:t}},flexDirection(t){var e;const{space:n,divide:r}=(e=fL[t])!=null?e:{},i={flexDirection:t};return n&&(i[n]=1),r&&(i[r]=1),i}},P={borderWidths:Bn("borderWidths"),borderStyles:Bn("borderStyles"),colors:Bn("colors"),borders:Bn("borders"),gradients:Bn("gradients",pe.gradient),radii:Bn("radii",pe.px),space:Bn("space",yd(pe.vh,pe.px)),spaceT:Bn("space",yd(pe.vh,pe.px)),degreeT(t){return{property:t,transform:pe.degree}},prop(t,e,n){return{property:t,scale:e,...e&&{transform:Tb({scale:e,transform:n})}}},propT(t,e){return{property:t,transform:e}},sizes:Bn("sizes",yd(pe.vh,pe.px)),sizesT:Bn("sizes",yd(pe.vh,pe.fraction)),shadows:Bn("shadows"),logical:aL,blur:Bn("blur",pe.blur)},ef={background:P.colors("background"),backgroundColor:P.colors("backgroundColor"),backgroundImage:P.gradients("backgroundImage"),backgroundSize:!0,backgroundPosition:!0,backgroundRepeat:!0,backgroundAttachment:!0,backgroundClip:{transform:pe.bgClip},bgSize:P.prop("backgroundSize"),bgPosition:P.prop("backgroundPosition"),bg:P.colors("background"),bgColor:P.colors("backgroundColor"),bgPos:P.prop("backgroundPosition"),bgRepeat:P.prop("backgroundRepeat"),bgAttachment:P.prop("backgroundAttachment"),bgGradient:P.gradients("backgroundImage"),bgClip:{transform:pe.bgClip}};Object.assign(ef,{bgImage:ef.backgroundImage,bgImg:ef.backgroundImage});var Ce={border:P.borders("border"),borderWidth:P.borderWidths("borderWidth"),borderStyle:P.borderStyles("borderStyle"),borderColor:P.colors("borderColor"),borderRadius:P.radii("borderRadius"),borderTop:P.borders("borderTop"),borderBlockStart:P.borders("borderBlockStart"),borderTopLeftRadius:P.radii("borderTopLeftRadius"),borderStartStartRadius:P.logical({scale:"radii",property:{ltr:"borderTopLeftRadius",rtl:"borderTopRightRadius"}}),borderEndStartRadius:P.logical({scale:"radii",property:{ltr:"borderBottomLeftRadius",rtl:"borderBottomRightRadius"}}),borderTopRightRadius:P.radii("borderTopRightRadius"),borderStartEndRadius:P.logical({scale:"radii",property:{ltr:"borderTopRightRadius",rtl:"borderTopLeftRadius"}}),borderEndEndRadius:P.logical({scale:"radii",property:{ltr:"borderBottomRightRadius",rtl:"borderBottomLeftRadius"}}),borderRight:P.borders("borderRight"),borderInlineEnd:P.borders("borderInlineEnd"),borderBottom:P.borders("borderBottom"),borderBlockEnd:P.borders("borderBlockEnd"),borderBottomLeftRadius:P.radii("borderBottomLeftRadius"),borderBottomRightRadius:P.radii("borderBottomRightRadius"),borderLeft:P.borders("borderLeft"),borderInlineStart:{property:"borderInlineStart",scale:"borders"},borderInlineStartRadius:P.logical({scale:"radii",property:{ltr:["borderTopLeftRadius","borderBottomLeftRadius"],rtl:["borderTopRightRadius","borderBottomRightRadius"]}}),borderInlineEndRadius:P.logical({scale:"radii",property:{ltr:["borderTopRightRadius","borderBottomRightRadius"],rtl:["borderTopLeftRadius","borderBottomLeftRadius"]}}),borderX:P.borders(["borderLeft","borderRight"]),borderInline:P.borders("borderInline"),borderY:P.borders(["borderTop","borderBottom"]),borderBlock:P.borders("borderBlock"),borderTopWidth:P.borderWidths("borderTopWidth"),borderBlockStartWidth:P.borderWidths("borderBlockStartWidth"),borderTopColor:P.colors("borderTopColor"),borderBlockStartColor:P.colors("borderBlockStartColor"),borderTopStyle:P.borderStyles("borderTopStyle"),borderBlockStartStyle:P.borderStyles("borderBlockStartStyle"),borderBottomWidth:P.borderWidths("borderBottomWidth"),borderBlockEndWidth:P.borderWidths("borderBlockEndWidth"),borderBottomColor:P.colors("borderBottomColor"),borderBlockEndColor:P.colors("borderBlockEndColor"),borderBottomStyle:P.borderStyles("borderBottomStyle"),borderBlockEndStyle:P.borderStyles("borderBlockEndStyle"),borderLeftWidth:P.borderWidths("borderLeftWidth"),borderInlineStartWidth:P.borderWidths("borderInlineStartWidth"),borderLeftColor:P.colors("borderLeftColor"),borderInlineStartColor:P.colors("borderInlineStartColor"),borderLeftStyle:P.borderStyles("borderLeftStyle"),borderInlineStartStyle:P.borderStyles("borderInlineStartStyle"),borderRightWidth:P.borderWidths("borderRightWidth"),borderInlineEndWidth:P.borderWidths("borderInlineEndWidth"),borderRightColor:P.colors("borderRightColor"),borderInlineEndColor:P.colors("borderInlineEndColor"),borderRightStyle:P.borderStyles("borderRightStyle"),borderInlineEndStyle:P.borderStyles("borderInlineEndStyle"),borderTopRadius:P.radii(["borderTopLeftRadius","borderTopRightRadius"]),borderBottomRadius:P.radii(["borderBottomLeftRadius","borderBottomRightRadius"]),borderLeftRadius:P.radii(["borderTopLeftRadius","borderBottomLeftRadius"]),borderRightRadius:P.radii(["borderTopRightRadius","borderBottomRightRadius"])};Object.assign(Ce,{rounded:Ce.borderRadius,roundedTop:Ce.borderTopRadius,roundedTopLeft:Ce.borderTopLeftRadius,roundedTopRight:Ce.borderTopRightRadius,roundedTopStart:Ce.borderStartStartRadius,roundedTopEnd:Ce.borderStartEndRadius,roundedBottom:Ce.borderBottomRadius,roundedBottomLeft:Ce.borderBottomLeftRadius,roundedBottomRight:Ce.borderBottomRightRadius,roundedBottomStart:Ce.borderEndStartRadius,roundedBottomEnd:Ce.borderEndEndRadius,roundedLeft:Ce.borderLeftRadius,roundedRight:Ce.borderRightRadius,roundedStart:Ce.borderInlineStartRadius,roundedEnd:Ce.borderInlineEndRadius,borderStart:Ce.borderInlineStart,borderEnd:Ce.borderInlineEnd,borderTopStartRadius:Ce.borderStartStartRadius,borderTopEndRadius:Ce.borderStartEndRadius,borderBottomStartRadius:Ce.borderEndStartRadius,borderBottomEndRadius:Ce.borderEndEndRadius,borderStartRadius:Ce.borderInlineStartRadius,borderEndRadius:Ce.borderInlineEndRadius,borderStartWidth:Ce.borderInlineStartWidth,borderEndWidth:Ce.borderInlineEndWidth,borderStartColor:Ce.borderInlineStartColor,borderEndColor:Ce.borderInlineEndColor,borderStartStyle:Ce.borderInlineStartStyle,borderEndStyle:Ce.borderInlineEndStyle});var bL={color:P.colors("color"),textColor:P.colors("color"),fill:P.colors("fill"),stroke:P.colors("stroke")},hv={boxShadow:P.shadows("boxShadow"),mixBlendMode:!0,blendMode:P.prop("mixBlendMode"),backgroundBlendMode:!0,bgBlendMode:P.prop("backgroundBlendMode"),opacity:!0};Object.assign(hv,{shadow:hv.boxShadow});var wL={filter:{transform:pe.filter},blur:P.blur("--chakra-blur"),brightness:P.propT("--chakra-brightness",pe.brightness),contrast:P.propT("--chakra-contrast",pe.contrast),hueRotate:P.propT("--chakra-hue-rotate",pe.hueRotate),invert:P.propT("--chakra-invert",pe.invert),saturate:P.propT("--chakra-saturate",pe.saturate),dropShadow:P.propT("--chakra-drop-shadow",pe.dropShadow),backdropFilter:{transform:pe.backdropFilter},backdropBlur:P.blur("--chakra-backdrop-blur"),backdropBrightness:P.propT("--chakra-backdrop-brightness",pe.brightness),backdropContrast:P.propT("--chakra-backdrop-contrast",pe.contrast),backdropHueRotate:P.propT("--chakra-backdrop-hue-rotate",pe.hueRotate),backdropInvert:P.propT("--chakra-backdrop-invert",pe.invert),backdropSaturate:P.propT("--chakra-backdrop-saturate",pe.saturate)},sh={alignItems:!0,alignContent:!0,justifyItems:!0,justifyContent:!0,flexWrap:!0,flexDirection:{transform:pe.flexDirection},flex:!0,flexFlow:!0,flexGrow:!0,flexShrink:!0,flexBasis:P.sizes("flexBasis"),justifySelf:!0,alignSelf:!0,order:!0,placeItems:!0,placeContent:!0,placeSelf:!0,gap:P.space("gap"),rowGap:P.space("rowGap"),columnGap:P.space("columnGap")};Object.assign(sh,{flexDir:sh.flexDirection});var EE={gridGap:P.space("gridGap"),gridColumnGap:P.space("gridColumnGap"),gridRowGap:P.space("gridRowGap"),gridColumn:!0,gridRow:!0,gridAutoFlow:!0,gridAutoColumns:!0,gridColumnStart:!0,gridColumnEnd:!0,gridRowStart:!0,gridRowEnd:!0,gridAutoRows:!0,gridTemplate:!0,gridTemplateColumns:!0,gridTemplateRows:!0,gridTemplateAreas:!0,gridArea:!0},_L={appearance:!0,cursor:!0,resize:!0,userSelect:!0,pointerEvents:!0,outline:{transform:pe.outline},outlineOffset:!0,outlineColor:P.colors("outlineColor")},Un={width:P.sizesT("width"),inlineSize:P.sizesT("inlineSize"),height:P.sizes("height"),blockSize:P.sizes("blockSize"),boxSize:P.sizes(["width","height"]),minWidth:P.sizes("minWidth"),minInlineSize:P.sizes("minInlineSize"),minHeight:P.sizes("minHeight"),minBlockSize:P.sizes("minBlockSize"),maxWidth:P.sizes("maxWidth"),maxInlineSize:P.sizes("maxInlineSize"),maxHeight:P.sizes("maxHeight"),maxBlockSize:P.sizes("maxBlockSize"),overflow:!0,overflowX:!0,overflowY:!0,overscrollBehavior:!0,overscrollBehaviorX:!0,overscrollBehaviorY:!0,display:!0,aspectRatio:!0,hideFrom:{scale:"breakpoints",transform:(t,e)=>{var n,r,i;return{[`@media screen and (min-width: ${(i=(r=(n=e.__breakpoints)==null?void 0:n.get(t))==null?void 0:r.minW)!=null?i:t})`]:{display:"none"}}}},hideBelow:{scale:"breakpoints",transform:(t,e)=>{var n,r,i;return{[`@media screen and (max-width: ${(i=(r=(n=e.__breakpoints)==null?void 0:n.get(t))==null?void 0:r._minW)!=null?i:t})`]:{display:"none"}}}},verticalAlign:!0,boxSizing:!0,boxDecorationBreak:!0,float:P.propT("float",pe.float),objectFit:!0,objectPosition:!0,visibility:!0,isolation:!0};Object.assign(Un,{w:Un.width,h:Un.height,minW:Un.minWidth,maxW:Un.maxWidth,minH:Un.minHeight,maxH:Un.maxHeight,overscroll:Un.overscrollBehavior,overscrollX:Un.overscrollBehaviorX,overscrollY:Un.overscrollBehaviorY});var xL={listStyleType:!0,listStylePosition:!0,listStylePos:P.prop("listStylePosition"),listStyleImage:!0,listStyleImg:P.prop("listStyleImage")};function kL(t,e,n,r){const i=typeof e=="string"?e.split("."):[e];for(r=0;r<i.length&&t;r+=1)t=t[i[r]];return t===void 0?n:t}var SL=t=>{const e=new WeakMap;return(r,i,s,a)=>{if(typeof r>"u")return t(r,i,s);e.has(r)||e.set(r,new Map);const o=e.get(r);if(o.has(i))return o.get(i);const l=t(r,i,s,a);return o.set(i,l),l}},CL=SL(kL),TL={border:"0px",clip:"rect(0, 0, 0, 0)",width:"1px",height:"1px",margin:"-1px",padding:"0px",overflow:"hidden",whiteSpace:"nowrap",position:"absolute"},PL={position:"static",width:"auto",height:"auto",clip:"auto",padding:"0",margin:"0",overflow:"visible",whiteSpace:"normal"},og=(t,e,n)=>{const r={},i=CL(t,e,{});for(const s in i)s in n&&n[s]!=null||(r[s]=i[s]);return r},EL={srOnly:{transform(t){return t===!0?TL:t==="focusable"?PL:{}}},layerStyle:{processResult:!0,transform:(t,e,n)=>og(e,`layerStyles.${t}`,n)},textStyle:{processResult:!0,transform:(t,e,n)=>og(e,`textStyles.${t}`,n)},apply:{processResult:!0,transform:(t,e,n)=>og(e,t,n)}},nu={position:!0,pos:P.prop("position"),zIndex:P.prop("zIndex","zIndices"),inset:P.spaceT("inset"),insetX:P.spaceT(["left","right"]),insetInline:P.spaceT("insetInline"),insetY:P.spaceT(["top","bottom"]),insetBlock:P.spaceT("insetBlock"),top:P.spaceT("top"),insetBlockStart:P.spaceT("insetBlockStart"),bottom:P.spaceT("bottom"),insetBlockEnd:P.spaceT("insetBlockEnd"),left:P.spaceT("left"),insetInlineStart:P.logical({scale:"space",property:{ltr:"left",rtl:"right"}}),right:P.spaceT("right"),insetInlineEnd:P.logical({scale:"space",property:{ltr:"right",rtl:"left"}})};Object.assign(nu,{insetStart:nu.insetInlineStart,insetEnd:nu.insetInlineEnd});var AL={ring:{transform:pe.ring},ringColor:P.colors("--chakra-ring-color"),ringOffset:P.prop("--chakra-ring-offset-width"),ringOffsetColor:P.colors("--chakra-ring-offset-color"),ringInset:P.prop("--chakra-ring-inset")},qe={margin:P.spaceT("margin"),marginTop:P.spaceT("marginTop"),marginBlockStart:P.spaceT("marginBlockStart"),marginRight:P.spaceT("marginRight"),marginInlineEnd:P.spaceT("marginInlineEnd"),marginBottom:P.spaceT("marginBottom"),marginBlockEnd:P.spaceT("marginBlockEnd"),marginLeft:P.spaceT("marginLeft"),marginInlineStart:P.spaceT("marginInlineStart"),marginX:P.spaceT(["marginInlineStart","marginInlineEnd"]),marginInline:P.spaceT("marginInline"),marginY:P.spaceT(["marginTop","marginBottom"]),marginBlock:P.spaceT("marginBlock"),padding:P.space("padding"),paddingTop:P.space("paddingTop"),paddingBlockStart:P.space("paddingBlockStart"),paddingRight:P.space("paddingRight"),paddingBottom:P.space("paddingBottom"),paddingBlockEnd:P.space("paddingBlockEnd"),paddingLeft:P.space("paddingLeft"),paddingInlineStart:P.space("paddingInlineStart"),paddingInlineEnd:P.space("paddingInlineEnd"),paddingX:P.space(["paddingInlineStart","paddingInlineEnd"]),paddingInline:P.space("paddingInline"),paddingY:P.space(["paddingTop","paddingBottom"]),paddingBlock:P.space("paddingBlock")};Object.assign(qe,{m:qe.margin,mt:qe.marginTop,mr:qe.marginRight,me:qe.marginInlineEnd,marginEnd:qe.marginInlineEnd,mb:qe.marginBottom,ml:qe.marginLeft,ms:qe.marginInlineStart,marginStart:qe.marginInlineStart,mx:qe.marginX,my:qe.marginY,p:qe.padding,pt:qe.paddingTop,py:qe.paddingY,px:qe.paddingX,pb:qe.paddingBottom,pl:qe.paddingLeft,ps:qe.paddingInlineStart,paddingStart:qe.paddingInlineStart,pr:qe.paddingRight,pe:qe.paddingInlineEnd,paddingEnd:qe.paddingInlineEnd});var IL={textDecorationColor:P.colors("textDecorationColor"),textDecoration:!0,textDecor:{property:"textDecoration"},textDecorationLine:!0,textDecorationStyle:!0,textDecorationThickness:!0,textUnderlineOffset:!0,textShadow:P.shadows("textShadow")},OL={clipPath:!0,transform:P.propT("transform",pe.transform),transformOrigin:!0,translateX:P.spaceT("--chakra-translate-x"),translateY:P.spaceT("--chakra-translate-y"),skewX:P.degreeT("--chakra-skew-x"),skewY:P.degreeT("--chakra-skew-y"),scaleX:P.prop("--chakra-scale-x"),scaleY:P.prop("--chakra-scale-y"),scale:P.prop(["--chakra-scale-x","--chakra-scale-y"]),rotate:P.degreeT("--chakra-rotate")},RL={transition:!0,transitionDelay:!0,animation:!0,willChange:!0,transitionDuration:P.prop("transitionDuration","transition.duration"),transitionProperty:P.prop("transitionProperty","transition.property"),transitionTimingFunction:P.prop("transitionTimingFunction","transition.easing")},$L={fontFamily:P.prop("fontFamily","fonts"),fontSize:P.prop("fontSize","fontSizes",pe.px),fontWeight:P.prop("fontWeight","fontWeights"),lineHeight:P.prop("lineHeight","lineHeights"),letterSpacing:P.prop("letterSpacing","letterSpacings"),textAlign:!0,fontStyle:!0,textIndent:!0,wordBreak:!0,overflowWrap:!0,textOverflow:!0,textTransform:!0,whiteSpace:!0,isTruncated:{transform(t){if(t===!0)return{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"}}},noOfLines:{static:{overflow:"hidden",textOverflow:"ellipsis",display:"-webkit-box",WebkitBoxOrient:"vertical",WebkitLineClamp:"var(--chakra-line-clamp)"},property:"--chakra-line-clamp"}},NL={scrollBehavior:!0,scrollSnapAlign:!0,scrollSnapStop:!0,scrollSnapType:!0,scrollMargin:P.spaceT("scrollMargin"),scrollMarginTop:P.spaceT("scrollMarginTop"),scrollMarginBottom:P.spaceT("scrollMarginBottom"),scrollMarginLeft:P.spaceT("scrollMarginLeft"),scrollMarginRight:P.spaceT("scrollMarginRight"),scrollMarginX:P.spaceT(["scrollMarginLeft","scrollMarginRight"]),scrollMarginY:P.spaceT(["scrollMarginTop","scrollMarginBottom"]),scrollPadding:P.spaceT("scrollPadding"),scrollPaddingTop:P.spaceT("scrollPaddingTop"),scrollPaddingBottom:P.spaceT("scrollPaddingBottom"),scrollPaddingLeft:P.spaceT("scrollPaddingLeft"),scrollPaddingRight:P.spaceT("scrollPaddingRight"),scrollPaddingX:P.spaceT(["scrollPaddingLeft","scrollPaddingRight"]),scrollPaddingY:P.spaceT(["scrollPaddingTop","scrollPaddingBottom"])};function AE(t){return Tr(t)&&t.reference?t.reference:String(t)}var Up=(t,...e)=>e.map(AE).join(` ${t} `).replace(/calc/g,""),Gx=(...t)=>`calc(${Up("+",...t)})`,Kx=(...t)=>`calc(${Up("-",...t)})`,pv=(...t)=>`calc(${Up("*",...t)})`,Jx=(...t)=>`calc(${Up("/",...t)})`,Xx=t=>{const e=AE(t);return e!=null&&!Number.isNaN(parseFloat(e))?String(e).startsWith("-")?String(e).slice(1):`-${e}`:pv(e,-1)},Ds=Object.assign(t=>({add:(...e)=>Ds(Gx(t,...e)),subtract:(...e)=>Ds(Kx(t,...e)),multiply:(...e)=>Ds(pv(t,...e)),divide:(...e)=>Ds(Jx(t,...e)),negate:()=>Ds(Xx(t)),toString:()=>t.toString()}),{add:Gx,subtract:Kx,multiply:pv,divide:Jx,negate:Xx});function jL(t,e="-"){return t.replace(/\s+/g,e)}function ML(t){const e=jL(t.toString());return zL(LL(e))}function LL(t){return t.includes("\\.")?t:!Number.isInteger(parseFloat(t.toString()))?t.replace(".","\\."):t}function zL(t){return t.replace(/[!-,/:-@[-^`{-~]/g,"\\$&")}function DL(t,e=""){return[e,t].filter(Boolean).join("-")}function FL(t,e){return`var(${t}${e?`, ${e}`:""})`}function BL(t,e=""){return ML(`--${DL(t,e)}`)}function ee(t,e,n){const r=BL(t,n);return{variable:r,reference:FL(r,e)}}function VL(t,e){const n={};for(const r of e){if(Array.isArray(r)){const[i,s]=r;n[i]=ee(`${t}-${i}`,s);continue}n[r]=ee(`${t}-${r}`)}return n}function UL(t){const e=t==null?0:t.length;return e?t[e-1]:void 0}function HL(t){const e=parseFloat(t.toString()),n=t.toString().replace(String(e),"");return{unitless:!n,value:e,unit:n}}function mv(t){if(t==null)return t;const{unitless:e}=HL(t);return e||typeof t=="number"?`${t}px`:t}var IE=(t,e)=>parseInt(t[1],10)>parseInt(e[1],10)?1:-1,Pb=t=>Object.fromEntries(Object.entries(t).sort(IE));function Yx(t){const e=Pb(t);return Object.assign(Object.values(e),e)}function WL(t){const e=Object.keys(Pb(t));return new Set(e)}function Qx(t){var e;if(!t)return t;t=(e=mv(t))!=null?e:t;const n=-.02;return typeof t=="number"?`${t+n}`:t.replace(/(\d+\.?\d*)/u,r=>`${parseFloat(r)+n}`)}function Tl(t,e){const n=["@media screen"];return t&&n.push("and",`(min-width: ${mv(t)})`),e&&n.push("and",`(max-width: ${mv(e)})`),n.join(" ")}function qL(t){var e;if(!t)return null;t.base=(e=t.base)!=null?e:"0px";const n=Yx(t),r=Object.entries(t).sort(IE).map(([a,o],l,u)=>{var c;let[,d]=(c=u[l+1])!=null?c:[];return d=parseFloat(d)>0?Qx(d):void 0,{_minW:Qx(o),breakpoint:a,minW:o,maxW:d,maxWQuery:Tl(null,d),minWQuery:Tl(o),minMaxQuery:Tl(o,d)}}),i=WL(t),s=Array.from(i.values());return{keys:i,normalized:n,isResponsive(a){const o=Object.keys(a);return o.length>0&&o.every(l=>i.has(l))},asObject:Pb(t),asArray:Yx(t),details:r,get(a){return r.find(o=>o.breakpoint===a)},media:[null,...n.map(a=>Tl(a)).slice(1)],toArrayValue(a){if(!Tr(a))throw new Error("toArrayValue: value must be an object");const o=s.map(l=>{var u;return(u=a[l])!=null?u:null});for(;UL(o)===null;)o.pop();return o},toObjectValue(a){if(!Array.isArray(a))throw new Error("toObjectValue: value must be an array");return a.reduce((o,l,u)=>{const c=s[u];return c!=null&&l!=null&&(o[c]=l),o},{})}}}var Ct={hover:(t,e)=>`${t}:hover ${e}, ${t}[data-hover] ${e}`,focus:(t,e)=>`${t}:focus ${e}, ${t}[data-focus] ${e}`,focusVisible:(t,e)=>`${t}:focus-visible ${e}`,focusWithin:(t,e)=>`${t}:focus-within ${e}`,active:(t,e)=>`${t}:active ${e}, ${t}[data-active] ${e}`,disabled:(t,e)=>`${t}:disabled ${e}, ${t}[data-disabled] ${e}`,invalid:(t,e)=>`${t}:invalid ${e}, ${t}[data-invalid] ${e}`,checked:(t,e)=>`${t}:checked ${e}, ${t}[data-checked] ${e}`,indeterminate:(t,e)=>`${t}:indeterminate ${e}, ${t}[aria-checked=mixed] ${e}, ${t}[data-indeterminate] ${e}`,readOnly:(t,e)=>`${t}:read-only ${e}, ${t}[readonly] ${e}, ${t}[data-read-only] ${e}`,expanded:(t,e)=>`${t}:read-only ${e}, ${t}[aria-expanded=true] ${e}, ${t}[data-expanded] ${e}`,placeholderShown:(t,e)=>`${t}:placeholder-shown ${e}`},zi=t=>OE(e=>t(e,"&"),"[role=group]","[data-group]",".group"),li=t=>OE(e=>t(e,"~ &"),"[data-peer]",".peer"),OE=(t,...e)=>e.map(t).join(", "),Hp={_hover:"&:hover, &[data-hover]",_active:"&:active, &[data-active]",_focus:"&:focus, &[data-focus]",_highlighted:"&[data-highlighted]",_focusWithin:"&:focus-within",_focusVisible:"&:focus-visible, &[data-focus-visible]",_disabled:"&:disabled, &[disabled], &[aria-disabled=true], &[data-disabled]",_readOnly:"&[aria-readonly=true], &[readonly], &[data-readonly]",_before:"&::before",_after:"&::after",_empty:"&:empty",_expanded:"&[aria-expanded=true], &[data-expanded]",_checked:"&[aria-checked=true], &[data-checked]",_grabbed:"&[aria-grabbed=true], &[data-grabbed]",_pressed:"&[aria-pressed=true], &[data-pressed]",_invalid:"&[aria-invalid=true], &[data-invalid]",_valid:"&[data-valid], &[data-state=valid]",_loading:"&[data-loading], &[aria-busy=true]",_selected:"&[aria-selected=true], &[data-selected]",_hidden:"&[hidden], &[data-hidden]",_autofill:"&:-webkit-autofill",_even:"&:nth-of-type(even)",_odd:"&:nth-of-type(odd)",_first:"&:first-of-type",_firstLetter:"&::first-letter",_last:"&:last-of-type",_notFirst:"&:not(:first-of-type)",_notLast:"&:not(:last-of-type)",_visited:"&:visited",_activeLink:"&[aria-current=page]",_activeStep:"&[aria-current=step]",_indeterminate:"&:indeterminate, &[aria-checked=mixed], &[data-indeterminate]",_groupHover:zi(Ct.hover),_peerHover:li(Ct.hover),_groupFocus:zi(Ct.focus),_peerFocus:li(Ct.focus),_groupFocusVisible:zi(Ct.focusVisible),_peerFocusVisible:li(Ct.focusVisible),_groupActive:zi(Ct.active),_peerActive:li(Ct.active),_groupDisabled:zi(Ct.disabled),_peerDisabled:li(Ct.disabled),_groupInvalid:zi(Ct.invalid),_peerInvalid:li(Ct.invalid),_groupChecked:zi(Ct.checked),_peerChecked:li(Ct.checked),_groupFocusWithin:zi(Ct.focusWithin),_peerFocusWithin:li(Ct.focusWithin),_peerPlaceholderShown:li(Ct.placeholderShown),_placeholder:"&::placeholder",_placeholderShown:"&:placeholder-shown",_fullScreen:"&:fullscreen",_selection:"&::selection",_rtl:"[dir=rtl] &, &[dir=rtl]",_ltr:"[dir=ltr] &, &[dir=ltr]",_mediaDark:"@media (prefers-color-scheme: dark)",_mediaReduceMotion:"@media (prefers-reduced-motion: reduce)",_dark:".chakra-ui-dark &:not([data-theme]),[data-theme=dark] &:not([data-theme]),&[data-theme=dark]",_light:".chakra-ui-light &:not([data-theme]),[data-theme=light] &:not([data-theme]),&[data-theme=light]",_horizontal:"&[data-orientation=horizontal]",_vertical:"&[data-orientation=vertical]"},RE=Object.keys(Hp);function e1(t,e){return ee(String(t).replace(/\./g,"-"),void 0,e)}function ZL(t,e){let n={};const r={};for(const[i,s]of Object.entries(t)){const{isSemantic:a,value:o}=s,{variable:l,reference:u}=e1(i,e==null?void 0:e.cssVarPrefix);if(!a){if(i.startsWith("space")){const f=i.split("."),[h,...p]=f,y=`${h}.-${p.join(".")}`,b=Ds.negate(o),m=Ds.negate(u);r[y]={value:b,var:l,varRef:m}}n[l]=o,r[i]={value:o,var:l,varRef:u};continue}const c=f=>{const p=[String(i).split(".")[0],f].join(".");if(!t[p])return f;const{reference:b}=e1(p,e==null?void 0:e.cssVarPrefix);return b},d=Tr(o)?o:{default:o};n=Jn(n,Object.entries(d).reduce((f,[h,p])=>{var y,b;if(!p)return f;const m=c(`${p}`);if(h==="default")return f[l]=m,f;const g=(b=(y=Hp)==null?void 0:y[h])!=null?b:h;return f[g]={[l]:m},f},{})),r[i]={value:u,var:l,varRef:u}}return{cssVars:n,cssMap:r}}function GL(t,e=[]){const n=Object.assign({},t);for(const r of e)r in n&&delete n[r];return n}function KL(t,e){const n={};for(const r of e)r in t&&(n[r]=t[r]);return n}function JL(t){return typeof t=="object"&&t!=null&&!Array.isArray(t)}function t1(t,e,n={}){const{stop:r,getKey:i}=n;function s(a,o=[]){var l;if(JL(a)||Array.isArray(a)){const u={};for(const[c,d]of Object.entries(a)){const f=(l=i==null?void 0:i(c))!=null?l:c,h=[...o,f];if(r!=null&&r(a,h))return e(a,o);u[f]=s(d,h)}return u}return e(a,o)}return s(t)}var XL=["colors","borders","borderWidths","borderStyles","fonts","fontSizes","fontWeights","gradients","letterSpacings","lineHeights","radii","space","shadows","sizes","zIndices","transition","blur","breakpoints"];function YL(t){return KL(t,XL)}function QL(t){return t.semanticTokens}function ez(t){const{__cssMap:e,__cssVars:n,__breakpoints:r,...i}=t;return i}var tz=t=>RE.includes(t)||t==="default";function nz({tokens:t,semanticTokens:e}){const n={};return t1(t,(r,i)=>{r!=null&&(n[i.join(".")]={isSemantic:!1,value:r})}),t1(e,(r,i)=>{r!=null&&(n[i.join(".")]={isSemantic:!0,value:r})},{stop:r=>Object.keys(r).every(tz)}),n}function rz(t){var e;const n=ez(t),r=YL(n),i=QL(n),s=nz({tokens:r,semanticTokens:i}),a=(e=n.config)==null?void 0:e.cssVarPrefix,{cssMap:o,cssVars:l}=ZL(s,{cssVarPrefix:a});return Object.assign(n,{__cssVars:{...{"--chakra-ring-inset":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-ring-offset-width":"0px","--chakra-ring-offset-color":"#fff","--chakra-ring-color":"rgba(66, 153, 225, 0.6)","--chakra-ring-offset-shadow":"0 0 #0000","--chakra-ring-shadow":"0 0 #0000","--chakra-space-x-reverse":"0","--chakra-space-y-reverse":"0"},...l},__cssMap:o,__breakpoints:qL(n.breakpoints)}),n}var Eb=Jn({},ef,Ce,bL,sh,Un,wL,AL,_L,EE,EL,nu,hv,qe,NL,$L,IL,OL,xL,RL);Object.assign({},qe,Un,sh,EE,nu);var iz=[...Object.keys(Eb),...RE],sz={...Eb,...Hp},az=t=>t in sz,oz=t=>e=>{if(!e.__breakpoints)return t;const{isResponsive:n,toArrayValue:r,media:i}=e.__breakpoints,s={};for(const a in t){let o=ns(t[a],e);if(o==null)continue;if(o=Tr(o)&&n(o)?r(o):o,!Array.isArray(o)){s[a]=o;continue}const l=o.slice(0,i.length).length;for(let u=0;u<l;u+=1){const c=i==null?void 0:i[u];if(!c){s[a]=o[u];continue}s[c]=s[c]||{},o[u]!=null&&(s[c][a]=o[u])}}return s};function lz(t){const e=[];let n="",r=!1;for(let i=0;i<t.length;i++){const s=t[i];s==="("?(r=!0,n+=s):s===")"?(r=!1,n+=s):s===","&&!r?(e.push(n),n=""):n+=s}return n=n.trim(),n&&e.push(n),e}function uz(t){return/^var\(--.+\)$/.test(t)}var cz=(t,e)=>t.startsWith("--")&&typeof e=="string"&&!uz(e),dz=(t,e)=>{var n,r;if(e==null)return e;const i=l=>{var u,c;return(c=(u=t.__cssMap)==null?void 0:u[l])==null?void 0:c.varRef},s=l=>{var u;return(u=i(l))!=null?u:l},[a,o]=lz(e);return e=(r=(n=i(a))!=null?n:s(o))!=null?r:s(e),e};function fz(t){const{configs:e={},pseudos:n={},theme:r}=t,i=(s,a=!1)=>{var o,l,u;const c=ns(s,r),d=oz(c)(r);let f={};for(let h in d){const p=d[h];let y=ns(p,r);h in n&&(h=n[h]),cz(h,y)&&(y=dz(r,y));let b=e[h];if(b===!0&&(b={property:h}),Tr(y)){f[h]=(o=f[h])!=null?o:{},f[h]=Jn({},f[h],i(y,!0));continue}let m=(u=(l=b==null?void 0:b.transform)==null?void 0:l.call(b,y,r,c))!=null?u:y;m=b!=null&&b.processResult?i(m,!0):m;const g=ns(b==null?void 0:b.property,r);if(!a&&(b!=null&&b.static)){const v=ns(b.static,r);f=Jn({},f,v)}if(g&&Array.isArray(g)){for(const v of g)f[v]=m;continue}if(g){g==="&"&&Tr(m)?f=Jn({},f,m):f[g]=m;continue}if(Tr(m)){f=Jn({},f,m);continue}f[h]=m}return f};return i}var $E=t=>e=>fz({theme:e,pseudos:Hp,configs:Eb})(t);function He(t){return{definePartsStyle(e){return e},defineMultiStyleConfig(e){return{parts:t,...e}}}}function hz(t,e){if(Array.isArray(t))return t;if(Tr(t))return e(t);if(t!=null)return[t]}function pz(t,e){for(let n=e+1;n<t.length;n++)if(t[n]!=null)return n;return-1}function mz(t){const e=t.__breakpoints;return function(r,i,s,a){var o,l;if(!e)return;const u={},c=hz(s,e.toArrayValue);if(!c)return u;const d=c.length,f=d===1,h=!!r.parts;for(let p=0;p<d;p++){const y=e.details[p],b=e.details[pz(c,p)],m=Tl(y.minW,b==null?void 0:b._minW),g=ns((o=r[i])==null?void 0:o[c[p]],a);if(g){if(h){(l=r.parts)==null||l.forEach(v=>{Jn(u,{[v]:f?g[v]:{[m]:g[v]}})});continue}if(!h){f?Jn(u,g):u[m]=g;continue}u[m]=g}}return u}}function gz(t){return e=>{var n;const{variant:r,size:i,theme:s}=e,a=mz(s);return Jn({},ns((n=t.baseStyle)!=null?n:{},e),a(t,"sizes",i,e),a(t,"variants",r,e))}}function ii(t){return GL(t,["styleConfig","size","variant","colorScheme"])}var yz=["borders","breakpoints","colors","components","config","direction","fonts","fontSizes","fontWeights","letterSpacings","lineHeights","radii","shadows","sizes","space","styles","transition","zIndices"];function vz(t){return Tr(t)?yz.every(e=>Object.prototype.hasOwnProperty.call(t,e)):!1}var bz={common:"background-color, border-color, color, fill, stroke, opacity, box-shadow, transform",colors:"background-color, border-color, color, fill, stroke",dimensions:"width, height",position:"left, right, top, bottom",background:"background-color, background-image, background-position"},wz={"ease-in":"cubic-bezier(0.4, 0, 1, 1)","ease-out":"cubic-bezier(0, 0, 0.2, 1)","ease-in-out":"cubic-bezier(0.4, 0, 0.2, 1)"},_z={"ultra-fast":"50ms",faster:"100ms",fast:"150ms",normal:"200ms",slow:"300ms",slower:"400ms","ultra-slow":"500ms"},xz={property:bz,easing:wz,duration:_z},kz=xz,Sz={hide:-1,auto:"auto",base:0,docked:10,dropdown:1e3,sticky:1100,banner:1200,overlay:1300,modal:1400,popover:1500,skipLink:1600,toast:1700,tooltip:1800},Cz=Sz,Tz={none:0,"1px":"1px solid","2px":"2px solid","4px":"4px solid","8px":"8px solid"},Pz=Tz,Ez={base:"0em",sm:"30em",md:"48em",lg:"62em",xl:"80em","2xl":"96em"},Az=Ez,Iz={transparent:"transparent",current:"currentColor",black:"#000000",white:"#FFFFFF",whiteAlpha:{50:"rgba(255, 255, 255, 0.04)",100:"rgba(255, 255, 255, 0.06)",200:"rgba(255, 255, 255, 0.08)",300:"rgba(255, 255, 255, 0.16)",400:"rgba(255, 255, 255, 0.24)",500:"rgba(255, 255, 255, 0.36)",600:"rgba(255, 255, 255, 0.48)",700:"rgba(255, 255, 255, 0.64)",800:"rgba(255, 255, 255, 0.80)",900:"rgba(255, 255, 255, 0.92)"},blackAlpha:{50:"rgba(0, 0, 0, 0.04)",100:"rgba(0, 0, 0, 0.06)",200:"rgba(0, 0, 0, 0.08)",300:"rgba(0, 0, 0, 0.16)",400:"rgba(0, 0, 0, 0.24)",500:"rgba(0, 0, 0, 0.36)",600:"rgba(0, 0, 0, 0.48)",700:"rgba(0, 0, 0, 0.64)",800:"rgba(0, 0, 0, 0.80)",900:"rgba(0, 0, 0, 0.92)"},gray:{50:"#F7FAFC",100:"#EDF2F7",200:"#E2E8F0",300:"#CBD5E0",400:"#A0AEC0",500:"#718096",600:"#4A5568",700:"#2D3748",800:"#1A202C",900:"#171923"},red:{50:"#FFF5F5",100:"#FED7D7",200:"#FEB2B2",300:"#FC8181",400:"#F56565",500:"#E53E3E",600:"#C53030",700:"#9B2C2C",800:"#822727",900:"#63171B"},orange:{50:"#FFFAF0",100:"#FEEBC8",200:"#FBD38D",300:"#F6AD55",400:"#ED8936",500:"#DD6B20",600:"#C05621",700:"#9C4221",800:"#7B341E",900:"#652B19"},yellow:{50:"#FFFFF0",100:"#FEFCBF",200:"#FAF089",300:"#F6E05E",400:"#ECC94B",500:"#D69E2E",600:"#B7791F",700:"#975A16",800:"#744210",900:"#5F370E"},green:{50:"#F0FFF4",100:"#C6F6D5",200:"#9AE6B4",300:"#68D391",400:"#48BB78",500:"#38A169",600:"#2F855A",700:"#276749",800:"#22543D",900:"#1C4532"},teal:{50:"#E6FFFA",100:"#B2F5EA",200:"#81E6D9",300:"#4FD1C5",400:"#38B2AC",500:"#319795",600:"#2C7A7B",700:"#285E61",800:"#234E52",900:"#1D4044"},blue:{50:"#ebf8ff",100:"#bee3f8",200:"#90cdf4",300:"#63b3ed",400:"#4299e1",500:"#3182ce",600:"#2b6cb0",700:"#2c5282",800:"#2a4365",900:"#1A365D"},cyan:{50:"#EDFDFD",100:"#C4F1F9",200:"#9DECF9",300:"#76E4F7",400:"#0BC5EA",500:"#00B5D8",600:"#00A3C4",700:"#0987A0",800:"#086F83",900:"#065666"},purple:{50:"#FAF5FF",100:"#E9D8FD",200:"#D6BCFA",300:"#B794F4",400:"#9F7AEA",500:"#805AD5",600:"#6B46C1",700:"#553C9A",800:"#44337A",900:"#322659"},pink:{50:"#FFF5F7",100:"#FED7E2",200:"#FBB6CE",300:"#F687B3",400:"#ED64A6",500:"#D53F8C",600:"#B83280",700:"#97266D",800:"#702459",900:"#521B41"},linkedin:{50:"#E8F4F9",100:"#CFEDFB",200:"#9BDAF3",300:"#68C7EC",400:"#34B3E4",500:"#00A0DC",600:"#008CC9",700:"#0077B5",800:"#005E93",900:"#004471"},facebook:{50:"#E8F4F9",100:"#D9DEE9",200:"#B7C2DA",300:"#6482C0",400:"#4267B2",500:"#385898",600:"#314E89",700:"#29487D",800:"#223B67",900:"#1E355B"},messenger:{50:"#D0E6FF",100:"#B9DAFF",200:"#A2CDFF",300:"#7AB8FF",400:"#2E90FF",500:"#0078FF",600:"#0063D1",700:"#0052AC",800:"#003C7E",900:"#002C5C"},whatsapp:{50:"#dffeec",100:"#b9f5d0",200:"#90edb3",300:"#65e495",400:"#3cdd78",500:"#22c35e",600:"#179848",700:"#0c6c33",800:"#01421c",900:"#001803"},twitter:{50:"#E5F4FD",100:"#C8E9FB",200:"#A8DCFA",300:"#83CDF7",400:"#57BBF5",500:"#1DA1F2",600:"#1A94DA",700:"#1681BF",800:"#136B9E",900:"#0D4D71"},telegram:{50:"#E3F2F9",100:"#C5E4F3",200:"#A2D4EC",300:"#7AC1E4",400:"#47A9DA",500:"#0088CC",600:"#007AB8",700:"#006BA1",800:"#005885",900:"#003F5E"}},Oz=Iz,Rz={none:"0",sm:"0.125rem",base:"0.25rem",md:"0.375rem",lg:"0.5rem",xl:"0.75rem","2xl":"1rem","3xl":"1.5rem",full:"9999px"},$z=Rz,Nz={xs:"0 0 0 1px rgba(0, 0, 0, 0.05)",sm:"0 1px 2px 0 rgba(0, 0, 0, 0.05)",base:"0 1px 3px 0 rgba(0, 0, 0, 0.1), 0 1px 2px 0 rgba(0, 0, 0, 0.06)",md:"0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06)",lg:"0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05)",xl:"0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04)","2xl":"0 25px 50px -12px rgba(0, 0, 0, 0.25)",outline:"0 0 0 3px rgba(66, 153, 225, 0.6)",inner:"inset 0 2px 4px 0 rgba(0,0,0,0.06)",none:"none","dark-lg":"rgba(0, 0, 0, 0.1) 0px 0px 0px 1px, rgba(0, 0, 0, 0.2) 0px 5px 10px, rgba(0, 0, 0, 0.4) 0px 15px 40px"},jz=Nz,Mz={none:0,sm:"4px",base:"8px",md:"12px",lg:"16px",xl:"24px","2xl":"40px","3xl":"64px"},Lz=Mz,zz={letterSpacings:{tighter:"-0.05em",tight:"-0.025em",normal:"0",wide:"0.025em",wider:"0.05em",widest:"0.1em"},lineHeights:{normal:"normal",none:1,shorter:1.25,short:1.375,base:1.5,tall:1.625,taller:"2",3:".75rem",4:"1rem",5:"1.25rem",6:"1.5rem",7:"1.75rem",8:"2rem",9:"2.25rem",10:"2.5rem"},fontWeights:{hairline:100,thin:200,light:300,normal:400,medium:500,semibold:600,bold:700,extrabold:800,black:900},fonts:{heading:'-apple-system, BlinkMacSystemFont, "Segoe UI", Helvetica, Arial, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol"',body:'-apple-system, BlinkMacSystemFont, "Segoe UI", Helvetica, Arial, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol"',mono:'SFMono-Regular,Menlo,Monaco,Consolas,"Liberation Mono","Courier New",monospace'},fontSizes:{"3xs":"0.45rem","2xs":"0.625rem",xs:"0.75rem",sm:"0.875rem",md:"1rem",lg:"1.125rem",xl:"1.25rem","2xl":"1.5rem","3xl":"1.875rem","4xl":"2.25rem","5xl":"3rem","6xl":"3.75rem","7xl":"4.5rem","8xl":"6rem","9xl":"8rem"}},NE=zz,jE={px:"1px",.5:"0.125rem",1:"0.25rem",1.5:"0.375rem",2:"0.5rem",2.5:"0.625rem",3:"0.75rem",3.5:"0.875rem",4:"1rem",5:"1.25rem",6:"1.5rem",7:"1.75rem",8:"2rem",9:"2.25rem",10:"2.5rem",12:"3rem",14:"3.5rem",16:"4rem",20:"5rem",24:"6rem",28:"7rem",32:"8rem",36:"9rem",40:"10rem",44:"11rem",48:"12rem",52:"13rem",56:"14rem",60:"15rem",64:"16rem",72:"18rem",80:"20rem",96:"24rem"},Dz={max:"max-content",min:"min-content",full:"100%","3xs":"14rem","2xs":"16rem",xs:"20rem",sm:"24rem",md:"28rem",lg:"32rem",xl:"36rem","2xl":"42rem","3xl":"48rem","4xl":"56rem","5xl":"64rem","6xl":"72rem","7xl":"80rem","8xl":"90rem",prose:"60ch"},Fz={sm:"640px",md:"768px",lg:"1024px",xl:"1280px"},Bz={...jE,...Dz,container:Fz},ME=Bz,Vz={breakpoints:Az,zIndices:Cz,radii:$z,blur:Lz,colors:Oz,...NE,sizes:ME,shadows:jz,space:jE,borders:Pz,transition:kz},{defineMultiStyleConfig:Uz,definePartsStyle:Pl}=He(["stepper","step","title","description","indicator","separator","icon","number"]),mi=ee("stepper-indicator-size"),Ya=ee("stepper-icon-size"),Qa=ee("stepper-title-font-size"),El=ee("stepper-description-font-size"),gl=ee("stepper-accent-color"),Hz=Pl(({colorScheme:t})=>({stepper:{display:"flex",justifyContent:"space-between",gap:"4","&[data-orientation=vertical]":{flexDirection:"column",alignItems:"flex-start"},"&[data-orientation=horizontal]":{flexDirection:"row",alignItems:"center"},[gl.variable]:`colors.${t}.500`,_dark:{[gl.variable]:`colors.${t}.200`}},title:{fontSize:Qa.reference,fontWeight:"medium"},description:{fontSize:El.reference,color:"chakra-subtle-text"},number:{fontSize:Qa.reference},step:{flexShrink:0,position:"relative",display:"flex",gap:"2","&[data-orientation=horizontal]":{alignItems:"center"},flex:"1","&:last-of-type:not([data-stretch])":{flex:"initial"}},icon:{flexShrink:0,width:Ya.reference,height:Ya.reference},indicator:{flexShrink:0,borderRadius:"full",width:mi.reference,height:mi.reference,display:"flex",justifyContent:"center",alignItems:"center","&[data-status=active]":{borderWidth:"2px",borderColor:gl.reference},"&[data-status=complete]":{bg:gl.reference,color:"chakra-inverse-text"},"&[data-status=incomplete]":{borderWidth:"2px"}},separator:{bg:"chakra-border-color",flex:"1","&[data-status=complete]":{bg:gl.reference},"&[data-orientation=horizontal]":{width:"100%",height:"2px",marginStart:"2"},"&[data-orientation=vertical]":{width:"2px",position:"absolute",height:"100%",maxHeight:`calc(100% - ${mi.reference} - 8px)`,top:`calc(${mi.reference} + 4px)`,insetStart:`calc(${mi.reference} / 2 - 1px)`}}})),Wz=Uz({baseStyle:Hz,sizes:{xs:Pl({stepper:{[mi.variable]:"sizes.4",[Ya.variable]:"sizes.3",[Qa.variable]:"fontSizes.xs",[El.variable]:"fontSizes.xs"}}),sm:Pl({stepper:{[mi.variable]:"sizes.6",[Ya.variable]:"sizes.4",[Qa.variable]:"fontSizes.sm",[El.variable]:"fontSizes.xs"}}),md:Pl({stepper:{[mi.variable]:"sizes.8",[Ya.variable]:"sizes.5",[Qa.variable]:"fontSizes.md",[El.variable]:"fontSizes.sm"}}),lg:Pl({stepper:{[mi.variable]:"sizes.10",[Ya.variable]:"sizes.6",[Qa.variable]:"fontSizes.lg",[El.variable]:"fontSizes.md"}})},defaultProps:{size:"md",colorScheme:"blue"}});function Ie(t,e={}){let n=!1;function r(){if(!n){n=!0;return}throw new Error("[anatomy] .part(...) should only be called once. Did you mean to use .extend(...) ?")}function i(...c){r();for(const d of c)e[d]=l(d);return Ie(t,e)}function s(...c){for(const d of c)d in e||(e[d]=l(d));return Ie(t,e)}function a(){return Object.fromEntries(Object.entries(e).map(([d,f])=>[d,f.selector]))}function o(){return Object.fromEntries(Object.entries(e).map(([d,f])=>[d,f.className]))}function l(c){const h=`chakra-${(["container","root"].includes(c??"")?[t]:[t,c]).filter(Boolean).join("__")}`;return{className:h,selector:`.${h}`,toString:()=>c}}return{parts:i,toPart:l,extend:s,selectors:a,classnames:o,get keys(){return Object.keys(e)},__type:{}}}var qz=Ie("accordion").parts("root","container","button","panel").extend("icon"),Zz=Ie("alert").parts("title","description","container").extend("icon","spinner"),Gz=Ie("avatar").parts("label","badge","container").extend("excessLabel","group"),Kz=Ie("breadcrumb").parts("link","item","container").extend("separator");Ie("button").parts();var Jz=Ie("checkbox").parts("control","icon","container").extend("label");Ie("progress").parts("track","filledTrack").extend("label");var Xz=Ie("drawer").parts("overlay","dialogContainer","dialog").extend("header","closeButton","body","footer"),Yz=Ie("editable").parts("preview","input","textarea"),Qz=Ie("form").parts("container","requiredIndicator","helperText"),eD=Ie("formError").parts("text","icon"),tD=Ie("input").parts("addon","field","element","group"),nD=Ie("list").parts("container","item","icon"),rD=Ie("menu").parts("button","list","item").extend("groupTitle","icon","command","divider"),iD=Ie("modal").parts("overlay","dialogContainer","dialog").extend("header","closeButton","body","footer"),sD=Ie("numberinput").parts("root","field","stepperGroup","stepper");Ie("pininput").parts("field");var aD=Ie("popover").parts("content","header","body","footer").extend("popper","arrow","closeButton"),oD=Ie("progress").parts("label","filledTrack","track"),lD=Ie("radio").parts("container","control","label"),uD=Ie("select").parts("field","icon"),cD=Ie("slider").parts("container","track","thumb","filledTrack","mark"),dD=Ie("stat").parts("container","label","helpText","number","icon"),fD=Ie("switch").parts("container","track","thumb","label"),hD=Ie("table").parts("table","thead","tbody","tr","th","td","tfoot","caption"),pD=Ie("tabs").parts("root","tab","tablist","tabpanel","tabpanels","indicator"),mD=Ie("tag").parts("container","label","closeButton"),gD=Ie("card").parts("container","header","body","footer");Ie("stepper").parts("stepper","step","title","description","indicator","separator","icon","number");function Gs(t,e,n){return Math.min(Math.max(t,n),e)}class yD extends Error{constructor(e){super(`Failed to parse color: "${e}"`)}}var Al=yD;function Ab(t){if(typeof t!="string")throw new Al(t);if(t.trim().toLowerCase()==="transparent")return[0,0,0,0];let e=t.trim();e=CD.test(t)?wD(t):t;const n=_D.exec(e);if(n){const a=Array.from(n).slice(1);return[...a.slice(0,3).map(o=>parseInt(Bu(o,2),16)),parseInt(Bu(a[3]||"f",2),16)/255]}const r=xD.exec(e);if(r){const a=Array.from(r).slice(1);return[...a.slice(0,3).map(o=>parseInt(o,16)),parseInt(a[3]||"ff",16)/255]}const i=kD.exec(e);if(i){const a=Array.from(i).slice(1);return[...a.slice(0,3).map(o=>parseInt(o,10)),parseFloat(a[3]||"1")]}const s=SD.exec(e);if(s){const[a,o,l,u]=Array.from(s).slice(1).map(parseFloat);if(Gs(0,100,o)!==o)throw new Al(t);if(Gs(0,100,l)!==l)throw new Al(t);return[...TD(a,o,l),Number.isNaN(u)?1:u]}throw new Al(t)}function vD(t){let e=5381,n=t.length;for(;n;)e=e*33^t.charCodeAt(--n);return(e>>>0)%2341}const n1=t=>parseInt(t.replace(/_/g,""),36),bD="1q29ehhb 1n09sgk7 1kl1ekf_ _yl4zsno 16z9eiv3 1p29lhp8 _bd9zg04 17u0____ _iw9zhe5 _to73___ _r45e31e _7l6g016 _jh8ouiv _zn3qba8 1jy4zshs 11u87k0u 1ro9yvyo 1aj3xael 1gz9zjz0 _3w8l4xo 1bf1ekf_ _ke3v___ _4rrkb__ 13j776yz _646mbhl _nrjr4__ _le6mbhl 1n37ehkb _m75f91n _qj3bzfz 1939yygw 11i5z6x8 _1k5f8xs 1509441m 15t5lwgf _ae2th1n _tg1ugcv 1lp1ugcv 16e14up_ _h55rw7n _ny9yavn _7a11xb_ 1ih442g9 _pv442g9 1mv16xof 14e6y7tu 1oo9zkds 17d1cisi _4v9y70f _y98m8kc 1019pq0v 12o9zda8 _348j4f4 1et50i2o _8epa8__ _ts6senj 1o350i2o 1mi9eiuo 1259yrp0 1ln80gnw _632xcoy 1cn9zldc _f29edu4 1n490c8q _9f9ziet 1b94vk74 _m49zkct 1kz6s73a 1eu9dtog _q58s1rz 1dy9sjiq __u89jo3 _aj5nkwg _ld89jo3 13h9z6wx _qa9z2ii _l119xgq _bs5arju 1hj4nwk9 1qt4nwk9 1ge6wau6 14j9zlcw 11p1edc_ _ms1zcxe _439shk6 _jt9y70f _754zsow 1la40eju _oq5p___ _x279qkz 1fa5r3rv _yd2d9ip _424tcku _8y1di2_ _zi2uabw _yy7rn9h 12yz980_ __39ljp6 1b59zg0x _n39zfzp 1fy9zest _b33k___ _hp9wq92 1il50hz4 _io472ub _lj9z3eo 19z9ykg0 _8t8iu3a 12b9bl4a 1ak5yw0o _896v4ku _tb8k8lv _s59zi6t _c09ze0p 1lg80oqn 1id9z8wb _238nba5 1kq6wgdi _154zssg _tn3zk49 _da9y6tc 1sg7cv4f _r12jvtt 1gq5fmkz 1cs9rvci _lp9jn1c _xw1tdnb 13f9zje6 16f6973h _vo7ir40 _bt5arjf _rc45e4t _hr4e100 10v4e100 _hc9zke2 _w91egv_ _sj2r1kk 13c87yx8 _vqpds__ _ni8ggk8 _tj9yqfb 1ia2j4r4 _7x9b10u 1fc9ld4j 1eq9zldr _5j9lhpx _ez9zl6o _md61fzm".split(" ").reduce((t,e)=>{const n=n1(e.substring(0,3)),r=n1(e.substring(3)).toString(16);let i="";for(let s=0;s<6-r.length;s++)i+="0";return t[n]=`${i}${r}`,t},{});function wD(t){const e=t.toLowerCase().trim(),n=bD[vD(e)];if(!n)throw new Al(t);return`#${n}`}const Bu=(t,e)=>Array.from(Array(e)).map(()=>t).join(""),_D=new RegExp(`^#${Bu("([a-f0-9])",3)}([a-f0-9])?$`,"i"),xD=new RegExp(`^#${Bu("([a-f0-9]{2})",3)}([a-f0-9]{2})?$`,"i"),kD=new RegExp(`^rgba?\\(\\s*(\\d+)\\s*${Bu(",\\s*(\\d+)\\s*",2)}(?:,\\s*([\\d.]+))?\\s*\\)$`,"i"),SD=/^hsla?\(\s*([\d.]+)\s*,\s*([\d.]+)%\s*,\s*([\d.]+)%(?:\s*,\s*([\d.]+))?\s*\)$/i,CD=/^[a-z]+$/i,r1=t=>Math.round(t*255),TD=(t,e,n)=>{let r=n/100;if(e===0)return[r,r,r].map(r1);const i=(t%360+360)%360/60,s=(1-Math.abs(2*r-1))*(e/100),a=s*(1-Math.abs(i%2-1));let o=0,l=0,u=0;i>=0&&i<1?(o=s,l=a):i>=1&&i<2?(o=a,l=s):i>=2&&i<3?(l=s,u=a):i>=3&&i<4?(l=a,u=s):i>=4&&i<5?(o=a,u=s):i>=5&&i<6&&(o=s,u=a);const c=r-s/2,d=o+c,f=l+c,h=u+c;return[d,f,h].map(r1)};function PD(t,e,n,r){return`rgba(${Gs(0,255,t).toFixed()}, ${Gs(0,255,e).toFixed()}, ${Gs(0,255,n).toFixed()}, ${parseFloat(Gs(0,1,r).toFixed(3))})`}function ED(t,e){const[n,r,i,s]=Ab(t);return PD(n,r,i,s-e)}function AD(t){const[e,n,r,i]=Ab(t);let s=a=>{const o=Gs(0,255,a).toString(16);return o.length===1?`0${o}`:o};return`#${s(e)}${s(n)}${s(r)}${i<1?s(Math.round(i*255)):""}`}function ID(t,e,n,r,i){for(e=e.split?e.split("."):e,r=0;r<e.length;r++)t=t?t[e[r]]:i;return t===i?n:t}var OD=t=>Object.keys(t).length===0,Xt=(t,e,n)=>{const r=ID(t,`colors.${e}`,e);try{return AD(r),r}catch{return n??"#000000"}},RD=t=>{const[e,n,r]=Ab(t);return(e*299+n*587+r*114)/1e3},$D=t=>e=>{const n=Xt(e,t);return RD(n)<128?"dark":"light"},ND=t=>e=>$D(t)(e)==="dark",zo=(t,e)=>n=>{const r=Xt(n,t);return ED(r,1-e)};function i1(t="1rem",e="rgba(255, 255, 255, 0.15)"){return{backgroundImage:`linear-gradient(
    45deg,
    ${e} 25%,
    transparent 25%,
    transparent 50%,
    ${e} 50%,
    ${e} 75%,
    transparent 75%,
    transparent
  )`,backgroundSize:`${t} ${t}`}}var jD=()=>`#${Math.floor(Math.random()*16777215).toString(16).padEnd(6,"0")}`;function MD(t){const e=jD();return!t||OD(t)?e:t.string&&t.colors?zD(t.string,t.colors):t.string&&!t.colors?LD(t.string):t.colors&&!t.string?DD(t.colors):e}function LD(t){let e=0;if(t.length===0)return e.toString();for(let r=0;r<t.length;r+=1)e=t.charCodeAt(r)+((e<<5)-e),e=e&e;let n="#";for(let r=0;r<3;r+=1){const i=e>>r*8&255;n+=`00${i.toString(16)}`.substr(-2)}return n}function zD(t,e){let n=0;if(t.length===0)return e[0];for(let r=0;r<t.length;r+=1)n=t.charCodeAt(r)+((n<<5)-n),n=n&n;return n=(n%e.length+e.length)%e.length,e[n]}function DD(t){return t[Math.floor(Math.random()*t.length)]}function Y(t,e){return n=>n.colorMode==="dark"?e:t}function Ib(t){const{orientation:e,vertical:n,horizontal:r}=t;return e?e==="vertical"?n:r:{}}function LE(t){return Tr(t)&&t.reference?t.reference:String(t)}var Wp=(t,...e)=>e.map(LE).join(` ${t} `).replace(/calc/g,""),s1=(...t)=>`calc(${Wp("+",...t)})`,a1=(...t)=>`calc(${Wp("-",...t)})`,gv=(...t)=>`calc(${Wp("*",...t)})`,o1=(...t)=>`calc(${Wp("/",...t)})`,l1=t=>{const e=LE(t);return e!=null&&!Number.isNaN(parseFloat(e))?String(e).startsWith("-")?String(e).slice(1):`-${e}`:gv(e,-1)},gi=Object.assign(t=>({add:(...e)=>gi(s1(t,...e)),subtract:(...e)=>gi(a1(t,...e)),multiply:(...e)=>gi(gv(t,...e)),divide:(...e)=>gi(o1(t,...e)),negate:()=>gi(l1(t)),toString:()=>t.toString()}),{add:s1,subtract:a1,multiply:gv,divide:o1,negate:l1});function FD(t){return!Number.isInteger(parseFloat(t.toString()))}function BD(t,e="-"){return t.replace(/\s+/g,e)}function zE(t){const e=BD(t.toString());return e.includes("\\.")?t:FD(t)?e.replace(".","\\."):t}function VD(t,e=""){return[e,zE(t)].filter(Boolean).join("-")}function UD(t,e){return`var(${zE(t)}${e?`, ${e}`:""})`}function HD(t,e=""){return`--${VD(t,e)}`}function wt(t,e){const n=HD(t,void 0);return{variable:n,reference:UD(n,WD(void 0))}}function WD(t){return typeof t=="string"?t:t==null?void 0:t.reference}var{defineMultiStyleConfig:qD,definePartsStyle:tf}=He(fD.keys),ru=wt("switch-track-width"),na=wt("switch-track-height"),lg=wt("switch-track-diff"),ZD=gi.subtract(ru,na),yv=wt("switch-thumb-x"),yl=wt("switch-bg"),GD=t=>{const{colorScheme:e}=t;return{borderRadius:"full",p:"0.5",width:[ru.reference],height:[na.reference],transitionProperty:"common",transitionDuration:"fast",[yl.variable]:"colors.gray.300",_dark:{[yl.variable]:"colors.whiteAlpha.400"},_focusVisible:{boxShadow:"outline"},_disabled:{opacity:.4,cursor:"not-allowed"},_checked:{[yl.variable]:`colors.${e}.500`,_dark:{[yl.variable]:`colors.${e}.200`}},bg:yl.reference}},KD={bg:"white",transitionProperty:"transform",transitionDuration:"normal",borderRadius:"inherit",width:[na.reference],height:[na.reference],_checked:{transform:`translateX(${yv.reference})`}},JD=tf(t=>({container:{[lg.variable]:ZD,[yv.variable]:lg.reference,_rtl:{[yv.variable]:gi(lg).negate().toString()}},track:GD(t),thumb:KD})),XD={sm:tf({container:{[ru.variable]:"1.375rem",[na.variable]:"sizes.3"}}),md:tf({container:{[ru.variable]:"1.875rem",[na.variable]:"sizes.4"}}),lg:tf({container:{[ru.variable]:"2.875rem",[na.variable]:"sizes.6"}})},YD=qD({baseStyle:JD,sizes:XD,defaultProps:{size:"md",colorScheme:"blue"}}),{defineMultiStyleConfig:QD,definePartsStyle:bo}=He(hD.keys),e4=bo({table:{fontVariantNumeric:"lining-nums tabular-nums",borderCollapse:"collapse",width:"full"},th:{fontFamily:"heading",fontWeight:"bold",textTransform:"uppercase",letterSpacing:"wider",textAlign:"start"},td:{textAlign:"start"},caption:{mt:4,fontFamily:"heading",textAlign:"center",fontWeight:"medium"}}),ah={"&[data-is-numeric=true]":{textAlign:"end"}},t4=bo(t=>{const{colorScheme:e}=t;return{th:{color:Y("gray.600","gray.400")(t),borderBottom:"1px",borderColor:Y(`${e}.100`,`${e}.700`)(t),...ah},td:{borderBottom:"1px",borderColor:Y(`${e}.100`,`${e}.700`)(t),...ah},caption:{color:Y("gray.600","gray.100")(t)},tfoot:{tr:{"&:last-of-type":{th:{borderBottomWidth:0}}}}}}),n4=bo(t=>{const{colorScheme:e}=t;return{th:{color:Y("gray.600","gray.400")(t),borderBottom:"1px",borderColor:Y(`${e}.100`,`${e}.700`)(t),...ah},td:{borderBottom:"1px",borderColor:Y(`${e}.100`,`${e}.700`)(t),...ah},caption:{color:Y("gray.600","gray.100")(t)},tbody:{tr:{"&:nth-of-type(odd)":{"th, td":{borderBottomWidth:"1px",borderColor:Y(`${e}.100`,`${e}.700`)(t)},td:{background:Y(`${e}.100`,`${e}.700`)(t)}}}},tfoot:{tr:{"&:last-of-type":{th:{borderBottomWidth:0}}}}}}),r4={simple:t4,striped:n4,unstyled:{}},i4={sm:bo({th:{px:"4",py:"1",lineHeight:"4",fontSize:"xs"},td:{px:"4",py:"2",fontSize:"sm",lineHeight:"4"},caption:{px:"4",py:"2",fontSize:"xs"}}),md:bo({th:{px:"6",py:"3",lineHeight:"4",fontSize:"xs"},td:{px:"6",py:"4",lineHeight:"5"},caption:{px:"6",py:"2",fontSize:"sm"}}),lg:bo({th:{px:"8",py:"4",lineHeight:"5",fontSize:"sm"},td:{px:"8",py:"5",lineHeight:"6"},caption:{px:"6",py:"2",fontSize:"md"}})},s4=QD({baseStyle:e4,variants:r4,sizes:i4,defaultProps:{variant:"simple",size:"md",colorScheme:"gray"}}),cn=ee("tabs-color"),_r=ee("tabs-bg"),vd=ee("tabs-border-color"),{defineMultiStyleConfig:a4,definePartsStyle:Qr}=He(pD.keys),o4=t=>{const{orientation:e}=t;return{display:e==="vertical"?"flex":"block"}},l4=t=>{const{isFitted:e}=t;return{flex:e?1:void 0,transitionProperty:"common",transitionDuration:"normal",_focusVisible:{zIndex:1,boxShadow:"outline"},_disabled:{cursor:"not-allowed",opacity:.4}}},u4=t=>{const{align:e="start",orientation:n}=t;return{justifyContent:{end:"flex-end",center:"center",start:"flex-start"}[e],flexDirection:n==="vertical"?"column":"row"}},c4={p:4},d4=Qr(t=>({root:o4(t),tab:l4(t),tablist:u4(t),tabpanel:c4})),f4={sm:Qr({tab:{py:1,px:4,fontSize:"sm"}}),md:Qr({tab:{fontSize:"md",py:2,px:4}}),lg:Qr({tab:{fontSize:"lg",py:3,px:4}})},h4=Qr(t=>{const{colorScheme:e,orientation:n}=t,r=n==="vertical",i=r?"borderStart":"borderBottom",s=r?"marginStart":"marginBottom";return{tablist:{[i]:"2px solid",borderColor:"inherit"},tab:{[i]:"2px solid",borderColor:"transparent",[s]:"-2px",_selected:{[cn.variable]:`colors.${e}.600`,_dark:{[cn.variable]:`colors.${e}.300`},borderColor:"currentColor"},_active:{[_r.variable]:"colors.gray.200",_dark:{[_r.variable]:"colors.whiteAlpha.300"}},_disabled:{_active:{bg:"none"}},color:cn.reference,bg:_r.reference}}}),p4=Qr(t=>{const{colorScheme:e}=t;return{tab:{borderTopRadius:"md",border:"1px solid",borderColor:"transparent",mb:"-1px",[vd.variable]:"transparent",_selected:{[cn.variable]:`colors.${e}.600`,[vd.variable]:"colors.white",_dark:{[cn.variable]:`colors.${e}.300`,[vd.variable]:"colors.gray.800"},borderColor:"inherit",borderBottomColor:vd.reference},color:cn.reference},tablist:{mb:"-1px",borderBottom:"1px solid",borderColor:"inherit"}}}),m4=Qr(t=>{const{colorScheme:e}=t;return{tab:{border:"1px solid",borderColor:"inherit",[_r.variable]:"colors.gray.50",_dark:{[_r.variable]:"colors.whiteAlpha.50"},mb:"-1px",_notLast:{marginEnd:"-1px"},_selected:{[_r.variable]:"colors.white",[cn.variable]:`colors.${e}.600`,_dark:{[_r.variable]:"colors.gray.800",[cn.variable]:`colors.${e}.300`},borderColor:"inherit",borderTopColor:"currentColor",borderBottomColor:"transparent"},color:cn.reference,bg:_r.reference},tablist:{mb:"-1px",borderBottom:"1px solid",borderColor:"inherit"}}}),g4=Qr(t=>{const{colorScheme:e,theme:n}=t;return{tab:{borderRadius:"full",fontWeight:"semibold",color:"gray.600",_selected:{color:Xt(n,`${e}.700`),bg:Xt(n,`${e}.100`)}}}}),y4=Qr(t=>{const{colorScheme:e}=t;return{tab:{borderRadius:"full",fontWeight:"semibold",[cn.variable]:"colors.gray.600",_dark:{[cn.variable]:"inherit"},_selected:{[cn.variable]:"colors.white",[_r.variable]:`colors.${e}.600`,_dark:{[cn.variable]:"colors.gray.800",[_r.variable]:`colors.${e}.300`}},color:cn.reference,bg:_r.reference}}}),v4=Qr({}),b4={line:h4,enclosed:p4,"enclosed-colored":m4,"soft-rounded":g4,"solid-rounded":y4,unstyled:v4},w4=a4({baseStyle:d4,sizes:f4,variants:b4,defaultProps:{size:"md",variant:"line",colorScheme:"blue"}}),ft=VL("badge",["bg","color","shadow"]),_4={px:1,textTransform:"uppercase",fontSize:"xs",borderRadius:"sm",fontWeight:"bold",bg:ft.bg.reference,color:ft.color.reference,boxShadow:ft.shadow.reference},x4=t=>{const{colorScheme:e,theme:n}=t,r=zo(`${e}.500`,.6)(n);return{[ft.bg.variable]:`colors.${e}.500`,[ft.color.variable]:"colors.white",_dark:{[ft.bg.variable]:r,[ft.color.variable]:"colors.whiteAlpha.800"}}},k4=t=>{const{colorScheme:e,theme:n}=t,r=zo(`${e}.200`,.16)(n);return{[ft.bg.variable]:`colors.${e}.100`,[ft.color.variable]:`colors.${e}.800`,_dark:{[ft.bg.variable]:r,[ft.color.variable]:`colors.${e}.200`}}},S4=t=>{const{colorScheme:e,theme:n}=t,r=zo(`${e}.200`,.8)(n);return{[ft.color.variable]:`colors.${e}.500`,_dark:{[ft.color.variable]:r},[ft.shadow.variable]:`inset 0 0 0px 1px ${ft.color.reference}`}},C4={solid:x4,subtle:k4,outline:S4},iu={baseStyle:_4,variants:C4,defaultProps:{variant:"subtle",colorScheme:"gray"}},{defineMultiStyleConfig:T4,definePartsStyle:ra}=He(mD.keys),u1=ee("tag-bg"),c1=ee("tag-color"),ug=ee("tag-shadow"),nf=ee("tag-min-height"),rf=ee("tag-min-width"),sf=ee("tag-font-size"),af=ee("tag-padding-inline"),P4={fontWeight:"medium",lineHeight:1.2,outline:0,[c1.variable]:ft.color.reference,[u1.variable]:ft.bg.reference,[ug.variable]:ft.shadow.reference,color:c1.reference,bg:u1.reference,boxShadow:ug.reference,borderRadius:"md",minH:nf.reference,minW:rf.reference,fontSize:sf.reference,px:af.reference,_focusVisible:{[ug.variable]:"shadows.outline"}},E4={lineHeight:1.2,overflow:"visible"},A4={fontSize:"lg",w:"5",h:"5",transitionProperty:"common",transitionDuration:"normal",borderRadius:"full",marginStart:"1.5",marginEnd:"-1",opacity:.5,_disabled:{opacity:.4},_focusVisible:{boxShadow:"outline",bg:"rgba(0, 0, 0, 0.14)"},_hover:{opacity:.8},_active:{opacity:1}},I4=ra({container:P4,label:E4,closeButton:A4}),O4={sm:ra({container:{[nf.variable]:"sizes.5",[rf.variable]:"sizes.5",[sf.variable]:"fontSizes.xs",[af.variable]:"space.2"},closeButton:{marginEnd:"-2px",marginStart:"0.35rem"}}),md:ra({container:{[nf.variable]:"sizes.6",[rf.variable]:"sizes.6",[sf.variable]:"fontSizes.sm",[af.variable]:"space.2"}}),lg:ra({container:{[nf.variable]:"sizes.8",[rf.variable]:"sizes.8",[sf.variable]:"fontSizes.md",[af.variable]:"space.3"}})},R4={subtle:ra(t=>{var e;return{container:(e=iu.variants)==null?void 0:e.subtle(t)}}),solid:ra(t=>{var e;return{container:(e=iu.variants)==null?void 0:e.solid(t)}}),outline:ra(t=>{var e;return{container:(e=iu.variants)==null?void 0:e.outline(t)}})},$4=T4({variants:R4,baseStyle:I4,sizes:O4,defaultProps:{size:"md",variant:"subtle",colorScheme:"gray"}}),{definePartsStyle:bi,defineMultiStyleConfig:N4}=He(tD.keys),eo=ee("input-height"),to=ee("input-font-size"),no=ee("input-padding"),ro=ee("input-border-radius"),j4=bi({addon:{height:eo.reference,fontSize:to.reference,px:no.reference,borderRadius:ro.reference},field:{width:"100%",height:eo.reference,fontSize:to.reference,px:no.reference,borderRadius:ro.reference,minWidth:0,outline:0,position:"relative",appearance:"none",transitionProperty:"common",transitionDuration:"normal",_disabled:{opacity:.4,cursor:"not-allowed"}}}),Di={lg:{[to.variable]:"fontSizes.lg",[no.variable]:"space.4",[ro.variable]:"radii.md",[eo.variable]:"sizes.12"},md:{[to.variable]:"fontSizes.md",[no.variable]:"space.4",[ro.variable]:"radii.md",[eo.variable]:"sizes.10"},sm:{[to.variable]:"fontSizes.sm",[no.variable]:"space.3",[ro.variable]:"radii.sm",[eo.variable]:"sizes.8"},xs:{[to.variable]:"fontSizes.xs",[no.variable]:"space.2",[ro.variable]:"radii.sm",[eo.variable]:"sizes.6"}},M4={lg:bi({field:Di.lg,group:Di.lg}),md:bi({field:Di.md,group:Di.md}),sm:bi({field:Di.sm,group:Di.sm}),xs:bi({field:Di.xs,group:Di.xs})};function Ob(t){const{focusBorderColor:e,errorBorderColor:n}=t;return{focusBorderColor:e||Y("blue.500","blue.300")(t),errorBorderColor:n||Y("red.500","red.300")(t)}}var L4=bi(t=>{const{theme:e}=t,{focusBorderColor:n,errorBorderColor:r}=Ob(t);return{field:{border:"1px solid",borderColor:"inherit",bg:"inherit",_hover:{borderColor:Y("gray.300","whiteAlpha.400")(t)},_readOnly:{boxShadow:"none !important",userSelect:"all"},_invalid:{borderColor:Xt(e,r),boxShadow:`0 0 0 1px ${Xt(e,r)}`},_focusVisible:{zIndex:1,borderColor:Xt(e,n),boxShadow:`0 0 0 1px ${Xt(e,n)}`}},addon:{border:"1px solid",borderColor:Y("inherit","whiteAlpha.50")(t),bg:Y("gray.100","whiteAlpha.300")(t)}}}),z4=bi(t=>{const{theme:e}=t,{focusBorderColor:n,errorBorderColor:r}=Ob(t);return{field:{border:"2px solid",borderColor:"transparent",bg:Y("gray.100","whiteAlpha.50")(t),_hover:{bg:Y("gray.200","whiteAlpha.100")(t)},_readOnly:{boxShadow:"none !important",userSelect:"all"},_invalid:{borderColor:Xt(e,r)},_focusVisible:{bg:"transparent",borderColor:Xt(e,n)}},addon:{border:"2px solid",borderColor:"transparent",bg:Y("gray.100","whiteAlpha.50")(t)}}}),D4=bi(t=>{const{theme:e}=t,{focusBorderColor:n,errorBorderColor:r}=Ob(t);return{field:{borderBottom:"1px solid",borderColor:"inherit",borderRadius:"0",px:"0",bg:"transparent",_readOnly:{boxShadow:"none !important",userSelect:"all"},_invalid:{borderColor:Xt(e,r),boxShadow:`0px 1px 0px 0px ${Xt(e,r)}`},_focusVisible:{borderColor:Xt(e,n),boxShadow:`0px 1px 0px 0px ${Xt(e,n)}`}},addon:{borderBottom:"2px solid",borderColor:"inherit",borderRadius:"0",px:"0",bg:"transparent"}}}),F4=bi({field:{bg:"transparent",px:"0",height:"auto"},addon:{bg:"transparent",px:"0",height:"auto"}}),B4={outline:L4,filled:z4,flushed:D4,unstyled:F4},Ee=N4({baseStyle:j4,sizes:M4,variants:B4,defaultProps:{size:"md",variant:"outline"}}),d1,V4={...(d1=Ee.baseStyle)==null?void 0:d1.field,paddingY:"2",minHeight:"20",lineHeight:"short",verticalAlign:"top"},f1,h1,U4={outline:t=>{var e,n;return(n=(e=Ee.variants)==null?void 0:e.outline(t).field)!=null?n:{}},flushed:t=>{var e,n;return(n=(e=Ee.variants)==null?void 0:e.flushed(t).field)!=null?n:{}},filled:t=>{var e,n;return(n=(e=Ee.variants)==null?void 0:e.filled(t).field)!=null?n:{}},unstyled:(h1=(f1=Ee.variants)==null?void 0:f1.unstyled.field)!=null?h1:{}},p1,m1,g1,y1,v1,b1,w1,_1,H4={xs:(m1=(p1=Ee.sizes)==null?void 0:p1.xs.field)!=null?m1:{},sm:(y1=(g1=Ee.sizes)==null?void 0:g1.sm.field)!=null?y1:{},md:(b1=(v1=Ee.sizes)==null?void 0:v1.md.field)!=null?b1:{},lg:(_1=(w1=Ee.sizes)==null?void 0:w1.lg.field)!=null?_1:{}},W4={baseStyle:V4,sizes:H4,variants:U4,defaultProps:{size:"md",variant:"outline"}},bd=wt("tooltip-bg"),cg=wt("tooltip-fg"),q4=wt("popper-arrow-bg"),Z4={bg:bd.reference,color:cg.reference,[bd.variable]:"colors.gray.700",[cg.variable]:"colors.whiteAlpha.900",_dark:{[bd.variable]:"colors.gray.300",[cg.variable]:"colors.gray.900"},[q4.variable]:bd.reference,px:"2",py:"0.5",borderRadius:"sm",fontWeight:"medium",fontSize:"sm",boxShadow:"md",maxW:"xs",zIndex:"tooltip"},G4={baseStyle:Z4},{defineMultiStyleConfig:K4,definePartsStyle:Il}=He(oD.keys),J4=t=>{const{colorScheme:e,theme:n,isIndeterminate:r,hasStripe:i}=t,s=Y(i1(),i1("1rem","rgba(0,0,0,0.1)"))(t),a=Y(`${e}.500`,`${e}.200`)(t),o=`linear-gradient(
    to right,
    transparent 0%,
    ${Xt(n,a)} 50%,
    transparent 100%
  )`;return{...!r&&i&&s,...r?{bgImage:o}:{bgColor:a}}},X4={lineHeight:"1",fontSize:"0.25em",fontWeight:"bold",color:"white"},Y4=t=>({bg:Y("gray.100","whiteAlpha.300")(t)}),Q4=t=>({transitionProperty:"common",transitionDuration:"slow",...J4(t)}),eF=Il(t=>({label:X4,filledTrack:Q4(t),track:Y4(t)})),tF={xs:Il({track:{h:"1"}}),sm:Il({track:{h:"2"}}),md:Il({track:{h:"3"}}),lg:Il({track:{h:"4"}})},nF=K4({sizes:tF,baseStyle:eF,defaultProps:{size:"md",colorScheme:"blue"}}),rF=t=>typeof t=="function";function Qt(t,...e){return rF(t)?t(...e):t}var{definePartsStyle:of,defineMultiStyleConfig:iF}=He(Jz.keys),su=ee("checkbox-size"),sF=t=>{const{colorScheme:e}=t;return{w:su.reference,h:su.reference,transitionProperty:"box-shadow",transitionDuration:"normal",border:"2px solid",borderRadius:"sm",borderColor:"inherit",color:"white",_checked:{bg:Y(`${e}.500`,`${e}.200`)(t),borderColor:Y(`${e}.500`,`${e}.200`)(t),color:Y("white","gray.900")(t),_hover:{bg:Y(`${e}.600`,`${e}.300`)(t),borderColor:Y(`${e}.600`,`${e}.300`)(t)},_disabled:{borderColor:Y("gray.200","transparent")(t),bg:Y("gray.200","whiteAlpha.300")(t),color:Y("gray.500","whiteAlpha.500")(t)}},_indeterminate:{bg:Y(`${e}.500`,`${e}.200`)(t),borderColor:Y(`${e}.500`,`${e}.200`)(t),color:Y("white","gray.900")(t)},_disabled:{bg:Y("gray.100","whiteAlpha.100")(t),borderColor:Y("gray.100","transparent")(t)},_focusVisible:{boxShadow:"outline"},_invalid:{borderColor:Y("red.500","red.300")(t)}}},aF={_disabled:{cursor:"not-allowed"}},oF={userSelect:"none",_disabled:{opacity:.4}},lF={transitionProperty:"transform",transitionDuration:"normal"},uF=of(t=>({icon:lF,container:aF,control:Qt(sF,t),label:oF})),cF={sm:of({control:{[su.variable]:"sizes.3"},label:{fontSize:"sm"},icon:{fontSize:"3xs"}}),md:of({control:{[su.variable]:"sizes.4"},label:{fontSize:"md"},icon:{fontSize:"2xs"}}),lg:of({control:{[su.variable]:"sizes.5"},label:{fontSize:"lg"},icon:{fontSize:"2xs"}})},oh=iF({baseStyle:uF,sizes:cF,defaultProps:{size:"md",colorScheme:"blue"}}),{defineMultiStyleConfig:dF,definePartsStyle:lf}=He(lD.keys),fF=t=>{var e;const n=(e=Qt(oh.baseStyle,t))==null?void 0:e.control;return{...n,borderRadius:"full",_checked:{...n==null?void 0:n._checked,_before:{content:'""',display:"inline-block",pos:"relative",w:"50%",h:"50%",borderRadius:"50%",bg:"currentColor"}}}},hF=lf(t=>{var e,n,r,i;return{label:(n=(e=oh).baseStyle)==null?void 0:n.call(e,t).label,container:(i=(r=oh).baseStyle)==null?void 0:i.call(r,t).container,control:fF(t)}}),pF={md:lf({control:{w:"4",h:"4"},label:{fontSize:"md"}}),lg:lf({control:{w:"5",h:"5"},label:{fontSize:"lg"}}),sm:lf({control:{width:"3",height:"3"},label:{fontSize:"sm"}})},mF=dF({baseStyle:hF,sizes:pF,defaultProps:{size:"md",colorScheme:"blue"}}),{defineMultiStyleConfig:gF,definePartsStyle:yF}=He(uD.keys),wd=ee("select-bg"),x1,vF={...(x1=Ee.baseStyle)==null?void 0:x1.field,appearance:"none",paddingBottom:"1px",lineHeight:"normal",bg:wd.reference,[wd.variable]:"colors.white",_dark:{[wd.variable]:"colors.gray.700"},"> option, > optgroup":{bg:wd.reference}},bF={width:"6",height:"100%",insetEnd:"2",position:"relative",color:"currentColor",fontSize:"xl",_disabled:{opacity:.5}},wF=yF({field:vF,icon:bF}),_d={paddingInlineEnd:"8"},k1,S1,C1,T1,P1,E1,A1,I1,_F={lg:{...(k1=Ee.sizes)==null?void 0:k1.lg,field:{...(S1=Ee.sizes)==null?void 0:S1.lg.field,..._d}},md:{...(C1=Ee.sizes)==null?void 0:C1.md,field:{...(T1=Ee.sizes)==null?void 0:T1.md.field,..._d}},sm:{...(P1=Ee.sizes)==null?void 0:P1.sm,field:{...(E1=Ee.sizes)==null?void 0:E1.sm.field,..._d}},xs:{...(A1=Ee.sizes)==null?void 0:A1.xs,field:{...(I1=Ee.sizes)==null?void 0:I1.xs.field,..._d},icon:{insetEnd:"1"}}},xF=gF({baseStyle:wF,sizes:_F,variants:Ee.variants,defaultProps:Ee.defaultProps}),dg=ee("skeleton-start-color"),fg=ee("skeleton-end-color"),kF={[dg.variable]:"colors.gray.100",[fg.variable]:"colors.gray.400",_dark:{[dg.variable]:"colors.gray.800",[fg.variable]:"colors.gray.600"},background:dg.reference,borderColor:fg.reference,opacity:.7,borderRadius:"sm"},SF={baseStyle:kF},hg=ee("skip-link-bg"),CF={borderRadius:"md",fontWeight:"semibold",_focusVisible:{boxShadow:"outline",padding:"4",position:"fixed",top:"6",insetStart:"6",[hg.variable]:"colors.white",_dark:{[hg.variable]:"colors.gray.700"},bg:hg.reference}},TF={baseStyle:CF},{defineMultiStyleConfig:PF,definePartsStyle:qp}=He(cD.keys),Vu=ee("slider-thumb-size"),Uu=ee("slider-track-size"),Yi=ee("slider-bg"),EF=t=>{const{orientation:e}=t;return{display:"inline-block",position:"relative",cursor:"pointer",_disabled:{opacity:.6,cursor:"default",pointerEvents:"none"},...Ib({orientation:e,vertical:{h:"100%"},horizontal:{w:"100%"}})}},AF=t=>({...Ib({orientation:t.orientation,horizontal:{h:Uu.reference},vertical:{w:Uu.reference}}),overflow:"hidden",borderRadius:"sm",[Yi.variable]:"colors.gray.200",_dark:{[Yi.variable]:"colors.whiteAlpha.200"},_disabled:{[Yi.variable]:"colors.gray.300",_dark:{[Yi.variable]:"colors.whiteAlpha.300"}},bg:Yi.reference}),IF=t=>{const{orientation:e}=t;return{...Ib({orientation:e,vertical:{left:"50%",transform:"translateX(-50%)",_active:{transform:"translateX(-50%) scale(1.15)"}},horizontal:{top:"50%",transform:"translateY(-50%)",_active:{transform:"translateY(-50%) scale(1.15)"}}}),w:Vu.reference,h:Vu.reference,display:"flex",alignItems:"center",justifyContent:"center",position:"absolute",outline:0,zIndex:1,borderRadius:"full",bg:"white",boxShadow:"base",border:"1px solid",borderColor:"transparent",transitionProperty:"transform",transitionDuration:"normal",_focusVisible:{boxShadow:"outline"},_disabled:{bg:"gray.300"}}},OF=t=>{const{colorScheme:e}=t;return{width:"inherit",height:"inherit",[Yi.variable]:`colors.${e}.500`,_dark:{[Yi.variable]:`colors.${e}.200`},bg:Yi.reference}},RF=qp(t=>({container:EF(t),track:AF(t),thumb:IF(t),filledTrack:OF(t)})),$F=qp({container:{[Vu.variable]:"sizes.4",[Uu.variable]:"sizes.1"}}),NF=qp({container:{[Vu.variable]:"sizes.3.5",[Uu.variable]:"sizes.1"}}),jF=qp({container:{[Vu.variable]:"sizes.2.5",[Uu.variable]:"sizes.0.5"}}),MF={lg:$F,md:NF,sm:jF},LF=PF({baseStyle:RF,sizes:MF,defaultProps:{size:"md",colorScheme:"blue"}}),Fs=wt("spinner-size"),zF={width:[Fs.reference],height:[Fs.reference]},DF={xs:{[Fs.variable]:"sizes.3"},sm:{[Fs.variable]:"sizes.4"},md:{[Fs.variable]:"sizes.6"},lg:{[Fs.variable]:"sizes.8"},xl:{[Fs.variable]:"sizes.12"}},FF={baseStyle:zF,sizes:DF,defaultProps:{size:"md"}},{defineMultiStyleConfig:BF,definePartsStyle:DE}=He(dD.keys),VF={fontWeight:"medium"},UF={opacity:.8,marginBottom:"2"},HF={verticalAlign:"baseline",fontWeight:"semibold"},WF={marginEnd:1,w:"3.5",h:"3.5",verticalAlign:"middle"},qF=DE({container:{},label:VF,helpText:UF,number:HF,icon:WF}),ZF={md:DE({label:{fontSize:"sm"},helpText:{fontSize:"sm"},number:{fontSize:"2xl"}})},GF=BF({baseStyle:qF,sizes:ZF,defaultProps:{size:"md"}}),pg=ee("kbd-bg"),KF={[pg.variable]:"colors.gray.100",_dark:{[pg.variable]:"colors.whiteAlpha.100"},bg:pg.reference,borderRadius:"md",borderWidth:"1px",borderBottomWidth:"3px",fontSize:"0.8em",fontWeight:"bold",lineHeight:"normal",px:"0.4em",whiteSpace:"nowrap"},JF={baseStyle:KF},XF={transitionProperty:"common",transitionDuration:"fast",transitionTimingFunction:"ease-out",cursor:"pointer",textDecoration:"none",outline:"none",color:"inherit",_hover:{textDecoration:"underline"},_focusVisible:{boxShadow:"outline"}},YF={baseStyle:XF},{defineMultiStyleConfig:QF,definePartsStyle:e5}=He(nD.keys),t5={marginEnd:"2",display:"inline",verticalAlign:"text-bottom"},n5=e5({icon:t5}),r5=QF({baseStyle:n5}),{defineMultiStyleConfig:i5,definePartsStyle:s5}=He(rD.keys),Br=ee("menu-bg"),mg=ee("menu-shadow"),a5={[Br.variable]:"#fff",[mg.variable]:"shadows.sm",_dark:{[Br.variable]:"colors.gray.700",[mg.variable]:"shadows.dark-lg"},color:"inherit",minW:"3xs",py:"2",zIndex:1,borderRadius:"md",borderWidth:"1px",bg:Br.reference,boxShadow:mg.reference},o5={py:"1.5",px:"3",transitionProperty:"background",transitionDuration:"ultra-fast",transitionTimingFunction:"ease-in",_focus:{[Br.variable]:"colors.gray.100",_dark:{[Br.variable]:"colors.whiteAlpha.100"}},_active:{[Br.variable]:"colors.gray.200",_dark:{[Br.variable]:"colors.whiteAlpha.200"}},_expanded:{[Br.variable]:"colors.gray.100",_dark:{[Br.variable]:"colors.whiteAlpha.100"}},_disabled:{opacity:.4,cursor:"not-allowed"},bg:Br.reference},l5={mx:4,my:2,fontWeight:"semibold",fontSize:"sm"},u5={display:"inline-flex",alignItems:"center",justifyContent:"center",flexShrink:0},c5={opacity:.6},d5={border:0,borderBottom:"1px solid",borderColor:"inherit",my:"2",opacity:.6},f5={transitionProperty:"common",transitionDuration:"normal"},h5=s5({button:f5,list:a5,item:o5,groupTitle:l5,icon:u5,command:c5,divider:d5}),p5=i5({baseStyle:h5}),{defineMultiStyleConfig:m5,definePartsStyle:vv}=He(iD.keys),gg=ee("modal-bg"),yg=ee("modal-shadow"),g5={bg:"blackAlpha.600",zIndex:"modal"},y5=t=>{const{isCentered:e,scrollBehavior:n}=t;return{display:"flex",zIndex:"modal",justifyContent:"center",alignItems:e?"center":"flex-start",overflow:n==="inside"?"hidden":"auto",overscrollBehaviorY:"none"}},v5=t=>{const{isCentered:e,scrollBehavior:n}=t;return{borderRadius:"md",color:"inherit",my:e?"auto":"16",mx:e?"auto":void 0,zIndex:"modal",maxH:n==="inside"?"calc(100% - 7.5rem)":void 0,[gg.variable]:"colors.white",[yg.variable]:"shadows.lg",_dark:{[gg.variable]:"colors.gray.700",[yg.variable]:"shadows.dark-lg"},bg:gg.reference,boxShadow:yg.reference}},b5={px:"6",py:"4",fontSize:"xl",fontWeight:"semibold"},w5={position:"absolute",top:"2",insetEnd:"3"},_5=t=>{const{scrollBehavior:e}=t;return{px:"6",py:"2",flex:"1",overflow:e==="inside"?"auto":void 0}},x5={px:"6",py:"4"},k5=vv(t=>({overlay:g5,dialogContainer:Qt(y5,t),dialog:Qt(v5,t),header:b5,closeButton:w5,body:Qt(_5,t),footer:x5}));function ur(t){return vv(t==="full"?{dialog:{maxW:"100vw",minH:"$100vh",my:"0",borderRadius:"0"}}:{dialog:{maxW:t}})}var S5={xs:ur("xs"),sm:ur("sm"),md:ur("md"),lg:ur("lg"),xl:ur("xl"),"2xl":ur("2xl"),"3xl":ur("3xl"),"4xl":ur("4xl"),"5xl":ur("5xl"),"6xl":ur("6xl"),full:ur("full")},C5=m5({baseStyle:k5,sizes:S5,defaultProps:{size:"md"}}),{defineMultiStyleConfig:T5,definePartsStyle:FE}=He(sD.keys),Rb=wt("number-input-stepper-width"),BE=wt("number-input-input-padding"),P5=gi(Rb).add("0.5rem").toString(),vg=wt("number-input-bg"),bg=wt("number-input-color"),wg=wt("number-input-border-color"),E5={[Rb.variable]:"sizes.6",[BE.variable]:P5},A5=t=>{var e,n;return(n=(e=Qt(Ee.baseStyle,t))==null?void 0:e.field)!=null?n:{}},I5={width:Rb.reference},O5={borderStart:"1px solid",borderStartColor:wg.reference,color:bg.reference,bg:vg.reference,[bg.variable]:"colors.chakra-body-text",[wg.variable]:"colors.chakra-border-color",_dark:{[bg.variable]:"colors.whiteAlpha.800",[wg.variable]:"colors.whiteAlpha.300"},_active:{[vg.variable]:"colors.gray.200",_dark:{[vg.variable]:"colors.whiteAlpha.300"}},_disabled:{opacity:.4,cursor:"not-allowed"}},R5=FE(t=>{var e;return{root:E5,field:(e=Qt(A5,t))!=null?e:{},stepperGroup:I5,stepper:O5}});function xd(t){var e,n,r;const i=(e=Ee.sizes)==null?void 0:e[t],s={lg:"md",md:"md",sm:"sm",xs:"sm"},a=(r=(n=i.field)==null?void 0:n.fontSize)!=null?r:"md",o=NE.fontSizes[a];return FE({field:{...i.field,paddingInlineEnd:BE.reference,verticalAlign:"top"},stepper:{fontSize:gi(o).multiply(.75).toString(),_first:{borderTopEndRadius:s[t]},_last:{borderBottomEndRadius:s[t],mt:"-1px",borderTopWidth:1}}})}var $5={xs:xd("xs"),sm:xd("sm"),md:xd("md"),lg:xd("lg")},N5=T5({baseStyle:R5,sizes:$5,variants:Ee.variants,defaultProps:Ee.defaultProps}),O1,j5={...(O1=Ee.baseStyle)==null?void 0:O1.field,textAlign:"center"},M5={lg:{fontSize:"lg",w:12,h:12,borderRadius:"md"},md:{fontSize:"md",w:10,h:10,borderRadius:"md"},sm:{fontSize:"sm",w:8,h:8,borderRadius:"sm"},xs:{fontSize:"xs",w:6,h:6,borderRadius:"sm"}},R1,$1,L5={outline:t=>{var e,n,r;return(r=(n=Qt((e=Ee.variants)==null?void 0:e.outline,t))==null?void 0:n.field)!=null?r:{}},flushed:t=>{var e,n,r;return(r=(n=Qt((e=Ee.variants)==null?void 0:e.flushed,t))==null?void 0:n.field)!=null?r:{}},filled:t=>{var e,n,r;return(r=(n=Qt((e=Ee.variants)==null?void 0:e.filled,t))==null?void 0:n.field)!=null?r:{}},unstyled:($1=(R1=Ee.variants)==null?void 0:R1.unstyled.field)!=null?$1:{}},z5={baseStyle:j5,sizes:M5,variants:L5,defaultProps:Ee.defaultProps},{defineMultiStyleConfig:D5,definePartsStyle:F5}=He(aD.keys),kd=wt("popper-bg"),B5=wt("popper-arrow-bg"),N1=wt("popper-arrow-shadow-color"),V5={zIndex:10},U5={[kd.variable]:"colors.white",bg:kd.reference,[B5.variable]:kd.reference,[N1.variable]:"colors.gray.200",_dark:{[kd.variable]:"colors.gray.700",[N1.variable]:"colors.whiteAlpha.300"},width:"xs",border:"1px solid",borderColor:"inherit",borderRadius:"md",boxShadow:"sm",zIndex:"inherit",_focusVisible:{outline:0,boxShadow:"outline"}},H5={px:3,py:2,borderBottomWidth:"1px"},W5={px:3,py:2},q5={px:3,py:2,borderTopWidth:"1px"},Z5={position:"absolute",borderRadius:"md",top:1,insetEnd:2,padding:2},G5=F5({popper:V5,content:U5,header:H5,body:W5,footer:q5,closeButton:Z5}),K5=D5({baseStyle:G5}),{definePartsStyle:bv,defineMultiStyleConfig:J5}=He(Xz.keys),_g=ee("drawer-bg"),xg=ee("drawer-box-shadow");function Ia(t){return bv(t==="full"?{dialog:{maxW:"100vw",h:"100vh"}}:{dialog:{maxW:t}})}var X5={bg:"blackAlpha.600",zIndex:"modal"},Y5={display:"flex",zIndex:"modal",justifyContent:"center"},Q5=t=>{const{isFullHeight:e}=t;return{...e&&{height:"100vh"},zIndex:"modal",maxH:"100vh",color:"inherit",[_g.variable]:"colors.white",[xg.variable]:"shadows.lg",_dark:{[_g.variable]:"colors.gray.700",[xg.variable]:"shadows.dark-lg"},bg:_g.reference,boxShadow:xg.reference}},e3={px:"6",py:"4",fontSize:"xl",fontWeight:"semibold"},t3={position:"absolute",top:"2",insetEnd:"3"},n3={px:"6",py:"2",flex:"1",overflow:"auto"},r3={px:"6",py:"4"},i3=bv(t=>({overlay:X5,dialogContainer:Y5,dialog:Qt(Q5,t),header:e3,closeButton:t3,body:n3,footer:r3})),s3={xs:Ia("xs"),sm:Ia("md"),md:Ia("lg"),lg:Ia("2xl"),xl:Ia("4xl"),full:Ia("full")},a3=J5({baseStyle:i3,sizes:s3,defaultProps:{size:"xs"}}),{definePartsStyle:o3,defineMultiStyleConfig:l3}=He(Yz.keys),u3={borderRadius:"md",py:"1",transitionProperty:"common",transitionDuration:"normal"},c3={borderRadius:"md",py:"1",transitionProperty:"common",transitionDuration:"normal",width:"full",_focusVisible:{boxShadow:"outline"},_placeholder:{opacity:.6}},d3={borderRadius:"md",py:"1",transitionProperty:"common",transitionDuration:"normal",width:"full",_focusVisible:{boxShadow:"outline"},_placeholder:{opacity:.6}},f3=o3({preview:u3,input:c3,textarea:d3}),h3=l3({baseStyle:f3}),{definePartsStyle:p3,defineMultiStyleConfig:m3}=He(Qz.keys),wo=ee("form-control-color"),g3={marginStart:"1",[wo.variable]:"colors.red.500",_dark:{[wo.variable]:"colors.red.300"},color:wo.reference},y3={mt:"2",[wo.variable]:"colors.gray.600",_dark:{[wo.variable]:"colors.whiteAlpha.600"},color:wo.reference,lineHeight:"normal",fontSize:"sm"},v3=p3({container:{width:"100%",position:"relative"},requiredIndicator:g3,helperText:y3}),b3=m3({baseStyle:v3}),{definePartsStyle:w3,defineMultiStyleConfig:_3}=He(eD.keys),_o=ee("form-error-color"),x3={[_o.variable]:"colors.red.500",_dark:{[_o.variable]:"colors.red.300"},color:_o.reference,mt:"2",fontSize:"sm",lineHeight:"normal"},k3={marginEnd:"0.5em",[_o.variable]:"colors.red.500",_dark:{[_o.variable]:"colors.red.300"},color:_o.reference},S3=w3({text:x3,icon:k3}),C3=_3({baseStyle:S3}),T3={fontSize:"md",marginEnd:"3",mb:"2",fontWeight:"medium",transitionProperty:"common",transitionDuration:"normal",opacity:1,_disabled:{opacity:.4}},P3={baseStyle:T3},E3={fontFamily:"heading",fontWeight:"bold"},A3={"4xl":{fontSize:["6xl",null,"7xl"],lineHeight:1},"3xl":{fontSize:["5xl",null,"6xl"],lineHeight:1},"2xl":{fontSize:["4xl",null,"5xl"],lineHeight:[1.2,null,1]},xl:{fontSize:["3xl",null,"4xl"],lineHeight:[1.33,null,1.2]},lg:{fontSize:["2xl",null,"3xl"],lineHeight:[1.33,null,1.2]},md:{fontSize:"xl",lineHeight:1.2},sm:{fontSize:"md",lineHeight:1.2},xs:{fontSize:"sm",lineHeight:1.2}},I3={baseStyle:E3,sizes:A3,defaultProps:{size:"xl"}},{defineMultiStyleConfig:O3,definePartsStyle:R3}=He(Kz.keys),kg=ee("breadcrumb-link-decor"),$3={transitionProperty:"common",transitionDuration:"fast",transitionTimingFunction:"ease-out",outline:"none",color:"inherit",textDecoration:kg.reference,[kg.variable]:"none","&:not([aria-current=page])":{cursor:"pointer",_hover:{[kg.variable]:"underline"},_focusVisible:{boxShadow:"outline"}}},N3=R3({link:$3}),j3=O3({baseStyle:N3}),M3={lineHeight:"1.2",borderRadius:"md",fontWeight:"semibold",transitionProperty:"common",transitionDuration:"normal",_focusVisible:{boxShadow:"outline"},_disabled:{opacity:.4,cursor:"not-allowed",boxShadow:"none"},_hover:{_disabled:{bg:"initial"}}},VE=t=>{const{colorScheme:e,theme:n}=t;if(e==="gray")return{color:Y("gray.800","whiteAlpha.900")(t),_hover:{bg:Y("gray.100","whiteAlpha.200")(t)},_active:{bg:Y("gray.200","whiteAlpha.300")(t)}};const r=zo(`${e}.200`,.12)(n),i=zo(`${e}.200`,.24)(n);return{color:Y(`${e}.600`,`${e}.200`)(t),bg:"transparent",_hover:{bg:Y(`${e}.50`,r)(t)},_active:{bg:Y(`${e}.100`,i)(t)}}},L3=t=>{const{colorScheme:e}=t,n=Y("gray.200","whiteAlpha.300")(t);return{border:"1px solid",borderColor:e==="gray"?n:"currentColor",".chakra-button__group[data-attached][data-orientation=horizontal] > &:not(:last-of-type)":{marginEnd:"-1px"},".chakra-button__group[data-attached][data-orientation=vertical] > &:not(:last-of-type)":{marginBottom:"-1px"},...Qt(VE,t)}},z3={yellow:{bg:"yellow.400",color:"black",hoverBg:"yellow.500",activeBg:"yellow.600"},cyan:{bg:"cyan.400",color:"black",hoverBg:"cyan.500",activeBg:"cyan.600"}},D3=t=>{var e;const{colorScheme:n}=t;if(n==="gray"){const l=Y("gray.100","whiteAlpha.200")(t);return{bg:l,color:Y("gray.800","whiteAlpha.900")(t),_hover:{bg:Y("gray.200","whiteAlpha.300")(t),_disabled:{bg:l}},_active:{bg:Y("gray.300","whiteAlpha.400")(t)}}}const{bg:r=`${n}.500`,color:i="white",hoverBg:s=`${n}.600`,activeBg:a=`${n}.700`}=(e=z3[n])!=null?e:{},o=Y(r,`${n}.200`)(t);return{bg:o,color:Y(i,"gray.800")(t),_hover:{bg:Y(s,`${n}.300`)(t),_disabled:{bg:o}},_active:{bg:Y(a,`${n}.400`)(t)}}},F3=t=>{const{colorScheme:e}=t;return{padding:0,height:"auto",lineHeight:"normal",verticalAlign:"baseline",color:Y(`${e}.500`,`${e}.200`)(t),_hover:{textDecoration:"underline",_disabled:{textDecoration:"none"}},_active:{color:Y(`${e}.700`,`${e}.500`)(t)}}},B3={bg:"none",color:"inherit",display:"inline",lineHeight:"inherit",m:"0",p:"0"},V3={ghost:VE,outline:L3,solid:D3,link:F3,unstyled:B3},U3={lg:{h:"12",minW:"12",fontSize:"lg",px:"6"},md:{h:"10",minW:"10",fontSize:"md",px:"4"},sm:{h:"8",minW:"8",fontSize:"sm",px:"3"},xs:{h:"6",minW:"6",fontSize:"xs",px:"2"}},H3={baseStyle:M3,variants:V3,sizes:U3,defaultProps:{variant:"solid",size:"md",colorScheme:"gray"}},{definePartsStyle:ia,defineMultiStyleConfig:W3}=He(gD.keys),lh=ee("card-bg"),xi=ee("card-padding"),UE=ee("card-shadow"),uf=ee("card-radius"),HE=ee("card-border-width","0"),WE=ee("card-border-color"),q3=ia({container:{[lh.variable]:"colors.chakra-body-bg",backgroundColor:lh.reference,boxShadow:UE.reference,borderRadius:uf.reference,color:"chakra-body-text",borderWidth:HE.reference,borderColor:WE.reference},body:{padding:xi.reference,flex:"1 1 0%"},header:{padding:xi.reference},footer:{padding:xi.reference}}),Z3={sm:ia({container:{[uf.variable]:"radii.base",[xi.variable]:"space.3"}}),md:ia({container:{[uf.variable]:"radii.md",[xi.variable]:"space.5"}}),lg:ia({container:{[uf.variable]:"radii.xl",[xi.variable]:"space.7"}})},G3={elevated:ia({container:{[UE.variable]:"shadows.base",_dark:{[lh.variable]:"colors.gray.700"}}}),outline:ia({container:{[HE.variable]:"1px",[WE.variable]:"colors.chakra-border-color"}}),filled:ia({container:{[lh.variable]:"colors.chakra-subtle-bg"}}),unstyled:{body:{[xi.variable]:0},header:{[xi.variable]:0},footer:{[xi.variable]:0}}},K3=W3({baseStyle:q3,variants:G3,sizes:Z3,defaultProps:{variant:"elevated",size:"md"}}),au=wt("close-button-size"),vl=wt("close-button-bg"),J3={w:[au.reference],h:[au.reference],borderRadius:"md",transitionProperty:"common",transitionDuration:"normal",_disabled:{opacity:.4,cursor:"not-allowed",boxShadow:"none"},_hover:{[vl.variable]:"colors.blackAlpha.100",_dark:{[vl.variable]:"colors.whiteAlpha.100"}},_active:{[vl.variable]:"colors.blackAlpha.200",_dark:{[vl.variable]:"colors.whiteAlpha.200"}},_focusVisible:{boxShadow:"outline"},bg:vl.reference},X3={lg:{[au.variable]:"sizes.10",fontSize:"md"},md:{[au.variable]:"sizes.8",fontSize:"xs"},sm:{[au.variable]:"sizes.6",fontSize:"2xs"}},Y3={baseStyle:J3,sizes:X3,defaultProps:{size:"md"}},{variants:Q3,defaultProps:eB}=iu,tB={fontFamily:"mono",fontSize:"sm",px:"0.2em",borderRadius:"sm",bg:ft.bg.reference,color:ft.color.reference,boxShadow:ft.shadow.reference},nB={baseStyle:tB,variants:Q3,defaultProps:eB},rB={w:"100%",mx:"auto",maxW:"prose",px:"4"},iB={baseStyle:rB},sB={opacity:.6,borderColor:"inherit"},aB={borderStyle:"solid"},oB={borderStyle:"dashed"},lB={solid:aB,dashed:oB},uB={baseStyle:sB,variants:lB,defaultProps:{variant:"solid"}},{definePartsStyle:cB,defineMultiStyleConfig:dB}=He(qz.keys),fB={borderTopWidth:"1px",borderColor:"inherit",_last:{borderBottomWidth:"1px"}},hB={transitionProperty:"common",transitionDuration:"normal",fontSize:"md",_focusVisible:{boxShadow:"outline"},_hover:{bg:"blackAlpha.50"},_disabled:{opacity:.4,cursor:"not-allowed"},px:"4",py:"2"},pB={pt:"2",px:"4",pb:"5"},mB={fontSize:"1.25em"},gB=cB({container:fB,button:hB,panel:pB,icon:mB}),yB=dB({baseStyle:gB}),{definePartsStyle:Sc,defineMultiStyleConfig:vB}=He(Zz.keys),On=ee("alert-fg"),Ri=ee("alert-bg"),bB=Sc({container:{bg:Ri.reference,px:"4",py:"3"},title:{fontWeight:"bold",lineHeight:"6",marginEnd:"2"},description:{lineHeight:"6"},icon:{color:On.reference,flexShrink:0,marginEnd:"3",w:"5",h:"6"},spinner:{color:On.reference,flexShrink:0,marginEnd:"3",w:"5",h:"5"}});function $b(t){const{theme:e,colorScheme:n}=t,r=zo(`${n}.200`,.16)(e);return{light:`colors.${n}.100`,dark:r}}var wB=Sc(t=>{const{colorScheme:e}=t,n=$b(t);return{container:{[On.variable]:`colors.${e}.600`,[Ri.variable]:n.light,_dark:{[On.variable]:`colors.${e}.200`,[Ri.variable]:n.dark}}}}),_B=Sc(t=>{const{colorScheme:e}=t,n=$b(t);return{container:{[On.variable]:`colors.${e}.600`,[Ri.variable]:n.light,_dark:{[On.variable]:`colors.${e}.200`,[Ri.variable]:n.dark},paddingStart:"3",borderStartWidth:"4px",borderStartColor:On.reference}}}),xB=Sc(t=>{const{colorScheme:e}=t,n=$b(t);return{container:{[On.variable]:`colors.${e}.600`,[Ri.variable]:n.light,_dark:{[On.variable]:`colors.${e}.200`,[Ri.variable]:n.dark},pt:"2",borderTopWidth:"4px",borderTopColor:On.reference}}}),kB=Sc(t=>{const{colorScheme:e}=t;return{container:{[On.variable]:"colors.white",[Ri.variable]:`colors.${e}.600`,_dark:{[On.variable]:"colors.gray.900",[Ri.variable]:`colors.${e}.200`},color:On.reference}}}),SB={subtle:wB,"left-accent":_B,"top-accent":xB,solid:kB},CB=vB({baseStyle:bB,variants:SB,defaultProps:{variant:"subtle",colorScheme:"blue"}}),{definePartsStyle:qE,defineMultiStyleConfig:TB}=He(Gz.keys),xo=ee("avatar-border-color"),ou=ee("avatar-bg"),Hu=ee("avatar-font-size"),Do=ee("avatar-size"),PB={borderRadius:"full",border:"0.2em solid",borderColor:xo.reference,[xo.variable]:"white",_dark:{[xo.variable]:"colors.gray.800"}},EB={bg:ou.reference,fontSize:Hu.reference,width:Do.reference,height:Do.reference,lineHeight:"1",[ou.variable]:"colors.gray.200",_dark:{[ou.variable]:"colors.whiteAlpha.400"}},AB=t=>{const{name:e,theme:n}=t,r=e?MD({string:e}):"colors.gray.400",i=ND(r)(n);let s="white";return i||(s="gray.800"),{bg:ou.reference,fontSize:Hu.reference,color:s,borderColor:xo.reference,verticalAlign:"top",width:Do.reference,height:Do.reference,"&:not([data-loaded])":{[ou.variable]:r},[xo.variable]:"colors.white",_dark:{[xo.variable]:"colors.gray.800"}}},IB={fontSize:Hu.reference,lineHeight:"1"},OB=qE(t=>({badge:Qt(PB,t),excessLabel:Qt(EB,t),container:Qt(AB,t),label:IB}));function Fi(t){const e=t!=="100%"?ME[t]:void 0;return qE({container:{[Do.variable]:e??t,[Hu.variable]:`calc(${e??t} / 2.5)`},excessLabel:{[Do.variable]:e??t,[Hu.variable]:`calc(${e??t} / 2.5)`}})}var RB={"2xs":Fi(4),xs:Fi(6),sm:Fi(8),md:Fi(12),lg:Fi(16),xl:Fi(24),"2xl":Fi(32),full:Fi("100%")},$B=TB({baseStyle:OB,sizes:RB,defaultProps:{size:"md"}}),NB={Accordion:yB,Alert:CB,Avatar:$B,Badge:iu,Breadcrumb:j3,Button:H3,Checkbox:oh,CloseButton:Y3,Code:nB,Container:iB,Divider:uB,Drawer:a3,Editable:h3,Form:b3,FormError:C3,FormLabel:P3,Heading:I3,Input:Ee,Kbd:JF,Link:YF,List:r5,Menu:p5,Modal:C5,NumberInput:N5,PinInput:z5,Popover:K5,Progress:nF,Radio:mF,Select:xF,Skeleton:SF,SkipLink:TF,Slider:LF,Spinner:FF,Stat:GF,Switch:YD,Table:s4,Tabs:w4,Tag:$4,Textarea:W4,Tooltip:G4,Card:K3,Stepper:Wz},jB={colors:{"chakra-body-text":{_light:"gray.800",_dark:"whiteAlpha.900"},"chakra-body-bg":{_light:"white",_dark:"gray.800"},"chakra-border-color":{_light:"gray.200",_dark:"whiteAlpha.300"},"chakra-inverse-text":{_light:"white",_dark:"gray.800"},"chakra-subtle-bg":{_light:"gray.100",_dark:"gray.700"},"chakra-subtle-text":{_light:"gray.600",_dark:"gray.400"},"chakra-placeholder-color":{_light:"gray.500",_dark:"whiteAlpha.400"}}},MB={global:{body:{fontFamily:"body",color:"chakra-body-text",bg:"chakra-body-bg",transitionProperty:"background-color",transitionDuration:"normal",lineHeight:"base"},"*::placeholder":{color:"chakra-placeholder-color"},"*, *::before, &::after":{borderColor:"chakra-border-color"}}},LB="ltr",zB={useSystemColorMode:!1,initialColorMode:"light",cssVarPrefix:"chakra"},ZE={semanticTokens:jB,direction:LB,...Vz,components:NB,styles:MB,config:zB};function Ol(t){return typeof t=="function"}function DB(...t){return e=>t.reduce((n,r)=>r(n),e)}var FB=t=>function(...n){let r=[...n],i=n[n.length-1];return vz(i)&&r.length>1?r=r.slice(0,r.length-1):i=t,DB(...r.map(s=>a=>Ol(s)?s(a):VB(a,s)))(i)},BB=FB(ZE);function VB(...t){return Jn({},...t,GE)}function GE(t,e,n,r){if((Ol(t)||Ol(e))&&Object.prototype.hasOwnProperty.call(r,n))return(...i)=>{const s=Ol(t)?t(...i):t,a=Ol(e)?e(...i):e;return Jn({},s,a,GE)}}function UB(t,e){const n={};return Object.keys(t).forEach(r=>{e.includes(r)||(n[r]=t[r])}),n}function HB(t,e,n,r){const i=typeof e=="string"?e.split("."):[e];for(r=0;r<i.length&&t;r+=1)t=t[i[r]];return t===void 0?n:t}var WB=t=>{const e=new WeakMap;return(r,i,s,a)=>{if(typeof r>"u")return t(r,i,s);e.has(r)||e.set(r,new Map);const o=e.get(r);if(o.has(i))return o.get(i);const l=t(r,i,s,a);return o.set(i,l),l}},KE=WB(HB);function JE(t,e){const n={};return Object.keys(t).forEach(r=>{const i=t[r];e(i,r,t)&&(n[r]=i)}),n}var XE=t=>JE(t,e=>e!=null);function qB(t){return typeof t=="function"}function YE(t,...e){return qB(t)?t(...e):t}var ZB=typeof Element<"u",GB=typeof Map=="function",KB=typeof Set=="function",JB=typeof ArrayBuffer=="function"&&!!ArrayBuffer.isView;function cf(t,e){if(t===e)return!0;if(t&&e&&typeof t=="object"&&typeof e=="object"){if(t.constructor!==e.constructor)return!1;var n,r,i;if(Array.isArray(t)){if(n=t.length,n!=e.length)return!1;for(r=n;r--!==0;)if(!cf(t[r],e[r]))return!1;return!0}var s;if(GB&&t instanceof Map&&e instanceof Map){if(t.size!==e.size)return!1;for(s=t.entries();!(r=s.next()).done;)if(!e.has(r.value[0]))return!1;for(s=t.entries();!(r=s.next()).done;)if(!cf(r.value[1],e.get(r.value[0])))return!1;return!0}if(KB&&t instanceof Set&&e instanceof Set){if(t.size!==e.size)return!1;for(s=t.entries();!(r=s.next()).done;)if(!e.has(r.value[0]))return!1;return!0}if(JB&&ArrayBuffer.isView(t)&&ArrayBuffer.isView(e)){if(n=t.length,n!=e.length)return!1;for(r=n;r--!==0;)if(t[r]!==e[r])return!1;return!0}if(t.constructor===RegExp)return t.source===e.source&&t.flags===e.flags;if(t.valueOf!==Object.prototype.valueOf&&typeof t.valueOf=="function"&&typeof e.valueOf=="function")return t.valueOf()===e.valueOf();if(t.toString!==Object.prototype.toString&&typeof t.toString=="function"&&typeof e.toString=="function")return t.toString()===e.toString();if(i=Object.keys(t),n=i.length,n!==Object.keys(e).length)return!1;for(r=n;r--!==0;)if(!Object.prototype.hasOwnProperty.call(e,i[r]))return!1;if(ZB&&t instanceof Element)return!1;for(r=n;r--!==0;)if(!((i[r]==="_owner"||i[r]==="__v"||i[r]==="__o")&&t.$$typeof)&&!cf(t[i[r]],e[i[r]]))return!1;return!0}return t!==t&&e!==e}var XB=function(e,n){try{return cf(e,n)}catch(r){if((r.message||"").match(/stack|recursion/i))return console.warn("react-fast-compare cannot handle circular refs"),!1;throw r}};const YB=ba(XB);function QE(t,e={}){var n;const{styleConfig:r,...i}=e,{theme:s,colorMode:a}=QM(),o=t?KE(s,`components.${t}`):void 0,l=r||o,u=Jn({theme:s,colorMode:a},(n=l==null?void 0:l.defaultProps)!=null?n:{},XE(UB(i,["children"]))),c=A.useRef({});if(l){const f=gz(l)(u);YB(c.current,f)||(c.current=f)}return c.current}function Go(t,e={}){return QE(t,e)}function Cc(t,e={}){return QE(t,e)}var QB=new Set([...iz,"textStyle","layerStyle","apply","noOfLines","focusBorderColor","errorBorderColor","as","__css","css","sx"]),e6=new Set(["htmlWidth","htmlHeight","htmlSize","htmlTranslate"]);function t6(t){return e6.has(t)||!QB.has(t)}function n6(t,...e){if(t==null)throw new TypeError("Cannot convert undefined or null to object");const n={...t};for(const r of e)if(r!=null)for(const i in r)Object.prototype.hasOwnProperty.call(r,i)&&(i in n&&delete n[i],n[i]=r[i]);return n}function r6(t){const e=Object.assign({},t);for(let n in e)e[n]===void 0&&delete e[n];return e}var i6=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|disableRemotePlayback|download|draggable|encType|enterKeyHint|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,s6=cE(function(t){return i6.test(t)||t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&t.charCodeAt(2)<91}),a6=s6,o6=function(e){return e!=="theme"},j1=function(e){return typeof e=="string"&&e.charCodeAt(0)>96?a6:o6},M1=function(e,n,r){var i;if(n){var s=n.shouldForwardProp;i=e.__emotion_forwardProp&&s?function(a){return e.__emotion_forwardProp(a)&&s(a)}:s}return typeof i!="function"&&r&&(i=e.__emotion_forwardProp),i},l6=function(e){var n=e.cache,r=e.serialized,i=e.isStringTag;return gE(n,r,i),RM(function(){return yE(n,r,i)}),null},u6=function t(e,n){var r=e.__emotion_real===e,i=r&&e.__emotion_base||e,s,a;n!==void 0&&(s=n.label,a=n.target);var o=M1(e,n,r),l=o||j1(i),u=!l("as");return function(){var c=arguments,d=r&&e.__emotion_styles!==void 0?e.__emotion_styles.slice(0):[];if(s!==void 0&&d.push("label:"+s+";"),c[0]==null||c[0].raw===void 0)d.push.apply(d,c);else{d.push(c[0][0]);for(var f=c.length,h=1;h<f;h++)d.push(c[h],c[0][h])}var p=_E(function(y,b,m){var g=u&&y.as||i,v="",x=[],C=y;if(y.theme==null){C={};for(var k in y)C[k]=y[k];C.theme=A.useContext(Fu)}typeof y.className=="string"?v=CM(b.registered,x,y.className):y.className!=null&&(v=y.className+" ");var I=xb(d.concat(x),b.registered,C);v+=b.key+"-"+I.name,a!==void 0&&(v+=" "+a);var R=u&&o===void 0?j1(g):l,j={};for(var T in y)u&&T==="as"||R(T)&&(j[T]=y[T]);return j.className=v,j.ref=m,A.createElement(A.Fragment,null,A.createElement(l6,{cache:b,serialized:I,isStringTag:typeof g=="string"}),A.createElement(g,j))});return p.displayName=s!==void 0?s:"Styled("+(typeof i=="string"?i:i.displayName||i.name||"Component")+")",p.defaultProps=e.defaultProps,p.__emotion_real=p,p.__emotion_base=i,p.__emotion_styles=d,p.__emotion_forwardProp=o,Object.defineProperty(p,"toString",{value:function(){return"."+a}}),p.withComponent=function(y,b){return t(y,nh({},n,b,{shouldForwardProp:M1(p,b,!0)})).apply(void 0,d)},p}},c6=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"],uh=u6.bind();c6.forEach(function(t){uh[t]=uh(t)});var L1,d6=(L1=uh.default)!=null?L1:uh,f6=({baseStyle:t})=>e=>{const{theme:n,css:r,__css:i,sx:s,...a}=e,o=JE(a,(d,f)=>az(f)),l=YE(t,e),u=n6({},i,l,XE(o),s),c=$E(u)(e.theme);return r?[c,r]:c};function Sg(t,e){const{baseStyle:n,...r}=e??{};r.shouldForwardProp||(r.shouldForwardProp=t6);const i=f6({baseStyle:n}),s=d6(t,r)(i);return If.forwardRef(function(l,u){const{colorMode:c,forced:d}=Cb();return If.createElement(s,{ref:u,"data-theme":d?c:void 0,...l})})}function h6(){const t=new Map;return new Proxy(Sg,{apply(e,n,r){return Sg(...r)},get(e,n){return t.has(n)||t.set(n,Sg(n)),t.get(n)}})}var Me=h6();function st(t){return A.forwardRef(t)}function p6(t={}){const{strict:e=!0,errorMessage:n="useContext: `context` is undefined. Seems you forgot to wrap component within the Provider",name:r}=t,i=A.createContext(void 0);i.displayName=r;function s(){var a;const o=A.useContext(i);if(!o&&e){const l=new Error(n);throw l.name="ContextError",(a=Error.captureStackTrace)==null||a.call(Error,l,s),l}return o}return[i.Provider,s,i]}function m6(t){const{cssVarsRoot:e,theme:n,children:r}=t,i=A.useMemo(()=>rz(n),[n]);return O.jsxs(jM,{theme:i,children:[O.jsx(g6,{root:e}),r]})}function g6({root:t=":host, :root"}){const e=[t,"[data-theme]"].join(",");return O.jsx(Bp,{styles:n=>({[e]:n.__cssVars})})}p6({name:"StylesContext",errorMessage:"useStyles: `styles` is undefined. Seems you forgot to wrap the components in `<StylesProvider />` "});function y6(){const{colorMode:t}=Cb();return O.jsx(Bp,{styles:e=>{const n=KE(e,"styles.global"),r=YE(n,{theme:e,colorMode:t});return r?$E(r)(e):void 0}})}var eA=A.createContext({getDocument(){return document},getWindow(){return window}});eA.displayName="EnvironmentContext";function tA(t){const{children:e,environment:n,disabled:r}=t,i=A.useRef(null),s=A.useMemo(()=>n||{getDocument:()=>{var o,l;return(l=(o=i.current)==null?void 0:o.ownerDocument)!=null?l:document},getWindow:()=>{var o,l;return(l=(o=i.current)==null?void 0:o.ownerDocument.defaultView)!=null?l:window}},[n]),a=!r||!n;return O.jsxs(eA.Provider,{value:s,children:[e,a&&O.jsx("span",{id:"__chakra_env",hidden:!0,ref:i})]})}tA.displayName="EnvironmentProvider";var v6=t=>{const{children:e,colorModeManager:n,portalZIndex:r,resetScope:i,resetCSS:s=!0,theme:a={},environment:o,cssVarsRoot:l,disableEnvironment:u,disableGlobalStyle:c}=t,d=O.jsx(tA,{environment:o,disabled:u,children:e});return O.jsx(m6,{theme:a,cssVarsRoot:l,children:O.jsxs(TE,{colorModeManager:n,options:a.config,children:[s?O.jsx(DM,{scope:i}):O.jsx(zM,{}),!c&&O.jsx(y6,{}),r?O.jsx(SE,{zIndex:r,children:d}):d]})})},b6=(t,e)=>t.find(n=>n.id===e);function z1(t,e){const n=nA(t,e),r=n?t[n].findIndex(i=>i.id===e):-1;return{position:n,index:r}}function nA(t,e){for(const[n,r]of Object.entries(t))if(b6(r,e))return n}function w6(t){const e=t.includes("right"),n=t.includes("left");let r="center";return e&&(r="flex-end"),n&&(r="flex-start"),{display:"flex",flexDirection:"column",alignItems:r}}function _6(t){const n=t==="top"||t==="bottom"?"0 auto":void 0,r=t.includes("top")?"env(safe-area-inset-top, 0px)":void 0,i=t.includes("bottom")?"env(safe-area-inset-bottom, 0px)":void 0,s=t.includes("left")?void 0:"env(safe-area-inset-right, 0px)",a=t.includes("right")?void 0:"env(safe-area-inset-left, 0px)";return{position:"fixed",zIndex:"var(--toast-z-index, 5500)",pointerEvents:"none",display:"flex",flexDirection:"column",margin:n,top:r,bottom:i,right:s,left:a}}function df(t,e=[]){const n=A.useRef(t);return A.useEffect(()=>{n.current=t}),A.useCallback((...r)=>{var i;return(i=n.current)==null?void 0:i.call(n,...r)},e)}function x6(t,e){const n=df(t);A.useEffect(()=>{if(e==null)return;let r=null;return r=window.setTimeout(()=>{n()},e),()=>{r&&window.clearTimeout(r)}},[e,n])}function D1(t,e){const n=A.useRef(!1),r=A.useRef(!1);A.useEffect(()=>{if(n.current&&r.current)return t();r.current=!0},e),A.useEffect(()=>(n.current=!0,()=>{n.current=!1}),[])}const Nb=A.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"}),Zp=A.createContext({}),Tc=A.createContext(null),jb=typeof document<"u",Mb=jb?A.useLayoutEffect:A.useEffect,rA=A.createContext({strict:!1}),Lb=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),k6="framerAppearId",iA="data-"+Lb(k6),S6={skipAnimations:!1,useManualTiming:!1};let F1=class{constructor(){this.order=[],this.scheduled=new Set}add(e){if(!this.scheduled.has(e))return this.scheduled.add(e),this.order.push(e),!0}remove(e){const n=this.order.indexOf(e);n!==-1&&(this.order.splice(n,1),this.scheduled.delete(e))}clear(){this.order.length=0,this.scheduled.clear()}};function C6(t){let e=new F1,n=new F1,r=0,i=!1,s=!1;const a=new WeakSet,o={schedule:(l,u=!1,c=!1)=>{const d=c&&i,f=d?e:n;return u&&a.add(l),f.add(l)&&d&&i&&(r=e.order.length),l},cancel:l=>{n.remove(l),a.delete(l)},process:l=>{if(i){s=!0;return}if(i=!0,[e,n]=[n,e],n.clear(),r=e.order.length,r)for(let u=0;u<r;u++){const c=e.order[u];a.has(c)&&(o.schedule(c),t()),c(l)}i=!1,s&&(s=!1,o.process(l))}};return o}const Sd=["read","resolveKeyframes","update","preRender","render","postRender"],T6=40;function sA(t,e){let n=!1,r=!0;const i={delta:0,timestamp:0,isProcessing:!1},s=Sd.reduce((d,f)=>(d[f]=C6(()=>n=!0),d),{}),a=d=>{s[d].process(i)},o=()=>{const d=performance.now();n=!1,i.delta=r?1e3/60:Math.max(Math.min(d-i.timestamp,T6),1),i.timestamp=d,i.isProcessing=!0,Sd.forEach(a),i.isProcessing=!1,n&&e&&(r=!1,t(o))},l=()=>{n=!0,r=!0,i.isProcessing||t(o)};return{schedule:Sd.reduce((d,f)=>{const h=s[f];return d[f]=(p,y=!1,b=!1)=>(n||l(),h.schedule(p,y,b)),d},{}),cancel:d=>Sd.forEach(f=>s[f].cancel(d)),state:i,steps:s}}const{schedule:zb,cancel:$te}=sA(queueMicrotask,!1);function P6(t,e,n,r){const{visualElement:i}=A.useContext(Zp),s=A.useContext(rA),a=A.useContext(Tc),o=A.useContext(Nb).reducedMotion,l=A.useRef();r=r||s.renderer,!l.current&&r&&(l.current=r(t,{visualState:e,parent:i,props:n,presenceContext:a,blockInitialAnimation:a?a.initial===!1:!1,reducedMotionConfig:o}));const u=l.current;A.useInsertionEffect(()=>{u&&u.update(n,a)});const c=A.useRef(!!(n[iA]&&!window.HandoffComplete));return Mb(()=>{u&&(zb.postRender(u.render),c.current&&u.animationState&&u.animationState.animateChanges())}),A.useEffect(()=>{u&&(u.updateFeatures(),!c.current&&u.animationState&&u.animationState.animateChanges(),c.current&&(c.current=!1,window.HandoffComplete=!0))}),u}function io(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function E6(t,e,n){return A.useCallback(r=>{r&&t.mount&&t.mount(r),e&&(r?e.mount(r):e.unmount()),n&&(typeof n=="function"?n(r):io(n)&&(n.current=r))},[e])}function Wu(t){return typeof t=="string"||Array.isArray(t)}function Gp(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}const Db=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Fb=["initial",...Db];function Kp(t){return Gp(t.animate)||Fb.some(e=>Wu(t[e]))}function aA(t){return!!(Kp(t)||t.variants)}function A6(t,e){if(Kp(t)){const{initial:n,animate:r}=t;return{initial:n===!1||Wu(n)?n:void 0,animate:Wu(r)?r:void 0}}return t.inherit!==!1?e:{}}function I6(t){const{initial:e,animate:n}=A6(t,A.useContext(Zp));return A.useMemo(()=>({initial:e,animate:n}),[B1(e),B1(n)])}function B1(t){return Array.isArray(t)?t.join(" "):t}const V1={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},qu={};for(const t in V1)qu[t]={isEnabled:e=>V1[t].some(n=>!!e[n])};function O6(t){for(const e in t)qu[e]={...qu[e],...t[e]}}const Bb=A.createContext({}),oA=A.createContext({}),R6=Symbol.for("motionComponentSymbol");function $6({preloadedFeatures:t,createVisualElement:e,useRender:n,useVisualState:r,Component:i}){t&&O6(t);function s(o,l){let u;const c={...A.useContext(Nb),...o,layoutId:N6(o)},{isStatic:d}=c,f=I6(o),h=r(o,d);if(!d&&jb){f.visualElement=P6(i,h,c,e);const p=A.useContext(oA),y=A.useContext(rA).strict;f.visualElement&&(u=f.visualElement.loadFeatures(c,y,t,p))}return O.jsxs(Zp.Provider,{value:f,children:[u&&f.visualElement?O.jsx(u,{visualElement:f.visualElement,...c}):null,n(i,o,E6(h,f.visualElement,l),h,d,f.visualElement)]})}const a=A.forwardRef(s);return a[R6]=i,a}function N6({layoutId:t}){const e=A.useContext(Bb).id;return e&&t!==void 0?e+"-"+t:t}function j6(t){function e(r,i={}){return $6(t(r,i))}if(typeof Proxy>"u")return e;const n=new Map;return new Proxy(e,{get:(r,i)=>(n.has(i)||n.set(i,e(i)),n.get(i))})}const M6=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Vb(t){return typeof t!="string"||t.includes("-")?!1:!!(M6.indexOf(t)>-1||/[A-Z]/u.test(t))}const ch={};function L6(t){Object.assign(ch,t)}const Pc=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],xa=new Set(Pc);function lA(t,{layout:e,layoutId:n}){return xa.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!ch[t]||t==="opacity")}const Bt=t=>!!(t&&t.getVelocity),z6={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},D6=Pc.length;function F6(t,{enableHardwareAcceleration:e=!0,allowTransformNone:n=!0},r,i){let s="";for(let a=0;a<D6;a++){const o=Pc[a];if(t[o]!==void 0){const l=z6[o]||o;s+=`${l}(${t[o]}) `}}return e&&!t.z&&(s+="translateZ(0)"),s=s.trim(),i?s=i(t,r?"":s):n&&r&&(s="none"),s}const uA=t=>e=>typeof e=="string"&&e.startsWith(t),cA=uA("--"),B6=uA("var(--"),Ub=t=>B6(t)?V6.test(t.split("/*")[0].trim()):!1,V6=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,U6=(t,e)=>e&&typeof t=="number"?e.transform(t):t,ms=(t,e,n)=>n>e?e:n<t?t:n,Ko={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},lu={...Ko,transform:t=>ms(0,1,t)},Cd={...Ko,default:1},uu=t=>Math.round(t*1e5)/1e5,Hb=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu,H6=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu,W6=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu;function Ec(t){return typeof t=="string"}const Ac=t=>({test:e=>Ec(e)&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),Wi=Ac("deg"),ei=Ac("%"),te=Ac("px"),q6=Ac("vh"),Z6=Ac("vw"),U1={...ei,parse:t=>ei.parse(t)/100,transform:t=>ei.transform(t*100)},H1={...Ko,transform:Math.round},dA={borderWidth:te,borderTopWidth:te,borderRightWidth:te,borderBottomWidth:te,borderLeftWidth:te,borderRadius:te,radius:te,borderTopLeftRadius:te,borderTopRightRadius:te,borderBottomRightRadius:te,borderBottomLeftRadius:te,width:te,maxWidth:te,height:te,maxHeight:te,size:te,top:te,right:te,bottom:te,left:te,padding:te,paddingTop:te,paddingRight:te,paddingBottom:te,paddingLeft:te,margin:te,marginTop:te,marginRight:te,marginBottom:te,marginLeft:te,rotate:Wi,rotateX:Wi,rotateY:Wi,rotateZ:Wi,scale:Cd,scaleX:Cd,scaleY:Cd,scaleZ:Cd,skew:Wi,skewX:Wi,skewY:Wi,distance:te,translateX:te,translateY:te,translateZ:te,x:te,y:te,z:te,perspective:te,transformPerspective:te,opacity:lu,originX:U1,originY:U1,originZ:te,zIndex:H1,backgroundPositionX:te,backgroundPositionY:te,fillOpacity:lu,strokeOpacity:lu,numOctaves:H1};function Wb(t,e,n,r){const{style:i,vars:s,transform:a,transformOrigin:o}=t;let l=!1,u=!1,c=!0;for(const d in e){const f=e[d];if(cA(d)){s[d]=f;continue}const h=dA[d],p=U6(f,h);if(xa.has(d)){if(l=!0,a[d]=p,!c)continue;f!==(h.default||0)&&(c=!1)}else d.startsWith("origin")?(u=!0,o[d]=p):i[d]=p}if(e.transform||(l||r?i.transform=F6(t.transform,n,c,r):i.transform&&(i.transform="none")),u){const{originX:d="50%",originY:f="50%",originZ:h=0}=o;i.transformOrigin=`${d} ${f} ${h}`}}const qb=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function fA(t,e,n){for(const r in e)!Bt(e[r])&&!lA(r,n)&&(t[r]=e[r])}function G6({transformTemplate:t},e,n){return A.useMemo(()=>{const r=qb();return Wb(r,e,{enableHardwareAcceleration:!n},t),Object.assign({},r.vars,r.style)},[e])}function K6(t,e,n){const r=t.style||{},i={};return fA(i,r,t),Object.assign(i,G6(t,e,n)),i}function J6(t,e,n){const r={},i=K6(t,e,n);return t.drag&&t.dragListener!==!1&&(r.draggable=!1,i.userSelect=i.WebkitUserSelect=i.WebkitTouchCallout="none",i.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(r.tabIndex=0),r.style=i,r}const X6=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function dh(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||X6.has(t)}let hA=t=>!dh(t);function Y6(t){t&&(hA=e=>e.startsWith("on")?!dh(e):t(e))}try{Y6(require("@emotion/is-prop-valid").default)}catch{}function Q6(t,e,n){const r={};for(const i in t)i==="values"&&typeof t.values=="object"||(hA(i)||n===!0&&dh(i)||!e&&!dh(i)||t.draggable&&i.startsWith("onDrag"))&&(r[i]=t[i]);return r}function W1(t,e,n){return typeof t=="string"?t:te.transform(e+n*t)}function e9(t,e,n){const r=W1(e,t.x,t.width),i=W1(n,t.y,t.height);return`${r} ${i}`}const t9={offset:"stroke-dashoffset",array:"stroke-dasharray"},n9={offset:"strokeDashoffset",array:"strokeDasharray"};function r9(t,e,n=1,r=0,i=!0){t.pathLength=1;const s=i?t9:n9;t[s.offset]=te.transform(-r);const a=te.transform(e),o=te.transform(n);t[s.array]=`${a} ${o}`}function Zb(t,{attrX:e,attrY:n,attrScale:r,originX:i,originY:s,pathLength:a,pathSpacing:o=1,pathOffset:l=0,...u},c,d,f){if(Wb(t,u,c,f),d){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:h,style:p,dimensions:y}=t;h.transform&&(y&&(p.transform=h.transform),delete h.transform),y&&(i!==void 0||s!==void 0||p.transform)&&(p.transformOrigin=e9(y,i!==void 0?i:.5,s!==void 0?s:.5)),e!==void 0&&(h.x=e),n!==void 0&&(h.y=n),r!==void 0&&(h.scale=r),a!==void 0&&r9(h,a,o,l,!1)}const pA=()=>({...qb(),attrs:{}}),Gb=t=>typeof t=="string"&&t.toLowerCase()==="svg";function i9(t,e,n,r){const i=A.useMemo(()=>{const s=pA();return Zb(s,e,{enableHardwareAcceleration:!1},Gb(r),t.transformTemplate),{...s.attrs,style:{...s.style}}},[e]);if(t.style){const s={};fA(s,t.style,t),i.style={...s,...i.style}}return i}function s9(t=!1){return(n,r,i,{latestValues:s},a)=>{const l=(Vb(n)?i9:J6)(r,s,a,n),u=Q6(r,typeof n=="string",t),c=n!==A.Fragment?{...u,...l,ref:i}:{},{children:d}=r,f=A.useMemo(()=>Bt(d)?d.get():d,[d]);return A.createElement(n,{...c,children:f})}}function mA(t,{style:e,vars:n},r,i){Object.assign(t.style,e,i&&i.getProjectionStyles(r));for(const s in n)t.style.setProperty(s,n[s])}const gA=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function yA(t,e,n,r){mA(t,e,void 0,r);for(const i in e.attrs)t.setAttribute(gA.has(i)?i:Lb(i),e.attrs[i])}function Kb(t,e,n){var r;const{style:i}=t,s={};for(const a in i)(Bt(i[a])||e.style&&Bt(e.style[a])||lA(a,t)||((r=n==null?void 0:n.getValue(a))===null||r===void 0?void 0:r.liveStyle)!==void 0)&&(s[a]=i[a]);return s}function vA(t,e,n){const r=Kb(t,e,n);for(const i in t)if(Bt(t[i])||Bt(e[i])){const s=Pc.indexOf(i)!==-1?"attr"+i.charAt(0).toUpperCase()+i.substring(1):i;r[s]=t[i]}return r}function q1(t){const e=[{},{}];return t==null||t.values.forEach((n,r)=>{e[0][r]=n.get(),e[1][r]=n.getVelocity()}),e}function Jb(t,e,n,r){if(typeof e=="function"){const[i,s]=q1(r);e=e(n!==void 0?n:t.custom,i,s)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[i,s]=q1(r);e=e(n!==void 0?n:t.custom,i,s)}return e}function bA(t){const e=A.useRef(null);return e.current===null&&(e.current=t()),e.current}const wv=t=>Array.isArray(t),a9=t=>!!(t&&typeof t=="object"&&t.mix&&t.toValue),o9=t=>wv(t)?t[t.length-1]||0:t;function ff(t){const e=Bt(t)?t.get():t;return a9(e)?e.toValue():e}function l9({scrapeMotionValuesFromProps:t,createRenderState:e,onMount:n},r,i,s){const a={latestValues:u9(r,i,s,t),renderState:e()};return n&&(a.mount=o=>n(r,o,a)),a}const wA=t=>(e,n)=>{const r=A.useContext(Zp),i=A.useContext(Tc),s=()=>l9(t,e,r,i);return n?s():bA(s)};function u9(t,e,n,r){const i={},s=r(t,{});for(const f in s)i[f]=ff(s[f]);let{initial:a,animate:o}=t;const l=Kp(t),u=aA(t);e&&u&&!l&&t.inherit!==!1&&(a===void 0&&(a=e.initial),o===void 0&&(o=e.animate));let c=n?n.initial===!1:!1;c=c||a===!1;const d=c?o:a;return d&&typeof d!="boolean"&&!Gp(d)&&(Array.isArray(d)?d:[d]).forEach(h=>{const p=Jb(t,h);if(!p)return;const{transitionEnd:y,transition:b,...m}=p;for(const g in m){let v=m[g];if(Array.isArray(v)){const x=c?v.length-1:0;v=v[x]}v!==null&&(i[g]=v)}for(const g in y)i[g]=y[g]}),i}const Ut=t=>t,{schedule:je,cancel:gs,state:Et,steps:Cg}=sA(typeof requestAnimationFrame<"u"?requestAnimationFrame:Ut,!0),c9={useVisualState:wA({scrapeMotionValuesFromProps:vA,createRenderState:pA,onMount:(t,e,{renderState:n,latestValues:r})=>{je.read(()=>{try{n.dimensions=typeof e.getBBox=="function"?e.getBBox():e.getBoundingClientRect()}catch{n.dimensions={x:0,y:0,width:0,height:0}}}),je.render(()=>{Zb(n,r,{enableHardwareAcceleration:!1},Gb(e.tagName),t.transformTemplate),yA(e,n)})}})},d9={useVisualState:wA({scrapeMotionValuesFromProps:Kb,createRenderState:qb})};function f9(t,{forwardMotionProps:e=!1},n,r){return{...Vb(t)?c9:d9,preloadedFeatures:n,useRender:s9(e),createVisualElement:r,Component:t}}function wi(t,e,n,r={passive:!0}){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n)}const _A=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1;function Jp(t,e="page"){return{point:{x:t[`${e}X`],y:t[`${e}Y`]}}}const h9=t=>e=>_A(e)&&t(e,Jp(e));function ki(t,e,n,r){return wi(t,e,h9(n),r)}const p9=(t,e)=>n=>e(t(n)),Si=(...t)=>t.reduce(p9);function xA(t){let e=null;return()=>{const n=()=>{e=null};return e===null?(e=t,n):!1}}const Z1=xA("dragHorizontal"),G1=xA("dragVertical");function kA(t){let e=!1;if(t==="y")e=G1();else if(t==="x")e=Z1();else{const n=Z1(),r=G1();n&&r?e=()=>{n(),r()}:(n&&n(),r&&r())}return e}function SA(){const t=kA(!0);return t?(t(),!1):!0}class Cs{constructor(e){this.isMounted=!1,this.node=e}update(){}}function K1(t,e){const n=e?"pointerenter":"pointerleave",r=e?"onHoverStart":"onHoverEnd",i=(s,a)=>{if(s.pointerType==="touch"||SA())return;const o=t.getProps();t.animationState&&o.whileHover&&t.animationState.setActive("whileHover",e);const l=o[r];l&&je.postRender(()=>l(s,a))};return ki(t.current,n,i,{passive:!t.getProps()[r]})}class m9 extends Cs{mount(){this.unmount=Si(K1(this.node,!0),K1(this.node,!1))}unmount(){}}class g9 extends Cs{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Si(wi(this.node.current,"focus",()=>this.onFocus()),wi(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}const CA=(t,e)=>e?t===e?!0:CA(t,e.parentElement):!1;function Tg(t,e){if(!e)return;const n=new PointerEvent("pointer"+t);e(n,Jp(n))}class y9 extends Cs{constructor(){super(...arguments),this.removeStartListeners=Ut,this.removeEndListeners=Ut,this.removeAccessibleListeners=Ut,this.startPointerPress=(e,n)=>{if(this.isPressing)return;this.removeEndListeners();const r=this.node.getProps(),s=ki(window,"pointerup",(o,l)=>{if(!this.checkPressEnd())return;const{onTap:u,onTapCancel:c,globalTapTarget:d}=this.node.getProps(),f=!d&&!CA(this.node.current,o.target)?c:u;f&&je.update(()=>f(o,l))},{passive:!(r.onTap||r.onPointerUp)}),a=ki(window,"pointercancel",(o,l)=>this.cancelPress(o,l),{passive:!(r.onTapCancel||r.onPointerCancel)});this.removeEndListeners=Si(s,a),this.startPress(e,n)},this.startAccessiblePress=()=>{const e=s=>{if(s.key!=="Enter"||this.isPressing)return;const a=o=>{o.key!=="Enter"||!this.checkPressEnd()||Tg("up",(l,u)=>{const{onTap:c}=this.node.getProps();c&&je.postRender(()=>c(l,u))})};this.removeEndListeners(),this.removeEndListeners=wi(this.node.current,"keyup",a),Tg("down",(o,l)=>{this.startPress(o,l)})},n=wi(this.node.current,"keydown",e),r=()=>{this.isPressing&&Tg("cancel",(s,a)=>this.cancelPress(s,a))},i=wi(this.node.current,"blur",r);this.removeAccessibleListeners=Si(n,i)}}startPress(e,n){this.isPressing=!0;const{onTapStart:r,whileTap:i}=this.node.getProps();i&&this.node.animationState&&this.node.animationState.setActive("whileTap",!0),r&&je.postRender(()=>r(e,n))}checkPressEnd(){return this.removeEndListeners(),this.isPressing=!1,this.node.getProps().whileTap&&this.node.animationState&&this.node.animationState.setActive("whileTap",!1),!SA()}cancelPress(e,n){if(!this.checkPressEnd())return;const{onTapCancel:r}=this.node.getProps();r&&je.postRender(()=>r(e,n))}mount(){const e=this.node.getProps(),n=ki(e.globalTapTarget?window:this.node.current,"pointerdown",this.startPointerPress,{passive:!(e.onTapStart||e.onPointerStart)}),r=wi(this.node.current,"focus",this.startAccessiblePress);this.removeStartListeners=Si(n,r)}unmount(){this.removeStartListeners(),this.removeEndListeners(),this.removeAccessibleListeners()}}const _v=new WeakMap,Pg=new WeakMap,v9=t=>{const e=_v.get(t.target);e&&e(t)},b9=t=>{t.forEach(v9)};function w9({root:t,...e}){const n=t||document;Pg.has(n)||Pg.set(n,{});const r=Pg.get(n),i=JSON.stringify(e);return r[i]||(r[i]=new IntersectionObserver(b9,{root:t,...e})),r[i]}function _9(t,e,n){const r=w9(e);return _v.set(t,n),r.observe(t),()=>{_v.delete(t),r.unobserve(t)}}const x9={some:0,all:1};class k9 extends Cs{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:r,amount:i="some",once:s}=e,a={root:n?n.current:void 0,rootMargin:r,threshold:typeof i=="number"?i:x9[i]},o=l=>{const{isIntersecting:u}=l;if(this.isInView===u||(this.isInView=u,s&&!u&&this.hasEnteredView))return;u&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",u);const{onViewportEnter:c,onViewportLeave:d}=this.node.getProps(),f=u?c:d;f&&f(l)};return _9(this.node.current,a,o)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(S9(e,n))&&this.startObserver()}unmount(){}}function S9({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const C9={inView:{Feature:k9},tap:{Feature:y9},focus:{Feature:g9},hover:{Feature:m9}};function TA(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let r=0;r<n;r++)if(e[r]!==t[r])return!1;return!0}function Xp(t,e,n){const r=t.getProps();return Jb(r,e,n!==void 0?n:r.custom,t)}const ds=t=>t*1e3,Ci=t=>t/1e3,T9={type:"spring",stiffness:500,damping:25,restSpeed:10},P9=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),E9={type:"keyframes",duration:.8},A9={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},I9=(t,{keyframes:e})=>e.length>2?E9:xa.has(t)?t.startsWith("scale")?P9(e[1]):T9:A9;function O9({when:t,delay:e,delayChildren:n,staggerChildren:r,staggerDirection:i,repeat:s,repeatType:a,repeatDelay:o,from:l,elapsed:u,...c}){return!!Object.keys(c).length}function Xb(t,e){return t[e]||t.default||t}const R9=t=>t!==null;function Yp(t,{repeat:e,repeatType:n="loop"},r){const i=t.filter(R9),s=e&&n!=="loop"&&e%2===1?0:i.length-1;return!s||r===void 0?i[s]:r}let hf;function $9(){hf=void 0}const fs={now:()=>(hf===void 0&&fs.set(Et.isProcessing||S6.useManualTiming?Et.timestamp:performance.now()),hf),set:t=>{hf=t,queueMicrotask($9)}},PA=t=>/^0[^.\s]+$/u.test(t);function N9(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||PA(t):!0}let xv=Ut;const EA=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t),j9=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function M9(t){const e=j9.exec(t);if(!e)return[,];const[,n,r,i]=e;return[`--${n??r}`,i]}function AA(t,e,n=1){const[r,i]=M9(t);if(!r)return;const s=window.getComputedStyle(e).getPropertyValue(r);if(s){const a=s.trim();return EA(a)?parseFloat(a):a}return Ub(i)?AA(i,e,n+1):i}const L9=new Set(["width","height","top","left","right","bottom","x","y","translateX","translateY"]),J1=t=>t===Ko||t===te,X1=(t,e)=>parseFloat(t.split(", ")[e]),Y1=(t,e)=>(n,{transform:r})=>{if(r==="none"||!r)return 0;const i=r.match(/^matrix3d\((.+)\)$/u);if(i)return X1(i[1],e);{const s=r.match(/^matrix\((.+)\)$/u);return s?X1(s[1],t):0}},z9=new Set(["x","y","z"]),D9=Pc.filter(t=>!z9.has(t));function F9(t){const e=[];return D9.forEach(n=>{const r=t.getValue(n);r!==void 0&&(e.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),e}const Fo={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:Y1(4,13),y:Y1(5,14)};Fo.translateX=Fo.x;Fo.translateY=Fo.y;const IA=t=>e=>e.test(t),B9={test:t=>t==="auto",parse:t=>t},OA=[Ko,te,ei,Wi,Z6,q6,B9],Q1=t=>OA.find(IA(t)),sa=new Set;let kv=!1,Sv=!1;function RA(){if(Sv){const t=Array.from(sa).filter(r=>r.needsMeasurement),e=new Set(t.map(r=>r.element)),n=new Map;e.forEach(r=>{const i=F9(r);i.length&&(n.set(r,i),r.render())}),t.forEach(r=>r.measureInitialState()),e.forEach(r=>{r.render();const i=n.get(r);i&&i.forEach(([s,a])=>{var o;(o=r.getValue(s))===null||o===void 0||o.set(a)})}),t.forEach(r=>r.measureEndState()),t.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}Sv=!1,kv=!1,sa.forEach(t=>t.complete()),sa.clear()}function $A(){sa.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(Sv=!0)})}function V9(){$A(),RA()}class Yb{constructor(e,n,r,i,s,a=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=r,this.motionValue=i,this.element=s,this.isAsync=a}scheduleResolve(){this.isScheduled=!0,this.isAsync?(sa.add(this),kv||(kv=!0,je.read($A),je.resolveKeyframes(RA))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:r,motionValue:i}=this;for(let s=0;s<e.length;s++)if(e[s]===null)if(s===0){const a=i==null?void 0:i.get(),o=e[e.length-1];if(a!==void 0)e[0]=a;else if(r&&n){const l=r.readValue(n,o);l!=null&&(e[0]=l)}e[0]===void 0&&(e[0]=o),i&&a===void 0&&i.set(e[0])}else e[s]=e[s-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),sa.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,sa.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const Qb=(t,e)=>n=>!!(Ec(n)&&W6.test(n)&&n.startsWith(t)||e&&Object.prototype.hasOwnProperty.call(n,e)),NA=(t,e,n)=>r=>{if(!Ec(r))return r;const[i,s,a,o]=r.match(Hb);return{[t]:parseFloat(i),[e]:parseFloat(s),[n]:parseFloat(a),alpha:o!==void 0?parseFloat(o):1}},U9=t=>ms(0,255,t),Eg={...Ko,transform:t=>Math.round(U9(t))},Ks={test:Qb("rgb","red"),parse:NA("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:r=1})=>"rgba("+Eg.transform(t)+", "+Eg.transform(e)+", "+Eg.transform(n)+", "+uu(lu.transform(r))+")"};function H9(t){let e="",n="",r="",i="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),r=t.substring(5,7),i=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),r=t.substring(3,4),i=t.substring(4,5),e+=e,n+=n,r+=r,i+=i),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:i?parseInt(i,16)/255:1}}const Cv={test:Qb("#"),parse:H9,transform:Ks.transform},so={test:Qb("hsl","hue"),parse:NA("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:r=1})=>"hsla("+Math.round(t)+", "+ei.transform(uu(e))+", "+ei.transform(uu(n))+", "+uu(lu.transform(r))+")"},zt={test:t=>Ks.test(t)||Cv.test(t)||so.test(t),parse:t=>Ks.test(t)?Ks.parse(t):so.test(t)?so.parse(t):Cv.parse(t),transform:t=>Ec(t)?t:t.hasOwnProperty("red")?Ks.transform(t):so.transform(t)};function W9(t){var e,n;return isNaN(t)&&Ec(t)&&(((e=t.match(Hb))===null||e===void 0?void 0:e.length)||0)+(((n=t.match(H6))===null||n===void 0?void 0:n.length)||0)>0}const jA="number",MA="color",q9="var",Z9="var(",ek="${}",G9=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Zu(t){const e=t.toString(),n=[],r={color:[],number:[],var:[]},i=[];let s=0;const o=e.replace(G9,l=>(zt.test(l)?(r.color.push(s),i.push(MA),n.push(zt.parse(l))):l.startsWith(Z9)?(r.var.push(s),i.push(q9),n.push(l)):(r.number.push(s),i.push(jA),n.push(parseFloat(l))),++s,ek)).split(ek);return{values:n,split:o,indexes:r,types:i}}function LA(t){return Zu(t).values}function zA(t){const{split:e,types:n}=Zu(t),r=e.length;return i=>{let s="";for(let a=0;a<r;a++)if(s+=e[a],i[a]!==void 0){const o=n[a];o===jA?s+=uu(i[a]):o===MA?s+=zt.transform(i[a]):s+=i[a]}return s}}const K9=t=>typeof t=="number"?0:t;function J9(t){const e=LA(t);return zA(t)(e.map(K9))}const ys={test:W9,parse:LA,createTransformer:zA,getAnimatableNone:J9},X9=new Set(["brightness","contrast","saturate","opacity"]);function Y9(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[r]=n.match(Hb)||[];if(!r)return t;const i=n.replace(r,"");let s=X9.has(e)?1:0;return r!==n&&(s*=100),e+"("+s+i+")"}const Q9=/\b([a-z-]*)\(.*?\)/gu,Tv={...ys,getAnimatableNone:t=>{const e=t.match(Q9);return e?e.map(Y9).join(" "):t}},eV={...dA,color:zt,backgroundColor:zt,outlineColor:zt,fill:zt,stroke:zt,borderColor:zt,borderTopColor:zt,borderRightColor:zt,borderBottomColor:zt,borderLeftColor:zt,filter:Tv,WebkitFilter:Tv},ew=t=>eV[t];function DA(t,e){let n=ew(t);return n!==Tv&&(n=ys),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const tV=new Set(["auto","none","0"]);function nV(t,e,n){let r=0,i;for(;r<t.length&&!i;){const s=t[r];typeof s=="string"&&!tV.has(s)&&Zu(s).values.length&&(i=t[r]),r++}if(i&&n)for(const s of e)t[s]=DA(n,i)}class FA extends Yb{constructor(e,n,r,i){super(e,n,r,i,i==null?void 0:i.owner,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:r}=this;if(!n.current)return;super.readKeyframes();for(let l=0;l<e.length;l++){const u=e[l];if(typeof u=="string"&&Ub(u)){const c=AA(u,n.current);c!==void 0&&(e[l]=c),l===e.length-1&&(this.finalKeyframe=u)}}if(this.resolveNoneKeyframes(),!L9.has(r)||e.length!==2)return;const[i,s]=e,a=Q1(i),o=Q1(s);if(a!==o)if(J1(a)&&J1(o))for(let l=0;l<e.length;l++){const u=e[l];typeof u=="string"&&(e[l]=parseFloat(u))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,r=[];for(let i=0;i<e.length;i++)N9(e[i])&&r.push(i);r.length&&nV(e,r,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:r}=this;if(!e.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Fo[r](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const i=n[n.length-1];i!==void 0&&e.getValue(r,i).jump(i,!1)}measureEndState(){var e;const{element:n,name:r,unresolvedKeyframes:i}=this;if(!n.current)return;const s=n.getValue(r);s&&s.jump(this.measuredOrigin,!1);const a=i.length-1,o=i[a];i[a]=Fo[r](n.measureViewportBox(),window.getComputedStyle(n.current)),o!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=o),!((e=this.removedTransforms)===null||e===void 0)&&e.length&&this.removedTransforms.forEach(([l,u])=>{n.getValue(l).set(u)}),this.resolveNoneKeyframes()}}function rV(t){let e;return()=>(e===void 0&&(e=t()),e)}const tk=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(ys.test(t)||t==="0")&&!t.startsWith("url("));function iV(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function sV(t,e,n,r){const i=t[0];if(i===null)return!1;if(e==="display"||e==="visibility")return!0;const s=t[t.length-1],a=tk(i,e),o=tk(s,e);return!a||!o?!1:iV(t)||n==="spring"&&r}class BA{constructor({autoplay:e=!0,delay:n=0,type:r="keyframes",repeat:i=0,repeatDelay:s=0,repeatType:a="loop",...o}){this.isStopped=!1,this.hasAttemptedResolve=!1,this.options={autoplay:e,delay:n,type:r,repeat:i,repeatDelay:s,repeatType:a,...o},this.updateFinishedPromise()}get resolved(){return!this._resolved&&!this.hasAttemptedResolve&&V9(),this._resolved}onKeyframesResolved(e,n){this.hasAttemptedResolve=!0;const{name:r,type:i,velocity:s,delay:a,onComplete:o,onUpdate:l,isGenerator:u}=this.options;if(!u&&!sV(e,r,i,s))if(a)this.options.duration=0;else{l==null||l(Yp(e,this.options,n)),o==null||o(),this.resolveFinishedPromise();return}const c=this.initPlayback(e,n);c!==!1&&(this._resolved={keyframes:e,finalKeyframe:n,...c},this.onPostResolved())}onPostResolved(){}then(e,n){return this.currentFinishedPromise.then(e,n)}updateFinishedPromise(){this.currentFinishedPromise=new Promise(e=>{this.resolveFinishedPromise=e})}}function VA(t,e){return e?t*(1e3/e):0}const aV=5;function UA(t,e,n){const r=Math.max(e-aV,0);return VA(n-t(r),e-r)}const Ag=.001,oV=.01,lV=10,uV=.05,cV=1;function dV({duration:t=800,bounce:e=.25,velocity:n=0,mass:r=1}){let i,s,a=1-e;a=ms(uV,cV,a),t=ms(oV,lV,Ci(t)),a<1?(i=u=>{const c=u*a,d=c*t,f=c-n,h=Pv(u,a),p=Math.exp(-d);return Ag-f/h*p},s=u=>{const d=u*a*t,f=d*n+n,h=Math.pow(a,2)*Math.pow(u,2)*t,p=Math.exp(-d),y=Pv(Math.pow(u,2),a);return(-i(u)+Ag>0?-1:1)*((f-h)*p)/y}):(i=u=>{const c=Math.exp(-u*t),d=(u-n)*t+1;return-Ag+c*d},s=u=>{const c=Math.exp(-u*t),d=(n-u)*(t*t);return c*d});const o=5/t,l=hV(i,s,o);if(t=ds(t),isNaN(l))return{stiffness:100,damping:10,duration:t};{const u=Math.pow(l,2)*r;return{stiffness:u,damping:a*2*Math.sqrt(r*u),duration:t}}}const fV=12;function hV(t,e,n){let r=n;for(let i=1;i<fV;i++)r=r-t(r)/e(r);return r}function Pv(t,e){return t*Math.sqrt(1-e*e)}const pV=["duration","bounce"],mV=["stiffness","damping","mass"];function nk(t,e){return e.some(n=>t[n]!==void 0)}function gV(t){let e={velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1,...t};if(!nk(t,mV)&&nk(t,pV)){const n=dV(t);e={...e,...n,mass:1},e.isResolvedFromDuration=!0}return e}function HA({keyframes:t,restDelta:e,restSpeed:n,...r}){const i=t[0],s=t[t.length-1],a={done:!1,value:i},{stiffness:o,damping:l,mass:u,duration:c,velocity:d,isResolvedFromDuration:f}=gV({...r,velocity:-Ci(r.velocity||0)}),h=d||0,p=l/(2*Math.sqrt(o*u)),y=s-i,b=Ci(Math.sqrt(o/u)),m=Math.abs(y)<5;n||(n=m?.01:2),e||(e=m?.005:.5);let g;if(p<1){const v=Pv(b,p);g=x=>{const C=Math.exp(-p*b*x);return s-C*((h+p*b*y)/v*Math.sin(v*x)+y*Math.cos(v*x))}}else if(p===1)g=v=>s-Math.exp(-b*v)*(y+(h+b*y)*v);else{const v=b*Math.sqrt(p*p-1);g=x=>{const C=Math.exp(-p*b*x),k=Math.min(v*x,300);return s-C*((h+p*b*y)*Math.sinh(k)+v*y*Math.cosh(k))/v}}return{calculatedDuration:f&&c||null,next:v=>{const x=g(v);if(f)a.done=v>=c;else{let C=h;v!==0&&(p<1?C=UA(g,v,x):C=0);const k=Math.abs(C)<=n,I=Math.abs(s-x)<=e;a.done=k&&I}return a.value=a.done?s:x,a}}}function rk({keyframes:t,velocity:e=0,power:n=.8,timeConstant:r=325,bounceDamping:i=10,bounceStiffness:s=500,modifyTarget:a,min:o,max:l,restDelta:u=.5,restSpeed:c}){const d=t[0],f={done:!1,value:d},h=R=>o!==void 0&&R<o||l!==void 0&&R>l,p=R=>o===void 0?l:l===void 0||Math.abs(o-R)<Math.abs(l-R)?o:l;let y=n*e;const b=d+y,m=a===void 0?b:a(b);m!==b&&(y=m-d);const g=R=>-y*Math.exp(-R/r),v=R=>m+g(R),x=R=>{const j=g(R),T=v(R);f.done=Math.abs(j)<=u,f.value=f.done?m:T};let C,k;const I=R=>{h(f.value)&&(C=R,k=HA({keyframes:[f.value,p(f.value)],velocity:UA(v,R,f.value),damping:i,stiffness:s,restDelta:u,restSpeed:c}))};return I(0),{calculatedDuration:null,next:R=>{let j=!1;return!k&&C===void 0&&(j=!0,x(R),I(R)),C!==void 0&&R>=C?k.next(R-C):(!j&&x(R),f)}}}const WA=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,yV=1e-7,vV=12;function bV(t,e,n,r,i){let s,a,o=0;do a=e+(n-e)/2,s=WA(a,r,i)-t,s>0?n=a:e=a;while(Math.abs(s)>yV&&++o<vV);return a}function Ic(t,e,n,r){if(t===e&&n===r)return Ut;const i=s=>bV(s,0,1,t,n);return s=>s===0||s===1?s:WA(i(s),e,r)}const wV=Ic(.42,0,1,1),_V=Ic(0,0,.58,1),qA=Ic(.42,0,.58,1),xV=t=>Array.isArray(t)&&typeof t[0]!="number",ZA=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,GA=t=>e=>1-t(1-e),tw=t=>1-Math.sin(Math.acos(t)),KA=GA(tw),kV=ZA(tw),JA=Ic(.33,1.53,.69,.99),nw=GA(JA),SV=ZA(nw),CV=t=>(t*=2)<1?.5*nw(t):.5*(2-Math.pow(2,-10*(t-1))),ik={linear:Ut,easeIn:wV,easeInOut:qA,easeOut:_V,circIn:tw,circInOut:kV,circOut:KA,backIn:nw,backInOut:SV,backOut:JA,anticipate:CV},sk=t=>{if(Array.isArray(t)){xv(t.length===4);const[e,n,r,i]=t;return Ic(e,n,r,i)}else if(typeof t=="string")return xv(ik[t]!==void 0),ik[t];return t},Gu=(t,e,n)=>{const r=e-t;return r===0?1:(n-t)/r},tt=(t,e,n)=>t+(e-t)*n;function Ig(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function TV({hue:t,saturation:e,lightness:n,alpha:r}){t/=360,e/=100,n/=100;let i=0,s=0,a=0;if(!e)i=s=a=n;else{const o=n<.5?n*(1+e):n+e-n*e,l=2*n-o;i=Ig(l,o,t+1/3),s=Ig(l,o,t),a=Ig(l,o,t-1/3)}return{red:Math.round(i*255),green:Math.round(s*255),blue:Math.round(a*255),alpha:r}}const Og=(t,e,n)=>{const r=t*t,i=n*(e*e-r)+r;return i<0?0:Math.sqrt(i)},PV=[Cv,Ks,so],EV=t=>PV.find(e=>e.test(t));function ak(t){const e=EV(t);let n=e.parse(t);return e===so&&(n=TV(n)),n}const ok=(t,e)=>{const n=ak(t),r=ak(e),i={...n};return s=>(i.red=Og(n.red,r.red,s),i.green=Og(n.green,r.green,s),i.blue=Og(n.blue,r.blue,s),i.alpha=tt(n.alpha,r.alpha,s),Ks.transform(i))},Ev=new Set(["none","hidden"]);function AV(t,e){return Ev.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function Av(t,e){return n=>n>0?e:t}function IV(t,e){return n=>tt(t,e,n)}function rw(t){return typeof t=="number"?IV:typeof t=="string"?Ub(t)?Av:zt.test(t)?ok:$V:Array.isArray(t)?XA:typeof t=="object"?zt.test(t)?ok:OV:Av}function XA(t,e){const n=[...t],r=n.length,i=t.map((s,a)=>rw(s)(s,e[a]));return s=>{for(let a=0;a<r;a++)n[a]=i[a](s);return n}}function OV(t,e){const n={...t,...e},r={};for(const i in n)t[i]!==void 0&&e[i]!==void 0&&(r[i]=rw(t[i])(t[i],e[i]));return i=>{for(const s in r)n[s]=r[s](i);return n}}function RV(t,e){var n;const r=[],i={color:0,var:0,number:0};for(let s=0;s<e.values.length;s++){const a=e.types[s],o=t.indexes[a][i[a]],l=(n=t.values[o])!==null&&n!==void 0?n:0;r[s]=l,i[a]++}return r}const $V=(t,e)=>{const n=ys.createTransformer(e),r=Zu(t),i=Zu(e);return r.indexes.var.length===i.indexes.var.length&&r.indexes.color.length===i.indexes.color.length&&r.indexes.number.length>=i.indexes.number.length?Ev.has(t)&&!i.values.length||Ev.has(e)&&!r.values.length?AV(t,e):Si(XA(RV(r,i),i.values),n):Av(t,e)};function YA(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?tt(t,e,n):rw(t)(t,e)}function NV(t,e,n){const r=[],i=n||YA,s=t.length-1;for(let a=0;a<s;a++){let o=i(t[a],t[a+1]);if(e){const l=Array.isArray(e)?e[a]||Ut:e;o=Si(l,o)}r.push(o)}return r}function jV(t,e,{clamp:n=!0,ease:r,mixer:i}={}){const s=t.length;if(xv(s===e.length),s===1)return()=>e[0];if(s===2&&t[0]===t[1])return()=>e[1];t[0]>t[s-1]&&(t=[...t].reverse(),e=[...e].reverse());const a=NV(e,r,i),o=a.length,l=u=>{let c=0;if(o>1)for(;c<t.length-2&&!(u<t[c+1]);c++);const d=Gu(t[c],t[c+1],u);return a[c](d)};return n?u=>l(ms(t[0],t[s-1],u)):l}function MV(t,e){const n=t[t.length-1];for(let r=1;r<=e;r++){const i=Gu(0,e,r);t.push(tt(n,1,i))}}function LV(t){const e=[0];return MV(e,t.length-1),e}function zV(t,e){return t.map(n=>n*e)}function DV(t,e){return t.map(()=>e||qA).splice(0,t.length-1)}function fh({duration:t=300,keyframes:e,times:n,ease:r="easeInOut"}){const i=xV(r)?r.map(sk):sk(r),s={done:!1,value:e[0]},a=zV(n&&n.length===e.length?n:LV(e),t),o=jV(a,e,{ease:Array.isArray(i)?i:DV(e,i)});return{calculatedDuration:t,next:l=>(s.value=o(l),s.done=l>=t,s)}}const lk=2e4;function FV(t){let e=0;const n=50;let r=t.next(e);for(;!r.done&&e<lk;)e+=n,r=t.next(e);return e>=lk?1/0:e}const BV=t=>{const e=({timestamp:n})=>t(n);return{start:()=>je.update(e,!0),stop:()=>gs(e),now:()=>Et.isProcessing?Et.timestamp:fs.now()}},VV={decay:rk,inertia:rk,tween:fh,keyframes:fh,spring:HA},UV=t=>t/100;class iw extends BA{constructor({KeyframeResolver:e=Yb,...n}){super(n),this.holdTime=null,this.startTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.teardown();const{onStop:o}=this.options;o&&o()};const{name:r,motionValue:i,keyframes:s}=this.options,a=(o,l)=>this.onKeyframesResolved(o,l);r&&i&&i.owner?this.resolver=i.owner.resolveKeyframes(s,a,r,i):this.resolver=new e(s,a,r,i),this.resolver.scheduleResolve()}initPlayback(e){const{type:n="keyframes",repeat:r=0,repeatDelay:i=0,repeatType:s,velocity:a=0}=this.options,o=VV[n]||fh;let l,u;o!==fh&&typeof e[0]!="number"&&(l=Si(UV,YA(e[0],e[1])),e=[0,100]);const c=o({...this.options,keyframes:e});s==="mirror"&&(u=o({...this.options,keyframes:[...e].reverse(),velocity:-a})),c.calculatedDuration===null&&(c.calculatedDuration=FV(c));const{calculatedDuration:d}=c,f=d+i,h=f*(r+1)-i;return{generator:c,mirroredGenerator:u,mapPercentToKeyframes:l,calculatedDuration:d,resolvedDuration:f,totalDuration:h}}onPostResolved(){const{autoplay:e=!0}=this.options;this.play(),this.pendingPlayState==="paused"||!e?this.pause():this.state=this.pendingPlayState}tick(e,n=!1){const{resolved:r}=this;if(!r){const{keyframes:R}=this.options;return{done:!0,value:R[R.length-1]}}const{finalKeyframe:i,generator:s,mirroredGenerator:a,mapPercentToKeyframes:o,keyframes:l,calculatedDuration:u,totalDuration:c,resolvedDuration:d}=r;if(this.startTime===null)return s.next(0);const{delay:f,repeat:h,repeatType:p,repeatDelay:y,onUpdate:b}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-c/this.speed,this.startTime)),n?this.currentTime=e:this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=Math.round(e-this.startTime)*this.speed;const m=this.currentTime-f*(this.speed>=0?1:-1),g=this.speed>=0?m<0:m>c;this.currentTime=Math.max(m,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=c);let v=this.currentTime,x=s;if(h){const R=Math.min(this.currentTime,c)/d;let j=Math.floor(R),T=R%1;!T&&R>=1&&(T=1),T===1&&j--,j=Math.min(j,h+1),!!(j%2)&&(p==="reverse"?(T=1-T,y&&(T-=y/d)):p==="mirror"&&(x=a)),v=ms(0,1,T)*d}const C=g?{done:!1,value:l[0]}:x.next(v);o&&(C.value=o(C.value));let{done:k}=C;!g&&u!==null&&(k=this.speed>=0?this.currentTime>=c:this.currentTime<=0);const I=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&k);return I&&i!==void 0&&(C.value=Yp(l,this.options,i)),b&&b(C.value),I&&this.finish(),C}get duration(){const{resolved:e}=this;return e?Ci(e.calculatedDuration):0}get time(){return Ci(this.currentTime)}set time(e){e=ds(e),this.currentTime=e,this.holdTime!==null||this.speed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.speed)}get speed(){return this.playbackSpeed}set speed(e){const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=Ci(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved){this.pendingPlayState="running";return}if(this.isStopped)return;const{driver:e=BV,onPlay:n}=this.options;this.driver||(this.driver=e(i=>this.tick(i))),n&&n();const r=this.driver.now();this.holdTime!==null?this.startTime=r-this.holdTime:(!this.startTime||this.state==="finished")&&(this.startTime=r),this.state==="finished"&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){var e;if(!this._resolved){this.pendingPlayState="paused";return}this.state="paused",this.holdTime=(e=this.currentTime)!==null&&e!==void 0?e:0}complete(){this.state!=="running"&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:e}=this.options;e&&e()}cancel(){this.cancelTime!==null&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}}const QA=t=>Array.isArray(t)&&typeof t[0]=="number";function eI(t){return!!(!t||typeof t=="string"&&t in sw||QA(t)||Array.isArray(t)&&t.every(eI))}const Rl=([t,e,n,r])=>`cubic-bezier(${t}, ${e}, ${n}, ${r})`,sw={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Rl([0,.65,.55,1]),circOut:Rl([.55,0,1,.45]),backIn:Rl([.31,.01,.66,-.59]),backOut:Rl([.33,1.53,.69,.99])};function HV(t){return tI(t)||sw.easeOut}function tI(t){if(t)return QA(t)?Rl(t):Array.isArray(t)?t.map(HV):sw[t]}function WV(t,e,n,{delay:r=0,duration:i=300,repeat:s=0,repeatType:a="loop",ease:o,times:l}={}){const u={[e]:n};l&&(u.offset=l);const c=tI(o);return Array.isArray(c)&&(u.easing=c),t.animate(u,{delay:r,duration:i,easing:Array.isArray(c)?"linear":c,fill:"both",iterations:s+1,direction:a==="reverse"?"alternate":"normal"})}const qV=rV(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),ZV=new Set(["opacity","clipPath","filter","transform"]),hh=10,GV=2e4;function KV(t){return t.type==="spring"||t.name==="backgroundColor"||!eI(t.ease)}function JV(t,e){const n=new iw({...e,keyframes:t,repeat:0,delay:0,isGenerator:!0});let r={done:!1,value:t[0]};const i=[];let s=0;for(;!r.done&&s<GV;)r=n.sample(s),i.push(r.value),s+=hh;return{times:void 0,keyframes:i,duration:s-hh,ease:"linear"}}class uk extends BA{constructor(e){super(e);const{name:n,motionValue:r,keyframes:i}=this.options;this.resolver=new FA(i,(s,a)=>this.onKeyframesResolved(s,a),n,r),this.resolver.scheduleResolve()}initPlayback(e,n){var r;let{duration:i=300,times:s,ease:a,type:o,motionValue:l,name:u}=this.options;if(!(!((r=l.owner)===null||r===void 0)&&r.current))return!1;if(KV(this.options)){const{onComplete:d,onUpdate:f,motionValue:h,...p}=this.options,y=JV(e,p);e=y.keyframes,e.length===1&&(e[1]=e[0]),i=y.duration,s=y.times,a=y.ease,o="keyframes"}const c=WV(l.owner.current,u,e,{...this.options,duration:i,times:s,ease:a});return c.startTime=fs.now(),this.pendingTimeline?(c.timeline=this.pendingTimeline,this.pendingTimeline=void 0):c.onfinish=()=>{const{onComplete:d}=this.options;l.set(Yp(e,this.options,n)),d&&d(),this.cancel(),this.resolveFinishedPromise()},{animation:c,duration:i,times:s,type:o,ease:a,keyframes:e}}get duration(){const{resolved:e}=this;if(!e)return 0;const{duration:n}=e;return Ci(n)}get time(){const{resolved:e}=this;if(!e)return 0;const{animation:n}=e;return Ci(n.currentTime||0)}set time(e){const{resolved:n}=this;if(!n)return;const{animation:r}=n;r.currentTime=ds(e)}get speed(){const{resolved:e}=this;if(!e)return 1;const{animation:n}=e;return n.playbackRate}set speed(e){const{resolved:n}=this;if(!n)return;const{animation:r}=n;r.playbackRate=e}get state(){const{resolved:e}=this;if(!e)return"idle";const{animation:n}=e;return n.playState}attachTimeline(e){if(!this._resolved)this.pendingTimeline=e;else{const{resolved:n}=this;if(!n)return Ut;const{animation:r}=n;r.timeline=e,r.onfinish=null}return Ut}play(){if(this.isStopped)return;const{resolved:e}=this;if(!e)return;const{animation:n}=e;n.playState==="finished"&&this.updateFinishedPromise(),n.play()}pause(){const{resolved:e}=this;if(!e)return;const{animation:n}=e;n.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;const{resolved:e}=this;if(!e)return;const{animation:n,keyframes:r,duration:i,type:s,ease:a,times:o}=e;if(!(n.playState==="idle"||n.playState==="finished")){if(this.time){const{motionValue:l,onUpdate:u,onComplete:c,...d}=this.options,f=new iw({...d,keyframes:r,duration:i,type:s,ease:a,times:o,isGenerator:!0}),h=ds(this.time);l.setWithVelocity(f.sample(h-hh).value,f.sample(h).value,hh)}this.cancel()}}complete(){const{resolved:e}=this;e&&e.animation.finish()}cancel(){const{resolved:e}=this;e&&e.animation.cancel()}static supports(e){const{motionValue:n,name:r,repeatDelay:i,repeatType:s,damping:a,type:o}=e;return qV()&&r&&ZV.has(r)&&n&&n.owner&&n.owner.current instanceof HTMLElement&&!n.owner.getProps().onUpdate&&!i&&s!=="mirror"&&a!==0&&o!=="inertia"}}const aw=(t,e,n,r={},i,s)=>a=>{const o=Xb(r,t)||{},l=o.delay||r.delay||0;let{elapsed:u=0}=r;u=u-ds(l);let c={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...o,delay:-u,onUpdate:f=>{e.set(f),o.onUpdate&&o.onUpdate(f)},onComplete:()=>{a(),o.onComplete&&o.onComplete()},name:t,motionValue:e,element:s?void 0:i};O9(o)||(c={...c,...I9(t,c)}),c.duration&&(c.duration=ds(c.duration)),c.repeatDelay&&(c.repeatDelay=ds(c.repeatDelay)),c.from!==void 0&&(c.keyframes[0]=c.from);let d=!1;if((c.type===!1||c.duration===0&&!c.repeatDelay)&&(c.duration=0,c.delay===0&&(d=!0)),d&&!s&&e.get()!==void 0){const f=Yp(c.keyframes,o);if(f!==void 0){je.update(()=>{c.onUpdate(f),c.onComplete()});return}}return!s&&uk.supports(c)?new uk(c):new iw(c)};function ph(t){return!!(Bt(t)&&t.add)}function ow(t,e){t.indexOf(e)===-1&&t.push(e)}function lw(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}class uw{constructor(){this.subscriptions=[]}add(e){return ow(this.subscriptions,e),()=>lw(this.subscriptions,e)}notify(e,n,r){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](e,n,r);else for(let s=0;s<i;s++){const a=this.subscriptions[s];a&&a(e,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const ck=30,XV=t=>!isNaN(parseFloat(t));class YV{constructor(e,n={}){this.version="11.2.4",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(r,i=!0)=>{const s=fs.now();this.updatedAt!==s&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),i&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=fs.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=XV(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new uw);const r=this.events[e].add(n);return e==="change"?()=>{r(),je.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e,n=!0){!n||!this.passiveEffect?this.updateAndNotify(e,n):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,n,r){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-r}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=fs.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>ck)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,ck);return VA(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Ku(t,e){return new YV(t,e)}function QV(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,Ku(n))}function eU(t,e){const n=Xp(t,e);let{transitionEnd:r={},transition:i={},...s}=n||{};s={...s,...r};for(const a in s){const o=o9(s[a]);QV(t,a,o)}}function tU({protectedKeys:t,needsAnimating:e},n){const r=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,r}function nI(t,e,{delay:n=0,transitionOverride:r,type:i}={}){var s;let{transition:a=t.getDefaultTransition(),transitionEnd:o,...l}=e;const u=t.getValue("willChange");r&&(a=r);const c=[],d=i&&t.animationState&&t.animationState.getState()[i];for(const f in l){const h=t.getValue(f,(s=t.latestValues[f])!==null&&s!==void 0?s:null),p=l[f];if(p===void 0||d&&tU(d,f))continue;const y={delay:n,elapsed:0,...Xb(a||{},f)};let b=!1;if(window.HandoffAppearAnimations){const v=t.getProps()[iA];if(v){const x=window.HandoffAppearAnimations(v,f,h,je);x!==null&&(y.elapsed=x,b=!0)}}h.start(aw(f,h,p,t.shouldReduceMotion&&xa.has(f)?{type:!1}:y,t,b));const m=h.animation;m&&(ph(u)&&(u.add(f),m.then(()=>u.remove(f))),c.push(m))}return o&&Promise.all(c).then(()=>{je.update(()=>{o&&eU(t,o)})}),c}function Iv(t,e,n={}){var r;const i=Xp(t,e,n.type==="exit"?(r=t.presenceContext)===null||r===void 0?void 0:r.custom:void 0);let{transition:s=t.getDefaultTransition()||{}}=i||{};n.transitionOverride&&(s=n.transitionOverride);const a=i?()=>Promise.all(nI(t,i,n)):()=>Promise.resolve(),o=t.variantChildren&&t.variantChildren.size?(u=0)=>{const{delayChildren:c=0,staggerChildren:d,staggerDirection:f}=s;return nU(t,e,c+u,d,f,n)}:()=>Promise.resolve(),{when:l}=s;if(l){const[u,c]=l==="beforeChildren"?[a,o]:[o,a];return u().then(()=>c())}else return Promise.all([a(),o(n.delay)])}function nU(t,e,n=0,r=0,i=1,s){const a=[],o=(t.variantChildren.size-1)*r,l=i===1?(u=0)=>u*r:(u=0)=>o-u*r;return Array.from(t.variantChildren).sort(rU).forEach((u,c)=>{u.notify("AnimationStart",e),a.push(Iv(u,e,{...s,delay:n+l(c)}).then(()=>u.notify("AnimationComplete",e)))}),Promise.all(a)}function rU(t,e){return t.sortNodePosition(e)}function iU(t,e,n={}){t.notify("AnimationStart",e);let r;if(Array.isArray(e)){const i=e.map(s=>Iv(t,s,n));r=Promise.all(i)}else if(typeof e=="string")r=Iv(t,e,n);else{const i=typeof e=="function"?Xp(t,e,n.custom):e;r=Promise.all(nI(t,i,n))}return r.then(()=>{je.postRender(()=>{t.notify("AnimationComplete",e)})})}const sU=[...Db].reverse(),aU=Db.length;function oU(t){return e=>Promise.all(e.map(({animation:n,options:r})=>iU(t,n,r)))}function lU(t){let e=oU(t);const n=cU();let r=!0;const i=l=>(u,c)=>{var d;const f=Xp(t,c,l==="exit"?(d=t.presenceContext)===null||d===void 0?void 0:d.custom:void 0);if(f){const{transition:h,transitionEnd:p,...y}=f;u={...u,...y,...p}}return u};function s(l){e=l(t)}function a(l){const u=t.getProps(),c=t.getVariantContext(!0)||{},d=[],f=new Set;let h={},p=1/0;for(let b=0;b<aU;b++){const m=sU[b],g=n[m],v=u[m]!==void 0?u[m]:c[m],x=Wu(v),C=m===l?g.isActive:null;C===!1&&(p=b);let k=v===c[m]&&v!==u[m]&&x;if(k&&r&&t.manuallyAnimateOnMount&&(k=!1),g.protectedKeys={...h},!g.isActive&&C===null||!v&&!g.prevProp||Gp(v)||typeof v=="boolean")continue;let R=uU(g.prevProp,v)||m===l&&g.isActive&&!k&&x||b>p&&x,j=!1;const T=Array.isArray(v)?v:[v];let F=T.reduce(i(m),{});C===!1&&(F={});const{prevResolvedValues:q={}}=g,ue={...q,...F},_e=J=>{R=!0,f.has(J)&&(j=!0,f.delete(J)),g.needsAnimating[J]=!0;const we=t.getValue(J);we&&(we.liveStyle=!1)};for(const J in ue){const we=F[J],Le=q[J];if(h.hasOwnProperty(J))continue;let B=!1;wv(we)&&wv(Le)?B=!TA(we,Le):B=we!==Le,B?we!=null?_e(J):f.add(J):we!==void 0&&f.has(J)?_e(J):g.protectedKeys[J]=!0}g.prevProp=v,g.prevResolvedValues=F,g.isActive&&(h={...h,...F}),r&&t.blockInitialAnimation&&(R=!1),R&&(!k||j)&&d.push(...T.map(J=>({animation:J,options:{type:m}})))}if(f.size){const b={};f.forEach(m=>{const g=t.getBaseTarget(m),v=t.getValue(m);v&&(v.liveStyle=!0),b[m]=g??null}),d.push({animation:b})}let y=!!d.length;return r&&(u.initial===!1||u.initial===u.animate)&&!t.manuallyAnimateOnMount&&(y=!1),r=!1,y?e(d):Promise.resolve()}function o(l,u){var c;if(n[l].isActive===u)return Promise.resolve();(c=t.variantChildren)===null||c===void 0||c.forEach(f=>{var h;return(h=f.animationState)===null||h===void 0?void 0:h.setActive(l,u)}),n[l].isActive=u;const d=a(l);for(const f in n)n[f].protectedKeys={};return d}return{animateChanges:a,setActive:o,setAnimateFunction:s,getState:()=>n}}function uU(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!TA(e,t):!1}function Os(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function cU(){return{animate:Os(!0),whileInView:Os(),whileHover:Os(),whileTap:Os(),whileDrag:Os(),whileFocus:Os(),exit:Os()}}class dU extends Cs{constructor(e){super(e),e.animationState||(e.animationState=lU(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();this.unmount(),Gp(e)&&(this.unmount=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){}}let fU=0;class hU extends Cs{constructor(){super(...arguments),this.id=fU++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===r)return;const i=this.node.animationState.setActive("exit",!e);n&&!e&&i.then(()=>n(this.id))}mount(){const{register:e}=this.node.presenceContext||{};e&&(this.unmount=e(this.id))}unmount(){}}const pU={animation:{Feature:dU},exit:{Feature:hU}},dk=(t,e)=>Math.abs(t-e);function mU(t,e){const n=dk(t.x,e.x),r=dk(t.y,e.y);return Math.sqrt(n**2+r**2)}class rI{constructor(e,n,{transformPagePoint:r,contextWindow:i,dragSnapToOrigin:s=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const d=$g(this.lastMoveEventInfo,this.history),f=this.startEvent!==null,h=mU(d.offset,{x:0,y:0})>=3;if(!f&&!h)return;const{point:p}=d,{timestamp:y}=Et;this.history.push({...p,timestamp:y});const{onStart:b,onMove:m}=this.handlers;f||(b&&b(this.lastMoveEvent,d),this.startEvent=this.lastMoveEvent),m&&m(this.lastMoveEvent,d)},this.handlePointerMove=(d,f)=>{this.lastMoveEvent=d,this.lastMoveEventInfo=Rg(f,this.transformPagePoint),je.update(this.updatePoint,!0)},this.handlePointerUp=(d,f)=>{this.end();const{onEnd:h,onSessionEnd:p,resumeAnimation:y}=this.handlers;if(this.dragSnapToOrigin&&y&&y(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const b=$g(d.type==="pointercancel"?this.lastMoveEventInfo:Rg(f,this.transformPagePoint),this.history);this.startEvent&&h&&h(d,b),p&&p(d,b)},!_A(e))return;this.dragSnapToOrigin=s,this.handlers=n,this.transformPagePoint=r,this.contextWindow=i||window;const a=Jp(e),o=Rg(a,this.transformPagePoint),{point:l}=o,{timestamp:u}=Et;this.history=[{...l,timestamp:u}];const{onSessionStart:c}=n;c&&c(e,$g(o,this.history)),this.removeListeners=Si(ki(this.contextWindow,"pointermove",this.handlePointerMove),ki(this.contextWindow,"pointerup",this.handlePointerUp),ki(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),gs(this.updatePoint)}}function Rg(t,e){return e?{point:e(t.point)}:t}function fk(t,e){return{x:t.x-e.x,y:t.y-e.y}}function $g({point:t},e){return{point:t,delta:fk(t,iI(e)),offset:fk(t,gU(e)),velocity:yU(e,.1)}}function gU(t){return t[0]}function iI(t){return t[t.length-1]}function yU(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,r=null;const i=iI(t);for(;n>=0&&(r=t[n],!(i.timestamp-r.timestamp>ds(e)));)n--;if(!r)return{x:0,y:0};const s=Ci(i.timestamp-r.timestamp);if(s===0)return{x:0,y:0};const a={x:(i.x-r.x)/s,y:(i.y-r.y)/s};return a.x===1/0&&(a.x=0),a.y===1/0&&(a.y=0),a}function Nn(t){return t.max-t.min}function Ov(t,e=0,n=.01){return Math.abs(t-e)<=n}function hk(t,e,n,r=.5){t.origin=r,t.originPoint=tt(e.min,e.max,t.origin),t.scale=Nn(n)/Nn(e),(Ov(t.scale,1,1e-4)||isNaN(t.scale))&&(t.scale=1),t.translate=tt(n.min,n.max,t.origin)-t.originPoint,(Ov(t.translate)||isNaN(t.translate))&&(t.translate=0)}function cu(t,e,n,r){hk(t.x,e.x,n.x,r?r.originX:void 0),hk(t.y,e.y,n.y,r?r.originY:void 0)}function pk(t,e,n){t.min=n.min+e.min,t.max=t.min+Nn(e)}function vU(t,e,n){pk(t.x,e.x,n.x),pk(t.y,e.y,n.y)}function mk(t,e,n){t.min=e.min-n.min,t.max=t.min+Nn(e)}function du(t,e,n){mk(t.x,e.x,n.x),mk(t.y,e.y,n.y)}function bU(t,{min:e,max:n},r){return e!==void 0&&t<e?t=r?tt(e,t,r.min):Math.max(t,e):n!==void 0&&t>n&&(t=r?tt(n,t,r.max):Math.min(t,n)),t}function gk(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function wU(t,{top:e,left:n,bottom:r,right:i}){return{x:gk(t.x,n,i),y:gk(t.y,e,r)}}function yk(t,e){let n=e.min-t.min,r=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,r]=[r,n]),{min:n,max:r}}function _U(t,e){return{x:yk(t.x,e.x),y:yk(t.y,e.y)}}function xU(t,e){let n=.5;const r=Nn(t),i=Nn(e);return i>r?n=Gu(e.min,e.max-r,t.min):r>i&&(n=Gu(t.min,t.max-i,e.min)),ms(0,1,n)}function kU(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const Rv=.35;function SU(t=Rv){return t===!1?t=0:t===!0&&(t=Rv),{x:vk(t,"left","right"),y:vk(t,"top","bottom")}}function vk(t,e,n){return{min:bk(t,e),max:bk(t,n)}}function bk(t,e){return typeof t=="number"?t:t[e]||0}const wk=()=>({translate:0,scale:1,origin:0,originPoint:0}),ao=()=>({x:wk(),y:wk()}),_k=()=>({min:0,max:0}),ct=()=>({x:_k(),y:_k()});function Hn(t){return[t("x"),t("y")]}function sI({top:t,left:e,right:n,bottom:r}){return{x:{min:e,max:n},y:{min:t,max:r}}}function CU({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function TU(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),r=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function Ng(t){return t===void 0||t===1}function $v({scale:t,scaleX:e,scaleY:n}){return!Ng(t)||!Ng(e)||!Ng(n)}function Ms(t){return $v(t)||aI(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function aI(t){return xk(t.x)||xk(t.y)}function xk(t){return t&&t!=="0%"}function mh(t,e,n){const r=t-n,i=e*r;return n+i}function kk(t,e,n,r,i){return i!==void 0&&(t=mh(t,i,r)),mh(t,n,r)+e}function Nv(t,e=0,n=1,r,i){t.min=kk(t.min,e,n,r,i),t.max=kk(t.max,e,n,r,i)}function oI(t,{x:e,y:n}){Nv(t.x,e.translate,e.scale,e.originPoint),Nv(t.y,n.translate,n.scale,n.originPoint)}function PU(t,e,n,r=!1){const i=n.length;if(!i)return;e.x=e.y=1;let s,a;for(let o=0;o<i;o++){s=n[o],a=s.projectionDelta;const l=s.instance;l&&l.style&&l.style.display==="contents"||(r&&s.options.layoutScroll&&s.scroll&&s!==s.root&&oo(t,{x:-s.scroll.offset.x,y:-s.scroll.offset.y}),a&&(e.x*=a.x.scale,e.y*=a.y.scale,oI(t,a)),r&&Ms(s.latestValues)&&oo(t,s.latestValues))}e.x=Sk(e.x),e.y=Sk(e.y)}function Sk(t){return Number.isInteger(t)||t>1.0000000000001||t<.999999999999?t:1}function Gi(t,e){t.min=t.min+e,t.max=t.max+e}function Ck(t,e,[n,r,i]){const s=e[i]!==void 0?e[i]:.5,a=tt(t.min,t.max,s);Nv(t,e[n],e[r],a,e.scale)}const EU=["x","scaleX","originX"],AU=["y","scaleY","originY"];function oo(t,e){Ck(t.x,e,EU),Ck(t.y,e,AU)}function lI(t,e){return sI(TU(t.getBoundingClientRect(),e))}function IU(t,e,n){const r=lI(t,n),{scroll:i}=e;return i&&(Gi(r.x,i.offset.x),Gi(r.y,i.offset.y)),r}const uI=({current:t})=>t?t.ownerDocument.defaultView:null,OU=new WeakMap;class RU{constructor(e){this.openGlobalLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=ct(),this.visualElement=e}start(e,{snapToCursor:n=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const i=c=>{const{dragSnapToOrigin:d}=this.getProps();d?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(Jp(c,"page").point)},s=(c,d)=>{const{drag:f,dragPropagation:h,onDragStart:p}=this.getProps();if(f&&!h&&(this.openGlobalLock&&this.openGlobalLock(),this.openGlobalLock=kA(f),!this.openGlobalLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Hn(b=>{let m=this.getAxisMotionValue(b).get()||0;if(ei.test(m)){const{projection:g}=this.visualElement;if(g&&g.layout){const v=g.layout.layoutBox[b];v&&(m=Nn(v)*(parseFloat(m)/100))}}this.originPoint[b]=m}),p&&je.postRender(()=>p(c,d));const{animationState:y}=this.visualElement;y&&y.setActive("whileDrag",!0)},a=(c,d)=>{const{dragPropagation:f,dragDirectionLock:h,onDirectionLock:p,onDrag:y}=this.getProps();if(!f&&!this.openGlobalLock)return;const{offset:b}=d;if(h&&this.currentDirection===null){this.currentDirection=$U(b),this.currentDirection!==null&&p&&p(this.currentDirection);return}this.updateAxis("x",d.point,b),this.updateAxis("y",d.point,b),this.visualElement.render(),y&&y(c,d)},o=(c,d)=>this.stop(c,d),l=()=>Hn(c=>{var d;return this.getAnimationState(c)==="paused"&&((d=this.getAxisMotionValue(c).animation)===null||d===void 0?void 0:d.play())}),{dragSnapToOrigin:u}=this.getProps();this.panSession=new rI(e,{onSessionStart:i,onStart:s,onMove:a,onSessionEnd:o,resumeAnimation:l},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:u,contextWindow:uI(this.visualElement)})}stop(e,n){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:i}=n;this.startAnimation(i);const{onDragEnd:s}=this.getProps();s&&je.postRender(()=>s(e,n))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openGlobalLock&&(this.openGlobalLock(),this.openGlobalLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,r){const{drag:i}=this.getProps();if(!r||!Td(e,i,this.currentDirection))return;const s=this.getAxisMotionValue(e);let a=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(a=bU(a,this.constraints[e],this.elastic[e])),s.set(a)}resolveConstraints(){var e;const{dragConstraints:n,dragElastic:r}=this.getProps(),i=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(e=this.visualElement.projection)===null||e===void 0?void 0:e.layout,s=this.constraints;n&&io(n)?this.constraints||(this.constraints=this.resolveRefConstraints()):n&&i?this.constraints=wU(i.layoutBox,n):this.constraints=!1,this.elastic=SU(r),s!==this.constraints&&i&&this.constraints&&!this.hasMutatedConstraints&&Hn(a=>{this.constraints!==!1&&this.getAxisMotionValue(a)&&(this.constraints[a]=kU(i.layoutBox[a],this.constraints[a]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!io(e))return!1;const r=e.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const s=IU(r,i.root,this.visualElement.getTransformPagePoint());let a=_U(i.layout.layoutBox,s);if(n){const o=n(CU(a));this.hasMutatedConstraints=!!o,o&&(a=sI(o))}return a}startAnimation(e){const{drag:n,dragMomentum:r,dragElastic:i,dragTransition:s,dragSnapToOrigin:a,onDragTransitionEnd:o}=this.getProps(),l=this.constraints||{},u=Hn(c=>{if(!Td(c,n,this.currentDirection))return;let d=l&&l[c]||{};a&&(d={min:0,max:0});const f=i?200:1e6,h=i?40:1e7,p={type:"inertia",velocity:r?e[c]:0,bounceStiffness:f,bounceDamping:h,timeConstant:750,restDelta:1,restSpeed:10,...s,...d};return this.startAxisValueAnimation(c,p)});return Promise.all(u).then(o)}startAxisValueAnimation(e,n){const r=this.getAxisMotionValue(e);return r.start(aw(e,r,0,n,this.visualElement))}stopAnimation(){Hn(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){Hn(e=>{var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.pause()})}getAnimationState(e){var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,r=this.visualElement.getProps(),i=r[n];return i||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){Hn(n=>{const{drag:r}=this.getProps();if(!Td(n,r,this.currentDirection))return;const{projection:i}=this.visualElement,s=this.getAxisMotionValue(n);if(i&&i.layout){const{min:a,max:o}=i.layout.layoutBox[n];s.set(e[n]-tt(a,o,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!io(n)||!r||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};Hn(a=>{const o=this.getAxisMotionValue(a);if(o&&this.constraints!==!1){const l=o.get();i[a]=xU({min:l,max:l},this.constraints[a])}});const{transformTemplate:s}=this.visualElement.getProps();this.visualElement.current.style.transform=s?s({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),Hn(a=>{if(!Td(a,e,null))return;const o=this.getAxisMotionValue(a),{min:l,max:u}=this.constraints[a];o.set(tt(l,u,i[a]))})}addListeners(){if(!this.visualElement.current)return;OU.set(this.visualElement,this);const e=this.visualElement.current,n=ki(e,"pointerdown",l=>{const{drag:u,dragListener:c=!0}=this.getProps();u&&c&&this.start(l)}),r=()=>{const{dragConstraints:l}=this.getProps();io(l)&&(this.constraints=this.resolveRefConstraints())},{projection:i}=this.visualElement,s=i.addEventListener("measure",r);i&&!i.layout&&(i.root&&i.root.updateScroll(),i.updateLayout()),r();const a=wi(window,"resize",()=>this.scalePositionWithinConstraints()),o=i.addEventListener("didUpdate",({delta:l,hasLayoutChanged:u})=>{this.isDragging&&u&&(Hn(c=>{const d=this.getAxisMotionValue(c);d&&(this.originPoint[c]+=l[c].translate,d.set(d.get()+l[c].translate))}),this.visualElement.render())});return()=>{a(),n(),s(),o&&o()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:i=!1,dragConstraints:s=!1,dragElastic:a=Rv,dragMomentum:o=!0}=e;return{...e,drag:n,dragDirectionLock:r,dragPropagation:i,dragConstraints:s,dragElastic:a,dragMomentum:o}}}function Td(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function $U(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class NU extends Cs{constructor(e){super(e),this.removeGroupControls=Ut,this.removeListeners=Ut,this.controls=new RU(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Ut}unmount(){this.removeGroupControls(),this.removeListeners()}}const Tk=t=>(e,n)=>{t&&je.postRender(()=>t(e,n))};class jU extends Cs{constructor(){super(...arguments),this.removePointerDownListener=Ut}onPointerDown(e){this.session=new rI(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:uI(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:r,onPanEnd:i}=this.node.getProps();return{onSessionStart:Tk(e),onStart:Tk(n),onMove:r,onEnd:(s,a)=>{delete this.session,i&&je.postRender(()=>i(s,a))}}}mount(){this.removePointerDownListener=ki(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}function MU(){const t=A.useContext(Tc);if(t===null)return[!0,null];const{isPresent:e,onExitComplete:n,register:r}=t,i=A.useId();return A.useEffect(()=>r(i),[]),!e&&n?[!1,()=>n&&n(i)]:[!0]}function LU(){return zU(A.useContext(Tc))}function zU(t){return t===null?!0:t.isPresent}const pf={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function Pk(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const bl={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(te.test(t))t=parseFloat(t);else return t;const n=Pk(t,e.target.x),r=Pk(t,e.target.y);return`${n}% ${r}%`}},DU={correct:(t,{treeScale:e,projectionDelta:n})=>{const r=t,i=ys.parse(t);if(i.length>5)return r;const s=ys.createTransformer(t),a=typeof i[0]!="number"?1:0,o=n.x.scale*e.x,l=n.y.scale*e.y;i[0+a]/=o,i[1+a]/=l;const u=tt(o,l,.5);return typeof i[2+a]=="number"&&(i[2+a]/=u),typeof i[3+a]=="number"&&(i[3+a]/=u),s(i)}};class FU extends A.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r,layoutId:i}=this.props,{projection:s}=e;L6(BU),s&&(n.group&&n.group.add(s),r&&r.register&&i&&r.register(s),s.root.didUpdate(),s.addEventListener("animationComplete",()=>{this.safeToRemove()}),s.setOptions({...s.options,onExitComplete:()=>this.safeToRemove()})),pf.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:r,drag:i,isPresent:s}=this.props,a=r.projection;return a&&(a.isPresent=s,i||e.layoutDependency!==n||n===void 0?a.willUpdate():this.safeToRemove(),e.isPresent!==s&&(s?a.promote():a.relegate()||je.postRender(()=>{const o=a.getStack();(!o||!o.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),zb.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:i}=e;i&&(i.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(i),r&&r.deregister&&r.deregister(i))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function cI(t){const[e,n]=MU(),r=A.useContext(Bb);return O.jsx(FU,{...t,layoutGroup:r,switchLayoutGroup:A.useContext(oA),isPresent:e,safeToRemove:n})}const BU={borderRadius:{...bl,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:bl,borderTopRightRadius:bl,borderBottomLeftRadius:bl,borderBottomRightRadius:bl,boxShadow:DU},dI=["TopLeft","TopRight","BottomLeft","BottomRight"],VU=dI.length,Ek=t=>typeof t=="string"?parseFloat(t):t,Ak=t=>typeof t=="number"||te.test(t);function UU(t,e,n,r,i,s){i?(t.opacity=tt(0,n.opacity!==void 0?n.opacity:1,HU(r)),t.opacityExit=tt(e.opacity!==void 0?e.opacity:1,0,WU(r))):s&&(t.opacity=tt(e.opacity!==void 0?e.opacity:1,n.opacity!==void 0?n.opacity:1,r));for(let a=0;a<VU;a++){const o=`border${dI[a]}Radius`;let l=Ik(e,o),u=Ik(n,o);if(l===void 0&&u===void 0)continue;l||(l=0),u||(u=0),l===0||u===0||Ak(l)===Ak(u)?(t[o]=Math.max(tt(Ek(l),Ek(u),r),0),(ei.test(u)||ei.test(l))&&(t[o]+="%")):t[o]=u}(e.rotate||n.rotate)&&(t.rotate=tt(e.rotate||0,n.rotate||0,r))}function Ik(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const HU=fI(0,.5,KA),WU=fI(.5,.95,Ut);function fI(t,e,n){return r=>r<t?0:r>e?1:n(Gu(t,e,r))}function Ok(t,e){t.min=e.min,t.max=e.max}function Vn(t,e){Ok(t.x,e.x),Ok(t.y,e.y)}function Rk(t,e,n,r,i){return t-=e,t=mh(t,1/n,r),i!==void 0&&(t=mh(t,1/i,r)),t}function qU(t,e=0,n=1,r=.5,i,s=t,a=t){if(ei.test(e)&&(e=parseFloat(e),e=tt(a.min,a.max,e/100)-a.min),typeof e!="number")return;let o=tt(s.min,s.max,r);t===s&&(o-=e),t.min=Rk(t.min,e,n,o,i),t.max=Rk(t.max,e,n,o,i)}function $k(t,e,[n,r,i],s,a){qU(t,e[n],e[r],e[i],e.scale,s,a)}const ZU=["x","scaleX","originX"],GU=["y","scaleY","originY"];function Nk(t,e,n,r){$k(t.x,e,ZU,n?n.x:void 0,r?r.x:void 0),$k(t.y,e,GU,n?n.y:void 0,r?r.y:void 0)}function jk(t){return t.translate===0&&t.scale===1}function hI(t){return jk(t.x)&&jk(t.y)}function KU(t,e){return t.x.min===e.x.min&&t.x.max===e.x.max&&t.y.min===e.y.min&&t.y.max===e.y.max}function pI(t,e){return Math.round(t.x.min)===Math.round(e.x.min)&&Math.round(t.x.max)===Math.round(e.x.max)&&Math.round(t.y.min)===Math.round(e.y.min)&&Math.round(t.y.max)===Math.round(e.y.max)}function Mk(t){return Nn(t.x)/Nn(t.y)}class JU{constructor(){this.members=[]}add(e){ow(this.members,e),e.scheduleRender()}remove(e){if(lw(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(i=>e===i);if(n===0)return!1;let r;for(let i=n;i>=0;i--){const s=this.members[i];if(s.isPresent!==!1){r=s;break}}return r?(this.promote(r),!0):!1}promote(e,n){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,n&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:i}=e.options;i===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:r}=e;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function Lk(t,e,n){let r="";const i=t.x.translate/e.x,s=t.y.translate/e.y,a=(n==null?void 0:n.z)||0;if((i||s||a)&&(r=`translate3d(${i}px, ${s}px, ${a}px) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:u,rotate:c,rotateX:d,rotateY:f,skewX:h,skewY:p}=n;u&&(r=`perspective(${u}px) ${r}`),c&&(r+=`rotate(${c}deg) `),d&&(r+=`rotateX(${d}deg) `),f&&(r+=`rotateY(${f}deg) `),h&&(r+=`skewX(${h}deg) `),p&&(r+=`skewY(${p}deg) `)}const o=t.x.scale*e.x,l=t.y.scale*e.y;return(o!==1||l!==1)&&(r+=`scale(${o}, ${l})`),r||"none"}const XU=(t,e)=>t.depth-e.depth;class YU{constructor(){this.children=[],this.isDirty=!1}add(e){ow(this.children,e),this.isDirty=!0}remove(e){lw(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(XU),this.isDirty=!1,this.children.forEach(e)}}function QU(t,e){const n=fs.now(),r=({timestamp:i})=>{const s=i-n;s>=e&&(gs(r),t(s-e))};return je.read(r,!0),()=>gs(r)}function e8(t){window.MotionDebug&&window.MotionDebug.record(t)}function t8(t){return t instanceof SVGElement&&t.tagName!=="svg"}function n8(t,e,n){const r=Bt(t)?t:Ku(t);return r.start(aw("",r,e,n)),r.animation}const jg=["","X","Y","Z"],r8={visibility:"hidden"},zk=1e3;let i8=0;const Ls={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0};function Mg(t,e,n,r){const{latestValues:i}=e;i[t]&&(n[t]=i[t],e.setStaticValue(t,0),r&&(r[t]=0))}function mI({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:r,resetTransform:i}){return class{constructor(a={},o=e==null?void 0:e()){this.id=i8++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,Ls.totalNodes=Ls.resolvedTargetDeltas=Ls.recalculatedProjection=0,this.nodes.forEach(o8),this.nodes.forEach(f8),this.nodes.forEach(h8),this.nodes.forEach(l8),e8(Ls)},this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=a,this.root=o?o.root||o:this,this.path=o?[...o.path,o]:[],this.parent=o,this.depth=o?o.depth+1:0;for(let l=0;l<this.path.length;l++)this.path[l].shouldResetTransform=!0;this.root===this&&(this.nodes=new YU)}addEventListener(a,o){return this.eventHandlers.has(a)||this.eventHandlers.set(a,new uw),this.eventHandlers.get(a).add(o)}notifyListeners(a,...o){const l=this.eventHandlers.get(a);l&&l.notify(...o)}hasListeners(a){return this.eventHandlers.has(a)}mount(a,o=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=t8(a),this.instance=a;const{layoutId:l,layout:u,visualElement:c}=this.options;if(c&&!c.current&&c.mount(a),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),o&&(u||l)&&(this.isLayoutDirty=!0),t){let d;const f=()=>this.root.updateBlockedByResize=!1;t(a,()=>{this.root.updateBlockedByResize=!0,d&&d(),d=QU(f,250),pf.hasAnimatedSinceResize&&(pf.hasAnimatedSinceResize=!1,this.nodes.forEach(Fk))})}l&&this.root.registerSharedNode(l,this),this.options.animate!==!1&&c&&(l||u)&&this.addEventListener("didUpdate",({delta:d,hasLayoutChanged:f,hasRelativeTargetChanged:h,layout:p})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const y=this.options.transition||c.getDefaultTransition()||v8,{onLayoutAnimationStart:b,onLayoutAnimationComplete:m}=c.getProps(),g=!this.targetLayout||!pI(this.targetLayout,p)||h,v=!f&&h;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||v||f&&(g||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(d,v);const x={...Xb(y,"layout"),onPlay:b,onComplete:m};(c.shouldReduceMotion||this.options.layoutRoot)&&(x.delay=0,x.type=!1),this.startAnimation(x)}else f||Fk(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=p})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const a=this.getStack();a&&a.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,gs(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(p8),this.animationId++)}getTransformTemplate(){const{visualElement:a}=this.options;return a&&a.getProps().transformTemplate}willUpdate(a=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let c=0;c<this.path.length;c++){const d=this.path[c];d.shouldResetTransform=!0,d.updateScroll("snapshot"),d.options.layoutRoot&&d.willUpdate(!1)}const{layoutId:o,layout:l}=this.options;if(o===void 0&&!l)return;const u=this.getTransformTemplate();this.prevTransformTemplateValue=u?u(this.latestValues,""):void 0,this.updateSnapshot(),a&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(Dk);return}this.isUpdating||this.nodes.forEach(c8),this.isUpdating=!1,window.HandoffCancelAllAnimations&&window.HandoffCancelAllAnimations(),this.nodes.forEach(d8),this.nodes.forEach(s8),this.nodes.forEach(a8),this.clearAllSnapshots();const o=fs.now();Et.delta=ms(0,1e3/60,o-Et.timestamp),Et.timestamp=o,Et.isProcessing=!0,Cg.update.process(Et),Cg.preRender.process(Et),Cg.render.process(Et),Et.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,zb.read(()=>this.update()))}clearAllSnapshots(){this.nodes.forEach(u8),this.sharedNodes.forEach(m8)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,je.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){je.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let l=0;l<this.path.length;l++)this.path[l].updateScroll();const a=this.layout;this.layout=this.measure(!1),this.layoutCorrected=ct(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:o}=this.options;o&&o.notify("LayoutMeasure",this.layout.layoutBox,a?a.layoutBox:void 0)}updateScroll(a="measure"){let o=!!(this.options.layoutScroll&&this.instance);this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===a&&(o=!1),o&&(this.scroll={animationId:this.root.animationId,phase:a,isRoot:r(this.instance),offset:n(this.instance)})}resetTransform(){if(!i)return;const a=this.isLayoutDirty||this.shouldResetTransform,o=this.projectionDelta&&!hI(this.projectionDelta),l=this.getTransformTemplate(),u=l?l(this.latestValues,""):void 0,c=u!==this.prevTransformTemplateValue;a&&(o||Ms(this.latestValues)||c)&&(i(this.instance,u),this.shouldResetTransform=!1,this.scheduleRender())}measure(a=!0){const o=this.measurePageBox();let l=this.removeElementScroll(o);return a&&(l=this.removeTransform(l)),b8(l),{animationId:this.root.animationId,measuredBox:o,layoutBox:l,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:a}=this.options;if(!a)return ct();const o=a.measureViewportBox(),{scroll:l}=this.root;return l&&(Gi(o.x,l.offset.x),Gi(o.y,l.offset.y)),o}removeElementScroll(a){const o=ct();Vn(o,a);for(let l=0;l<this.path.length;l++){const u=this.path[l],{scroll:c,options:d}=u;if(u!==this.root&&c&&d.layoutScroll){if(c.isRoot){Vn(o,a);const{scroll:f}=this.root;f&&(Gi(o.x,-f.offset.x),Gi(o.y,-f.offset.y))}Gi(o.x,c.offset.x),Gi(o.y,c.offset.y)}}return o}applyTransform(a,o=!1){const l=ct();Vn(l,a);for(let u=0;u<this.path.length;u++){const c=this.path[u];!o&&c.options.layoutScroll&&c.scroll&&c!==c.root&&oo(l,{x:-c.scroll.offset.x,y:-c.scroll.offset.y}),Ms(c.latestValues)&&oo(l,c.latestValues)}return Ms(this.latestValues)&&oo(l,this.latestValues),l}removeTransform(a){const o=ct();Vn(o,a);for(let l=0;l<this.path.length;l++){const u=this.path[l];if(!u.instance||!Ms(u.latestValues))continue;$v(u.latestValues)&&u.updateSnapshot();const c=ct(),d=u.measurePageBox();Vn(c,d),Nk(o,u.latestValues,u.snapshot?u.snapshot.layoutBox:void 0,c)}return Ms(this.latestValues)&&Nk(o,this.latestValues),o}setTargetDelta(a){this.targetDelta=a,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(a){this.options={...this.options,...a,crossfade:a.crossfade!==void 0?a.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Et.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(a=!1){var o;const l=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=l.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=l.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=l.isSharedProjectionDirty);const u=!!this.resumingFrom||this!==l;if(!(a||u&&this.isSharedProjectionDirty||this.isProjectionDirty||!((o=this.parent)===null||o===void 0)&&o.isProjectionDirty||this.attemptToResolveRelativeTarget))return;const{layout:d,layoutId:f}=this.options;if(!(!this.layout||!(d||f))){if(this.resolvedRelativeTargetAt=Et.timestamp,!this.targetDelta&&!this.relativeTarget){const h=this.getClosestProjectingParent();h&&h.layout&&this.animationProgress!==1?(this.relativeParent=h,this.forceRelativeParentToResolveTarget(),this.relativeTarget=ct(),this.relativeTargetOrigin=ct(),du(this.relativeTargetOrigin,this.layout.layoutBox,h.layout.layoutBox),Vn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=ct(),this.targetWithTransforms=ct()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),vU(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Vn(this.target,this.layout.layoutBox),oI(this.target,this.targetDelta)):Vn(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const h=this.getClosestProjectingParent();h&&!!h.resumingFrom==!!this.resumingFrom&&!h.options.layoutScroll&&h.target&&this.animationProgress!==1?(this.relativeParent=h,this.forceRelativeParentToResolveTarget(),this.relativeTarget=ct(),this.relativeTargetOrigin=ct(),du(this.relativeTargetOrigin,this.target,h.target),Vn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}Ls.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||$v(this.parent.latestValues)||aI(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var a;const o=this.getLead(),l=!!this.resumingFrom||this!==o;let u=!0;if((this.isProjectionDirty||!((a=this.parent)===null||a===void 0)&&a.isProjectionDirty)&&(u=!1),l&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(u=!1),this.resolvedRelativeTargetAt===Et.timestamp&&(u=!1),u)return;const{layout:c,layoutId:d}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(c||d))return;Vn(this.layoutCorrected,this.layout.layoutBox);const f=this.treeScale.x,h=this.treeScale.y;PU(this.layoutCorrected,this.treeScale,this.path,l),o.layout&&!o.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(o.target=o.layout.layoutBox,o.targetWithTransforms=ct());const{target:p}=o;if(!p){this.projectionTransform&&(this.projectionDelta=ao(),this.projectionTransform="none",this.scheduleRender());return}this.projectionDelta||(this.projectionDelta=ao(),this.projectionDeltaWithTransform=ao());const y=this.projectionTransform;cu(this.projectionDelta,this.layoutCorrected,p,this.latestValues),this.projectionTransform=Lk(this.projectionDelta,this.treeScale),(this.projectionTransform!==y||this.treeScale.x!==f||this.treeScale.y!==h)&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",p)),Ls.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(a=!0){if(this.options.scheduleRender&&this.options.scheduleRender(),a){const o=this.getStack();o&&o.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}setAnimationOrigin(a,o=!1){const l=this.snapshot,u=l?l.latestValues:{},c={...this.latestValues},d=ao();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!o;const f=ct(),h=l?l.source:void 0,p=this.layout?this.layout.source:void 0,y=h!==p,b=this.getStack(),m=!b||b.members.length<=1,g=!!(y&&!m&&this.options.crossfade===!0&&!this.path.some(y8));this.animationProgress=0;let v;this.mixTargetDelta=x=>{const C=x/1e3;Bk(d.x,a.x,C),Bk(d.y,a.y,C),this.setTargetDelta(d),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(du(f,this.layout.layoutBox,this.relativeParent.layout.layoutBox),g8(this.relativeTarget,this.relativeTargetOrigin,f,C),v&&KU(this.relativeTarget,v)&&(this.isProjectionDirty=!1),v||(v=ct()),Vn(v,this.relativeTarget)),y&&(this.animationValues=c,UU(c,u,this.latestValues,C,g,m)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=C},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(a){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(gs(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=je.update(()=>{pf.hasAnimatedSinceResize=!0,this.currentAnimation=n8(0,zk,{...a,onUpdate:o=>{this.mixTargetDelta(o),a.onUpdate&&a.onUpdate(o)},onComplete:()=>{a.onComplete&&a.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const a=this.getStack();a&&a.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(zk),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const a=this.getLead();let{targetWithTransforms:o,target:l,layout:u,latestValues:c}=a;if(!(!o||!l||!u)){if(this!==a&&this.layout&&u&&gI(this.options.animationType,this.layout.layoutBox,u.layoutBox)){l=this.target||ct();const d=Nn(this.layout.layoutBox.x);l.x.min=a.target.x.min,l.x.max=l.x.min+d;const f=Nn(this.layout.layoutBox.y);l.y.min=a.target.y.min,l.y.max=l.y.min+f}Vn(o,l),oo(o,c),cu(this.projectionDeltaWithTransform,this.layoutCorrected,o,c)}}registerSharedNode(a,o){this.sharedNodes.has(a)||this.sharedNodes.set(a,new JU),this.sharedNodes.get(a).add(o);const u=o.options.initialPromotionConfig;o.promote({transition:u?u.transition:void 0,preserveFollowOpacity:u&&u.shouldPreserveFollowOpacity?u.shouldPreserveFollowOpacity(o):void 0})}isLead(){const a=this.getStack();return a?a.lead===this:!0}getLead(){var a;const{layoutId:o}=this.options;return o?((a=this.getStack())===null||a===void 0?void 0:a.lead)||this:this}getPrevLead(){var a;const{layoutId:o}=this.options;return o?(a=this.getStack())===null||a===void 0?void 0:a.prevLead:void 0}getStack(){const{layoutId:a}=this.options;if(a)return this.root.sharedNodes.get(a)}promote({needsReset:a,transition:o,preserveFollowOpacity:l}={}){const u=this.getStack();u&&u.promote(this,l),a&&(this.projectionDelta=void 0,this.needsReset=!0),o&&this.setOptions({transition:o})}relegate(){const a=this.getStack();return a?a.relegate(this):!1}resetSkewAndRotation(){const{visualElement:a}=this.options;if(!a)return;let o=!1;const{latestValues:l}=a;if((l.z||l.rotate||l.rotateX||l.rotateY||l.rotateZ||l.skewX||l.skewY)&&(o=!0),!o)return;const u={};l.z&&Mg("z",a,u,this.animationValues);for(let c=0;c<jg.length;c++)Mg(`rotate${jg[c]}`,a,u,this.animationValues),Mg(`skew${jg[c]}`,a,u,this.animationValues);a.render();for(const c in u)a.setStaticValue(c,u[c]),this.animationValues&&(this.animationValues[c]=u[c]);a.scheduleRender()}getProjectionStyles(a){var o,l;if(!this.instance||this.isSVG)return;if(!this.isVisible)return r8;const u={visibility:""},c=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,u.opacity="",u.pointerEvents=ff(a==null?void 0:a.pointerEvents)||"",u.transform=c?c(this.latestValues,""):"none",u;const d=this.getLead();if(!this.projectionDelta||!this.layout||!d.target){const y={};return this.options.layoutId&&(y.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,y.pointerEvents=ff(a==null?void 0:a.pointerEvents)||""),this.hasProjected&&!Ms(this.latestValues)&&(y.transform=c?c({},""):"none",this.hasProjected=!1),y}const f=d.animationValues||d.latestValues;this.applyTransformsToTarget(),u.transform=Lk(this.projectionDeltaWithTransform,this.treeScale,f),c&&(u.transform=c(f,u.transform));const{x:h,y:p}=this.projectionDelta;u.transformOrigin=`${h.origin*100}% ${p.origin*100}% 0`,d.animationValues?u.opacity=d===this?(l=(o=f.opacity)!==null&&o!==void 0?o:this.latestValues.opacity)!==null&&l!==void 0?l:1:this.preserveOpacity?this.latestValues.opacity:f.opacityExit:u.opacity=d===this?f.opacity!==void 0?f.opacity:"":f.opacityExit!==void 0?f.opacityExit:0;for(const y in ch){if(f[y]===void 0)continue;const{correct:b,applyTo:m}=ch[y],g=u.transform==="none"?f[y]:b(f[y],d);if(m){const v=m.length;for(let x=0;x<v;x++)u[m[x]]=g}else u[y]=g}return this.options.layoutId&&(u.pointerEvents=d===this?ff(a==null?void 0:a.pointerEvents)||"":"none"),u}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(a=>{var o;return(o=a.currentAnimation)===null||o===void 0?void 0:o.stop()}),this.root.nodes.forEach(Dk),this.root.sharedNodes.clear()}}}function s8(t){t.updateLayout()}function a8(t){var e;const n=((e=t.resumeFrom)===null||e===void 0?void 0:e.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&n&&t.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:i}=t.layout,{animationType:s}=t.options,a=n.source!==t.layout.source;s==="size"?Hn(d=>{const f=a?n.measuredBox[d]:n.layoutBox[d],h=Nn(f);f.min=r[d].min,f.max=f.min+h}):gI(s,n.layoutBox,r)&&Hn(d=>{const f=a?n.measuredBox[d]:n.layoutBox[d],h=Nn(r[d]);f.max=f.min+h,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[d].max=t.relativeTarget[d].min+h)});const o=ao();cu(o,r,n.layoutBox);const l=ao();a?cu(l,t.applyTransform(i,!0),n.measuredBox):cu(l,r,n.layoutBox);const u=!hI(o);let c=!1;if(!t.resumeFrom){const d=t.getClosestProjectingParent();if(d&&!d.resumeFrom){const{snapshot:f,layout:h}=d;if(f&&h){const p=ct();du(p,n.layoutBox,f.layoutBox);const y=ct();du(y,r,h.layoutBox),pI(p,y)||(c=!0),d.options.layoutRoot&&(t.relativeTarget=y,t.relativeTargetOrigin=p,t.relativeParent=d)}}}t.notifyListeners("didUpdate",{layout:r,snapshot:n,delta:l,layoutDelta:o,hasLayoutChanged:u,hasRelativeTargetChanged:c})}else if(t.isLead()){const{onExitComplete:r}=t.options;r&&r()}t.options.transition=void 0}function o8(t){Ls.totalNodes++,t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function l8(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function u8(t){t.clearSnapshot()}function Dk(t){t.clearMeasurements()}function c8(t){t.isLayoutDirty=!1}function d8(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function Fk(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function f8(t){t.resolveTargetDelta()}function h8(t){t.calcProjection()}function p8(t){t.resetSkewAndRotation()}function m8(t){t.removeLeadSnapshot()}function Bk(t,e,n){t.translate=tt(e.translate,0,n),t.scale=tt(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function Vk(t,e,n,r){t.min=tt(e.min,n.min,r),t.max=tt(e.max,n.max,r)}function g8(t,e,n,r){Vk(t.x,e.x,n.x,r),Vk(t.y,e.y,n.y,r)}function y8(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const v8={duration:.45,ease:[.4,0,.1,1]},Uk=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),Hk=Uk("applewebkit/")&&!Uk("chrome/")?Math.round:Ut;function Wk(t){t.min=Hk(t.min),t.max=Hk(t.max)}function b8(t){Wk(t.x),Wk(t.y)}function gI(t,e,n){return t==="position"||t==="preserve-aspect"&&!Ov(Mk(e),Mk(n),.2)}const w8=mI({attachResizeListener:(t,e)=>wi(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Lg={current:void 0},yI=mI({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!Lg.current){const t=new w8({});t.mount(window),t.setOptions({layoutScroll:!0}),Lg.current=t}return Lg.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),_8={pan:{Feature:jU},drag:{Feature:NU,ProjectionNode:yI,MeasureLayout:cI}},jv={current:null},vI={current:!1};function x8(){if(vI.current=!0,!!jb)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>jv.current=t.matches;t.addListener(e),e()}else jv.current=!1}function k8(t,e,n){const{willChange:r}=e;for(const i in e){const s=e[i],a=n[i];if(Bt(s))t.addValue(i,s),ph(r)&&r.add(i);else if(Bt(a))t.addValue(i,Ku(s,{owner:t})),ph(r)&&r.remove(i);else if(a!==s)if(t.hasValue(i)){const o=t.getValue(i);o.liveStyle===!0?o.jump(s):o.hasAnimated||o.set(s)}else{const o=t.getStaticValue(i);t.addValue(i,Ku(o!==void 0?o:s,{owner:t}))}}for(const i in n)e[i]===void 0&&t.removeValue(i);return e}const qk=new WeakMap,S8=[...OA,zt,ys],C8=t=>S8.find(IA(t)),bI=Object.keys(qu),T8=bI.length,Zk=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"],P8=Fb.length;function wI(t){if(t)return t.options.allowProjection!==!1?t.projection:wI(t.parent)}class E8{scrapeMotionValuesFromProps(e,n,r){return{}}constructor({parent:e,props:n,presenceContext:r,reducedMotionConfig:i,blockInitialAnimation:s,visualState:a},o={}){this.resolveKeyframes=(f,h,p,y)=>new this.KeyframeResolver(f,h,p,y,this),this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=Yb,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.scheduleRender=()=>je.render(this.render,!1,!0);const{latestValues:l,renderState:u}=a;this.latestValues=l,this.baseTarget={...l},this.initialValues=n.initial?{...l}:{},this.renderState=u,this.parent=e,this.props=n,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=i,this.options=o,this.blockInitialAnimation=!!s,this.isControllingVariants=Kp(n),this.isVariantNode=aA(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:c,...d}=this.scrapeMotionValuesFromProps(n,{},this);for(const f in d){const h=d[f];l[f]!==void 0&&Bt(h)&&(h.set(l[f],!1),ph(c)&&c.add(f))}}mount(e){this.current=e,qk.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),vI.current||x8(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:jv.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){var e;qk.delete(this.current),this.projection&&this.projection.unmount(),gs(this.notifyUpdate),gs(this.render),this.valueSubscriptions.forEach(n=>n()),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const n in this.events)this.events[n].clear();for(const n in this.features)(e=this.features[n])===null||e===void 0||e.unmount();this.current=null}bindToMotionValue(e,n){const r=xa.has(e),i=n.on("change",a=>{this.latestValues[e]=a,this.props.onUpdate&&je.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0)}),s=n.on("renderRequest",this.scheduleRender);this.valueSubscriptions.set(e,()=>{i(),s(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}loadFeatures({children:e,...n},r,i,s){let a,o;for(let l=0;l<T8;l++){const u=bI[l],{isEnabled:c,Feature:d,ProjectionNode:f,MeasureLayout:h}=qu[u];f&&(a=f),c(n)&&(!this.features[u]&&d&&(this.features[u]=new d(this)),h&&(o=h))}if((this.type==="html"||this.type==="svg")&&!this.projection&&a){this.projection=new a(this.latestValues,wI(this.parent));const{layoutId:l,layout:u,drag:c,dragConstraints:d,layoutScroll:f,layoutRoot:h}=n;this.projection.setOptions({layoutId:l,layout:u,alwaysMeasureLayout:!!c||d&&io(d),visualElement:this,scheduleRender:()=>this.scheduleRender(),animationType:typeof u=="string"?u:"both",initialPromotionConfig:s,layoutScroll:f,layoutRoot:h})}return o}updateFeatures(){for(const e in this.features){const n=this.features[e];n.isMounted?n.update():(n.mount(),n.isMounted=!0)}}triggerBuild(){this.build(this.renderState,this.latestValues,this.options,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):ct()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<Zk.length;r++){const i=Zk[r];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const s="on"+i,a=e[s];a&&(this.propEventSubscriptions[i]=this.on(i,a))}this.prevMotionValues=k8(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}getVariantContext(e=!1){if(e)return this.parent?this.parent.getVariantContext():void 0;if(!this.isControllingVariants){const r=this.parent?this.parent.getVariantContext()||{}:{};return this.props.initial!==void 0&&(r.initial=this.props.initial),r}const n={};for(let r=0;r<P8;r++){const i=Fb[r],s=this.props[i];(Wu(s)||s===!1)&&(n[i]=s)}return n}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const r=this.values.get(e);n!==r&&(r&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&n!==void 0&&(r=Ku(n===null?void 0:n,{owner:this}),this.addValue(e,r)),r}readValue(e,n){var r;let i=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:(r=this.getBaseTargetFromProps(this.props,e))!==null&&r!==void 0?r:this.readValueFromInstance(this.current,e,this.options);return i!=null&&(typeof i=="string"&&(EA(i)||PA(i))?i=parseFloat(i):!C8(i)&&ys.test(n)&&(i=DA(e,n)),this.setBaseTarget(e,Bt(i)?i.get():i)),Bt(i)?i.get():i}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){var n;const{initial:r}=this.props;let i;if(typeof r=="string"||typeof r=="object"){const a=Jb(this.props,r,(n=this.presenceContext)===null||n===void 0?void 0:n.custom);a&&(i=a[e])}if(r&&i!==void 0)return i;const s=this.getBaseTargetFromProps(this.props,e);return s!==void 0&&!Bt(s)?s:this.initialValues[e]!==void 0&&i===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new uw),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}}class _I extends E8{constructor(){super(...arguments),this.KeyframeResolver=FA}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:r}){delete n[e],delete r[e]}}function A8(t){return window.getComputedStyle(t)}class I8 extends _I{constructor(){super(...arguments),this.type="html"}readValueFromInstance(e,n){if(xa.has(n)){const r=ew(n);return r&&r.default||0}else{const r=A8(e),i=(cA(n)?r.getPropertyValue(n):r[n])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(e,{transformPagePoint:n}){return lI(e,n)}build(e,n,r,i){Wb(e,n,r,i.transformTemplate)}scrapeMotionValuesFromProps(e,n,r){return Kb(e,n,r)}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;Bt(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}renderInstance(e,n,r,i){mA(e,n,r,i)}}class O8 extends _I{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(xa.has(n)){const r=ew(n);return r&&r.default||0}return n=gA.has(n)?n:Lb(n),e.getAttribute(n)}measureInstanceViewportBox(){return ct()}scrapeMotionValuesFromProps(e,n,r){return vA(e,n,r)}build(e,n,r,i){Zb(e,n,r,this.isSVGTag,i.transformTemplate)}renderInstance(e,n,r,i){yA(e,n,r,i)}mount(e){this.isSVGTag=Gb(e.tagName),super.mount(e)}}const R8=(t,e)=>Vb(t)?new O8(e,{enableHardwareAcceleration:!1}):new I8(e,{allowProjection:t!==A.Fragment,enableHardwareAcceleration:!0}),$8={layout:{ProjectionNode:yI,MeasureLayout:cI}},N8={...pU,...C9,..._8,...$8},xI=j6((t,e)=>f9(t,e,N8,R8));function kI(){const t=A.useRef(!1);return Mb(()=>(t.current=!0,()=>{t.current=!1}),[]),t}function j8(){const t=kI(),[e,n]=A.useState(0),r=A.useCallback(()=>{t.current&&n(e+1)},[e]);return[A.useCallback(()=>je.postRender(r),[r]),e]}class M8 extends A.Component{getSnapshotBeforeUpdate(e){const n=this.props.childRef.current;if(n&&e.isPresent&&!this.props.isPresent){const r=this.props.sizeRef.current;r.height=n.offsetHeight||0,r.width=n.offsetWidth||0,r.top=n.offsetTop,r.left=n.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function L8({children:t,isPresent:e}){const n=A.useId(),r=A.useRef(null),i=A.useRef({width:0,height:0,top:0,left:0}),{nonce:s}=A.useContext(Nb);return A.useInsertionEffect(()=>{const{width:a,height:o,top:l,left:u}=i.current;if(e||!r.current||!a||!o)return;r.current.dataset.motionPopId=n;const c=document.createElement("style");return s&&(c.nonce=s),document.head.appendChild(c),c.sheet&&c.sheet.insertRule(`
          [data-motion-pop-id="${n}"] {
            position: absolute !important;
            width: ${a}px !important;
            height: ${o}px !important;
            top: ${l}px !important;
            left: ${u}px !important;
          }
        `),()=>{document.head.removeChild(c)}},[e]),O.jsx(M8,{isPresent:e,childRef:r,sizeRef:i,children:A.cloneElement(t,{ref:r})})}const zg=({children:t,initial:e,isPresent:n,onExitComplete:r,custom:i,presenceAffectsLayout:s,mode:a})=>{const o=bA(z8),l=A.useId(),u=A.useMemo(()=>({id:l,initial:e,isPresent:n,custom:i,onExitComplete:c=>{o.set(c,!0);for(const d of o.values())if(!d)return;r&&r()},register:c=>(o.set(c,!1),()=>o.delete(c))}),s?[Math.random()]:[n]);return A.useMemo(()=>{o.forEach((c,d)=>o.set(d,!1))},[n]),A.useEffect(()=>{!n&&!o.size&&r&&r()},[n]),a==="popLayout"&&(t=O.jsx(L8,{isPresent:n,children:t})),O.jsx(Tc.Provider,{value:u,children:t})};function z8(){return new Map}function D8(t){return A.useEffect(()=>()=>t(),[])}const zs=t=>t.key||"";function F8(t,e){t.forEach(n=>{const r=zs(n);e.set(r,n)})}function B8(t){const e=[];return A.Children.forEach(t,n=>{A.isValidElement(n)&&e.push(n)}),e}const SI=({children:t,custom:e,initial:n=!0,onExitComplete:r,exitBeforeEnter:i,presenceAffectsLayout:s=!0,mode:a="sync"})=>{const o=A.useContext(Bb).forceRender||j8()[0],l=kI(),u=B8(t);let c=u;const d=A.useRef(new Map).current,f=A.useRef(c),h=A.useRef(new Map).current,p=A.useRef(!0);if(Mb(()=>{p.current=!1,F8(u,h),f.current=c}),D8(()=>{p.current=!0,h.clear(),d.clear()}),p.current)return O.jsx(O.Fragment,{children:c.map(g=>O.jsx(zg,{isPresent:!0,initial:n?void 0:!1,presenceAffectsLayout:s,mode:a,children:g},zs(g)))});c=[...c];const y=f.current.map(zs),b=u.map(zs),m=y.length;for(let g=0;g<m;g++){const v=y[g];b.indexOf(v)===-1&&!d.has(v)&&d.set(v,void 0)}return a==="wait"&&d.size&&(c=[]),d.forEach((g,v)=>{if(b.indexOf(v)!==-1)return;const x=h.get(v);if(!x)return;const C=y.indexOf(v);let k=g;if(!k){const I=()=>{d.delete(v);const R=Array.from(h.keys()).filter(j=>!b.includes(j));if(R.forEach(j=>h.delete(j)),f.current=u.filter(j=>{const T=zs(j);return T===v||R.includes(T)}),!d.size){if(l.current===!1)return;o(),r&&r()}};k=O.jsx(zg,{isPresent:!1,onExitComplete:I,custom:e,presenceAffectsLayout:s,mode:a,children:x},zs(x)),d.set(v,k)}c.splice(C,0,k)}),c=c.map(g=>{const v=g.key;return d.has(v)?g:O.jsx(zg,{isPresent:!0,presenceAffectsLayout:s,mode:a,children:g},zs(g))}),O.jsx(O.Fragment,{children:d.size?c:c.map(g=>A.cloneElement(g))})};var V8={initial:t=>{const{position:e}=t,n=["top","bottom"].includes(e)?"y":"x";let r=["top-right","bottom-right"].includes(e)?1:-1;return e==="bottom"&&(r=1),{opacity:0,[n]:r*24}},animate:{opacity:1,y:0,x:0,scale:1,transition:{duration:.4,ease:[.4,0,.2,1]}},exit:{opacity:0,scale:.85,transition:{duration:.2,ease:[.4,0,1,1]}}},CI=A.memo(t=>{const{id:e,message:n,onCloseComplete:r,onRequestRemove:i,requestClose:s=!1,position:a="bottom",duration:o=5e3,containerStyle:l,motionVariants:u=V8,toastSpacing:c="0.5rem"}=t,[d,f]=A.useState(o),h=LU();D1(()=>{h||r==null||r()},[h]),D1(()=>{f(o)},[o]);const p=()=>f(null),y=()=>f(o),b=()=>{h&&i()};A.useEffect(()=>{h&&s&&i()},[h,s,i]),x6(b,d);const m=A.useMemo(()=>({pointerEvents:"auto",maxWidth:560,minWidth:300,margin:c,...l}),[l,c]),g=A.useMemo(()=>w6(a),[a]);return O.jsx(xI.div,{layout:!0,className:"chakra-toast",variants:u,initial:"initial",animate:"animate",exit:"exit",onHoverStart:p,onHoverEnd:y,custom:{position:a},style:g,children:O.jsx(Me.div,{role:"status","aria-atomic":"true",className:"chakra-toast__inner",__css:m,children:ns(n,{id:e,onClose:b})})})});CI.displayName="ToastComponent";var Gk={path:O.jsxs("g",{stroke:"currentColor",strokeWidth:"1.5",children:[O.jsx("path",{strokeLinecap:"round",fill:"none",d:"M9,9a3,3,0,1,1,4,2.829,1.5,1.5,0,0,0-1,1.415V14.25"}),O.jsx("path",{fill:"currentColor",strokeLinecap:"round",d:"M12,17.25a.375.375,0,1,0,.375.375A.375.375,0,0,0,12,17.25h0"}),O.jsx("circle",{fill:"none",strokeMiterlimit:"10",cx:"12",cy:"12",r:"11.25"})]}),viewBox:"0 0 24 24"},Jo=st((t,e)=>{const{as:n,viewBox:r,color:i="currentColor",focusable:s=!1,children:a,className:o,__css:l,...u}=t,c=it("chakra-icon",o),d=Go("Icon",t),f={w:"1em",h:"1em",display:"inline-block",lineHeight:"1em",flexShrink:0,color:i,...l,...d},h={ref:e,focusable:s,className:c,__css:f},p=r??Gk.viewBox;if(n&&typeof n!="string")return O.jsx(Me.svg,{as:n,...h,...u});const y=a??Gk.path;return O.jsx(Me.svg,{verticalAlign:"middle",viewBox:p,...h,...u,children:y})});Jo.displayName="Icon";function U8(t){return O.jsx(Jo,{viewBox:"0 0 24 24",...t,children:O.jsx("path",{fill:"currentColor",d:"M12,0A12,12,0,1,0,24,12,12.014,12.014,0,0,0,12,0Zm6.927,8.2-6.845,9.289a1.011,1.011,0,0,1-1.43.188L5.764,13.769a1,1,0,1,1,1.25-1.562l4.076,3.261,6.227-8.451A1,1,0,1,1,18.927,8.2Z"})})}function H8(t){return O.jsx(Jo,{viewBox:"0 0 24 24",...t,children:O.jsx("path",{fill:"currentColor",d:"M12,0A12,12,0,1,0,24,12,12.013,12.013,0,0,0,12,0Zm.25,5a1.5,1.5,0,1,1-1.5,1.5A1.5,1.5,0,0,1,12.25,5ZM14.5,18.5h-4a1,1,0,0,1,0-2h.75a.25.25,0,0,0,.25-.25v-4.5a.25.25,0,0,0-.25-.25H10.5a1,1,0,0,1,0-2h1a2,2,0,0,1,2,2v4.75a.25.25,0,0,0,.25.25h.75a1,1,0,1,1,0,2Z"})})}function Kk(t){return O.jsx(Jo,{viewBox:"0 0 24 24",...t,children:O.jsx("path",{fill:"currentColor",d:"M11.983,0a12.206,12.206,0,0,0-8.51,3.653A11.8,11.8,0,0,0,0,12.207,11.779,11.779,0,0,0,11.8,24h.214A12.111,12.111,0,0,0,24,11.791h0A11.766,11.766,0,0,0,11.983,0ZM10.5,16.542a1.476,1.476,0,0,1,1.449-1.53h.027a1.527,1.527,0,0,1,1.523,1.47,1.475,1.475,0,0,1-1.449,1.53h-.027A1.529,1.529,0,0,1,10.5,16.542ZM11,12.5v-6a1,1,0,0,1,2,0v6a1,1,0,1,1-2,0Z"})})}var W8=LM({"0%":{transform:"rotate(0deg)"},"100%":{transform:"rotate(360deg)"}}),cw=st((t,e)=>{const n=Go("Spinner",t),{label:r="Loading...",thickness:i="2px",speed:s="0.45s",emptyColor:a="transparent",className:o,...l}=ii(t),u=it("chakra-spinner",o),c={display:"inline-block",borderColor:"currentColor",borderStyle:"solid",borderRadius:"99999px",borderWidth:i,borderBottomColor:a,borderLeftColor:a,animation:`${W8} ${s} linear infinite`,...n};return O.jsx(Me.div,{ref:e,__css:c,className:u,...l,children:r&&O.jsx(Me.span,{srOnly:!0,children:r})})});cw.displayName="Spinner";var[q8,dw]=Dn({name:"AlertContext",hookName:"useAlertContext",providerName:"<Alert />"}),[Z8,fw]=Dn({name:"AlertStylesContext",hookName:"useAlertStyles",providerName:"<Alert />"}),TI={info:{icon:H8,colorScheme:"blue"},warning:{icon:Kk,colorScheme:"orange"},success:{icon:U8,colorScheme:"green"},error:{icon:Kk,colorScheme:"red"},loading:{icon:cw,colorScheme:"blue"}};function G8(t){return TI[t].colorScheme}function K8(t){return TI[t].icon}var PI=st(function(e,n){const r=fw(),{status:i}=dw(),s={display:"inline",...r.description};return O.jsx(Me.div,{ref:n,"data-status":i,...e,className:it("chakra-alert__desc",e.className),__css:s})});PI.displayName="AlertDescription";function EI(t){const{status:e}=dw(),n=K8(e),r=fw(),i=e==="loading"?r.spinner:r.icon;return O.jsx(Me.span,{display:"inherit","data-status":e,...t,className:it("chakra-alert__icon",t.className),__css:i,children:t.children||O.jsx(n,{h:"100%",w:"100%"})})}EI.displayName="AlertIcon";var AI=st(function(e,n){const r=fw(),{status:i}=dw();return O.jsx(Me.div,{ref:n,"data-status":i,...e,className:it("chakra-alert__title",e.className),__css:r.title})});AI.displayName="AlertTitle";var II=st(function(e,n){var r;const{status:i="info",addRole:s=!0,...a}=ii(e),o=(r=e.colorScheme)!=null?r:G8(i),l=Cc("Alert",{...e,colorScheme:o}),u={width:"100%",display:"flex",alignItems:"center",position:"relative",overflow:"hidden",...l.container};return O.jsx(q8,{value:{status:i},children:O.jsx(Z8,{value:l,children:O.jsx(Me.div,{"data-status":i,role:s?"alert":void 0,ref:n,...a,className:it("chakra-alert",e.className),__css:u})})})});II.displayName="Alert";function J8(t){return O.jsx(Jo,{focusable:"false","aria-hidden":!0,...t,children:O.jsx("path",{fill:"currentColor",d:"M.439,21.44a1.5,1.5,0,0,0,2.122,2.121L11.823,14.3a.25.25,0,0,1,.354,0l9.262,9.263a1.5,1.5,0,1,0,2.122-2.121L14.3,12.177a.25.25,0,0,1,0-.354l9.263-9.262A1.5,1.5,0,0,0,21.439.44L12.177,9.7a.25.25,0,0,1-.354,0L2.561.44A1.5,1.5,0,0,0,.439,2.561L9.7,11.823a.25.25,0,0,1,0,.354Z"})})}var OI=st(function(e,n){const r=Go("CloseButton",e),{children:i,isDisabled:s,__css:a,...o}=ii(e),l={outline:0,display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0};return O.jsx(Me.button,{type:"button","aria-label":"Close",ref:n,disabled:s,__css:{...l,...r,...a},...o,children:i||O.jsx(J8,{width:"1em",height:"1em"})})});OI.displayName="CloseButton";var X8={top:[],"top-left":[],"top-right":[],"bottom-left":[],bottom:[],"bottom-right":[]},fu=Y8(X8);function Y8(t){let e=t;const n=new Set,r=i=>{e=i(e),n.forEach(s=>s())};return{getState:()=>e,subscribe:i=>(n.add(i),()=>{r(()=>t),n.delete(i)}),removeToast:(i,s)=>{r(a=>({...a,[s]:a[s].filter(o=>o.id!=i)}))},notify:(i,s)=>{const a=Q8(i,s),{position:o,id:l}=a;return r(u=>{var c,d;const h=o.includes("top")?[a,...(c=u[o])!=null?c:[]]:[...(d=u[o])!=null?d:[],a];return{...u,[o]:h}}),l},update:(i,s)=>{i&&r(a=>{const o={...a},{position:l,index:u}=z1(o,i);return l&&u!==-1&&(o[l][u]={...o[l][u],...s,message:tH(s)}),o})},closeAll:({positions:i}={})=>{r(s=>(i??["bottom","bottom-right","bottom-left","top","top-left","top-right"]).reduce((l,u)=>(l[u]=s[u].map(c=>({...c,requestClose:!0})),l),{...s}))},close:i=>{r(s=>{const a=nA(s,i);return a?{...s,[a]:s[a].map(o=>o.id==i?{...o,requestClose:!0}:o)}:s})},isActive:i=>!!z1(fu.getState(),i).position}}var Jk=0;function Q8(t,e={}){var n,r;Jk+=1;const i=(n=e.id)!=null?n:Jk,s=(r=e.position)!=null?r:"bottom";return{id:i,message:t,position:s,duration:e.duration,onCloseComplete:e.onCloseComplete,onRequestRemove:()=>fu.removeToast(String(i),s),status:e.status,requestClose:!1,containerStyle:e.containerStyle}}var eH=t=>{const{status:e,variant:n="solid",id:r,title:i,isClosable:s,onClose:a,description:o,colorScheme:l,icon:u}=t,c=r?{root:`toast-${r}`,title:`toast-${r}-title`,description:`toast-${r}-description`}:void 0;return O.jsxs(II,{addRole:!1,status:e,variant:n,id:c==null?void 0:c.root,alignItems:"start",borderRadius:"md",boxShadow:"lg",paddingEnd:8,textAlign:"start",width:"auto",colorScheme:l,children:[O.jsx(EI,{children:u}),O.jsxs(Me.div,{flex:"1",maxWidth:"100%",children:[i&&O.jsx(AI,{id:c==null?void 0:c.title,children:i}),o&&O.jsx(PI,{id:c==null?void 0:c.description,display:"block",children:o})]}),s&&O.jsx(OI,{size:"sm",onClick:a,position:"absolute",insetEnd:1,top:1})]})};function tH(t={}){const{render:e,toastComponent:n=eH}=t;return i=>typeof e=="function"?e({...i,...t}):O.jsx(n,{...i,...t})}var[nH,jte]=Dn({name:"ToastOptionsContext",strict:!1}),rH=t=>{const e=A.useSyncExternalStore(fu.subscribe,fu.getState,fu.getState),{motionVariants:n,component:r=CI,portalProps:i}=t,a=Object.keys(e).map(o=>{const l=e[o];return O.jsx("div",{role:"region","aria-live":"polite","aria-label":`Notifications-${o}`,id:`chakra-toast-manager-${o}`,style:_6(o),children:O.jsx(SI,{initial:!1,children:l.map(u=>O.jsx(r,{motionVariants:n,...u},u.id))})},o)});return O.jsx(Vp,{...i,children:a})},iH=t=>function({children:n,theme:r=t,toastOptions:i,...s}){return O.jsxs(v6,{theme:r,...s,children:[O.jsx(nH,{value:i==null?void 0:i.defaultOptions,children:n}),O.jsx(rH,{...i})]})},sH=iH(ZE),aH=Object.defineProperty,oH=(t,e,n)=>e in t?aH(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,ot=(t,e,n)=>(oH(t,typeof e!="symbol"?e+"":e,n),n);function Xk(t){return t.sort((e,n)=>{const r=e.compareDocumentPosition(n);if(r&Node.DOCUMENT_POSITION_FOLLOWING||r&Node.DOCUMENT_POSITION_CONTAINED_BY)return-1;if(r&Node.DOCUMENT_POSITION_PRECEDING||r&Node.DOCUMENT_POSITION_CONTAINS)return 1;if(r&Node.DOCUMENT_POSITION_DISCONNECTED||r&Node.DOCUMENT_POSITION_IMPLEMENTATION_SPECIFIC)throw Error("Cannot sort the given nodes.");return 0})}var lH=t=>typeof t=="object"&&"nodeType"in t&&t.nodeType===Node.ELEMENT_NODE;function Yk(t,e,n){let r=t+1;return n&&r>=e&&(r=0),r}function Qk(t,e,n){let r=t-1;return n&&r<0&&(r=e),r}var Mv=typeof window<"u"?A.useLayoutEffect:A.useEffect,gh=t=>t,uH=class{constructor(){ot(this,"descendants",new Map),ot(this,"register",t=>{if(t!=null)return lH(t)?this.registerNode(t):e=>{this.registerNode(e,t)}}),ot(this,"unregister",t=>{this.descendants.delete(t);const e=Xk(Array.from(this.descendants.keys()));this.assignIndex(e)}),ot(this,"destroy",()=>{this.descendants.clear()}),ot(this,"assignIndex",t=>{this.descendants.forEach(e=>{const n=t.indexOf(e.node);e.index=n,e.node.dataset.index=e.index.toString()})}),ot(this,"count",()=>this.descendants.size),ot(this,"enabledCount",()=>this.enabledValues().length),ot(this,"values",()=>Array.from(this.descendants.values()).sort((e,n)=>e.index-n.index)),ot(this,"enabledValues",()=>this.values().filter(t=>!t.disabled)),ot(this,"item",t=>{if(this.count()!==0)return this.values()[t]}),ot(this,"enabledItem",t=>{if(this.enabledCount()!==0)return this.enabledValues()[t]}),ot(this,"first",()=>this.item(0)),ot(this,"firstEnabled",()=>this.enabledItem(0)),ot(this,"last",()=>this.item(this.descendants.size-1)),ot(this,"lastEnabled",()=>{const t=this.enabledValues().length-1;return this.enabledItem(t)}),ot(this,"indexOf",t=>{var e,n;return t&&(n=(e=this.descendants.get(t))==null?void 0:e.index)!=null?n:-1}),ot(this,"enabledIndexOf",t=>t==null?-1:this.enabledValues().findIndex(e=>e.node.isSameNode(t))),ot(this,"next",(t,e=!0)=>{const n=Yk(t,this.count(),e);return this.item(n)}),ot(this,"nextEnabled",(t,e=!0)=>{const n=this.item(t);if(!n)return;const r=this.enabledIndexOf(n.node),i=Yk(r,this.enabledCount(),e);return this.enabledItem(i)}),ot(this,"prev",(t,e=!0)=>{const n=Qk(t,this.count()-1,e);return this.item(n)}),ot(this,"prevEnabled",(t,e=!0)=>{const n=this.item(t);if(!n)return;const r=this.enabledIndexOf(n.node),i=Qk(r,this.enabledCount()-1,e);return this.enabledItem(i)}),ot(this,"registerNode",(t,e)=>{if(!t||this.descendants.has(t))return;const n=Array.from(this.descendants.keys()).concat(t),r=Xk(n);e!=null&&e.disabled&&(e.disabled=!!e.disabled);const i={node:t,index:-1,...e};this.descendants.set(t,i),this.assignIndex(r)})}};function cH(t,e){if(t!=null){if(typeof t=="function"){t(e);return}try{t.current=e}catch{throw new Error(`Cannot assign value '${e}' to ref '${t}'`)}}}function Ju(...t){return e=>{t.forEach(n=>{cH(n,e)})}}function dH(...t){return A.useMemo(()=>Ju(...t),t)}function fH(){const t=A.useRef(new uH);return Mv(()=>()=>t.current.destroy()),t.current}var[hH,RI]=Dn({name:"DescendantsProvider",errorMessage:"useDescendantsContext must be used within DescendantsProvider"});function pH(t){const e=RI(),[n,r]=A.useState(-1),i=A.useRef(null);Mv(()=>()=>{i.current&&e.unregister(i.current)},[]),Mv(()=>{if(!i.current)return;const a=Number(i.current.dataset.index);n!=a&&!Number.isNaN(a)&&r(a)});const s=gh(t?e.register(t):e.register);return{descendants:e,index:n,enabledIndex:e.enabledIndexOf(i.current),register:Ju(s,i)}}function mH(){return[gh(hH),()=>gh(RI()),()=>fH(),i=>pH(i)]}var[gH,Qp]=Dn({name:"AccordionStylesContext",hookName:"useAccordionStyles",providerName:"<Accordion />"}),[yH,hw]=Dn({name:"AccordionItemContext",hookName:"useAccordionItemContext",providerName:"<AccordionItem />"}),[vH,Mte,bH,wH]=mH(),$I=st(function(e,n){const{getButtonProps:r}=hw(),i=r(e,n),a={display:"flex",alignItems:"center",width:"100%",outline:0,...Qp().button};return O.jsx(Me.button,{...i,className:it("chakra-accordion__button",e.className),__css:a})});$I.displayName="AccordionButton";function _H(t){const{value:e,defaultValue:n,onChange:r,shouldUpdate:i=(f,h)=>f!==h}=t,s=df(r),a=df(i),[o,l]=A.useState(n),u=e!==void 0,c=u?e:o,d=df(f=>{const p=typeof f=="function"?f(c):f;a(c,p)&&(u||l(p),s(p))},[u,s,c,a]);return[c,d]}function xH(t){const{onChange:e,defaultIndex:n,index:r,allowMultiple:i,allowToggle:s,...a}=t;CH(t),TH(t);const o=bH(),[l,u]=A.useState(-1);A.useEffect(()=>()=>{u(-1)},[]);const[c,d]=_H({value:r,defaultValue(){return i?n??[]:n??-1},onChange:e});return{index:c,setIndex:d,htmlProps:a,getAccordionItemProps:h=>{let p=!1;return h!==null&&(p=Array.isArray(c)?c.includes(h):c===h),{isOpen:p,onChange:b=>{if(h!==null)if(i&&Array.isArray(c)){const m=b?c.concat(h):c.filter(g=>g!==h);d(m)}else b?d(h):s&&d(-1)}}},focusedIndex:l,setFocusedIndex:u,descendants:o}}var[kH,pw]=Dn({name:"AccordionContext",hookName:"useAccordionContext",providerName:"Accordion"});function SH(t){const{isDisabled:e,isFocusable:n,id:r,...i}=t,{getAccordionItemProps:s,setFocusedIndex:a}=pw(),o=A.useRef(null),l=A.useId(),u=r??l,c=`accordion-button-${u}`,d=`accordion-panel-${u}`;PH(t);const{register:f,index:h,descendants:p}=wH({disabled:e&&!n}),{isOpen:y,onChange:b}=s(h===-1?null:h);EH({isOpen:y,isDisabled:e});const m=()=>{b==null||b(!0)},g=()=>{b==null||b(!1)},v=A.useCallback(()=>{b==null||b(!y),a(h)},[h,a,y,b]),x=A.useCallback(R=>{const T={ArrowDown:()=>{const F=p.nextEnabled(h);F==null||F.node.focus()},ArrowUp:()=>{const F=p.prevEnabled(h);F==null||F.node.focus()},Home:()=>{const F=p.firstEnabled();F==null||F.node.focus()},End:()=>{const F=p.lastEnabled();F==null||F.node.focus()}}[R.key];T&&(R.preventDefault(),T(R))},[p,h]),C=A.useCallback(()=>{a(h)},[a,h]),k=A.useCallback(function(j={},T=null){return{...j,type:"button",ref:Ju(f,o,T),id:c,disabled:!!e,"aria-expanded":!!y,"aria-controls":d,onClick:tu(j.onClick,v),onFocus:tu(j.onFocus,C),onKeyDown:tu(j.onKeyDown,x)}},[c,e,y,v,C,x,d,f]),I=A.useCallback(function(j={},T=null){return{...j,ref:T,role:"region",id:d,"aria-labelledby":c,hidden:!y}},[c,y,d]);return{isOpen:y,isDisabled:e,isFocusable:n,onOpen:m,onClose:g,getButtonProps:k,getPanelProps:I,htmlProps:i}}function CH(t){const e=t.index||t.defaultIndex,n=e!=null&&!Array.isArray(e)&&t.allowMultiple;kc({condition:!!n,message:`If 'allowMultiple' is passed, then 'index' or 'defaultIndex' must be an array. You passed: ${typeof e},`})}function TH(t){kc({condition:!!(t.allowMultiple&&t.allowToggle),message:"If 'allowMultiple' is passed, 'allowToggle' will be ignored. Either remove 'allowToggle' or 'allowMultiple' depending on whether you want multiple accordions visible or not"})}function PH(t){kc({condition:!!(t.isFocusable&&!t.isDisabled),message:`Using only 'isFocusable', this prop is reserved for situations where you pass 'isDisabled' but you still want the element to receive focus (A11y). Either remove it or pass 'isDisabled' as well.
    `})}function EH(t){kc({condition:t.isOpen&&!!t.isDisabled,message:"Cannot open a disabled accordion item"})}function NI(t){const{isOpen:e,isDisabled:n}=hw(),{reduceMotion:r}=pw(),i=it("chakra-accordion__icon",t.className),s=Qp(),a={opacity:n?.4:1,transform:e?"rotate(-180deg)":void 0,transition:r?void 0:"transform 0.2s",transformOrigin:"center",...s.icon};return O.jsx(Jo,{viewBox:"0 0 24 24","aria-hidden":!0,className:i,__css:a,...t,children:O.jsx("path",{fill:"currentColor",d:"M16.59 8.59L12 13.17 7.41 8.59 6 10l6 6 6-6z"})})}NI.displayName="AccordionIcon";var jI=st(function(e,n){const{children:r,className:i}=e,{htmlProps:s,...a}=SH(e),l={...Qp().container,overflowAnchor:"none"},u=A.useMemo(()=>a,[a]);return O.jsx(yH,{value:u,children:O.jsx(Me.div,{ref:n,...s,className:it("chakra-accordion__item",i),__css:l,children:typeof r=="function"?r({isExpanded:!!a.isOpen,isDisabled:!!a.isDisabled}):r})})});jI.displayName="AccordionItem";var Pd={ease:[.25,.1,.25,1],easeIn:[.4,0,1,1],easeOut:[0,0,.2,1],easeInOut:[.4,0,.2,1]},eS={enter:(t,e)=>({...t,delay:typeof e=="number"?e:e==null?void 0:e.enter}),exit:(t,e)=>({...t,delay:typeof e=="number"?e:e==null?void 0:e.exit})},AH=t=>t!=null&&parseInt(t.toString(),10)>0,tS={exit:{height:{duration:.2,ease:Pd.ease},opacity:{duration:.3,ease:Pd.ease}},enter:{height:{duration:.3,ease:Pd.ease},opacity:{duration:.4,ease:Pd.ease}}},IH={exit:({animateOpacity:t,startingHeight:e,transition:n,transitionEnd:r,delay:i})=>{var s;return{...t&&{opacity:AH(e)?1:0},height:e,transitionEnd:r==null?void 0:r.exit,transition:(s=n==null?void 0:n.exit)!=null?s:eS.exit(tS.exit,i)}},enter:({animateOpacity:t,endingHeight:e,transition:n,transitionEnd:r,delay:i})=>{var s;return{...t&&{opacity:1},height:e,transitionEnd:r==null?void 0:r.enter,transition:(s=n==null?void 0:n.enter)!=null?s:eS.enter(tS.enter,i)}}},MI=A.forwardRef((t,e)=>{const{in:n,unmountOnExit:r,animateOpacity:i=!0,startingHeight:s=0,endingHeight:a="auto",style:o,className:l,transition:u,transitionEnd:c,...d}=t,[f,h]=A.useState(!1);A.useEffect(()=>{const g=setTimeout(()=>{h(!0)});return()=>clearTimeout(g)},[]),kc({condition:Number(s)>0&&!!r,message:"startingHeight and unmountOnExit are mutually exclusive. You can't use them together"});const p=parseFloat(s.toString())>0,y={startingHeight:s,endingHeight:a,animateOpacity:i,transition:f?u:{enter:{duration:0}},transitionEnd:{enter:c==null?void 0:c.enter,exit:r?c==null?void 0:c.exit:{...c==null?void 0:c.exit,display:p?"block":"none"}}},b=r?n:!0,m=n||r?"enter":"exit";return O.jsx(SI,{initial:!1,custom:y,children:b&&O.jsx(xI.div,{ref:e,...d,className:it("chakra-collapse",l),style:{overflow:"hidden",display:"block",...o},custom:y,variants:IH,initial:r?"exit":!1,animate:m,exit:"exit"})})});MI.displayName="Collapse";var Lv=st(function(e,n){const{className:r,motionProps:i,...s}=e,{reduceMotion:a}=pw(),{getPanelProps:o,isOpen:l}=hw(),u=o(s,n),c=it("chakra-accordion__panel",r),d=Qp();a||delete u.hidden;const f=O.jsx(Me.div,{...u,__css:d.panel,className:c});return a?f:O.jsx(MI,{in:l,...i,children:f})});Lv.displayName="AccordionPanel";var LI=st(function({children:e,reduceMotion:n,...r},i){const s=Cc("Accordion",r),a=ii(r),{htmlProps:o,descendants:l,...u}=xH(a),c=A.useMemo(()=>({...u,reduceMotion:!!n}),[u,n]);return O.jsx(vH,{value:l,children:O.jsx(kH,{value:c,children:O.jsx(gH,{value:s,children:O.jsx(Me.div,{ref:i,...o,className:it("chakra-accordion",r.className),__css:s.root,children:e})})})})});LI.displayName="Accordion";function OH(t){return A.Children.toArray(t).filter(e=>A.isValidElement(e))}var[Lte,RH]=Dn({strict:!1,name:"ButtonGroupContext"});function $H(t){const[e,n]=A.useState(!t);return{ref:A.useCallback(s=>{s&&n(s.tagName==="BUTTON")},[]),type:e?"button":void 0}}function zv(t){const{children:e,className:n,...r}=t,i=A.isValidElement(e)?A.cloneElement(e,{"aria-hidden":!0,focusable:!1}):e,s=it("chakra-button__icon",n);return O.jsx(Me.span,{display:"inline-flex",alignSelf:"center",flexShrink:0,...r,className:s,children:i})}zv.displayName="ButtonIcon";function Dv(t){const{label:e,placement:n,spacing:r="0.5rem",children:i=O.jsx(cw,{color:"currentColor",width:"1em",height:"1em"}),className:s,__css:a,...o}=t,l=it("chakra-button__spinner",s),u=n==="start"?"marginEnd":"marginStart",c=A.useMemo(()=>({display:"flex",alignItems:"center",position:e?"relative":"absolute",[u]:e?r:0,fontSize:"1em",lineHeight:"normal",...a}),[a,e,u,r]);return O.jsx(Me.div,{className:l,...o,__css:c,children:i})}Dv.displayName="ButtonSpinner";var hu=st((t,e)=>{const n=RH(),r=Go("Button",{...n,...t}),{isDisabled:i=n==null?void 0:n.isDisabled,isLoading:s,isActive:a,children:o,leftIcon:l,rightIcon:u,loadingText:c,iconSpacing:d="0.5rem",type:f,spinner:h,spinnerPlacement:p="start",className:y,as:b,...m}=ii(t),g=A.useMemo(()=>{const k={...r==null?void 0:r._focus,zIndex:1};return{display:"inline-flex",appearance:"none",alignItems:"center",justifyContent:"center",userSelect:"none",position:"relative",whiteSpace:"nowrap",verticalAlign:"middle",outline:"none",...r,...!!n&&{_focus:k}}},[r,n]),{ref:v,type:x}=$H(b),C={rightIcon:u,leftIcon:l,iconSpacing:d,children:o};return O.jsxs(Me.button,{ref:dH(e,v),as:b,type:f??x,"data-active":Dr(a),"data-loading":Dr(s),__css:g,className:it("chakra-button",y),...m,disabled:i||s,children:[s&&p==="start"&&O.jsx(Dv,{className:"chakra-button__spinner--start",label:c,placement:"start",spacing:d,children:h}),s?c||O.jsx(Me.span,{opacity:0,children:O.jsx(nS,{...C})}):O.jsx(nS,{...C}),s&&p==="end"&&O.jsx(Dv,{className:"chakra-button__spinner--end",label:c,placement:"end",spacing:d,children:h})]})});hu.displayName="Button";function nS(t){const{leftIcon:e,rightIcon:n,children:r,iconSpacing:i}=t;return O.jsxs(O.Fragment,{children:[e&&O.jsx(zv,{marginEnd:i,children:e}),r,n&&O.jsx(zv,{marginStart:i,children:n})]})}var[NH,jH]=Dn({name:"FormControlStylesContext",errorMessage:`useFormControlStyles returned is 'undefined'. Seems you forgot to wrap the components in "<FormControl />" `}),[MH,zI]=Dn({strict:!1,name:"FormControlContext"});function LH(t){const{id:e,isRequired:n,isInvalid:r,isDisabled:i,isReadOnly:s,...a}=t,o=A.useId(),l=e||`field-${o}`,u=`${l}-label`,c=`${l}-feedback`,d=`${l}-helptext`,[f,h]=A.useState(!1),[p,y]=A.useState(!1),[b,m]=A.useState(!1),g=A.useCallback((I={},R=null)=>({id:d,...I,ref:Ju(R,j=>{j&&y(!0)})}),[d]),v=A.useCallback((I={},R=null)=>({...I,ref:R,"data-focus":Dr(b),"data-disabled":Dr(i),"data-invalid":Dr(r),"data-readonly":Dr(s),id:I.id!==void 0?I.id:u,htmlFor:I.htmlFor!==void 0?I.htmlFor:l}),[l,i,b,r,s,u]),x=A.useCallback((I={},R=null)=>({id:c,...I,ref:Ju(R,j=>{j&&h(!0)}),"aria-live":"polite"}),[c]),C=A.useCallback((I={},R=null)=>({...I,...a,ref:R,role:"group","data-focus":Dr(b),"data-disabled":Dr(i),"data-invalid":Dr(r),"data-readonly":Dr(s)}),[a,i,b,r,s]),k=A.useCallback((I={},R=null)=>({...I,ref:R,role:"presentation","aria-hidden":!0,children:I.children||"*"}),[]);return{isRequired:!!n,isInvalid:!!r,isReadOnly:!!s,isDisabled:!!i,isFocused:!!b,onFocus:()=>m(!0),onBlur:()=>m(!1),hasFeedbackText:f,setHasFeedbackText:h,hasHelpText:p,setHasHelpText:y,id:l,labelId:u,feedbackId:c,helpTextId:d,htmlProps:a,getHelpTextProps:g,getErrorMessageProps:x,getRootProps:C,getLabelProps:v,getRequiredIndicatorProps:k}}var zH=st(function(e,n){const r=Cc("Form",e),i=ii(e),{getRootProps:s,htmlProps:a,...o}=LH(i),l=it("chakra-form-control",e.className);return O.jsx(MH,{value:o,children:O.jsx(NH,{value:r,children:O.jsx(Me.div,{...s({},n),className:l,__css:r.container})})})});zH.displayName="FormControl";var DH=st(function(e,n){const r=zI(),i=jH(),s=it("chakra-form__helper-text",e.className);return O.jsx(Me.div,{...r==null?void 0:r.getHelpTextProps(e,n),__css:i.helperText,className:s})});DH.displayName="FormHelperText";function DI(t){const{isDisabled:e,isInvalid:n,isReadOnly:r,isRequired:i,...s}=FH(t);return{...s,disabled:e,readOnly:r,required:i,"aria-invalid":ag(n),"aria-required":ag(i),"aria-readonly":ag(r)}}function FH(t){var e,n,r;const i=zI(),{id:s,disabled:a,readOnly:o,required:l,isRequired:u,isInvalid:c,isReadOnly:d,isDisabled:f,onFocus:h,onBlur:p,...y}=t,b=t["aria-describedby"]?[t["aria-describedby"]]:[];return i!=null&&i.hasFeedbackText&&(i!=null&&i.isInvalid)&&b.push(i.feedbackId),i!=null&&i.hasHelpText&&b.push(i.helpTextId),{...y,"aria-describedby":b.join(" ")||void 0,id:s??(i==null?void 0:i.id),isDisabled:(e=a??f)!=null?e:i==null?void 0:i.isDisabled,isReadOnly:(n=o??d)!=null?n:i==null?void 0:i.isReadOnly,isRequired:(r=l??u)!=null?r:i==null?void 0:i.isRequired,isInvalid:c??(i==null?void 0:i.isInvalid),onFocus:tu(i==null?void 0:i.onFocus,h),onBlur:tu(i==null?void 0:i.onBlur,p)}}var[BH,VH]=Dn({name:"InputGroupStylesContext",errorMessage:`useInputGroupStyles returned is 'undefined'. Seems you forgot to wrap the components in "<InputGroup />" `}),FI=st(function(e,n){const r=Cc("Input",e),{children:i,className:s,...a}=ii(e),o=it("chakra-input__group",s),l={},u=OH(i),c=r.field;u.forEach(f=>{var h,p;r&&(c&&f.type.id==="InputLeftElement"&&(l.paddingStart=(h=c.height)!=null?h:c.h),c&&f.type.id==="InputRightElement"&&(l.paddingEnd=(p=c.height)!=null?p:c.h),f.type.id==="InputRightAddon"&&(l.borderEndRadius=0),f.type.id==="InputLeftAddon"&&(l.borderStartRadius=0))});const d=u.map(f=>{var h,p;const y=r6({size:((h=f.props)==null?void 0:h.size)||e.size,variant:((p=f.props)==null?void 0:p.variant)||e.variant});return f.type.id!=="Input"?A.cloneElement(f,y):A.cloneElement(f,Object.assign(y,l,f.props))});return O.jsx(Me.div,{className:o,ref:n,__css:{width:"100%",display:"flex",position:"relative",isolation:"isolate",...r.group},"data-group":!0,...a,children:O.jsx(BH,{value:r,children:d})})});FI.displayName="InputGroup";var UH=Me("div",{baseStyle:{display:"flex",alignItems:"center",justifyContent:"center",position:"absolute",top:"0",zIndex:2}}),em=st(function(e,n){var r,i;const{placement:s="left",...a}=e,o=VH(),l=o.field,c={[s==="left"?"insetStart":"insetEnd"]:"0",width:(r=l==null?void 0:l.height)!=null?r:l==null?void 0:l.h,height:(i=l==null?void 0:l.height)!=null?i:l==null?void 0:l.h,fontSize:l==null?void 0:l.fontSize,...o.element};return O.jsx(UH,{ref:n,__css:c,...a})});em.id="InputElement";em.displayName="InputElement";var BI=st(function(e,n){const{className:r,...i}=e,s=it("chakra-input__left-element",r);return O.jsx(em,{ref:n,placement:"left",className:s,...i})});BI.id="InputLeftElement";BI.displayName="InputLeftElement";var mw=st(function(e,n){const{className:r,...i}=e,s=it("chakra-input__right-element",r);return O.jsx(em,{ref:n,placement:"right",className:s,...i})});mw.id="InputRightElement";mw.displayName="InputRightElement";var gw=st(function(e,n){const{htmlSize:r,...i}=e,s=Cc("Input",i),a=ii(i),o=DI(a),l=it("chakra-input",e.className);return O.jsx(Me.input,{size:r,...o,__css:s.field,ref:n,className:l})});gw.displayName="Input";gw.id="Input";var VI=st(function(e,n){const r=Go("Heading",e),{className:i,...s}=ii(e);return O.jsx(Me.h2,{ref:n,className:it("chakra-heading",e.className),...s,__css:r})});VI.displayName="Heading";var Js=Me("div");Js.displayName="Box";var UI=st(function(e,n){const{size:r,centerContent:i=!0,...s}=e,a=i?{display:"flex",alignItems:"center",justifyContent:"center"}:{};return O.jsx(Js,{ref:n,boxSize:r,__css:{...a,flexShrink:0,flexGrow:0},...s})});UI.displayName="Square";var HH=st(function(e,n){const{size:r,...i}=e;return O.jsx(UI,{size:r,ref:n,borderRadius:"9999px",...i})});HH.displayName="Circle";var Fv=st(function(e,n){const{direction:r,align:i,justify:s,wrap:a,basis:o,grow:l,shrink:u,...c}=e,d={display:"flex",flexDirection:r,alignItems:i,justifyContent:s,flexWrap:a,flexBasis:o,flexGrow:l,flexShrink:u};return O.jsx(Me.div,{ref:n,__css:d,...c})});Fv.displayName="Flex";function WH(t,e=[]){const n=Object.assign({},t);for(const r of e)r in n&&delete n[r];return n}var qH=["h","minH","height","minHeight"],yw=st((t,e)=>{const n=Go("Textarea",t),{className:r,rows:i,...s}=ii(t),a=DI(s),o=i?WH(n,qH):n;return O.jsx(Me.textarea,{ref:e,rows:i,...a,className:it("chakra-textarea",r),__css:o})});yw.displayName="Textarea";const Na="4.47.1";let rS=!1,pu,HI,WI,Bv,qI,ZI,GI,KI,JI;function ZH(t,e={auto:!1}){if(rS)throw new Error(`you must \`import 'openai/shims/${t.kind}'\` before importing anything else from openai`);if(pu)throw new Error(`can't \`import 'openai/shims/${t.kind}'\` after \`import 'openai/shims/${pu}'\``);rS=e.auto,pu=t.kind,HI=t.fetch,WI=t.FormData,Bv=t.File,qI=t.ReadableStream,ZI=t.getMultipartRequestOptions,GI=t.getDefaultAgent,KI=t.fileFromPath,JI=t.isFsReadStream}class GH{constructor(e){this.body=e}get[Symbol.toStringTag](){return"MultipartBody"}}function KH({manuallyImported:t}={}){const e=t?"You may need to use polyfills":"Add one of these imports before your first `import  from 'openai'`:\n- `import 'openai/shims/node'` (if you're running on Node)\n- `import 'openai/shims/web'` (otherwise)\n";let n,r,i,s;try{n=fetch,r=Request,i=Response,s=Headers}catch(a){throw new Error(`this environment is missing the following Web Fetch API type: ${a.message}. ${e}`)}return{kind:"web",fetch:n,Request:r,Response:i,Headers:s,FormData:typeof FormData<"u"?FormData:class{constructor(){throw new Error(`file uploads aren't supported in this environment yet as 'FormData' is undefined. ${e}`)}},Blob:typeof Blob<"u"?Blob:class{constructor(){throw new Error(`file uploads aren't supported in this environment yet as 'Blob' is undefined. ${e}`)}},File:typeof File<"u"?File:class{constructor(){throw new Error(`file uploads aren't supported in this environment yet as 'File' is undefined. ${e}`)}},ReadableStream:typeof ReadableStream<"u"?ReadableStream:class{constructor(){throw new Error(`streaming isn't supported in this environment yet as 'ReadableStream' is undefined. ${e}`)}},getMultipartRequestOptions:async(a,o)=>({...o,body:new GH(a)}),getDefaultAgent:a=>{},fileFromPath:()=>{throw new Error("The `fileFromPath` function is only supported in Node. See the README for more details: https://www.github.com/openai/openai-node#file-uploads")},isFsReadStream:a=>!1}}pu||ZH(KH(),{auto:!0});let me=class extends Error{},en=class Vv extends me{constructor(e,n,r,i){super(`${Vv.makeMessage(e,n,r)}`),this.status=e,this.headers=i,this.request_id=i==null?void 0:i["x-request-id"];const s=n;this.error=s,this.code=s==null?void 0:s.code,this.param=s==null?void 0:s.param,this.type=s==null?void 0:s.type}static makeMessage(e,n,r){const i=n!=null&&n.message?typeof n.message=="string"?n.message:JSON.stringify(n.message):n?JSON.stringify(n):r;return e&&i?`${e} ${i}`:e?`${e} status code (no body)`:i||"(no status code or body)"}static generate(e,n,r,i){if(!e)return new Oc({cause:Hv(n)});const s=n==null?void 0:n.error;return e===400?new vw(e,s,r,i):e===401?new bw(e,s,r,i):e===403?new ww(e,s,r,i):e===404?new _w(e,s,r,i):e===409?new xw(e,s,r,i):e===422?new kw(e,s,r,i):e===429?new Sw(e,s,r,i):e>=500?new Cw(e,s,r,i):new Vv(e,s,r,i)}},hn=class extends en{constructor({message:e}={}){super(void 0,void 0,e||"Request was aborted.",void 0),this.status=void 0}},Oc=class extends en{constructor({message:e,cause:n}){super(void 0,void 0,e||"Connection error.",void 0),this.status=void 0,n&&(this.cause=n)}},tm=class extends Oc{constructor({message:e}={}){super({message:e??"Request timed out."})}},vw=class extends en{constructor(){super(...arguments),this.status=400}},bw=class extends en{constructor(){super(...arguments),this.status=401}},ww=class extends en{constructor(){super(...arguments),this.status=403}},_w=class extends en{constructor(){super(...arguments),this.status=404}},xw=class extends en{constructor(){super(...arguments),this.status=409}},kw=class extends en{constructor(){super(...arguments),this.status=422}},Sw=class extends en{constructor(){super(...arguments),this.status=429}},Cw=class extends en{};const JH=Object.freeze(Object.defineProperty({__proto__:null,APIConnectionError:Oc,APIConnectionTimeoutError:tm,APIError:en,APIUserAbortError:hn,AuthenticationError:bw,BadRequestError:vw,ConflictError:xw,InternalServerError:Cw,NotFoundError:_w,OpenAIError:me,PermissionDeniedError:ww,RateLimitError:Sw,UnprocessableEntityError:kw},Symbol.toStringTag,{value:"Module"}));class Gr{constructor(e,n){this.iterator=e,this.controller=n}static fromSSEResponse(e,n){let r=!1;async function*i(){if(r)throw new Error("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");r=!0;let s=!1;try{for await(const a of XH(e,n))if(!s){if(a.data.startsWith("[DONE]")){s=!0;continue}if(a.event===null){let o;try{o=JSON.parse(a.data)}catch(l){throw console.error("Could not parse message into JSON:",a.data),console.error("From chunk:",a.raw),l}if(o&&o.error)throw new en(void 0,o.error,void 0,void 0);yield o}else{let o;try{o=JSON.parse(a.data)}catch(l){throw console.error("Could not parse message into JSON:",a.data),console.error("From chunk:",a.raw),l}if(a.event=="error")throw new en(void 0,o.error,o.message,void 0);yield{event:a.event,data:o}}}s=!0}catch(a){if(a instanceof Error&&a.name==="AbortError")return;throw a}finally{s||n.abort()}}return new Gr(i,n)}static fromReadableStream(e,n){let r=!1;async function*i(){const a=new ha,o=XI(e);for await(const l of o)for(const u of a.decode(l))yield u;for(const l of a.flush())yield l}async function*s(){if(r)throw new Error("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");r=!0;let a=!1;try{for await(const o of i())a||o&&(yield JSON.parse(o));a=!0}catch(o){if(o instanceof Error&&o.name==="AbortError")return;throw o}finally{a||n.abort()}}return new Gr(s,n)}[Symbol.asyncIterator](){return this.iterator()}tee(){const e=[],n=[],r=this.iterator(),i=s=>({next:()=>{if(s.length===0){const a=r.next();e.push(a),n.push(a)}return s.shift()}});return[new Gr(()=>i(e),this.controller),new Gr(()=>i(n),this.controller)]}toReadableStream(){const e=this;let n;const r=new TextEncoder;return new qI({async start(){n=e[Symbol.asyncIterator]()},async pull(i){try{const{value:s,done:a}=await n.next();if(a)return i.close();const o=r.encode(JSON.stringify(s)+`
`);i.enqueue(o)}catch(s){i.error(s)}},async cancel(){var i;await((i=n.return)==null?void 0:i.call(n))}})}}async function*XH(t,e){if(!t.body)throw e.abort(),new me("Attempted to iterate over a response with no body");const n=new e7,r=new ha,i=XI(t.body);for await(const s of YH(i))for(const a of r.decode(s)){const o=n.decode(a);o&&(yield o)}for(const s of r.flush()){const a=n.decode(s);a&&(yield a)}}async function*YH(t){let e=new Uint8Array;for await(const n of t){if(n==null)continue;const r=n instanceof ArrayBuffer?new Uint8Array(n):typeof n=="string"?new TextEncoder().encode(n):n;let i=new Uint8Array(e.length+r.length);i.set(e),i.set(r,e.length),e=i;let s;for(;(s=QH(e))!==-1;)yield e.slice(0,s),e=e.slice(s)}e.length>0&&(yield e)}function QH(t){for(let r=0;r<t.length-2;r++){if(t[r]===10&&t[r+1]===10||t[r]===13&&t[r+1]===13)return r+2;if(t[r]===13&&t[r+1]===10&&r+3<t.length&&t[r+2]===13&&t[r+3]===10)return r+4}return-1}class e7{constructor(){this.event=null,this.data=[],this.chunks=[]}decode(e){if(e.endsWith("\r")&&(e=e.substring(0,e.length-1)),!e){if(!this.event&&!this.data.length)return null;const s={event:this.event,data:this.data.join(`
`),raw:this.chunks};return this.event=null,this.data=[],this.chunks=[],s}if(this.chunks.push(e),e.startsWith(":"))return null;let[n,r,i]=t7(e,":");return i.startsWith(" ")&&(i=i.substring(1)),n==="event"?this.event=i:n==="data"&&this.data.push(i),null}}class ha{constructor(){this.buffer=[],this.trailingCR=!1}decode(e){let n=this.decodeText(e);if(this.trailingCR&&(n="\r"+n,this.trailingCR=!1),n.endsWith("\r")&&(this.trailingCR=!0,n=n.slice(0,-1)),!n)return[];const r=ha.NEWLINE_CHARS.has(n[n.length-1]||"");let i=n.split(ha.NEWLINE_REGEXP);return r&&i.pop(),i.length===1&&!r?(this.buffer.push(i[0]),[]):(this.buffer.length>0&&(i=[this.buffer.join("")+i[0],...i.slice(1)],this.buffer=[]),r||(this.buffer=[i.pop()||""]),i)}decodeText(e){if(e==null)return"";if(typeof e=="string")return e;if(typeof Buffer<"u"){if(e instanceof Buffer)return e.toString();if(e instanceof Uint8Array)return Buffer.from(e).toString();throw new me(`Unexpected: received non-Uint8Array (${e.constructor.name}) stream chunk in an environment with a global "Buffer" defined, which this library assumes to be Node. Please report this error.`)}if(typeof TextDecoder<"u"){if(e instanceof Uint8Array||e instanceof ArrayBuffer)return this.textDecoder??(this.textDecoder=new TextDecoder("utf8")),this.textDecoder.decode(e);throw new me(`Unexpected: received non-Uint8Array/ArrayBuffer (${e.constructor.name}) in a web platform. Please report this error.`)}throw new me("Unexpected: neither Buffer nor TextDecoder are available as globals. Please report this error.")}flush(){if(!this.buffer.length&&!this.trailingCR)return[];const e=[this.buffer.join("")];return this.buffer=[],this.trailingCR=!1,e}}ha.NEWLINE_CHARS=new Set([`
`,"\r"]);ha.NEWLINE_REGEXP=/\r\n|[\n\r]/g;function t7(t,e){const n=t.indexOf(e);return n!==-1?[t.substring(0,n),e,t.substring(n+e.length)]:[t,"",""]}function XI(t){if(t[Symbol.asyncIterator])return t;const e=t.getReader();return{async next(){try{const n=await e.read();return n!=null&&n.done&&e.releaseLock(),n}catch(n){throw e.releaseLock(),n}},async return(){const n=e.cancel();return e.releaseLock(),await n,{done:!0,value:void 0}},[Symbol.asyncIterator](){return this}}}const YI=t=>t!=null&&typeof t=="object"&&typeof t.url=="string"&&typeof t.blob=="function",QI=t=>t!=null&&typeof t=="object"&&typeof t.name=="string"&&typeof t.lastModified=="number"&&eO(t),eO=t=>t!=null&&typeof t=="object"&&typeof t.size=="number"&&typeof t.type=="string"&&typeof t.text=="function"&&typeof t.slice=="function"&&typeof t.arrayBuffer=="function",n7=t=>QI(t)||YI(t)||JI(t);async function tO(t,e,n){var i;if(t=await t,n??(n=QI(t)?{lastModified:t.lastModified,type:t.type}:{}),YI(t)){const s=await t.blob();return e||(e=new URL(t.url).pathname.split(/[\\/]/).pop()??"unknown_file"),new Bv([s],e,n)}const r=await r7(t);if(e||(e=s7(t)??"unknown_file"),!n.type){const s=(i=r[0])==null?void 0:i.type;typeof s=="string"&&(n={...n,type:s})}return new Bv(r,e,n)}async function r7(t){var n;let e=[];if(typeof t=="string"||ArrayBuffer.isView(t)||t instanceof ArrayBuffer)e.push(t);else if(eO(t))e.push(await t.arrayBuffer());else if(a7(t))for await(const r of t)e.push(r);else throw new Error(`Unexpected data type: ${typeof t}; constructor: ${(n=t==null?void 0:t.constructor)==null?void 0:n.name}; props: ${i7(t)}`);return e}function i7(t){return`[${Object.getOwnPropertyNames(t).map(n=>`"${n}"`).join(", ")}]`}function s7(t){var e;return Dg(t.name)||Dg(t.filename)||((e=Dg(t.path))==null?void 0:e.split(/[\\/]/).pop())}const Dg=t=>{if(typeof t=="string")return t;if(typeof Buffer<"u"&&t instanceof Buffer)return String(t)},a7=t=>t!=null&&typeof t=="object"&&typeof t[Symbol.asyncIterator]=="function",iS=t=>t&&typeof t=="object"&&t.body&&t[Symbol.toStringTag]==="MultipartBody",Xu=async t=>{const e=await o7(t.body);return ZI(e,t)},o7=async t=>{const e=new WI;return await Promise.all(Object.entries(t||{}).map(([n,r])=>Uv(e,n,r))),e},Uv=async(t,e,n)=>{if(n!==void 0){if(n==null)throw new TypeError(`Received null for "${e}"; to pass null in FormData, you must use the string 'null'`);if(typeof n=="string"||typeof n=="number"||typeof n=="boolean")t.append(e,String(n));else if(n7(n)){const r=await tO(n);t.append(e,r)}else if(Array.isArray(n))await Promise.all(n.map(r=>Uv(t,e+"[]",r)));else if(typeof n=="object")await Promise.all(Object.entries(n).map(([r,i])=>Uv(t,`${e}[${r}]`,i)));else throw new TypeError(`Invalid value given to form, expected a string, number, boolean, object, Array, File or Blob but got ${n} instead`)}};var ko={},l7=function(t,e,n,r,i){if(typeof e=="function"?t!==e||!i:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return e.set(t,n),n},u7=function(t,e,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!r:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(t):r?r.value:e.get(t)},Ed;async function nO(t){const{response:e}=t;if(t.options.stream)return So("response",e.status,e.url,e.headers,e.body),t.options.__streamClass?t.options.__streamClass.fromSSEResponse(e,t.controller):Gr.fromSSEResponse(e,t.controller);if(e.status===204)return null;if(t.options.__binaryResponse)return e;const n=e.headers.get("content-type");if((n==null?void 0:n.includes("application/json"))||(n==null?void 0:n.includes("application/vnd.api+json"))){const s=await e.json();return So("response",e.status,e.url,e.headers,s),s}const i=await e.text();return So("response",e.status,e.url,e.headers,i),i}class nm extends Promise{constructor(e,n=nO){super(r=>{r(null)}),this.responsePromise=e,this.parseResponse=n}_thenUnwrap(e){return new nm(this.responsePromise,async n=>e(await this.parseResponse(n)))}asResponse(){return this.responsePromise.then(e=>e.response)}async withResponse(){const[e,n]=await Promise.all([this.parse(),this.asResponse()]);return{data:e,response:n}}parse(){return this.parsedPromise||(this.parsedPromise=this.responsePromise.then(this.parseResponse)),this.parsedPromise}then(e,n){return this.parse().then(e,n)}catch(e){return this.parse().catch(e)}finally(e){return this.parse().finally(e)}}class c7{constructor({baseURL:e,maxRetries:n=2,timeout:r=6e5,httpAgent:i,fetch:s}){this.baseURL=e,this.maxRetries=Fg("maxRetries",n),this.timeout=Fg("timeout",r),this.httpAgent=i,this.fetch=s??HI}authHeaders(e){return{}}defaultHeaders(e){return{Accept:"application/json","Content-Type":"application/json","User-Agent":this.getUserAgent(),...g7(),...this.authHeaders(e)}}validateHeaders(e,n){}defaultIdempotencyKey(){return`stainless-node-retry-${w7()}`}get(e,n){return this.methodRequest("get",e,n)}post(e,n){return this.methodRequest("post",e,n)}patch(e,n){return this.methodRequest("patch",e,n)}put(e,n){return this.methodRequest("put",e,n)}delete(e,n){return this.methodRequest("delete",e,n)}methodRequest(e,n,r){return this.request(Promise.resolve(r).then(i=>({method:e,path:n,...i})))}getAPIList(e,n,r){return this.requestAPIList(n,{method:"get",path:e,...r})}calculateContentLength(e){if(typeof e=="string"){if(typeof Buffer<"u")return Buffer.byteLength(e,"utf8").toString();if(typeof TextEncoder<"u")return new TextEncoder().encode(e).length.toString()}return null}buildRequest(e){var p;const{method:n,path:r,query:i,headers:s={}}=e,a=iS(e.body)?e.body.body:e.body?JSON.stringify(e.body,null,2):null,o=this.calculateContentLength(a),l=this.buildURL(r,i);"timeout"in e&&Fg("timeout",e.timeout);const u=e.timeout??this.timeout,c=e.httpAgent??this.httpAgent??GI(l),d=u+1e3;typeof((p=c==null?void 0:c.options)==null?void 0:p.timeout)=="number"&&d>(c.options.timeout??0)&&(c.options.timeout=d),this.idempotencyHeader&&n!=="get"&&(e.idempotencyKey||(e.idempotencyKey=this.defaultIdempotencyKey()),s[this.idempotencyHeader]=e.idempotencyKey);const f=this.buildHeaders({options:e,headers:s,contentLength:o});return{req:{method:n,...a&&{body:a},headers:f,...c&&{agent:c},signal:e.signal??null},url:l,timeout:u}}buildHeaders({options:e,headers:n,contentLength:r}){const i={};r&&(i["content-length"]=r);const s=this.defaultHeaders(e);return lS(i,s),lS(i,n),iS(e.body)&&pu!=="node"&&delete i["content-type"],this.validateHeaders(i,n),i}async prepareOptions(e){}async prepareRequest(e,{url:n,options:r}){}parseHeaders(e){return e?Symbol.iterator in e?Object.fromEntries(Array.from(e).map(n=>[...n])):{...e}:{}}makeStatusError(e,n,r,i){return en.generate(e,n,r,i)}request(e,n=null){return new nm(this.makeRequest(e,n))}async makeRequest(e,n){var c,d;const r=await e;n==null&&(n=r.maxRetries??this.maxRetries),await this.prepareOptions(r);const{req:i,url:s,timeout:a}=this.buildRequest(r);if(await this.prepareRequest(i,{url:s,options:r}),So("request",s,r,i.headers),(c=r.signal)!=null&&c.aborted)throw new hn;const o=new AbortController,l=await this.fetchWithTimeout(s,i,a,o).catch(Hv);if(l instanceof Error){if((d=r.signal)!=null&&d.aborted)throw new hn;if(n)return this.retryRequest(r,n);throw l.name==="AbortError"?new tm:new Oc({cause:l})}const u=f7(l.headers);if(!l.ok){if(n&&this.shouldRetry(l)){const m=`retrying, ${n} attempts remaining`;return So(`response (error; ${m})`,l.status,s,u),this.retryRequest(r,n,u)}const f=await l.text().catch(m=>Hv(m).message),h=y7(f),p=h?void 0:f;throw So(`response (error; ${n?"(error; no more retries left)":"(error; not retryable)"})`,l.status,s,u,p),this.makeStatusError(l.status,h,p,u)}return{response:l,options:r,controller:o}}requestAPIList(e,n){const r=this.makeRequest(n,null);return new d7(this,r,e)}buildURL(e,n){const r=b7(e)?new URL(e):new URL(this.baseURL+(this.baseURL.endsWith("/")&&e.startsWith("/")?e.slice(1):e)),i=this.defaultQuery();return iO(i)||(n={...i,...n}),typeof n=="object"&&n&&!Array.isArray(n)&&(r.search=this.stringifyQuery(n)),r.toString()}stringifyQuery(e){return Object.entries(e).filter(([n,r])=>typeof r<"u").map(([n,r])=>{if(typeof r=="string"||typeof r=="number"||typeof r=="boolean")return`${encodeURIComponent(n)}=${encodeURIComponent(r)}`;if(r===null)return`${encodeURIComponent(n)}=`;throw new me(`Cannot stringify type ${typeof r}; Expected string, number, boolean, or null. If you need to pass nested query parameters, you can manually encode them, e.g. { query: { 'foo[key1]': value1, 'foo[key2]': value2 } }, and please open a GitHub issue requesting better support for your use case.`)}).join("&")}async fetchWithTimeout(e,n,r,i){const{signal:s,...a}=n||{};s&&s.addEventListener("abort",()=>i.abort());const o=setTimeout(()=>i.abort(),r);return this.getRequestClient().fetch.call(void 0,e,{signal:i.signal,...a}).finally(()=>{clearTimeout(o)})}getRequestClient(){return{fetch:this.fetch}}shouldRetry(e){const n=e.headers.get("x-should-retry");return n==="true"?!0:n==="false"?!1:e.status===408||e.status===409||e.status===429||e.status>=500}async retryRequest(e,n,r){let i;const s=r==null?void 0:r["retry-after-ms"];if(s){const o=parseFloat(s);Number.isNaN(o)||(i=o)}const a=r==null?void 0:r["retry-after"];if(a&&!i){const o=parseFloat(a);Number.isNaN(o)?i=Date.parse(a)-Date.now():i=o*1e3}if(!(i&&0<=i&&i<60*1e3)){const o=e.maxRetries??this.maxRetries;i=this.calculateDefaultRetryTimeoutMillis(n,o)}return await Rc(i),this.makeRequest(e,n-1)}calculateDefaultRetryTimeoutMillis(e,n){const s=n-e,a=Math.min(.5*Math.pow(2,s),8),o=1-Math.random()*.25;return a*o*1e3}getUserAgent(){return`${this.constructor.name}/JS ${Na}`}}class rO{constructor(e,n,r,i){Ed.set(this,void 0),l7(this,Ed,e),this.options=i,this.response=n,this.body=r}hasNextPage(){return this.getPaginatedItems().length?this.nextPageInfo()!=null:!1}async getNextPage(){const e=this.nextPageInfo();if(!e)throw new me("No next page expected; please check `.hasNextPage()` before calling `.getNextPage()`.");const n={...this.options};if("params"in e&&typeof n.query=="object")n.query={...n.query,...e.params};else if("url"in e){const r=[...Object.entries(n.query||{}),...e.url.searchParams.entries()];for(const[i,s]of r)e.url.searchParams.set(i,s);n.query=void 0,n.path=e.url.toString()}return await u7(this,Ed,"f").requestAPIList(this.constructor,n)}async*iterPages(){let e=this;for(yield e;e.hasNextPage();)e=await e.getNextPage(),yield e}async*[(Ed=new WeakMap,Symbol.asyncIterator)](){for await(const e of this.iterPages())for(const n of e.getPaginatedItems())yield n}}class d7 extends nm{constructor(e,n,r){super(n,async i=>new r(e,i.response,await nO(i),i.options))}async*[Symbol.asyncIterator](){const e=await this;for await(const n of e)yield n}}const f7=t=>new Proxy(Object.fromEntries(t.entries()),{get(e,n){const r=n.toString();return e[r.toLowerCase()]||e[r]}}),h7={method:!0,path:!0,query:!0,body:!0,headers:!0,maxRetries:!0,stream:!0,timeout:!0,httpAgent:!0,signal:!0,idempotencyKey:!0,__binaryResponse:!0,__streamClass:!0},jn=t=>typeof t=="object"&&t!==null&&!iO(t)&&Object.keys(t).every(e=>sO(h7,e)),p7=()=>{var e;if(typeof Deno<"u"&&Deno.build!=null)return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Na,"X-Stainless-OS":aS(Deno.build.os),"X-Stainless-Arch":sS(Deno.build.arch),"X-Stainless-Runtime":"deno","X-Stainless-Runtime-Version":typeof Deno.version=="string"?Deno.version:((e=Deno.version)==null?void 0:e.deno)??"unknown"};if(typeof EdgeRuntime<"u")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Na,"X-Stainless-OS":"Unknown","X-Stainless-Arch":`other:${EdgeRuntime}`,"X-Stainless-Runtime":"edge","X-Stainless-Runtime-Version":process.version};if(Object.prototype.toString.call(typeof process<"u"?process:0)==="[object process]")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Na,"X-Stainless-OS":aS(process.platform),"X-Stainless-Arch":sS(process.arch),"X-Stainless-Runtime":"node","X-Stainless-Runtime-Version":process.version};const t=m7();return t?{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Na,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":`browser:${t.browser}`,"X-Stainless-Runtime-Version":t.version}:{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Na,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":"unknown","X-Stainless-Runtime-Version":"unknown"}};function m7(){if(typeof navigator>"u"||!navigator)return null;const t=[{key:"edge",pattern:/Edge(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/MSIE(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/Trident(?:.*rv\:(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"chrome",pattern:/Chrome(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"firefox",pattern:/Firefox(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"safari",pattern:/(?:Version\W+(\d+)\.(\d+)(?:\.(\d+))?)?(?:\W+Mobile\S*)?\W+Safari/}];for(const{key:e,pattern:n}of t){const r=n.exec(navigator.userAgent);if(r){const i=r[1]||0,s=r[2]||0,a=r[3]||0;return{browser:e,version:`${i}.${s}.${a}`}}}return null}const sS=t=>t==="x32"?"x32":t==="x86_64"||t==="x64"?"x64":t==="arm"?"arm":t==="aarch64"||t==="arm64"?"arm64":t?`other:${t}`:"unknown",aS=t=>(t=t.toLowerCase(),t.includes("ios")?"iOS":t==="android"?"Android":t==="darwin"?"MacOS":t==="win32"?"Windows":t==="freebsd"?"FreeBSD":t==="openbsd"?"OpenBSD":t==="linux"?"Linux":t?`Other:${t}`:"Unknown");let oS;const g7=()=>oS??(oS=p7()),y7=t=>{try{return JSON.parse(t)}catch{return}},v7=new RegExp("^(?:[a-z]+:)?//","i"),b7=t=>v7.test(t),Rc=t=>new Promise(e=>setTimeout(e,t)),Fg=(t,e)=>{if(typeof e!="number"||!Number.isInteger(e))throw new me(`${t} must be an integer`);if(e<0)throw new me(`${t} must be a positive integer`);return e},Hv=t=>t instanceof Error?t:new Error(t),Ad=t=>{var e,n,r,i;if(typeof process<"u")return((e=ko==null?void 0:ko[t])==null?void 0:e.trim())??void 0;if(typeof Deno<"u")return(i=(r=(n=Deno.env)==null?void 0:n.get)==null?void 0:r.call(n,t))==null?void 0:i.trim()};function iO(t){if(!t)return!0;for(const e in t)return!1;return!0}function sO(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function lS(t,e){for(const n in e){if(!sO(e,n))continue;const r=n.toLowerCase();if(!r)continue;const i=e[n];i===null?delete t[r]:i!==void 0&&(t[r]=i)}}function So(t,...e){typeof process<"u"&&(ko==null?void 0:ko.DEBUG)==="true"&&console.log(`OpenAI:DEBUG:${t}`,...e)}const w7=()=>"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,t=>{const e=Math.random()*16|0;return(t==="x"?e:e&3|8).toString(16)}),_7=()=>typeof window<"u"&&typeof window.document<"u"&&typeof navigator<"u";function uS(t){return t!=null&&typeof t=="object"&&!Array.isArray(t)}class Tw extends rO{constructor(e,n,r,i){super(e,n,r,i),this.data=r.data||[],this.object=r.object}getPaginatedItems(){return this.data??[]}nextPageParams(){return null}nextPageInfo(){return null}}class Rr extends rO{constructor(e,n,r,i){super(e,n,r,i),this.data=r.data||[]}getPaginatedItems(){return this.data??[]}nextPageParams(){const e=this.nextPageInfo();if(!e)return null;if("params"in e)return e.params;const n=Object.fromEntries(e.url.searchParams);return Object.keys(n).length?n:null}nextPageInfo(){var r;const e=this.getPaginatedItems();if(!e.length)return null;const n=(r=e[e.length-1])==null?void 0:r.id;return n?{params:{after:n}}:null}}class Be{constructor(e){this._client=e}}let yh=class extends Be{create(e,n){return this._client.post("/chat/completions",{body:e,...n,stream:e.stream??!1})}};yh||(yh={});let vh=class extends Be{constructor(){super(...arguments),this.completions=new yh(this._client)}};(function(t){t.Completions=yh})(vh||(vh={}));class bh extends Be{create(e,n){return this._client.post("/audio/speech",{body:e,...n,__binaryResponse:!0})}}bh||(bh={});class wh extends Be{create(e,n){return this._client.post("/audio/transcriptions",Xu({body:e,...n}))}}wh||(wh={});class _h extends Be{create(e,n){return this._client.post("/audio/translations",Xu({body:e,...n}))}}_h||(_h={});class xh extends Be{constructor(){super(...arguments),this.transcriptions=new wh(this._client),this.translations=new _h(this._client),this.speech=new bh(this._client)}}(function(t){t.Transcriptions=wh,t.Translations=_h,t.Speech=bh})(xh||(xh={}));class kh extends Be{create(e,n){return this._client.post("/batches",{body:e,...n})}retrieve(e,n){return this._client.get(`/batches/${e}`,n)}list(e={},n){return jn(e)?this.list({},e):this._client.getAPIList("/batches",Pw,{query:e,...n})}cancel(e,n){return this._client.post(`/batches/${e}/cancel`,n)}}class Pw extends Rr{}(function(t){t.BatchesPage=Pw})(kh||(kh={}));class Sh extends Be{create(e,n){return this._client.post("/assistants",{body:e,...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers}})}retrieve(e,n){return this._client.get(`/assistants/${e}`,{...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers}})}update(e,n,r){return this._client.post(`/assistants/${e}`,{body:n,...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}list(e={},n){return jn(e)?this.list({},e):this._client.getAPIList("/assistants",Ew,{query:e,...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers}})}del(e,n){return this._client.delete(`/assistants/${e}`,{...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers}})}}class Ew extends Rr{}(function(t){t.AssistantsPage=Ew})(Sh||(Sh={}));function cS(t){return typeof t.parse=="function"}const Co=t=>(t==null?void 0:t.role)==="assistant",aO=t=>(t==null?void 0:t.role)==="function",oO=t=>(t==null?void 0:t.role)==="tool";var cr=function(t,e,n,r,i){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!i:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?i.call(t,n):i?i.value=n:e.set(t,n),n},ce=function(t,e,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!r:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(t):r?r.value:e.get(t)},Lt,mf,gf,$l,Nl,yf,jl,ci,Ml,vf,bf,ja,Wv,Ch,qv,Zv,Gv,Kv,lO,Jv;const dS=10;class uO{constructor(){Lt.add(this),this.controller=new AbortController,mf.set(this,void 0),gf.set(this,()=>{}),$l.set(this,()=>{}),Nl.set(this,void 0),yf.set(this,()=>{}),jl.set(this,()=>{}),ci.set(this,{}),this._chatCompletions=[],this.messages=[],Ml.set(this,!1),vf.set(this,!1),bf.set(this,!1),ja.set(this,!1),Kv.set(this,e=>{if(cr(this,vf,!0,"f"),e instanceof Error&&e.name==="AbortError"&&(e=new hn),e instanceof hn)return cr(this,bf,!0,"f"),this._emit("abort",e);if(e instanceof me)return this._emit("error",e);if(e instanceof Error){const n=new me(e.message);return n.cause=e,this._emit("error",n)}return this._emit("error",new me(String(e)))}),cr(this,mf,new Promise((e,n)=>{cr(this,gf,e,"f"),cr(this,$l,n,"f")}),"f"),cr(this,Nl,new Promise((e,n)=>{cr(this,yf,e,"f"),cr(this,jl,n,"f")}),"f"),ce(this,mf,"f").catch(()=>{}),ce(this,Nl,"f").catch(()=>{})}_run(e){setTimeout(()=>{e().then(()=>{this._emitFinal(),this._emit("end")},ce(this,Kv,"f"))},0)}_addChatCompletion(e){var r;this._chatCompletions.push(e),this._emit("chatCompletion",e);const n=(r=e.choices[0])==null?void 0:r.message;return n&&this._addMessage(n),e}_addMessage(e,n=!0){if("content"in e||(e.content=null),this.messages.push(e),n){if(this._emit("message",e),(aO(e)||oO(e))&&e.content)this._emit("functionCallResult",e.content);else if(Co(e)&&e.function_call)this._emit("functionCall",e.function_call);else if(Co(e)&&e.tool_calls)for(const r of e.tool_calls)r.type==="function"&&this._emit("functionCall",r.function)}}_connected(){this.ended||(ce(this,gf,"f").call(this),this._emit("connect"))}get ended(){return ce(this,Ml,"f")}get errored(){return ce(this,vf,"f")}get aborted(){return ce(this,bf,"f")}abort(){this.controller.abort()}on(e,n){return(ce(this,ci,"f")[e]||(ce(this,ci,"f")[e]=[])).push({listener:n}),this}off(e,n){const r=ce(this,ci,"f")[e];if(!r)return this;const i=r.findIndex(s=>s.listener===n);return i>=0&&r.splice(i,1),this}once(e,n){return(ce(this,ci,"f")[e]||(ce(this,ci,"f")[e]=[])).push({listener:n,once:!0}),this}emitted(e){return new Promise((n,r)=>{cr(this,ja,!0,"f"),e!=="error"&&this.once("error",r),this.once(e,n)})}async done(){cr(this,ja,!0,"f"),await ce(this,Nl,"f")}async finalChatCompletion(){await this.done();const e=this._chatCompletions[this._chatCompletions.length-1];if(!e)throw new me("stream ended without producing a ChatCompletion");return e}async finalContent(){return await this.done(),ce(this,Lt,"m",Wv).call(this)}async finalMessage(){return await this.done(),ce(this,Lt,"m",Ch).call(this)}async finalFunctionCall(){return await this.done(),ce(this,Lt,"m",qv).call(this)}async finalFunctionCallResult(){return await this.done(),ce(this,Lt,"m",Zv).call(this)}async totalUsage(){return await this.done(),ce(this,Lt,"m",Gv).call(this)}allChatCompletions(){return[...this._chatCompletions]}_emit(e,...n){if(ce(this,Ml,"f"))return;e==="end"&&(cr(this,Ml,!0,"f"),ce(this,yf,"f").call(this));const r=ce(this,ci,"f")[e];if(r&&(ce(this,ci,"f")[e]=r.filter(i=>!i.once),r.forEach(({listener:i})=>i(...n))),e==="abort"){const i=n[0];!ce(this,ja,"f")&&!(r!=null&&r.length)&&Promise.reject(i),ce(this,$l,"f").call(this,i),ce(this,jl,"f").call(this,i),this._emit("end");return}if(e==="error"){const i=n[0];!ce(this,ja,"f")&&!(r!=null&&r.length)&&Promise.reject(i),ce(this,$l,"f").call(this,i),ce(this,jl,"f").call(this,i),this._emit("end")}}_emitFinal(){const e=this._chatCompletions[this._chatCompletions.length-1];e&&this._emit("finalChatCompletion",e);const n=ce(this,Lt,"m",Ch).call(this);n&&this._emit("finalMessage",n);const r=ce(this,Lt,"m",Wv).call(this);r&&this._emit("finalContent",r);const i=ce(this,Lt,"m",qv).call(this);i&&this._emit("finalFunctionCall",i);const s=ce(this,Lt,"m",Zv).call(this);s!=null&&this._emit("finalFunctionCallResult",s),this._chatCompletions.some(a=>a.usage)&&this._emit("totalUsage",ce(this,Lt,"m",Gv).call(this))}async _createChatCompletion(e,n,r){const i=r==null?void 0:r.signal;i&&(i.aborted&&this.controller.abort(),i.addEventListener("abort",()=>this.controller.abort())),ce(this,Lt,"m",lO).call(this,n);const s=await e.create({...n,stream:!1},{...r,signal:this.controller.signal});return this._connected(),this._addChatCompletion(s)}async _runChatCompletion(e,n,r){for(const i of n.messages)this._addMessage(i,!1);return await this._createChatCompletion(e,n,r)}async _runFunctions(e,n,r){var f;const i="function",{function_call:s="auto",stream:a,...o}=n,l=typeof s!="string"&&(s==null?void 0:s.name),{maxChatCompletions:u=dS}=r||{},c={};for(const h of n.functions)c[h.name||h.function.name]=h;const d=n.functions.map(h=>({name:h.name||h.function.name,parameters:h.parameters,description:h.description}));for(const h of n.messages)this._addMessage(h,!1);for(let h=0;h<u;++h){const y=(f=(await this._createChatCompletion(e,{...o,function_call:s,functions:d,messages:[...this.messages]},r)).choices[0])==null?void 0:f.message;if(!y)throw new me("missing message in ChatCompletion response");if(!y.function_call)return;const{name:b,arguments:m}=y.function_call,g=c[b];if(g){if(l&&l!==b){const k=`Invalid function_call: ${JSON.stringify(b)}. ${JSON.stringify(l)} requested. Please try again`;this._addMessage({role:i,name:b,content:k});continue}}else{const k=`Invalid function_call: ${JSON.stringify(b)}. Available options are: ${d.map(I=>JSON.stringify(I.name)).join(", ")}. Please try again`;this._addMessage({role:i,name:b,content:k});continue}let v;try{v=cS(g)?await g.parse(m):m}catch(k){this._addMessage({role:i,name:b,content:k instanceof Error?k.message:String(k)});continue}const x=await g.function(v,this),C=ce(this,Lt,"m",Jv).call(this,x);if(this._addMessage({role:i,name:b,content:C}),l)return}}async _runTools(e,n,r){var f,h;const i="tool",{tool_choice:s="auto",stream:a,...o}=n,l=typeof s!="string"&&((f=s==null?void 0:s.function)==null?void 0:f.name),{maxChatCompletions:u=dS}=r||{},c={};for(const p of n.tools)p.type==="function"&&(c[p.function.name||p.function.function.name]=p.function);const d="tools"in n?n.tools.map(p=>p.type==="function"?{type:"function",function:{name:p.function.name||p.function.function.name,parameters:p.function.parameters,description:p.function.description}}:p):void 0;for(const p of n.messages)this._addMessage(p,!1);for(let p=0;p<u;++p){const b=(h=(await this._createChatCompletion(e,{...o,tool_choice:s,tools:d,messages:[...this.messages]},r)).choices[0])==null?void 0:h.message;if(!b)throw new me("missing message in ChatCompletion response");if(!b.tool_calls)return;for(const m of b.tool_calls){if(m.type!=="function")continue;const g=m.id,{name:v,arguments:x}=m.function,C=c[v];if(C){if(l&&l!==v){const j=`Invalid tool_call: ${JSON.stringify(v)}. ${JSON.stringify(l)} requested. Please try again`;this._addMessage({role:i,tool_call_id:g,content:j});continue}}else{const j=`Invalid tool_call: ${JSON.stringify(v)}. Available options are: ${d.map(T=>JSON.stringify(T.function.name)).join(", ")}. Please try again`;this._addMessage({role:i,tool_call_id:g,content:j});continue}let k;try{k=cS(C)?await C.parse(x):x}catch(j){const T=j instanceof Error?j.message:String(j);this._addMessage({role:i,tool_call_id:g,content:T});continue}const I=await C.function(k,this),R=ce(this,Lt,"m",Jv).call(this,I);if(this._addMessage({role:i,tool_call_id:g,content:R}),l)return}}}}mf=new WeakMap,gf=new WeakMap,$l=new WeakMap,Nl=new WeakMap,yf=new WeakMap,jl=new WeakMap,ci=new WeakMap,Ml=new WeakMap,vf=new WeakMap,bf=new WeakMap,ja=new WeakMap,Kv=new WeakMap,Lt=new WeakSet,Wv=function(){return ce(this,Lt,"m",Ch).call(this).content??null},Ch=function(){let e=this.messages.length;for(;e-- >0;){const n=this.messages[e];if(Co(n))return{...n,content:n.content??null}}throw new me("stream ended without producing a ChatCompletionMessage with role=assistant")},qv=function(){var e,n;for(let r=this.messages.length-1;r>=0;r--){const i=this.messages[r];if(Co(i)&&(i!=null&&i.function_call))return i.function_call;if(Co(i)&&((e=i==null?void 0:i.tool_calls)!=null&&e.length))return(n=i.tool_calls.at(-1))==null?void 0:n.function}},Zv=function(){for(let e=this.messages.length-1;e>=0;e--){const n=this.messages[e];if(aO(n)&&n.content!=null||oO(n)&&n.content!=null&&this.messages.some(r=>{var i;return r.role==="assistant"&&((i=r.tool_calls)==null?void 0:i.some(s=>s.type==="function"&&s.id===n.tool_call_id))}))return n.content}},Gv=function(){const e={completion_tokens:0,prompt_tokens:0,total_tokens:0};for(const{usage:n}of this._chatCompletions)n&&(e.completion_tokens+=n.completion_tokens,e.prompt_tokens+=n.prompt_tokens,e.total_tokens+=n.total_tokens);return e},lO=function(e){if(e.n!=null&&e.n>1)throw new me("ChatCompletion convenience helpers only support n=1 at this time. To use n>1, please use chat.completions.create() directly.")},Jv=function(e){return typeof e=="string"?e:e===void 0?"undefined":JSON.stringify(e)};class Yu extends uO{static runFunctions(e,n,r){const i=new Yu,s={...r,headers:{...r==null?void 0:r.headers,"X-Stainless-Helper-Method":"runFunctions"}};return i._run(()=>i._runFunctions(e,n,s)),i}static runTools(e,n,r){const i=new Yu,s={...r,headers:{...r==null?void 0:r.headers,"X-Stainless-Helper-Method":"runTools"}};return i._run(()=>i._runTools(e,n,s)),i}_addMessage(e){super._addMessage(e),Co(e)&&e.content&&this._emit("content",e.content)}}var dr=function(t,e,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!r:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(t):r?r.value:e.get(t)},Bg=function(t,e,n,r,i){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!i:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?i.call(t,n):i?i.value=n:e.set(t,n),n},Lr,Bi,Vg,Ug,Id,fS;class Qu extends uO{constructor(){super(...arguments),Lr.add(this),Bi.set(this,void 0)}get currentChatCompletionSnapshot(){return dr(this,Bi,"f")}static fromReadableStream(e){const n=new Qu;return n._run(()=>n._fromReadableStream(e)),n}static createChatCompletion(e,n,r){const i=new Qu;return i._run(()=>i._runChatCompletion(e,{...n,stream:!0},{...r,headers:{...r==null?void 0:r.headers,"X-Stainless-Helper-Method":"stream"}})),i}async _createChatCompletion(e,n,r){var a;const i=r==null?void 0:r.signal;i&&(i.aborted&&this.controller.abort(),i.addEventListener("abort",()=>this.controller.abort())),dr(this,Lr,"m",Vg).call(this);const s=await e.create({...n,stream:!0},{...r,signal:this.controller.signal});this._connected();for await(const o of s)dr(this,Lr,"m",Ug).call(this,o);if((a=s.controller.signal)!=null&&a.aborted)throw new hn;return this._addChatCompletion(dr(this,Lr,"m",Id).call(this))}async _fromReadableStream(e,n){var a;const r=n==null?void 0:n.signal;r&&(r.aborted&&this.controller.abort(),r.addEventListener("abort",()=>this.controller.abort())),dr(this,Lr,"m",Vg).call(this),this._connected();const i=Gr.fromReadableStream(e,this.controller);let s;for await(const o of i)s&&s!==o.id&&this._addChatCompletion(dr(this,Lr,"m",Id).call(this)),dr(this,Lr,"m",Ug).call(this,o),s=o.id;if((a=i.controller.signal)!=null&&a.aborted)throw new hn;return this._addChatCompletion(dr(this,Lr,"m",Id).call(this))}[(Bi=new WeakMap,Lr=new WeakSet,Vg=function(){this.ended||Bg(this,Bi,void 0,"f")},Ug=function(n){var a,o,l;if(this.ended)return;const r=dr(this,Lr,"m",fS).call(this,n);this._emit("chunk",n,r);const i=(o=(a=n.choices[0])==null?void 0:a.delta)==null?void 0:o.content,s=(l=r.choices[0])==null?void 0:l.message;i!=null&&(s==null?void 0:s.role)==="assistant"&&(s!=null&&s.content)&&this._emit("content",i,s.content)},Id=function(){if(this.ended)throw new me("stream has ended, this shouldn't happen");const n=dr(this,Bi,"f");if(!n)throw new me("request ended without sending any chunks");return Bg(this,Bi,void 0,"f"),x7(n)},fS=function(n){var r,i,s;let a=dr(this,Bi,"f");const{choices:o,...l}=n;a?Object.assign(a,l):a=Bg(this,Bi,{...l,choices:[]},"f");for(const{delta:u,finish_reason:c,index:d,logprobs:f=null,...h}of n.choices){let p=a.choices[d];if(p||(p=a.choices[d]={finish_reason:c,index:d,message:{},logprobs:f,...h}),f)if(!p.logprobs)p.logprobs=Object.assign({},f);else{const{content:x,...C}=f;Object.assign(p.logprobs,C),x&&((r=p.logprobs).content??(r.content=[]),p.logprobs.content.push(...x))}if(c&&(p.finish_reason=c),Object.assign(p,h),!u)continue;const{content:y,function_call:b,role:m,tool_calls:g,...v}=u;if(Object.assign(p.message,v),y&&(p.message.content=(p.message.content||"")+y),m&&(p.message.role=m),b&&(p.message.function_call?(b.name&&(p.message.function_call.name=b.name),b.arguments&&((i=p.message.function_call).arguments??(i.arguments=""),p.message.function_call.arguments+=b.arguments)):p.message.function_call=b),g){p.message.tool_calls||(p.message.tool_calls=[]);for(const{index:x,id:C,type:k,function:I,...R}of g){const j=(s=p.message.tool_calls)[x]??(s[x]={});Object.assign(j,R),C&&(j.id=C),k&&(j.type=k),I&&(j.function??(j.function={arguments:""})),I!=null&&I.name&&(j.function.name=I.name),I!=null&&I.arguments&&(j.function.arguments+=I.arguments)}}}return a},Symbol.asyncIterator)](){const e=[],n=[];let r=!1;return this.on("chunk",i=>{const s=n.shift();s?s.resolve(i):e.push(i)}),this.on("end",()=>{r=!0;for(const i of n)i.resolve(void 0);n.length=0}),this.on("abort",i=>{r=!0;for(const s of n)s.reject(i);n.length=0}),this.on("error",i=>{r=!0;for(const s of n)s.reject(i);n.length=0}),{next:async()=>e.length?{value:e.shift(),done:!1}:r?{value:void 0,done:!0}:new Promise((s,a)=>n.push({resolve:s,reject:a})).then(s=>s?{value:s,done:!1}:{value:void 0,done:!0}),return:async()=>(this.abort(),{value:void 0,done:!0})}}toReadableStream(){return new Gr(this[Symbol.asyncIterator].bind(this),this.controller).toReadableStream()}}function x7(t){const{id:e,choices:n,created:r,model:i,system_fingerprint:s,...a}=t;return{...a,id:e,choices:n.map(({message:o,finish_reason:l,index:u,logprobs:c,...d})=>{if(!l)throw new me(`missing finish_reason for choice ${u}`);const{content:f=null,function_call:h,tool_calls:p,...y}=o,b=o.role;if(!b)throw new me(`missing role for choice ${u}`);if(h){const{arguments:m,name:g}=h;if(m==null)throw new me(`missing function_call.arguments for choice ${u}`);if(!g)throw new me(`missing function_call.name for choice ${u}`);return{...d,message:{content:f,function_call:{arguments:m,name:g},role:b},finish_reason:l,index:u,logprobs:c}}return p?{...d,index:u,finish_reason:l,logprobs:c,message:{...y,role:b,content:f,tool_calls:p.map((m,g)=>{const{function:v,type:x,id:C,...k}=m,{arguments:I,name:R,...j}=v||{};if(C==null)throw new me(`missing choices[${u}].tool_calls[${g}].id
${Od(t)}`);if(x==null)throw new me(`missing choices[${u}].tool_calls[${g}].type
${Od(t)}`);if(R==null)throw new me(`missing choices[${u}].tool_calls[${g}].function.name
${Od(t)}`);if(I==null)throw new me(`missing choices[${u}].tool_calls[${g}].function.arguments
${Od(t)}`);return{...k,id:C,type:x,function:{...j,name:R,arguments:I}}})}}:{...d,message:{...y,content:f,role:b},finish_reason:l,index:u,logprobs:c}}),created:r,model:i,object:"chat.completion",...s?{system_fingerprint:s}:{}}}function Od(t){return JSON.stringify(t)}class To extends Qu{static fromReadableStream(e){const n=new To;return n._run(()=>n._fromReadableStream(e)),n}static runFunctions(e,n,r){const i=new To,s={...r,headers:{...r==null?void 0:r.headers,"X-Stainless-Helper-Method":"runFunctions"}};return i._run(()=>i._runFunctions(e,n,s)),i}static runTools(e,n,r){const i=new To,s={...r,headers:{...r==null?void 0:r.headers,"X-Stainless-Helper-Method":"runTools"}};return i._run(()=>i._runTools(e,n,s)),i}}let cO=class extends Be{runFunctions(e,n){return e.stream?To.runFunctions(this._client.chat.completions,e,n):Yu.runFunctions(this._client.chat.completions,e,n)}runTools(e,n){return e.stream?To.runTools(this._client.chat.completions,e,n):Yu.runTools(this._client.chat.completions,e,n)}stream(e,n){return Qu.createChatCompletion(this._client.chat.completions,e,n)}};class Th extends Be{constructor(){super(...arguments),this.completions=new cO(this._client)}}(function(t){t.Completions=cO})(Th||(Th={}));var fr=function(t,e,n,r,i){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!i:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?i.call(t,n):i?i.value=n:e.set(t,n),n},Xe=function(t,e,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!r:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(t):r?r.value:e.get(t)},wf,_f,Ll,zl,xf,Dl,di,Fl,kf,Sf,Ma,Xv;class k7{constructor(){this.controller=new AbortController,wf.set(this,void 0),_f.set(this,()=>{}),Ll.set(this,()=>{}),zl.set(this,void 0),xf.set(this,()=>{}),Dl.set(this,()=>{}),di.set(this,{}),Fl.set(this,!1),kf.set(this,!1),Sf.set(this,!1),Ma.set(this,!1),Xv.set(this,e=>{if(fr(this,kf,!0,"f"),e instanceof Error&&e.name==="AbortError"&&(e=new hn),e instanceof hn)return fr(this,Sf,!0,"f"),this._emit("abort",e);if(e instanceof me)return this._emit("error",e);if(e instanceof Error){const n=new me(e.message);return n.cause=e,this._emit("error",n)}return this._emit("error",new me(String(e)))}),fr(this,wf,new Promise((e,n)=>{fr(this,_f,e,"f"),fr(this,Ll,n,"f")}),"f"),fr(this,zl,new Promise((e,n)=>{fr(this,xf,e,"f"),fr(this,Dl,n,"f")}),"f"),Xe(this,wf,"f").catch(()=>{}),Xe(this,zl,"f").catch(()=>{})}_run(e){setTimeout(()=>{e().then(()=>{this._emit("end")},Xe(this,Xv,"f"))},0)}_addRun(e){return e}_connected(){this.ended||(Xe(this,_f,"f").call(this),this._emit("connect"))}get ended(){return Xe(this,Fl,"f")}get errored(){return Xe(this,kf,"f")}get aborted(){return Xe(this,Sf,"f")}abort(){this.controller.abort()}on(e,n){return(Xe(this,di,"f")[e]||(Xe(this,di,"f")[e]=[])).push({listener:n}),this}off(e,n){const r=Xe(this,di,"f")[e];if(!r)return this;const i=r.findIndex(s=>s.listener===n);return i>=0&&r.splice(i,1),this}once(e,n){return(Xe(this,di,"f")[e]||(Xe(this,di,"f")[e]=[])).push({listener:n,once:!0}),this}emitted(e){return new Promise((n,r)=>{fr(this,Ma,!0,"f"),e!=="error"&&this.once("error",r),this.once(e,n)})}async done(){fr(this,Ma,!0,"f"),await Xe(this,zl,"f")}_emit(e,...n){if(Xe(this,Fl,"f"))return;e==="end"&&(fr(this,Fl,!0,"f"),Xe(this,xf,"f").call(this));const r=Xe(this,di,"f")[e];if(r&&(Xe(this,di,"f")[e]=r.filter(i=>!i.once),r.forEach(({listener:i})=>i(...n))),e==="abort"){const i=n[0];!Xe(this,Ma,"f")&&!(r!=null&&r.length)&&Promise.reject(i),Xe(this,Ll,"f").call(this,i),Xe(this,Dl,"f").call(this,i),this._emit("end");return}if(e==="error"){const i=n[0];!Xe(this,Ma,"f")&&!(r!=null&&r.length)&&Promise.reject(i),Xe(this,Ll,"f").call(this,i),Xe(this,Dl,"f").call(this,i),this._emit("end")}}async _threadAssistantStream(e,n,r){return await this._createThreadAssistantStream(n,e,r)}async _runAssistantStream(e,n,r,i){return await this._createAssistantStream(n,e,r,i)}async _runToolAssistantStream(e,n,r,i,s){return await this._createToolAssistantStream(r,e,n,i,s)}async _createThreadAssistantStream(e,n,r){const i=r==null?void 0:r.signal;i&&(i.aborted&&this.controller.abort(),i.addEventListener("abort",()=>this.controller.abort()));const s=await e.createAndRun({...n,stream:!1},{...r,signal:this.controller.signal});return this._connected(),this._addRun(s)}async _createToolAssistantStream(e,n,r,i,s){const a=s==null?void 0:s.signal;a&&(a.aborted&&this.controller.abort(),a.addEventListener("abort",()=>this.controller.abort()));const o=await e.submitToolOutputs(n,r,{...i,stream:!1},{...s,signal:this.controller.signal});return this._connected(),this._addRun(o)}async _createAssistantStream(e,n,r,i){const s=i==null?void 0:i.signal;s&&(s.aborted&&this.controller.abort(),s.addEventListener("abort",()=>this.controller.abort()));const a=await e.create(n,{...r,stream:!1},{...i,signal:this.controller.signal});return this._connected(),this._addRun(a)}}wf=new WeakMap,_f=new WeakMap,Ll=new WeakMap,zl=new WeakMap,xf=new WeakMap,Dl=new WeakMap,di=new WeakMap,Fl=new WeakMap,kf=new WeakMap,Sf=new WeakMap,Ma=new WeakMap,Xv=new WeakMap;var K=function(t,e,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!r:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(t):r?r.value:e.get(t)},kn=function(t,e,n,r,i){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!i:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?i.call(t,n):i?i.value=n:e.set(t,n),n},At,Yv,Vr,Cf,vr,Xs,lo,Bs,Ph,Cn,Tf,Pf,mu,Bl,Vl,hS,pS,mS,gS,yS,vS,bS;class xr extends k7{constructor(){super(...arguments),At.add(this),Yv.set(this,[]),Vr.set(this,{}),Cf.set(this,{}),vr.set(this,void 0),Xs.set(this,void 0),lo.set(this,void 0),Bs.set(this,void 0),Ph.set(this,void 0),Cn.set(this,void 0),Tf.set(this,void 0),Pf.set(this,void 0),mu.set(this,void 0)}[(Yv=new WeakMap,Vr=new WeakMap,Cf=new WeakMap,vr=new WeakMap,Xs=new WeakMap,lo=new WeakMap,Bs=new WeakMap,Ph=new WeakMap,Cn=new WeakMap,Tf=new WeakMap,Pf=new WeakMap,mu=new WeakMap,At=new WeakSet,Symbol.asyncIterator)](){const e=[],n=[];let r=!1;return this.on("event",i=>{const s=n.shift();s?s.resolve(i):e.push(i)}),this.on("end",()=>{r=!0;for(const i of n)i.resolve(void 0);n.length=0}),this.on("abort",i=>{r=!0;for(const s of n)s.reject(i);n.length=0}),this.on("error",i=>{r=!0;for(const s of n)s.reject(i);n.length=0}),{next:async()=>e.length?{value:e.shift(),done:!1}:r?{value:void 0,done:!0}:new Promise((s,a)=>n.push({resolve:s,reject:a})).then(s=>s?{value:s,done:!1}:{value:void 0,done:!0}),return:async()=>(this.abort(),{value:void 0,done:!0})}}static fromReadableStream(e){const n=new xr;return n._run(()=>n._fromReadableStream(e)),n}async _fromReadableStream(e,n){var s;const r=n==null?void 0:n.signal;r&&(r.aborted&&this.controller.abort(),r.addEventListener("abort",()=>this.controller.abort())),this._connected();const i=Gr.fromReadableStream(e,this.controller);for await(const a of i)K(this,At,"m",Bl).call(this,a);if((s=i.controller.signal)!=null&&s.aborted)throw new hn;return this._addRun(K(this,At,"m",Vl).call(this))}toReadableStream(){return new Gr(this[Symbol.asyncIterator].bind(this),this.controller).toReadableStream()}static createToolAssistantStream(e,n,r,i,s){const a=new xr;return a._run(()=>a._runToolAssistantStream(e,n,r,i,{...s,headers:{...s==null?void 0:s.headers,"X-Stainless-Helper-Method":"stream"}})),a}async _createToolAssistantStream(e,n,r,i,s){var u;const a=s==null?void 0:s.signal;a&&(a.aborted&&this.controller.abort(),a.addEventListener("abort",()=>this.controller.abort()));const o={...i,stream:!0},l=await e.submitToolOutputs(n,r,o,{...s,signal:this.controller.signal});this._connected();for await(const c of l)K(this,At,"m",Bl).call(this,c);if((u=l.controller.signal)!=null&&u.aborted)throw new hn;return this._addRun(K(this,At,"m",Vl).call(this))}static createThreadAssistantStream(e,n,r){const i=new xr;return i._run(()=>i._threadAssistantStream(e,n,{...r,headers:{...r==null?void 0:r.headers,"X-Stainless-Helper-Method":"stream"}})),i}static createAssistantStream(e,n,r,i){const s=new xr;return s._run(()=>s._runAssistantStream(e,n,r,{...i,headers:{...i==null?void 0:i.headers,"X-Stainless-Helper-Method":"stream"}})),s}currentEvent(){return K(this,Tf,"f")}currentRun(){return K(this,Pf,"f")}currentMessageSnapshot(){return K(this,vr,"f")}currentRunStepSnapshot(){return K(this,mu,"f")}async finalRunSteps(){return await this.done(),Object.values(K(this,Vr,"f"))}async finalMessages(){return await this.done(),Object.values(K(this,Cf,"f"))}async finalRun(){if(await this.done(),!K(this,Xs,"f"))throw Error("Final run was not received.");return K(this,Xs,"f")}async _createThreadAssistantStream(e,n,r){var o;const i=r==null?void 0:r.signal;i&&(i.aborted&&this.controller.abort(),i.addEventListener("abort",()=>this.controller.abort()));const s={...n,stream:!0},a=await e.createAndRun(s,{...r,signal:this.controller.signal});this._connected();for await(const l of a)K(this,At,"m",Bl).call(this,l);if((o=a.controller.signal)!=null&&o.aborted)throw new hn;return this._addRun(K(this,At,"m",Vl).call(this))}async _createAssistantStream(e,n,r,i){var l;const s=i==null?void 0:i.signal;s&&(s.aborted&&this.controller.abort(),s.addEventListener("abort",()=>this.controller.abort()));const a={...r,stream:!0},o=await e.create(n,a,{...i,signal:this.controller.signal});this._connected();for await(const u of o)K(this,At,"m",Bl).call(this,u);if((l=o.controller.signal)!=null&&l.aborted)throw new hn;return this._addRun(K(this,At,"m",Vl).call(this))}static accumulateDelta(e,n){for(const[r,i]of Object.entries(n)){if(!e.hasOwnProperty(r)){e[r]=i;continue}let s=e[r];if(s==null){e[r]=i;continue}if(r==="index"||r==="type"){e[r]=i;continue}if(typeof s=="string"&&typeof i=="string")s+=i;else if(typeof s=="number"&&typeof i=="number")s+=i;else if(uS(s)&&uS(i))s=this.accumulateDelta(s,i);else if(Array.isArray(s)&&Array.isArray(i)){if(s.every(a=>typeof a=="string"||typeof a=="number")){s.push(...i);continue}}else throw Error(`Unhandled record type: ${r}, deltaValue: ${i}, accValue: ${s}`);e[r]=s}return e}}Bl=function(e){if(!this.ended)switch(kn(this,Tf,e,"f"),K(this,At,"m",mS).call(this,e),e.event){case"thread.created":break;case"thread.run.created":case"thread.run.queued":case"thread.run.in_progress":case"thread.run.requires_action":case"thread.run.completed":case"thread.run.failed":case"thread.run.cancelling":case"thread.run.cancelled":case"thread.run.expired":K(this,At,"m",bS).call(this,e);break;case"thread.run.step.created":case"thread.run.step.in_progress":case"thread.run.step.delta":case"thread.run.step.completed":case"thread.run.step.failed":case"thread.run.step.cancelled":case"thread.run.step.expired":K(this,At,"m",pS).call(this,e);break;case"thread.message.created":case"thread.message.in_progress":case"thread.message.delta":case"thread.message.completed":case"thread.message.incomplete":K(this,At,"m",hS).call(this,e);break;case"error":throw new Error("Encountered an error event in event processing - errors should be processed earlier")}},Vl=function(){if(this.ended)throw new me("stream has ended, this shouldn't happen");if(!K(this,Xs,"f"))throw Error("Final run has not been received");return K(this,Xs,"f")},hS=function(e){const[n,r]=K(this,At,"m",yS).call(this,e,K(this,vr,"f"));kn(this,vr,n,"f"),K(this,Cf,"f")[n.id]=n;for(const i of r){const s=n.content[i.index];(s==null?void 0:s.type)=="text"&&this._emit("textCreated",s.text)}switch(e.event){case"thread.message.created":this._emit("messageCreated",e.data);break;case"thread.message.in_progress":break;case"thread.message.delta":if(this._emit("messageDelta",e.data.delta,n),e.data.delta.content)for(const i of e.data.delta.content){if(i.type=="text"&&i.text){let s=i.text,a=n.content[i.index];if(a&&a.type=="text")this._emit("textDelta",s,a.text);else throw Error("The snapshot associated with this text delta is not text or missing")}if(i.index!=K(this,lo,"f")){if(K(this,Bs,"f"))switch(K(this,Bs,"f").type){case"text":this._emit("textDone",K(this,Bs,"f").text,K(this,vr,"f"));break;case"image_file":this._emit("imageFileDone",K(this,Bs,"f").image_file,K(this,vr,"f"));break}kn(this,lo,i.index,"f")}kn(this,Bs,n.content[i.index],"f")}break;case"thread.message.completed":case"thread.message.incomplete":if(K(this,lo,"f")!==void 0){const i=e.data.content[K(this,lo,"f")];if(i)switch(i.type){case"image_file":this._emit("imageFileDone",i.image_file,K(this,vr,"f"));break;case"text":this._emit("textDone",i.text,K(this,vr,"f"));break}}K(this,vr,"f")&&this._emit("messageDone",e.data),kn(this,vr,void 0,"f")}},pS=function(e){const n=K(this,At,"m",gS).call(this,e);switch(kn(this,mu,n,"f"),e.event){case"thread.run.step.created":this._emit("runStepCreated",e.data);break;case"thread.run.step.delta":const r=e.data.delta;if(r.step_details&&r.step_details.type=="tool_calls"&&r.step_details.tool_calls&&n.step_details.type=="tool_calls")for(const s of r.step_details.tool_calls)s.index==K(this,Ph,"f")?this._emit("toolCallDelta",s,n.step_details.tool_calls[s.index]):(K(this,Cn,"f")&&this._emit("toolCallDone",K(this,Cn,"f")),kn(this,Ph,s.index,"f"),kn(this,Cn,n.step_details.tool_calls[s.index],"f"),K(this,Cn,"f")&&this._emit("toolCallCreated",K(this,Cn,"f")));this._emit("runStepDelta",e.data.delta,n);break;case"thread.run.step.completed":case"thread.run.step.failed":case"thread.run.step.cancelled":case"thread.run.step.expired":kn(this,mu,void 0,"f"),e.data.step_details.type=="tool_calls"&&K(this,Cn,"f")&&(this._emit("toolCallDone",K(this,Cn,"f")),kn(this,Cn,void 0,"f")),this._emit("runStepDone",e.data,n);break}},mS=function(e){K(this,Yv,"f").push(e),this._emit("event",e)},gS=function(e){switch(e.event){case"thread.run.step.created":return K(this,Vr,"f")[e.data.id]=e.data,e.data;case"thread.run.step.delta":let n=K(this,Vr,"f")[e.data.id];if(!n)throw Error("Received a RunStepDelta before creation of a snapshot");let r=e.data;if(r.delta){const i=xr.accumulateDelta(n,r.delta);K(this,Vr,"f")[e.data.id]=i}return K(this,Vr,"f")[e.data.id];case"thread.run.step.completed":case"thread.run.step.failed":case"thread.run.step.cancelled":case"thread.run.step.expired":case"thread.run.step.in_progress":K(this,Vr,"f")[e.data.id]=e.data;break}if(K(this,Vr,"f")[e.data.id])return K(this,Vr,"f")[e.data.id];throw new Error("No snapshot available")},yS=function(e,n){let r=[];switch(e.event){case"thread.message.created":return[e.data,r];case"thread.message.delta":if(!n)throw Error("Received a delta with no existing snapshot (there should be one from message creation)");let i=e.data;if(i.delta.content)for(const s of i.delta.content)if(s.index in n.content){let a=n.content[s.index];n.content[s.index]=K(this,At,"m",vS).call(this,s,a)}else n.content[s.index]=s,r.push(s);return[n,r];case"thread.message.in_progress":case"thread.message.completed":case"thread.message.incomplete":if(n)return[n,r];throw Error("Received thread message event with no existing snapshot")}throw Error("Tried to accumulate a non-message event")},vS=function(e,n){return xr.accumulateDelta(n,e)},bS=function(e){switch(kn(this,Pf,e.data,"f"),e.event){case"thread.run.created":break;case"thread.run.queued":break;case"thread.run.in_progress":break;case"thread.run.requires_action":case"thread.run.cancelled":case"thread.run.failed":case"thread.run.completed":case"thread.run.expired":kn(this,Xs,e.data,"f"),K(this,Cn,"f")&&(this._emit("toolCallDone",K(this,Cn,"f")),kn(this,Cn,void 0,"f"));break}};class Eh extends Be{create(e,n,r){return this._client.post(`/threads/${e}/messages`,{body:n,...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}retrieve(e,n,r){return this._client.get(`/threads/${e}/messages/${n}`,{...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}update(e,n,r,i){return this._client.post(`/threads/${e}/messages/${n}`,{body:r,...i,headers:{"OpenAI-Beta":"assistants=v2",...i==null?void 0:i.headers}})}list(e,n={},r){return jn(n)?this.list(e,{},n):this._client.getAPIList(`/threads/${e}/messages`,Aw,{query:n,...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}del(e,n,r){return this._client.delete(`/threads/${e}/messages/${n}`,{...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}}class Aw extends Rr{}(function(t){t.MessagesPage=Aw})(Eh||(Eh={}));class Ah extends Be{retrieve(e,n,r,i){return this._client.get(`/threads/${e}/runs/${n}/steps/${r}`,{...i,headers:{"OpenAI-Beta":"assistants=v2",...i==null?void 0:i.headers}})}list(e,n,r={},i){return jn(r)?this.list(e,n,{},r):this._client.getAPIList(`/threads/${e}/runs/${n}/steps`,Iw,{query:r,...i,headers:{"OpenAI-Beta":"assistants=v2",...i==null?void 0:i.headers}})}}class Iw extends Rr{}(function(t){t.RunStepsPage=Iw})(Ah||(Ah={}));class Ih extends Be{constructor(){super(...arguments),this.steps=new Ah(this._client)}create(e,n,r){return this._client.post(`/threads/${e}/runs`,{body:n,...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers},stream:n.stream??!1})}retrieve(e,n,r){return this._client.get(`/threads/${e}/runs/${n}`,{...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}update(e,n,r,i){return this._client.post(`/threads/${e}/runs/${n}`,{body:r,...i,headers:{"OpenAI-Beta":"assistants=v2",...i==null?void 0:i.headers}})}list(e,n={},r){return jn(n)?this.list(e,{},n):this._client.getAPIList(`/threads/${e}/runs`,Ow,{query:n,...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}cancel(e,n,r){return this._client.post(`/threads/${e}/runs/${n}/cancel`,{...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}async createAndPoll(e,n,r){const i=await this.create(e,n,r);return await this.poll(e,i.id,r)}createAndStream(e,n,r){return xr.createAssistantStream(e,this._client.beta.threads.runs,n,r)}async poll(e,n,r){const i={...r==null?void 0:r.headers,"X-Stainless-Poll-Helper":"true"};for(r!=null&&r.pollIntervalMs&&(i["X-Stainless-Custom-Poll-Interval"]=r.pollIntervalMs.toString());;){const{data:s,response:a}=await this.retrieve(e,n,{...r,headers:{...r==null?void 0:r.headers,...i}}).withResponse();switch(s.status){case"queued":case"in_progress":case"cancelling":let o=5e3;if(r!=null&&r.pollIntervalMs)o=r.pollIntervalMs;else{const l=a.headers.get("openai-poll-after-ms");if(l){const u=parseInt(l);isNaN(u)||(o=u)}}await Rc(o);break;case"requires_action":case"incomplete":case"cancelled":case"completed":case"failed":case"expired":return s}}}stream(e,n,r){return xr.createAssistantStream(e,this._client.beta.threads.runs,n,r)}submitToolOutputs(e,n,r,i){return this._client.post(`/threads/${e}/runs/${n}/submit_tool_outputs`,{body:r,...i,headers:{"OpenAI-Beta":"assistants=v2",...i==null?void 0:i.headers},stream:r.stream??!1})}async submitToolOutputsAndPoll(e,n,r,i){const s=await this.submitToolOutputs(e,n,r,i);return await this.poll(e,s.id,i)}submitToolOutputsStream(e,n,r,i){return xr.createToolAssistantStream(e,n,this._client.beta.threads.runs,r,i)}}class Ow extends Rr{}(function(t){t.RunsPage=Ow,t.Steps=Ah,t.RunStepsPage=Iw})(Ih||(Ih={}));class Oh extends Be{constructor(){super(...arguments),this.runs=new Ih(this._client),this.messages=new Eh(this._client)}create(e={},n){return jn(e)?this.create({},e):this._client.post("/threads",{body:e,...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers}})}retrieve(e,n){return this._client.get(`/threads/${e}`,{...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers}})}update(e,n,r){return this._client.post(`/threads/${e}`,{body:n,...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}del(e,n){return this._client.delete(`/threads/${e}`,{...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers}})}createAndRun(e,n){return this._client.post("/threads/runs",{body:e,...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers},stream:e.stream??!1})}async createAndRunPoll(e,n){const r=await this.createAndRun(e,n);return await this.runs.poll(r.thread_id,r.id,n)}createAndRunStream(e,n){return xr.createThreadAssistantStream(e,this._client.beta.threads,n)}}(function(t){t.Runs=Ih,t.RunsPage=Ow,t.Messages=Eh,t.MessagesPage=Aw})(Oh||(Oh={}));const S7=async t=>{const e=await Promise.allSettled(t),n=e.filter(i=>i.status==="rejected");if(n.length){for(const i of n)console.error(i.reason);throw new Error(`${n.length} promise(s) failed - see the above errors`)}const r=[];for(const i of e)i.status==="fulfilled"&&r.push(i.value);return r};let Rh=class extends Be{create(e,n,r){return this._client.post(`/vector_stores/${e}/files`,{body:n,...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}retrieve(e,n,r){return this._client.get(`/vector_stores/${e}/files/${n}`,{...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}list(e,n={},r){return jn(n)?this.list(e,{},n):this._client.getAPIList(`/vector_stores/${e}/files`,rm,{query:n,...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}del(e,n,r){return this._client.delete(`/vector_stores/${e}/files/${n}`,{...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}async createAndPoll(e,n,r){const i=await this.create(e,n,r);return await this.poll(e,i.id,r)}async poll(e,n,r){const i={...r==null?void 0:r.headers,"X-Stainless-Poll-Helper":"true"};for(r!=null&&r.pollIntervalMs&&(i["X-Stainless-Custom-Poll-Interval"]=r.pollIntervalMs.toString());;){const s=await this.retrieve(e,n,{...r,headers:i}).withResponse(),a=s.data;switch(a.status){case"in_progress":let o=5e3;if(r!=null&&r.pollIntervalMs)o=r.pollIntervalMs;else{const l=s.response.headers.get("openai-poll-after-ms");if(l){const u=parseInt(l);isNaN(u)||(o=u)}}await Rc(o);break;case"failed":case"completed":return a}}}async upload(e,n,r){const i=await this._client.files.create({file:n,purpose:"assistants"},r);return this.create(e,{file_id:i.id},r)}async uploadAndPoll(e,n,r){const i=await this.upload(e,n,r);return await this.poll(e,i.id,r)}};class rm extends Rr{}(function(t){t.VectorStoreFilesPage=rm})(Rh||(Rh={}));class $h extends Be{create(e,n,r){return this._client.post(`/vector_stores/${e}/file_batches`,{body:n,...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}retrieve(e,n,r){return this._client.get(`/vector_stores/${e}/file_batches/${n}`,{...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}cancel(e,n,r){return this._client.post(`/vector_stores/${e}/file_batches/${n}/cancel`,{...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}async createAndPoll(e,n,r){const i=await this.create(e,n);return await this.poll(e,i.id,r)}listFiles(e,n,r={},i){return jn(r)?this.listFiles(e,n,{},r):this._client.getAPIList(`/vector_stores/${e}/file_batches/${n}/files`,rm,{query:r,...i,headers:{"OpenAI-Beta":"assistants=v2",...i==null?void 0:i.headers}})}async poll(e,n,r){const i={...r==null?void 0:r.headers,"X-Stainless-Poll-Helper":"true"};for(r!=null&&r.pollIntervalMs&&(i["X-Stainless-Custom-Poll-Interval"]=r.pollIntervalMs.toString());;){const{data:s,response:a}=await this.retrieve(e,n,{...r,headers:i}).withResponse();switch(s.status){case"in_progress":let o=5e3;if(r!=null&&r.pollIntervalMs)o=r.pollIntervalMs;else{const l=a.headers.get("openai-poll-after-ms");if(l){const u=parseInt(l);isNaN(u)||(o=u)}}await Rc(o);break;case"failed":case"cancelled":case"completed":return s}}}async uploadAndPoll(e,{files:n,fileIds:r=[]},i){if(n===null||n.length==0)throw new Error("No files provided to process.");const s=(i==null?void 0:i.maxConcurrency)??5,a=Math.min(s,n.length),o=this._client,l=n.values(),u=[...r];async function c(f){for(let h of f){const p=await o.files.create({file:h,purpose:"assistants"},i);u.push(p.id)}}const d=Array(a).fill(l).map(c);return await S7(d),await this.createAndPoll(e,{file_ids:u})}}$h||($h={});class Nh extends Be{constructor(){super(...arguments),this.files=new Rh(this._client),this.fileBatches=new $h(this._client)}create(e,n){return this._client.post("/vector_stores",{body:e,...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers}})}retrieve(e,n){return this._client.get(`/vector_stores/${e}`,{...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers}})}update(e,n,r){return this._client.post(`/vector_stores/${e}`,{body:n,...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}list(e={},n){return jn(e)?this.list({},e):this._client.getAPIList("/vector_stores",Rw,{query:e,...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers}})}del(e,n){return this._client.delete(`/vector_stores/${e}`,{...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers}})}}class Rw extends Rr{}(function(t){t.VectorStoresPage=Rw,t.Files=Rh,t.VectorStoreFilesPage=rm,t.FileBatches=$h})(Nh||(Nh={}));class jh extends Be{constructor(){super(...arguments),this.vectorStores=new Nh(this._client),this.chat=new Th(this._client),this.assistants=new Sh(this._client),this.threads=new Oh(this._client)}}(function(t){t.VectorStores=Nh,t.VectorStoresPage=Rw,t.Chat=Th,t.Assistants=Sh,t.AssistantsPage=Ew,t.Threads=Oh})(jh||(jh={}));class Mh extends Be{create(e,n){return this._client.post("/completions",{body:e,...n,stream:e.stream??!1})}}Mh||(Mh={});class Lh extends Be{create(e,n){return this._client.post("/embeddings",{body:e,...n})}}Lh||(Lh={});class zh extends Be{create(e,n){return this._client.post("/files",Xu({body:e,...n}))}retrieve(e,n){return this._client.get(`/files/${e}`,n)}list(e={},n){return jn(e)?this.list({},e):this._client.getAPIList("/files",$w,{query:e,...n})}del(e,n){return this._client.delete(`/files/${e}`,n)}content(e,n){return this._client.get(`/files/${e}/content`,{...n,__binaryResponse:!0})}retrieveContent(e,n){return this._client.get(`/files/${e}/content`,{...n,headers:{Accept:"application/json",...n==null?void 0:n.headers}})}async waitForProcessing(e,{pollInterval:n=5e3,maxWait:r=30*60*1e3}={}){const i=new Set(["processed","error","deleted"]),s=Date.now();let a=await this.retrieve(e);for(;!a.status||!i.has(a.status);)if(await Rc(n),a=await this.retrieve(e),Date.now()-s>r)throw new tm({message:`Giving up on waiting for file ${e} to finish processing after ${r} milliseconds.`});return a}}class $w extends Tw{}(function(t){t.FileObjectsPage=$w})(zh||(zh={}));class Dh extends Be{list(e,n={},r){return jn(n)?this.list(e,{},n):this._client.getAPIList(`/fine_tuning/jobs/${e}/checkpoints`,Nw,{query:n,...r})}}class Nw extends Rr{}(function(t){t.FineTuningJobCheckpointsPage=Nw})(Dh||(Dh={}));class Fh extends Be{constructor(){super(...arguments),this.checkpoints=new Dh(this._client)}create(e,n){return this._client.post("/fine_tuning/jobs",{body:e,...n})}retrieve(e,n){return this._client.get(`/fine_tuning/jobs/${e}`,n)}list(e={},n){return jn(e)?this.list({},e):this._client.getAPIList("/fine_tuning/jobs",jw,{query:e,...n})}cancel(e,n){return this._client.post(`/fine_tuning/jobs/${e}/cancel`,n)}listEvents(e,n={},r){return jn(n)?this.listEvents(e,{},n):this._client.getAPIList(`/fine_tuning/jobs/${e}/events`,Mw,{query:n,...r})}}class jw extends Rr{}class Mw extends Rr{}(function(t){t.FineTuningJobsPage=jw,t.FineTuningJobEventsPage=Mw,t.Checkpoints=Dh,t.FineTuningJobCheckpointsPage=Nw})(Fh||(Fh={}));class Bh extends Be{constructor(){super(...arguments),this.jobs=new Fh(this._client)}}(function(t){t.Jobs=Fh,t.FineTuningJobsPage=jw,t.FineTuningJobEventsPage=Mw})(Bh||(Bh={}));class Vh extends Be{createVariation(e,n){return this._client.post("/images/variations",Xu({body:e,...n}))}edit(e,n){return this._client.post("/images/edits",Xu({body:e,...n}))}generate(e,n){return this._client.post("/images/generations",{body:e,...n})}}Vh||(Vh={});class Uh extends Be{retrieve(e,n){return this._client.get(`/models/${e}`,n)}list(e){return this._client.getAPIList("/models",Lw,e)}del(e,n){return this._client.delete(`/models/${e}`,n)}}class Lw extends Tw{}(function(t){t.ModelsPage=Lw})(Uh||(Uh={}));class Hh extends Be{create(e,n){return this._client.post("/moderations",{body:e,...n})}}Hh||(Hh={});var dO;let ht=class extends c7{constructor({baseURL:e=Ad("OPENAI_BASE_URL"),apiKey:n=Ad("OPENAI_API_KEY"),organization:r=Ad("OPENAI_ORG_ID")??null,project:i=Ad("OPENAI_PROJECT_ID")??null,...s}={}){if(n===void 0)throw new me("The OPENAI_API_KEY environment variable is missing or empty; either provide it, or instantiate the OpenAI client with an apiKey option, like new OpenAI({ apiKey: 'My API Key' }).");const a={apiKey:n,organization:r,project:i,...s,baseURL:e||"https://api.openai.com/v1"};if(!a.dangerouslyAllowBrowser&&_7())throw new me(`It looks like you're running in a browser-like environment.

This is disabled by default, as it risks exposing your secret API credentials to attackers.
If you understand the risks and have appropriate mitigations in place,
you can set the \`dangerouslyAllowBrowser\` option to \`true\`, e.g.,

new OpenAI({ apiKey, dangerouslyAllowBrowser: true });

https://help.openai.com/en/articles/5112595-best-practices-for-api-key-safety
`);super({baseURL:a.baseURL,timeout:a.timeout??6e5,httpAgent:a.httpAgent,maxRetries:a.maxRetries,fetch:a.fetch}),this.completions=new Mh(this),this.chat=new vh(this),this.embeddings=new Lh(this),this.files=new zh(this),this.images=new Vh(this),this.audio=new xh(this),this.moderations=new Hh(this),this.models=new Uh(this),this.fineTuning=new Bh(this),this.beta=new jh(this),this.batches=new kh(this),this._options=a,this.apiKey=n,this.organization=r,this.project=i}defaultQuery(){return this._options.defaultQuery}defaultHeaders(e){return{...super.defaultHeaders(e),"OpenAI-Organization":this.organization,"OpenAI-Project":this.project,...this._options.defaultHeaders}}authHeaders(e){return{Authorization:`Bearer ${this.apiKey}`}}};dO=ht;ht.OpenAI=dO;ht.OpenAIError=me;ht.APIError=en;ht.APIConnectionError=Oc;ht.APIConnectionTimeoutError=tm;ht.APIUserAbortError=hn;ht.NotFoundError=_w;ht.ConflictError=xw;ht.RateLimitError=Sw;ht.BadRequestError=vw;ht.AuthenticationError=bw;ht.InternalServerError=Cw;ht.PermissionDeniedError=ww;ht.UnprocessableEntityError=kw;ht.toFile=tO;ht.fileFromPath=KI;const{OpenAIError:sne,APIError:ane,APIConnectionError:one,APIConnectionTimeoutError:C7,APIUserAbortError:T7,NotFoundError:lne,ConflictError:une,RateLimitError:cne,BadRequestError:dne,AuthenticationError:fne,InternalServerError:hne,PermissionDeniedError:pne,UnprocessableEntityError:mne}=JH;(function(t){t.Page=Tw,t.CursorPage=Rr,t.Completions=Mh,t.Chat=vh,t.Embeddings=Lh,t.Files=zh,t.FileObjectsPage=$w,t.Images=Vh,t.Audio=xh,t.Moderations=Hh,t.Models=Uh,t.ModelsPage=Lw,t.FineTuning=Bh,t.Beta=jh,t.Batches=kh,t.BatchesPage=Pw})(ht||(ht={}));function wS(t,e=zw){t=t.trim();const n=/```(json)?(.*)```/s.exec(t);return e(n?n[2]:t)}function zw(t){if(typeof t>"u")return null;try{return JSON.parse(t)}catch{}let e="";const n=[];let r=!1,i=!1;for(let s of t){if(r)s==='"'&&!i?r=!1:s===`
`&&!i?s="\\n":s==="\\"?i=!i:i=!1;else if(s==='"')r=!0,i=!1;else if(s==="{")n.push("}");else if(s==="[")n.push("]");else if(s==="}"||s==="]")if(n&&n[n.length-1]===s)n.pop();else return null;e+=s}r&&(e+='"');for(let s=n.length-1;s>=0;s-=1)e+=n[s];try{return JSON.parse(e)}catch{return null}}var P7=function(t,e){if(typeof t!="string")throw new TypeError("Expected a string");return e=typeof e>"u"?"_":e,t.replace(/([a-z\d])([A-Z])/g,"$1"+e+"$2").replace(/([A-Z]+)([A-Z][a-z\d]+)/g,"$1"+e+"$2").toLowerCase()};const E7=ba(P7);var fO={exports:{}};const A7=/[\p{Lu}]/u,I7=/[\p{Ll}]/u,_S=/^[\p{Lu}](?![\p{Lu}])/gu,hO=/([\p{Alpha}\p{N}_]|$)/u,pO=/[_.\- ]+/,O7=new RegExp("^"+pO.source),xS=new RegExp(pO.source+hO.source,"gu"),kS=new RegExp("\\d+"+hO.source,"gu"),R7=(t,e,n)=>{let r=!1,i=!1,s=!1;for(let a=0;a<t.length;a++){const o=t[a];r&&A7.test(o)?(t=t.slice(0,a)+"-"+t.slice(a),r=!1,s=i,i=!0,a++):i&&s&&I7.test(o)?(t=t.slice(0,a-1)+"-"+t.slice(a-1),s=i,i=!1,r=!0):(r=e(o)===o&&n(o)!==o,s=i,i=n(o)===o&&e(o)!==o)}return t},$7=(t,e)=>(_S.lastIndex=0,t.replace(_S,n=>e(n))),N7=(t,e)=>(xS.lastIndex=0,kS.lastIndex=0,t.replace(xS,(n,r)=>e(r)).replace(kS,n=>e(n))),mO=(t,e)=>{if(!(typeof t=="string"||Array.isArray(t)))throw new TypeError("Expected the input to be `string | string[]`");if(e={pascalCase:!1,preserveConsecutiveUppercase:!1,...e},Array.isArray(t)?t=t.map(s=>s.trim()).filter(s=>s.length).join("-"):t=t.trim(),t.length===0)return"";const n=e.locale===!1?s=>s.toLowerCase():s=>s.toLocaleLowerCase(e.locale),r=e.locale===!1?s=>s.toUpperCase():s=>s.toLocaleUpperCase(e.locale);return t.length===1?e.pascalCase?r(t):n(t):(t!==n(t)&&(t=R7(t,n,r)),t=t.replace(O7,""),e.preserveConsecutiveUppercase?t=$7(t,n):t=n(t),e.pascalCase&&(t=r(t.charAt(0))+t.slice(1)),N7(t,r))};fO.exports=mO;fO.exports.default=mO;function j7(t,e){return(e==null?void 0:e[t])||E7(t)}function M7(t,e,n){const r={};for(const i in t)Object.hasOwn(t,i)&&(r[e(i,n)]=t[i]);return r}function SS(t){return Array.isArray(t)?[...t]:{...t}}function L7(t,e){const n=SS(t);for(const[r,i]of Object.entries(e)){const[s,...a]=r.split(".").reverse();let o=n;for(const l of a.reverse()){if(o[l]===void 0)break;o[l]=SS(o[l]),o=o[l]}o[s]!==void 0&&(o[s]={lc:1,type:"secret",id:[i]})}return n}function gO(t){const e=Object.getPrototypeOf(t);return typeof t.lc_name=="function"&&(typeof e.lc_name!="function"||t.lc_name()!==e.lc_name())?t.lc_name():t.name}class pa{static lc_name(){return this.name}get lc_id(){return[...this.lc_namespace,gO(this.constructor)]}get lc_secrets(){}get lc_attributes(){}get lc_aliases(){}constructor(e,...n){Object.defineProperty(this,"lc_serializable",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"lc_kwargs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.lc_kwargs=e||{}}toJSON(){if(!this.lc_serializable)return this.toJSONNotImplemented();if(this.lc_kwargs instanceof pa||typeof this.lc_kwargs!="object"||Array.isArray(this.lc_kwargs))return this.toJSONNotImplemented();const e={},n={},r=Object.keys(this.lc_kwargs).reduce((i,s)=>(i[s]=s in this?this[s]:this.lc_kwargs[s],i),{});for(let i=Object.getPrototypeOf(this);i;i=Object.getPrototypeOf(i))Object.assign(e,Reflect.get(i,"lc_aliases",this)),Object.assign(n,Reflect.get(i,"lc_secrets",this)),Object.assign(r,Reflect.get(i,"lc_attributes",this));return Object.keys(n).forEach(i=>{let s=this,a=r;const[o,...l]=i.split(".").reverse();for(const u of l.reverse()){if(!(u in s)||s[u]===void 0)return;(!(u in a)||a[u]===void 0)&&(typeof s[u]=="object"&&s[u]!=null?a[u]={}:Array.isArray(s[u])&&(a[u]=[])),s=s[u],a=a[u]}o in s&&s[o]!==void 0&&(a[o]=a[o]||s[o])}),{lc:1,type:"constructor",id:this.lc_id,kwargs:M7(Object.keys(n).length?L7(r,n):r,j7,e)}}toJSONNotImplemented(){return{lc:1,type:"not_implemented",id:this.lc_id}}}function Xo(t,e){return typeof t=="string"?typeof e=="string"?t+e:[{type:"text",text:t},...e]:Array.isArray(e)?[...t,...e]:[...t,{type:"text",text:e}]}class $c extends pa{get lc_aliases(){return{additional_kwargs:"additional_kwargs",response_metadata:"response_metadata"}}get text(){return typeof this.content=="string"?this.content:""}constructor(e,n){typeof e=="string"&&(e={content:e,additional_kwargs:n,response_metadata:{}}),e.additional_kwargs||(e.additional_kwargs={}),e.response_metadata||(e.response_metadata={}),super(e),Object.defineProperty(this,"lc_namespace",{enumerable:!0,configurable:!0,writable:!0,value:["langchain_core","messages"]}),Object.defineProperty(this,"lc_serializable",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"content",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"additional_kwargs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"response_metadata",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.name=e.name,this.content=e.content,this.additional_kwargs=e.additional_kwargs,this.response_metadata=e.response_metadata}toDict(){return{type:this._getType(),data:this.toJSON().kwargs}}}function bn(t,e){const n={...t};for(const[r,i]of Object.entries(e))if(n[r]==null)n[r]=i;else{if(i==null)continue;if(typeof n[r]!=typeof i||Array.isArray(n[r])!==Array.isArray(i))throw new Error(`field[${r}] already exists in the message chunk, but with a different type.`);if(typeof n[r]=="string")n[r]=n[r]+i;else if(!Array.isArray(n[r])&&typeof n[r]=="object")n[r]=bn(n[r],i);else if(Array.isArray(n[r]))n[r]=yO(n[r],i);else{if(n[r]===i)continue;console.warn(`field[${r}] already exists in this message chunk and value has unsupported type.`)}}return n}function yO(t,e){if(!(t===void 0&&e===void 0)){if(t===void 0||e===void 0)return t||e;{const n=[...t];for(const r of e)if(typeof r=="object"&&"index"in r&&typeof r.index=="number"){const i=n.findIndex(s=>s.index===r.index);i!==-1?n[i]=bn(n[i],r):n.push(r)}else n.push(r);return n}}}class Yo extends $c{}function Dw(t){return typeof(t==null?void 0:t._getType)=="function"}function z7(t){return Dw(t)&&typeof t.concat=="function"}class Fw extends Yo{constructor(e){super(e),Object.defineProperty(this,"tool_call_id",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.tool_call_id=e.tool_call_id}static lc_name(){return"ToolMessageChunk"}_getType(){return"tool"}concat(e){return new Fw({content:Xo(this.content,e.content),additional_kwargs:bn(this.additional_kwargs,e.additional_kwargs),response_metadata:bn(this.response_metadata,e.response_metadata),tool_call_id:this.tool_call_id})}}function D7(t){const e=[],n=[];for(const r of t)if(r.function){const i=r.function.name;try{const s=JSON.parse(r.function.arguments),a={name:i||"",args:s||{},id:r.id};e.push(a)}catch{n.push({name:i,args:r.function.arguments,id:r.id,error:"Malformed args."})}}else continue;return[e,n]}class vO extends $c{get lc_aliases(){return{...super.lc_aliases,tool_calls:"tool_calls",invalid_tool_calls:"invalid_tool_calls"}}constructor(e,n){var i;let r;if(typeof e=="string")r={content:e,tool_calls:[],invalid_tool_calls:[],additional_kwargs:n??{}};else{r=e;const s=(i=r.additional_kwargs)==null?void 0:i.tool_calls,a=r.tool_calls;s!=null&&s.length>0&&(a===void 0||a.length===0)&&console.warn(["New LangChain packages are available that more efficiently handle",`tool calling.

Please upgrade your packages to versions that set`,"message tool calls. e.g., `yarn add @langchain/anthropic`,","yarn add @langchain/openai`, etc."].join(" "));try{if(s!=null&&a===void 0){const[o,l]=D7(s);r.tool_calls=o??[],r.invalid_tool_calls=l??[]}else r.tool_calls=r.tool_calls??[],r.invalid_tool_calls=r.invalid_tool_calls??[]}catch{r.tool_calls=[],r.invalid_tool_calls=[]}}super(r),Object.defineProperty(this,"tool_calls",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"invalid_tool_calls",{enumerable:!0,configurable:!0,writable:!0,value:[]}),typeof r!="string"&&(this.tool_calls=r.tool_calls??this.tool_calls,this.invalid_tool_calls=r.invalid_tool_calls??this.invalid_tool_calls)}static lc_name(){return"AIMessage"}_getType(){return"ai"}}function F7(t){return t._getType()==="ai"}class Nc extends Yo{constructor(e){let n;if(typeof e=="string")n={content:e,tool_calls:[],invalid_tool_calls:[],tool_call_chunks:[]};else if(e.tool_call_chunks===void 0)n={...e,tool_calls:[],invalid_tool_calls:[],tool_call_chunks:[]};else{const r=[],i=[];for(const s of e.tool_call_chunks){let a={};try{if(a=zw(s.args??"{}")??{},typeof a!="object"||Array.isArray(a))throw new Error("Malformed tool call chunk args.");r.push({name:s.name??"",args:a,id:s.id})}catch{i.push({name:s.name,args:s.args,id:s.id,error:"Malformed args."})}}n={...e,tool_calls:r,invalid_tool_calls:i}}super(n),Object.defineProperty(this,"tool_calls",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"invalid_tool_calls",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"tool_call_chunks",{enumerable:!0,configurable:!0,writable:!0,value:[]}),this.tool_call_chunks=(n==null?void 0:n.tool_call_chunks)??this.tool_call_chunks,this.tool_calls=(n==null?void 0:n.tool_calls)??this.tool_calls,this.invalid_tool_calls=(n==null?void 0:n.invalid_tool_calls)??this.invalid_tool_calls}get lc_aliases(){return{...super.lc_aliases,tool_calls:"tool_calls",invalid_tool_calls:"invalid_tool_calls",tool_call_chunks:"tool_call_chunks"}}static lc_name(){return"AIMessageChunk"}_getType(){return"ai"}concat(e){const n={content:Xo(this.content,e.content),additional_kwargs:bn(this.additional_kwargs,e.additional_kwargs),response_metadata:bn(this.response_metadata,e.response_metadata),tool_call_chunks:[]};if(this.tool_call_chunks!==void 0||e.tool_call_chunks!==void 0){const r=yO(this.tool_call_chunks,e.tool_call_chunks);r!==void 0&&r.length>0&&(n.tool_call_chunks=r)}return new Nc(n)}}class jc extends $c{static lc_name(){return"ChatMessage"}static _chatMessageClass(){return jc}constructor(e,n){typeof e=="string"&&(e={content:e,role:n}),super(e),Object.defineProperty(this,"role",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.role=e.role}_getType(){return"generic"}static isInstance(e){return e._getType()==="generic"}}class im extends Yo{static lc_name(){return"ChatMessageChunk"}constructor(e,n){typeof e=="string"&&(e={content:e,role:n}),super(e),Object.defineProperty(this,"role",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.role=e.role}_getType(){return"generic"}concat(e){return new im({content:Xo(this.content,e.content),additional_kwargs:bn(this.additional_kwargs,e.additional_kwargs),response_metadata:bn(this.response_metadata,e.response_metadata),role:this.role})}}class sm extends Yo{static lc_name(){return"FunctionMessageChunk"}_getType(){return"function"}concat(e){return new sm({content:Xo(this.content,e.content),additional_kwargs:bn(this.additional_kwargs,e.additional_kwargs),response_metadata:bn(this.response_metadata,e.response_metadata),name:this.name??""})}}class Wh extends $c{static lc_name(){return"HumanMessage"}_getType(){return"human"}}class am extends Yo{static lc_name(){return"HumanMessageChunk"}_getType(){return"human"}concat(e){return new am({content:Xo(this.content,e.content),additional_kwargs:bn(this.additional_kwargs,e.additional_kwargs),response_metadata:bn(this.response_metadata,e.response_metadata)})}}class B7 extends $c{static lc_name(){return"SystemMessage"}_getType(){return"system"}}class om extends Yo{static lc_name(){return"SystemMessageChunk"}_getType(){return"system"}concat(e){return new om({content:Xo(this.content,e.content),additional_kwargs:bn(this.additional_kwargs,e.additional_kwargs),response_metadata:bn(this.response_metadata,e.response_metadata)})}}function Ul(t){if(typeof t=="string")return new Wh(t);if(Dw(t))return t;const[e,n]=t;if(e==="human"||e==="user")return new Wh({content:n});if(e==="ai"||e==="assistant")return new vO({content:n});if(e==="system")return new B7({content:n});throw new Error("Unable to coerce message from array: only human, AI, or system message coercion is currently supported.")}function bO(t,e="Human",n="AI"){const r=[];for(const i of t){let s;if(i._getType()==="human")s=e;else if(i._getType()==="ai")s=n;else if(i._getType()==="system")s="System";else if(i._getType()==="function")s="Function";else if(i._getType()==="tool")s="Tool";else if(i._getType()==="generic")s=i.role;else throw new Error(`Got unsupported message type: ${i._getType()}`);const a=i.name?`${i.name}, `:"";r.push(`${s}: ${a}${i.content}`)}return r.join(`
`)}function V7(t){const e=t._getType();if(e==="human")return new am({...t});if(e==="ai")return new Nc({...t});if(e==="system")return new om({...t});if(e==="function")return new sm({...t});if(jc.isInstance(t))return new im({...t});throw new Error("Unknown message type.")}const CS="__run";class lm{constructor(e){Object.defineProperty(this,"text",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"generationInfo",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.text=e.text,this.generationInfo=e.generationInfo}concat(e){return new lm({text:this.text+e.text,generationInfo:{...this.generationInfo,...e.generationInfo}})}}class ec extends lm{constructor(e){super(e),Object.defineProperty(this,"message",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.message=e.message}concat(e){return new ec({text:this.text+e.text,generationInfo:{...this.generationInfo,...e.generationInfo},message:this.message.concat(e.message)})}}var Hg={};const U7=()=>typeof window<"u"&&typeof window.document<"u",H7=()=>typeof globalThis=="object"&&globalThis.constructor&&globalThis.constructor.name==="DedicatedWorkerGlobalScope",W7=()=>typeof window<"u"&&window.name==="nodejs"||typeof navigator<"u"&&(navigator.userAgent.includes("Node.js")||navigator.userAgent.includes("jsdom")),wO=()=>typeof Deno<"u",q7=()=>typeof process<"u"&&typeof process.versions<"u"&&typeof process.versions.node<"u"&&!wO(),Z7=()=>{let t;return U7()?t="browser":q7()?t="node":H7()?t="webworker":W7()?t="jsdom":wO()?t="deno":t="other",t};let Wg;async function G7(){return Wg===void 0&&(Wg={library:"langchain-js",runtime:Z7()}),Wg}function Pn(t){try{return typeof process<"u"?Hg==null?void 0:Hg[t]:void 0}catch{return}}/*
 * [js-sha1]{@link https://github.com/emn178/js-sha1}
 *
 * @version 0.6.0
 * @author Chen, Yi-Cyuan [emn178@gmail.com]
 * @copyright Chen, Yi-Cyuan 2014-2017
 * @license MIT
 */var K7=typeof window=="object"?window:{},oe="0123456789abcdef".split(""),J7=[-2147483648,8388608,32768,128],hr=[24,16,8,0],_t=[];function Ir(t){t?(_t[0]=_t[16]=_t[1]=_t[2]=_t[3]=_t[4]=_t[5]=_t[6]=_t[7]=_t[8]=_t[9]=_t[10]=_t[11]=_t[12]=_t[13]=_t[14]=_t[15]=0,this.blocks=_t):this.blocks=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],this.h0=1732584193,this.h1=4023233417,this.h2=2562383102,this.h3=271733878,this.h4=3285377520,this.block=this.start=this.bytes=this.hBytes=0,this.finalized=this.hashed=!1,this.first=!0}Ir.prototype.update=function(t){if(!this.finalized){var e=typeof t!="string";e&&t.constructor===K7.ArrayBuffer&&(t=new Uint8Array(t));for(var n,r=0,i,s=t.length||0,a=this.blocks;r<s;){if(this.hashed&&(this.hashed=!1,a[0]=this.block,a[16]=a[1]=a[2]=a[3]=a[4]=a[5]=a[6]=a[7]=a[8]=a[9]=a[10]=a[11]=a[12]=a[13]=a[14]=a[15]=0),e)for(i=this.start;r<s&&i<64;++r)a[i>>2]|=t[r]<<hr[i++&3];else for(i=this.start;r<s&&i<64;++r)n=t.charCodeAt(r),n<128?a[i>>2]|=n<<hr[i++&3]:n<2048?(a[i>>2]|=(192|n>>6)<<hr[i++&3],a[i>>2]|=(128|n&63)<<hr[i++&3]):n<55296||n>=57344?(a[i>>2]|=(224|n>>12)<<hr[i++&3],a[i>>2]|=(128|n>>6&63)<<hr[i++&3],a[i>>2]|=(128|n&63)<<hr[i++&3]):(n=65536+((n&1023)<<10|t.charCodeAt(++r)&1023),a[i>>2]|=(240|n>>18)<<hr[i++&3],a[i>>2]|=(128|n>>12&63)<<hr[i++&3],a[i>>2]|=(128|n>>6&63)<<hr[i++&3],a[i>>2]|=(128|n&63)<<hr[i++&3]);this.lastByteIndex=i,this.bytes+=i-this.start,i>=64?(this.block=a[16],this.start=i-64,this.hash(),this.hashed=!0):this.start=i}return this.bytes>4294967295&&(this.hBytes+=this.bytes/4294967296<<0,this.bytes=this.bytes%4294967296),this}};Ir.prototype.finalize=function(){if(!this.finalized){this.finalized=!0;var t=this.blocks,e=this.lastByteIndex;t[16]=this.block,t[e>>2]|=J7[e&3],this.block=t[16],e>=56&&(this.hashed||this.hash(),t[0]=this.block,t[16]=t[1]=t[2]=t[3]=t[4]=t[5]=t[6]=t[7]=t[8]=t[9]=t[10]=t[11]=t[12]=t[13]=t[14]=t[15]=0),t[14]=this.hBytes<<3|this.bytes>>>29,t[15]=this.bytes<<3,this.hash()}};Ir.prototype.hash=function(){var t=this.h0,e=this.h1,n=this.h2,r=this.h3,i=this.h4,s,a,o,l=this.blocks;for(a=16;a<80;++a)o=l[a-3]^l[a-8]^l[a-14]^l[a-16],l[a]=o<<1|o>>>31;for(a=0;a<20;a+=5)s=e&n|~e&r,o=t<<5|t>>>27,i=o+s+i+1518500249+l[a]<<0,e=e<<30|e>>>2,s=t&e|~t&n,o=i<<5|i>>>27,r=o+s+r+1518500249+l[a+1]<<0,t=t<<30|t>>>2,s=i&t|~i&e,o=r<<5|r>>>27,n=o+s+n+1518500249+l[a+2]<<0,i=i<<30|i>>>2,s=r&i|~r&t,o=n<<5|n>>>27,e=o+s+e+1518500249+l[a+3]<<0,r=r<<30|r>>>2,s=n&r|~n&i,o=e<<5|e>>>27,t=o+s+t+1518500249+l[a+4]<<0,n=n<<30|n>>>2;for(;a<40;a+=5)s=e^n^r,o=t<<5|t>>>27,i=o+s+i+1859775393+l[a]<<0,e=e<<30|e>>>2,s=t^e^n,o=i<<5|i>>>27,r=o+s+r+1859775393+l[a+1]<<0,t=t<<30|t>>>2,s=i^t^e,o=r<<5|r>>>27,n=o+s+n+1859775393+l[a+2]<<0,i=i<<30|i>>>2,s=r^i^t,o=n<<5|n>>>27,e=o+s+e+1859775393+l[a+3]<<0,r=r<<30|r>>>2,s=n^r^i,o=e<<5|e>>>27,t=o+s+t+1859775393+l[a+4]<<0,n=n<<30|n>>>2;for(;a<60;a+=5)s=e&n|e&r|n&r,o=t<<5|t>>>27,i=o+s+i-1894007588+l[a]<<0,e=e<<30|e>>>2,s=t&e|t&n|e&n,o=i<<5|i>>>27,r=o+s+r-1894007588+l[a+1]<<0,t=t<<30|t>>>2,s=i&t|i&e|t&e,o=r<<5|r>>>27,n=o+s+n-1894007588+l[a+2]<<0,i=i<<30|i>>>2,s=r&i|r&t|i&t,o=n<<5|n>>>27,e=o+s+e-1894007588+l[a+3]<<0,r=r<<30|r>>>2,s=n&r|n&i|r&i,o=e<<5|e>>>27,t=o+s+t-1894007588+l[a+4]<<0,n=n<<30|n>>>2;for(;a<80;a+=5)s=e^n^r,o=t<<5|t>>>27,i=o+s+i-899497514+l[a]<<0,e=e<<30|e>>>2,s=t^e^n,o=i<<5|i>>>27,r=o+s+r-899497514+l[a+1]<<0,t=t<<30|t>>>2,s=i^t^e,o=r<<5|r>>>27,n=o+s+n-899497514+l[a+2]<<0,i=i<<30|i>>>2,s=r^i^t,o=n<<5|n>>>27,e=o+s+e-899497514+l[a+3]<<0,r=r<<30|r>>>2,s=n^r^i,o=e<<5|e>>>27,t=o+s+t-899497514+l[a+4]<<0,n=n<<30|n>>>2;this.h0=this.h0+t<<0,this.h1=this.h1+e<<0,this.h2=this.h2+n<<0,this.h3=this.h3+r<<0,this.h4=this.h4+i<<0};Ir.prototype.hex=function(){this.finalize();var t=this.h0,e=this.h1,n=this.h2,r=this.h3,i=this.h4;return oe[t>>28&15]+oe[t>>24&15]+oe[t>>20&15]+oe[t>>16&15]+oe[t>>12&15]+oe[t>>8&15]+oe[t>>4&15]+oe[t&15]+oe[e>>28&15]+oe[e>>24&15]+oe[e>>20&15]+oe[e>>16&15]+oe[e>>12&15]+oe[e>>8&15]+oe[e>>4&15]+oe[e&15]+oe[n>>28&15]+oe[n>>24&15]+oe[n>>20&15]+oe[n>>16&15]+oe[n>>12&15]+oe[n>>8&15]+oe[n>>4&15]+oe[n&15]+oe[r>>28&15]+oe[r>>24&15]+oe[r>>20&15]+oe[r>>16&15]+oe[r>>12&15]+oe[r>>8&15]+oe[r>>4&15]+oe[r&15]+oe[i>>28&15]+oe[i>>24&15]+oe[i>>20&15]+oe[i>>16&15]+oe[i>>12&15]+oe[i>>8&15]+oe[i>>4&15]+oe[i&15]};Ir.prototype.toString=Ir.prototype.hex;Ir.prototype.digest=function(){this.finalize();var t=this.h0,e=this.h1,n=this.h2,r=this.h3,i=this.h4;return[t>>24&255,t>>16&255,t>>8&255,t&255,e>>24&255,e>>16&255,e>>8&255,e&255,n>>24&255,n>>16&255,n>>8&255,n&255,r>>24&255,r>>16&255,r>>8&255,r&255,i>>24&255,i>>16&255,i>>8&255,i&255]};Ir.prototype.array=Ir.prototype.digest;Ir.prototype.arrayBuffer=function(){this.finalize();var t=new ArrayBuffer(20),e=new DataView(t);return e.setUint32(0,this.h0),e.setUint32(4,this.h1),e.setUint32(8,this.h2),e.setUint32(12,this.h3),e.setUint32(16,this.h4),t};const X7=t=>new Ir(!0).update(t).hex(),TS=(...t)=>X7(t.join("_"));class Y7{}const Q7=new Map;class Bw extends Y7{constructor(e){super(),Object.defineProperty(this,"cache",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.cache=e??new Map}lookup(e,n){return Promise.resolve(this.cache.get(TS(e,n))??null)}async update(e,n,r){this.cache.set(TS(e,n),r)}static global(){return new Bw(Q7)}}class _O extends pa{}class eW extends _O{static lc_name(){return"StringPromptValue"}constructor(e){super({value:e}),Object.defineProperty(this,"lc_namespace",{enumerable:!0,configurable:!0,writable:!0,value:["langchain_core","prompt_values"]}),Object.defineProperty(this,"lc_serializable",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.value=e}toString(){return this.value}toChatMessages(){return[new Wh(this.value)]}}class tW extends _O{static lc_name(){return"ChatPromptValue"}constructor(e){Array.isArray(e)&&(e={messages:e}),super(e),Object.defineProperty(this,"lc_namespace",{enumerable:!0,configurable:!0,writable:!0,value:["langchain_core","prompt_values"]}),Object.defineProperty(this,"lc_serializable",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"messages",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.messages=e.messages}toString(){return bO(this.messages)}toChatMessages(){return this.messages}}var um={exports:{}},xO={};function tr(t,e){typeof e=="boolean"&&(e={forever:e}),this._originalTimeouts=JSON.parse(JSON.stringify(t)),this._timeouts=t,this._options=e||{},this._maxRetryTime=e&&e.maxRetryTime||1/0,this._fn=null,this._errors=[],this._attempts=1,this._operationTimeout=null,this._operationTimeoutCb=null,this._timeout=null,this._operationStart=null,this._timer=null,this._options.forever&&(this._cachedTimeouts=this._timeouts.slice(0))}var nW=tr;tr.prototype.reset=function(){this._attempts=1,this._timeouts=this._originalTimeouts.slice(0)};tr.prototype.stop=function(){this._timeout&&clearTimeout(this._timeout),this._timer&&clearTimeout(this._timer),this._timeouts=[],this._cachedTimeouts=null};tr.prototype.retry=function(t){if(this._timeout&&clearTimeout(this._timeout),!t)return!1;var e=new Date().getTime();if(t&&e-this._operationStart>=this._maxRetryTime)return this._errors.push(t),this._errors.unshift(new Error("RetryOperation timeout occurred")),!1;this._errors.push(t);var n=this._timeouts.shift();if(n===void 0)if(this._cachedTimeouts)this._errors.splice(0,this._errors.length-1),n=this._cachedTimeouts.slice(-1);else return!1;var r=this;return this._timer=setTimeout(function(){r._attempts++,r._operationTimeoutCb&&(r._timeout=setTimeout(function(){r._operationTimeoutCb(r._attempts)},r._operationTimeout),r._options.unref&&r._timeout.unref()),r._fn(r._attempts)},n),this._options.unref&&this._timer.unref(),!0};tr.prototype.attempt=function(t,e){this._fn=t,e&&(e.timeout&&(this._operationTimeout=e.timeout),e.cb&&(this._operationTimeoutCb=e.cb));var n=this;this._operationTimeoutCb&&(this._timeout=setTimeout(function(){n._operationTimeoutCb()},n._operationTimeout)),this._operationStart=new Date().getTime(),this._fn(this._attempts)};tr.prototype.try=function(t){console.log("Using RetryOperation.try() is deprecated"),this.attempt(t)};tr.prototype.start=function(t){console.log("Using RetryOperation.start() is deprecated"),this.attempt(t)};tr.prototype.start=tr.prototype.try;tr.prototype.errors=function(){return this._errors};tr.prototype.attempts=function(){return this._attempts};tr.prototype.mainError=function(){if(this._errors.length===0)return null;for(var t={},e=null,n=0,r=0;r<this._errors.length;r++){var i=this._errors[r],s=i.message,a=(t[s]||0)+1;t[s]=a,a>=n&&(e=i,n=a)}return e};(function(t){var e=nW;t.operation=function(n){var r=t.timeouts(n);return new e(r,{forever:n&&(n.forever||n.retries===1/0),unref:n&&n.unref,maxRetryTime:n&&n.maxRetryTime})},t.timeouts=function(n){if(n instanceof Array)return[].concat(n);var r={retries:10,factor:2,minTimeout:1*1e3,maxTimeout:1/0,randomize:!1};for(var i in n)r[i]=n[i];if(r.minTimeout>r.maxTimeout)throw new Error("minTimeout is greater than maxTimeout");for(var s=[],a=0;a<r.retries;a++)s.push(this.createTimeout(a,r));return n&&n.forever&&!s.length&&s.push(this.createTimeout(a,r)),s.sort(function(o,l){return o-l}),s},t.createTimeout=function(n,r){var i=r.randomize?Math.random()+1:1,s=Math.round(i*Math.max(r.minTimeout,1)*Math.pow(r.factor,n));return s=Math.min(s,r.maxTimeout),s},t.wrap=function(n,r,i){if(r instanceof Array&&(i=r,r=null),!i){i=[];for(var s in n)typeof n[s]=="function"&&i.push(s)}for(var a=0;a<i.length;a++){var o=i[a],l=n[o];n[o]=(function(c){var d=t.operation(r),f=Array.prototype.slice.call(arguments,1),h=f.pop();f.push(function(p){d.retry(p)||(p&&(arguments[0]=d.mainError()),h.apply(this,arguments))}),d.attempt(function(){c.apply(n,f)})}).bind(n,l),n[o].options=r}}})(xO);var rW=xO;const iW=rW,sW=["Failed to fetch","NetworkError when attempting to fetch resource.","The Internet connection appears to be offline.","Network request failed"];class kO extends Error{constructor(e){super(),e instanceof Error?(this.originalError=e,{message:e}=e):(this.originalError=new Error(e),this.originalError.stack=this.stack),this.name="AbortError",this.message=e}}const aW=(t,e,n)=>{const r=n.retries-(e-1);return t.attemptNumber=e,t.retriesLeft=r,t},oW=t=>sW.includes(t),SO=(t,e)=>new Promise((n,r)=>{e={onFailedAttempt:()=>{},retries:10,...e};const i=iW.operation(e);i.attempt(async s=>{try{n(await t(s))}catch(a){if(!(a instanceof Error)){r(new TypeError(`Non-error was thrown: "${a}". You should only throw errors.`));return}if(a instanceof kO)i.stop(),r(a.originalError);else if(a instanceof TypeError&&!oW(a.message))i.stop(),r(a);else{aW(a,s,e);try{await e.onFailedAttempt(a)}catch(o){r(o);return}i.retry(a)||r(i.mainError())}}})});um.exports=SO;um.exports.default=SO;um.exports.AbortError=kO;var lW=um.exports;const qh=ba(lW);var CO={},TO={exports:{}};(function(t){var e=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function i(l,u,c){this.fn=l,this.context=u,this.once=c||!1}function s(l,u,c,d,f){if(typeof c!="function")throw new TypeError("The listener must be a function");var h=new i(c,d||l,f),p=n?n+u:u;return l._events[p]?l._events[p].fn?l._events[p]=[l._events[p],h]:l._events[p].push(h):(l._events[p]=h,l._eventsCount++),l}function a(l,u){--l._eventsCount===0?l._events=new r:delete l._events[u]}function o(){this._events=new r,this._eventsCount=0}o.prototype.eventNames=function(){var u=[],c,d;if(this._eventsCount===0)return u;for(d in c=this._events)e.call(c,d)&&u.push(n?d.slice(1):d);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(c)):u},o.prototype.listeners=function(u){var c=n?n+u:u,d=this._events[c];if(!d)return[];if(d.fn)return[d.fn];for(var f=0,h=d.length,p=new Array(h);f<h;f++)p[f]=d[f].fn;return p},o.prototype.listenerCount=function(u){var c=n?n+u:u,d=this._events[c];return d?d.fn?1:d.length:0},o.prototype.emit=function(u,c,d,f,h,p){var y=n?n+u:u;if(!this._events[y])return!1;var b=this._events[y],m=arguments.length,g,v;if(b.fn){switch(b.once&&this.removeListener(u,b.fn,void 0,!0),m){case 1:return b.fn.call(b.context),!0;case 2:return b.fn.call(b.context,c),!0;case 3:return b.fn.call(b.context,c,d),!0;case 4:return b.fn.call(b.context,c,d,f),!0;case 5:return b.fn.call(b.context,c,d,f,h),!0;case 6:return b.fn.call(b.context,c,d,f,h,p),!0}for(v=1,g=new Array(m-1);v<m;v++)g[v-1]=arguments[v];b.fn.apply(b.context,g)}else{var x=b.length,C;for(v=0;v<x;v++)switch(b[v].once&&this.removeListener(u,b[v].fn,void 0,!0),m){case 1:b[v].fn.call(b[v].context);break;case 2:b[v].fn.call(b[v].context,c);break;case 3:b[v].fn.call(b[v].context,c,d);break;case 4:b[v].fn.call(b[v].context,c,d,f);break;default:if(!g)for(C=1,g=new Array(m-1);C<m;C++)g[C-1]=arguments[C];b[v].fn.apply(b[v].context,g)}}return!0},o.prototype.on=function(u,c,d){return s(this,u,c,d,!1)},o.prototype.once=function(u,c,d){return s(this,u,c,d,!0)},o.prototype.removeListener=function(u,c,d,f){var h=n?n+u:u;if(!this._events[h])return this;if(!c)return a(this,h),this;var p=this._events[h];if(p.fn)p.fn===c&&(!f||p.once)&&(!d||p.context===d)&&a(this,h);else{for(var y=0,b=[],m=p.length;y<m;y++)(p[y].fn!==c||f&&!p[y].once||d&&p[y].context!==d)&&b.push(p[y]);b.length?this._events[h]=b.length===1?b[0]:b:a(this,h)}return this},o.prototype.removeAllListeners=function(u){var c;return u?(c=n?n+u:u,this._events[c]&&a(this,c)):(this._events=new r,this._eventsCount=0),this},o.prototype.off=o.prototype.removeListener,o.prototype.addListener=o.prototype.on,o.prefixed=n,o.EventEmitter=o,t.exports=o})(TO);var uW=TO.exports,cm={exports:{}},cW=(t,e)=>(e=e||(()=>{}),t.then(n=>new Promise(r=>{r(e())}).then(()=>n),n=>new Promise(r=>{r(e())}).then(()=>{throw n})));const dW=cW;class PO extends Error{constructor(e){super(e),this.name="TimeoutError"}}const EO=(t,e,n)=>new Promise((r,i)=>{if(typeof e!="number"||e<0)throw new TypeError("Expected `milliseconds` to be a positive number");if(e===1/0){r(t);return}const s=setTimeout(()=>{if(typeof n=="function"){try{r(n())}catch(l){i(l)}return}const a=typeof n=="string"?n:`Promise timed out after ${e} milliseconds`,o=n instanceof Error?n:new PO(a);typeof t.cancel=="function"&&t.cancel(),i(o)},e);dW(t.then(r,i),()=>{clearTimeout(s)})});cm.exports=EO;cm.exports.default=EO;cm.exports.TimeoutError=PO;var fW=cm.exports,Vw={},Uw={};Object.defineProperty(Uw,"__esModule",{value:!0});function hW(t,e,n){let r=0,i=t.length;for(;i>0;){const s=i/2|0;let a=r+s;n(t[a],e)<=0?(r=++a,i-=s+1):i=s}return r}Uw.default=hW;Object.defineProperty(Vw,"__esModule",{value:!0});const pW=Uw;class mW{constructor(){this._queue=[]}enqueue(e,n){n=Object.assign({priority:0},n);const r={priority:n.priority,run:e};if(this.size&&this._queue[this.size-1].priority>=n.priority){this._queue.push(r);return}const i=pW.default(this._queue,r,(s,a)=>a.priority-s.priority);this._queue.splice(i,0,r)}dequeue(){const e=this._queue.shift();return e==null?void 0:e.run}filter(e){return this._queue.filter(n=>n.priority===e.priority).map(n=>n.run)}get size(){return this._queue.length}}Vw.default=mW;Object.defineProperty(CO,"__esModule",{value:!0});const gW=uW,AO=fW,yW=Vw,Rd=()=>{},vW=new AO.TimeoutError;class bW extends gW{constructor(e){var n,r,i,s;if(super(),this._intervalCount=0,this._intervalEnd=0,this._pendingCount=0,this._resolveEmpty=Rd,this._resolveIdle=Rd,e=Object.assign({carryoverConcurrencyCount:!1,intervalCap:1/0,interval:0,concurrency:1/0,autoStart:!0,queueClass:yW.default},e),!(typeof e.intervalCap=="number"&&e.intervalCap>=1))throw new TypeError(`Expected \`intervalCap\` to be a number from 1 and up, got \`${(r=(n=e.intervalCap)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:""}\` (${typeof e.intervalCap})`);if(e.interval===void 0||!(Number.isFinite(e.interval)&&e.interval>=0))throw new TypeError(`Expected \`interval\` to be a finite number >= 0, got \`${(s=(i=e.interval)===null||i===void 0?void 0:i.toString())!==null&&s!==void 0?s:""}\` (${typeof e.interval})`);this._carryoverConcurrencyCount=e.carryoverConcurrencyCount,this._isIntervalIgnored=e.intervalCap===1/0||e.interval===0,this._intervalCap=e.intervalCap,this._interval=e.interval,this._queue=new e.queueClass,this._queueClass=e.queueClass,this.concurrency=e.concurrency,this._timeout=e.timeout,this._throwOnTimeout=e.throwOnTimeout===!0,this._isPaused=e.autoStart===!1}get _doesIntervalAllowAnother(){return this._isIntervalIgnored||this._intervalCount<this._intervalCap}get _doesConcurrentAllowAnother(){return this._pendingCount<this._concurrency}_next(){this._pendingCount--,this._tryToStartAnother(),this.emit("next")}_resolvePromises(){this._resolveEmpty(),this._resolveEmpty=Rd,this._pendingCount===0&&(this._resolveIdle(),this._resolveIdle=Rd,this.emit("idle"))}_onResumeInterval(){this._onInterval(),this._initializeIntervalIfNeeded(),this._timeoutId=void 0}_isIntervalPaused(){const e=Date.now();if(this._intervalId===void 0){const n=this._intervalEnd-e;if(n<0)this._intervalCount=this._carryoverConcurrencyCount?this._pendingCount:0;else return this._timeoutId===void 0&&(this._timeoutId=setTimeout(()=>{this._onResumeInterval()},n)),!0}return!1}_tryToStartAnother(){if(this._queue.size===0)return this._intervalId&&clearInterval(this._intervalId),this._intervalId=void 0,this._resolvePromises(),!1;if(!this._isPaused){const e=!this._isIntervalPaused();if(this._doesIntervalAllowAnother&&this._doesConcurrentAllowAnother){const n=this._queue.dequeue();return n?(this.emit("active"),n(),e&&this._initializeIntervalIfNeeded(),!0):!1}}return!1}_initializeIntervalIfNeeded(){this._isIntervalIgnored||this._intervalId!==void 0||(this._intervalId=setInterval(()=>{this._onInterval()},this._interval),this._intervalEnd=Date.now()+this._interval)}_onInterval(){this._intervalCount===0&&this._pendingCount===0&&this._intervalId&&(clearInterval(this._intervalId),this._intervalId=void 0),this._intervalCount=this._carryoverConcurrencyCount?this._pendingCount:0,this._processQueue()}_processQueue(){for(;this._tryToStartAnother(););}get concurrency(){return this._concurrency}set concurrency(e){if(!(typeof e=="number"&&e>=1))throw new TypeError(`Expected \`concurrency\` to be a number from 1 and up, got \`${e}\` (${typeof e})`);this._concurrency=e,this._processQueue()}async add(e,n={}){return new Promise((r,i)=>{const s=async()=>{this._pendingCount++,this._intervalCount++;try{const a=this._timeout===void 0&&n.timeout===void 0?e():AO.default(Promise.resolve(e()),n.timeout===void 0?this._timeout:n.timeout,()=>{(n.throwOnTimeout===void 0?this._throwOnTimeout:n.throwOnTimeout)&&i(vW)});r(await a)}catch(a){i(a)}this._next()};this._queue.enqueue(s,n),this._tryToStartAnother(),this.emit("add")})}async addAll(e,n){return Promise.all(e.map(async r=>this.add(r,n)))}start(){return this._isPaused?(this._isPaused=!1,this._processQueue(),this):this}pause(){this._isPaused=!0}clear(){this._queue=new this._queueClass}async onEmpty(){if(this._queue.size!==0)return new Promise(e=>{const n=this._resolveEmpty;this._resolveEmpty=()=>{n(),e()}})}async onIdle(){if(!(this._pendingCount===0&&this._queue.size===0))return new Promise(e=>{const n=this._resolveIdle;this._resolveIdle=()=>{n(),e()}})}get size(){return this._queue.size}sizeBy(e){return this._queue.filter(e).length}get pending(){return this._pendingCount}get isPaused(){return this._isPaused}get timeout(){return this._timeout}set timeout(e){this._timeout=e}}var Ti=CO.default=bW;const wW=[400,401,402,403,404,405,406,407,409],_W=t=>{var n,r;if(t.message.startsWith("Cancel")||t.message.startsWith("AbortError")||t.name==="AbortError"||(t==null?void 0:t.code)==="ECONNABORTED")throw t;const e=((n=t==null?void 0:t.response)==null?void 0:n.status)??(t==null?void 0:t.status);if(e&&wW.includes(+e))throw t;if(((r=t==null?void 0:t.error)==null?void 0:r.code)==="insufficient_quota"){const i=new Error(t==null?void 0:t.message);throw i.name="InsufficientQuotaError",i}};let Hw=class{constructor(e){Object.defineProperty(this,"maxConcurrency",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"maxRetries",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"onFailedAttempt",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"queue",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.maxConcurrency=e.maxConcurrency??1/0,this.maxRetries=e.maxRetries??6,this.onFailedAttempt=e.onFailedAttempt??_W;const n="default"in Ti?Ti.default:Ti;this.queue=new n({concurrency:this.maxConcurrency})}call(e,...n){return this.queue.add(()=>qh(()=>e(...n).catch(r=>{throw r instanceof Error?r:new Error(r)}),{onFailedAttempt:this.onFailedAttempt,retries:this.maxRetries,randomize:!0}),{throwOnTimeout:!0})}callWithOptions(e,n,...r){return e.signal?Promise.race([this.call(n,...r),new Promise((i,s)=>{var a;(a=e.signal)==null||a.addEventListener("abort",()=>{s(new Error("AbortError"))})})]):this.call(n,...r)}fetch(...e){return this.call(()=>fetch(...e).then(n=>n.ok?n:Promise.reject(n)))}};var dm={};dm.byteLength=SW;dm.toByteArray=TW;dm.fromByteArray=AW;var Zr=[],Wn=[],xW=typeof Uint8Array<"u"?Uint8Array:Array,qg="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(var Oa=0,kW=qg.length;Oa<kW;++Oa)Zr[Oa]=qg[Oa],Wn[qg.charCodeAt(Oa)]=Oa;Wn[45]=62;Wn[95]=63;function IO(t){var e=t.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=t.indexOf("=");n===-1&&(n=e);var r=n===e?0:4-n%4;return[n,r]}function SW(t){var e=IO(t),n=e[0],r=e[1];return(n+r)*3/4-r}function CW(t,e,n){return(e+n)*3/4-n}function TW(t){var e,n=IO(t),r=n[0],i=n[1],s=new xW(CW(t,r,i)),a=0,o=i>0?r-4:r,l;for(l=0;l<o;l+=4)e=Wn[t.charCodeAt(l)]<<18|Wn[t.charCodeAt(l+1)]<<12|Wn[t.charCodeAt(l+2)]<<6|Wn[t.charCodeAt(l+3)],s[a++]=e>>16&255,s[a++]=e>>8&255,s[a++]=e&255;return i===2&&(e=Wn[t.charCodeAt(l)]<<2|Wn[t.charCodeAt(l+1)]>>4,s[a++]=e&255),i===1&&(e=Wn[t.charCodeAt(l)]<<10|Wn[t.charCodeAt(l+1)]<<4|Wn[t.charCodeAt(l+2)]>>2,s[a++]=e>>8&255,s[a++]=e&255),s}function PW(t){return Zr[t>>18&63]+Zr[t>>12&63]+Zr[t>>6&63]+Zr[t&63]}function EW(t,e,n){for(var r,i=[],s=e;s<n;s+=3)r=(t[s]<<16&16711680)+(t[s+1]<<8&65280)+(t[s+2]&255),i.push(PW(r));return i.join("")}function AW(t){for(var e,n=t.length,r=n%3,i=[],s=16383,a=0,o=n-r;a<o;a+=s)i.push(EW(t,a,a+s>o?o:a+s));return r===1?(e=t[n-1],i.push(Zr[e>>2]+Zr[e<<4&63]+"==")):r===2&&(e=(t[n-2]<<8)+t[n-1],i.push(Zr[e>>10]+Zr[e>>4&63]+Zr[e<<2&63]+"=")),i.join("")}var IW=Object.defineProperty,OW=(t,e,n)=>e in t?IW(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,RW=(t,e,n)=>(OW(t,e+"",n),n);function $W(t,e){let n=Array.from({length:t.length},(r,i)=>({start:i,end:i+1}));for(;n.length>1;){let r=null;for(let i=0;i<n.length-1;i++){const s=t.slice(n[i].start,n[i+1].end),a=e.get(s.join(","));a!=null&&(r==null||a<r[0])&&(r=[a,i])}if(r!=null){const i=r[1];n[i]={start:n[i].start,end:n[i+1].end},n.splice(i+1,1)}else break}return n}function NW(t,e){return t.length===1?[e.get(t.join(","))]:$W(t,e).map(n=>e.get(t.slice(n.start,n.end).join(","))).filter(n=>n!=null)}function jW(t){return t.replace(/[\\^$*+?.()|[\]{}]/g,"\\$&")}var Qv=class{constructor(t,e){Mi(this,"specialTokens");Mi(this,"inverseSpecialTokens");Mi(this,"patStr");Mi(this,"textEncoder",new TextEncoder);Mi(this,"textDecoder",new TextDecoder("utf-8"));Mi(this,"rankMap",new Map);Mi(this,"textMap",new Map);this.patStr=t.pat_str;const n=t.bpe_ranks.split(`
`).filter(Boolean).reduce((r,i)=>{const[s,a,...o]=i.split(" "),l=Number.parseInt(a,10);return o.forEach((u,c)=>r[u]=l+c),r},{});for(const[r,i]of Object.entries(n)){const s=dm.toByteArray(r);this.rankMap.set(s.join(","),i),this.textMap.set(i,s)}this.specialTokens={...t.special_tokens,...e},this.inverseSpecialTokens=Object.entries(this.specialTokens).reduce((r,[i,s])=>(r[s]=this.textEncoder.encode(i),r),{})}encode(t,e=[],n="all"){const r=new RegExp(this.patStr,"ug"),i=Qv.specialTokenRegex(Object.keys(this.specialTokens)),s=[],a=new Set(e==="all"?Object.keys(this.specialTokens):e),o=new Set(n==="all"?Object.keys(this.specialTokens).filter(u=>!a.has(u)):n);if(o.size>0){const u=Qv.specialTokenRegex([...o]),c=t.match(u);if(c!=null)throw new Error(`The text contains a special token that is not allowed: ${c[0]}`)}let l=0;for(;;){let u=null,c=l;for(;i.lastIndex=c,u=i.exec(t),!(u==null||a.has(u[0]));)c=u.index+1;const d=(u==null?void 0:u.index)??t.length;for(const h of t.substring(l,d).matchAll(r)){const p=this.textEncoder.encode(h[0]),y=this.rankMap.get(p.join(","));if(y!=null){s.push(y);continue}s.push(...NW(p,this.rankMap))}if(u==null)break;let f=this.specialTokens[u[0]];s.push(f),l=u.index+u[0].length}return s}decode(t){const e=[];let n=0;for(let s=0;s<t.length;++s){const a=t[s],o=this.textMap.get(a)??this.inverseSpecialTokens[a];o!=null&&(e.push(o),n+=o.length)}const r=new Uint8Array(n);let i=0;for(const s of e)r.set(s,i),i+=s.length;return this.textDecoder.decode(r)}},OO=Qv;RW(OO,"specialTokenRegex",t=>new RegExp(t.map(e=>jW(e)).join("|"),"g"));function MW(t){switch(t){case"gpt2":return"gpt2";case"code-cushman-001":case"code-cushman-002":case"code-davinci-001":case"code-davinci-002":case"cushman-codex":case"davinci-codex":case"davinci-002":case"text-davinci-002":case"text-davinci-003":return"p50k_base";case"code-davinci-edit-001":case"text-davinci-edit-001":return"p50k_edit";case"ada":case"babbage":case"babbage-002":case"code-search-ada-code-001":case"code-search-babbage-code-001":case"curie":case"davinci":case"text-ada-001":case"text-babbage-001":case"text-curie-001":case"text-davinci-001":case"text-search-ada-doc-001":case"text-search-babbage-doc-001":case"text-search-curie-doc-001":case"text-search-davinci-doc-001":case"text-similarity-ada-001":case"text-similarity-babbage-001":case"text-similarity-curie-001":case"text-similarity-davinci-001":return"r50k_base";case"gpt-3.5-turbo-instruct-0914":case"gpt-3.5-turbo-instruct":case"gpt-3.5-turbo-16k-0613":case"gpt-3.5-turbo-16k":case"gpt-3.5-turbo-0613":case"gpt-3.5-turbo-0301":case"gpt-3.5-turbo":case"gpt-4-32k-0613":case"gpt-4-32k-0314":case"gpt-4-32k":case"gpt-4-0613":case"gpt-4-0314":case"gpt-4":case"gpt-3.5-turbo-1106":case"gpt-35-turbo":case"gpt-4-1106-preview":case"gpt-4-vision-preview":case"gpt-3.5-turbo-0125":case"gpt-4-turbo":case"gpt-4-turbo-2024-04-09":case"gpt-4-turbo-preview":case"gpt-4-0125-preview":case"text-embedding-ada-002":return"cl100k_base";case"gpt-4o":case"gpt-4o-2024-05-13":return"o200k_base";default:throw new Error("Unknown model")}}const $d={},LW=new Hw({});async function zW(t){return t in $d||($d[t]=LW.fetch(`https://tiktoken.pages.dev/js/${t}.json`).then(e=>e.json()).then(e=>new OO(e)).catch(e=>{throw delete $d[t],e})),await $d[t]}async function DW(t){return zW(MW(t))}var ye;(function(t){t.assertEqual=i=>i;function e(i){}t.assertIs=e;function n(i){throw new Error}t.assertNever=n,t.arrayToEnum=i=>{const s={};for(const a of i)s[a]=a;return s},t.getValidEnumValues=i=>{const s=t.objectKeys(i).filter(o=>typeof i[i[o]]!="number"),a={};for(const o of s)a[o]=i[o];return t.objectValues(a)},t.objectValues=i=>t.objectKeys(i).map(function(s){return i[s]}),t.objectKeys=typeof Object.keys=="function"?i=>Object.keys(i):i=>{const s=[];for(const a in i)Object.prototype.hasOwnProperty.call(i,a)&&s.push(a);return s},t.find=(i,s)=>{for(const a of i)if(s(a))return a},t.isInteger=typeof Number.isInteger=="function"?i=>Number.isInteger(i):i=>typeof i=="number"&&isFinite(i)&&Math.floor(i)===i;function r(i,s=" | "){return i.map(a=>typeof a=="string"?`'${a}'`:a).join(s)}t.joinValues=r,t.jsonStringifyReplacer=(i,s)=>typeof s=="bigint"?s.toString():s})(ye||(ye={}));var e0;(function(t){t.mergeShapes=(e,n)=>({...e,...n})})(e0||(e0={}));const H=ye.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),Qi=t=>{switch(typeof t){case"undefined":return H.undefined;case"string":return H.string;case"number":return isNaN(t)?H.nan:H.number;case"boolean":return H.boolean;case"function":return H.function;case"bigint":return H.bigint;case"symbol":return H.symbol;case"object":return Array.isArray(t)?H.array:t===null?H.null:t.then&&typeof t.then=="function"&&t.catch&&typeof t.catch=="function"?H.promise:typeof Map<"u"&&t instanceof Map?H.map:typeof Set<"u"&&t instanceof Set?H.set:typeof Date<"u"&&t instanceof Date?H.date:H.object;default:return H.unknown}},L=ye.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]),FW=t=>JSON.stringify(t,null,2).replace(/"([^"]+)":/g,"$1:");class Rn extends Error{constructor(e){super(),this.issues=[],this.addIssue=r=>{this.issues=[...this.issues,r]},this.addIssues=(r=[])=>{this.issues=[...this.issues,...r]};const n=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,n):this.__proto__=n,this.name="ZodError",this.issues=e}get errors(){return this.issues}format(e){const n=e||function(s){return s.message},r={_errors:[]},i=s=>{for(const a of s.issues)if(a.code==="invalid_union")a.unionErrors.map(i);else if(a.code==="invalid_return_type")i(a.returnTypeError);else if(a.code==="invalid_arguments")i(a.argumentsError);else if(a.path.length===0)r._errors.push(n(a));else{let o=r,l=0;for(;l<a.path.length;){const u=a.path[l];l===a.path.length-1?(o[u]=o[u]||{_errors:[]},o[u]._errors.push(n(a))):o[u]=o[u]||{_errors:[]},o=o[u],l++}}};return i(this),r}static assert(e){if(!(e instanceof Rn))throw new Error(`Not a ZodError: ${e}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,ye.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(e=n=>n.message){const n={},r=[];for(const i of this.issues)i.path.length>0?(n[i.path[0]]=n[i.path[0]]||[],n[i.path[0]].push(e(i))):r.push(e(i));return{formErrors:r,fieldErrors:n}}get formErrors(){return this.flatten()}}Rn.create=t=>new Rn(t);const Bo=(t,e)=>{let n;switch(t.code){case L.invalid_type:t.received===H.undefined?n="Required":n=`Expected ${t.expected}, received ${t.received}`;break;case L.invalid_literal:n=`Invalid literal value, expected ${JSON.stringify(t.expected,ye.jsonStringifyReplacer)}`;break;case L.unrecognized_keys:n=`Unrecognized key(s) in object: ${ye.joinValues(t.keys,", ")}`;break;case L.invalid_union:n="Invalid input";break;case L.invalid_union_discriminator:n=`Invalid discriminator value. Expected ${ye.joinValues(t.options)}`;break;case L.invalid_enum_value:n=`Invalid enum value. Expected ${ye.joinValues(t.options)}, received '${t.received}'`;break;case L.invalid_arguments:n="Invalid function arguments";break;case L.invalid_return_type:n="Invalid function return type";break;case L.invalid_date:n="Invalid date";break;case L.invalid_string:typeof t.validation=="object"?"includes"in t.validation?(n=`Invalid input: must include "${t.validation.includes}"`,typeof t.validation.position=="number"&&(n=`${n} at one or more positions greater than or equal to ${t.validation.position}`)):"startsWith"in t.validation?n=`Invalid input: must start with "${t.validation.startsWith}"`:"endsWith"in t.validation?n=`Invalid input: must end with "${t.validation.endsWith}"`:ye.assertNever(t.validation):t.validation!=="regex"?n=`Invalid ${t.validation}`:n="Invalid";break;case L.too_small:t.type==="array"?n=`Array must contain ${t.exact?"exactly":t.inclusive?"at least":"more than"} ${t.minimum} element(s)`:t.type==="string"?n=`String must contain ${t.exact?"exactly":t.inclusive?"at least":"over"} ${t.minimum} character(s)`:t.type==="number"?n=`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:t.type==="date"?n=`Date must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(t.minimum))}`:n="Invalid input";break;case L.too_big:t.type==="array"?n=`Array must contain ${t.exact?"exactly":t.inclusive?"at most":"less than"} ${t.maximum} element(s)`:t.type==="string"?n=`String must contain ${t.exact?"exactly":t.inclusive?"at most":"under"} ${t.maximum} character(s)`:t.type==="number"?n=`Number must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="bigint"?n=`BigInt must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="date"?n=`Date must be ${t.exact?"exactly":t.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(t.maximum))}`:n="Invalid input";break;case L.custom:n="Invalid input";break;case L.invalid_intersection_types:n="Intersection results could not be merged";break;case L.not_multiple_of:n=`Number must be a multiple of ${t.multipleOf}`;break;case L.not_finite:n="Number must be finite";break;default:n=e.defaultError,ye.assertNever(t)}return{message:n}};let RO=Bo;function BW(t){RO=t}function Zh(){return RO}const Gh=t=>{const{data:e,path:n,errorMaps:r,issueData:i}=t,s=[...n,...i.path||[]],a={...i,path:s};if(i.message!==void 0)return{...i,path:s,message:i.message};let o="";const l=r.filter(u=>!!u).slice().reverse();for(const u of l)o=u(a,{data:e,defaultError:o}).message;return{...i,path:s,message:o}},VW=[];function U(t,e){const n=Zh(),r=Gh({issueData:e,data:t.data,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,n,n===Bo?void 0:Bo].filter(i=>!!i)});t.common.issues.push(r)}class qt{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(e,n){const r=[];for(const i of n){if(i.status==="aborted")return ne;i.status==="dirty"&&e.dirty(),r.push(i.value)}return{status:e.value,value:r}}static async mergeObjectAsync(e,n){const r=[];for(const i of n){const s=await i.key,a=await i.value;r.push({key:s,value:a})}return qt.mergeObjectSync(e,r)}static mergeObjectSync(e,n){const r={};for(const i of n){const{key:s,value:a}=i;if(s.status==="aborted"||a.status==="aborted")return ne;s.status==="dirty"&&e.dirty(),a.status==="dirty"&&e.dirty(),s.value!=="__proto__"&&(typeof a.value<"u"||i.alwaysSet)&&(r[s.value]=a.value)}return{status:e.value,value:r}}}const ne=Object.freeze({status:"aborted"}),uo=t=>({status:"dirty",value:t}),tn=t=>({status:"valid",value:t}),t0=t=>t.status==="aborted",n0=t=>t.status==="dirty",tc=t=>t.status==="valid",nc=t=>typeof Promise<"u"&&t instanceof Promise;function Kh(t,e,n,r){if(typeof e=="function"?t!==e||!r:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return e.get(t)}function $O(t,e,n,r,i){if(typeof e=="function"?t!==e||!i:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return e.set(t,n),n}var G;(function(t){t.errToObj=e=>typeof e=="string"?{message:e}:e||{},t.toString=e=>typeof e=="string"?e:e==null?void 0:e.message})(G||(G={}));var Hl,Wl;class ni{constructor(e,n,r,i){this._cachedPath=[],this.parent=e,this.data=n,this._path=r,this._key=i}get path(){return this._cachedPath.length||(this._key instanceof Array?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const PS=(t,e)=>{if(tc(e))return{success:!0,data:e.value};if(!t.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const n=new Rn(t.common.issues);return this._error=n,this._error}}};function se(t){if(!t)return{};const{errorMap:e,invalid_type_error:n,required_error:r,description:i}=t;if(e&&(n||r))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return e?{errorMap:e,description:i}:{errorMap:(a,o)=>{var l,u;const{message:c}=t;return a.code==="invalid_enum_value"?{message:c??o.defaultError}:typeof o.data>"u"?{message:(l=c??r)!==null&&l!==void 0?l:o.defaultError}:a.code!=="invalid_type"?{message:o.defaultError}:{message:(u=c??n)!==null&&u!==void 0?u:o.defaultError}},description:i}}class le{constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this)}get description(){return this._def.description}_getType(e){return Qi(e.data)}_getOrReturnCtx(e,n){return n||{common:e.parent.common,data:e.data,parsedType:Qi(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new qt,ctx:{common:e.parent.common,data:e.data,parsedType:Qi(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){const n=this._parse(e);if(nc(n))throw new Error("Synchronous parse encountered promise.");return n}_parseAsync(e){const n=this._parse(e);return Promise.resolve(n)}parse(e,n){const r=this.safeParse(e,n);if(r.success)return r.data;throw r.error}safeParse(e,n){var r;const i={common:{issues:[],async:(r=n==null?void 0:n.async)!==null&&r!==void 0?r:!1,contextualErrorMap:n==null?void 0:n.errorMap},path:(n==null?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Qi(e)},s=this._parseSync({data:e,path:i.path,parent:i});return PS(i,s)}async parseAsync(e,n){const r=await this.safeParseAsync(e,n);if(r.success)return r.data;throw r.error}async safeParseAsync(e,n){const r={common:{issues:[],contextualErrorMap:n==null?void 0:n.errorMap,async:!0},path:(n==null?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Qi(e)},i=this._parse({data:e,path:r.path,parent:r}),s=await(nc(i)?i:Promise.resolve(i));return PS(r,s)}refine(e,n){const r=i=>typeof n=="string"||typeof n>"u"?{message:n}:typeof n=="function"?n(i):n;return this._refinement((i,s)=>{const a=e(i),o=()=>s.addIssue({code:L.custom,...r(i)});return typeof Promise<"u"&&a instanceof Promise?a.then(l=>l?!0:(o(),!1)):a?!0:(o(),!1)})}refinement(e,n){return this._refinement((r,i)=>e(r)?!0:(i.addIssue(typeof n=="function"?n(r,i):n),!1))}_refinement(e){return new Or({schema:this,typeName:D.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}optional(){return ti.create(this,this._def)}nullable(){return _s.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return Pr.create(this,this._def)}promise(){return Uo.create(this,this._def)}or(e){return ac.create([this,e],this._def)}and(e){return oc.create(this,e,this._def)}transform(e){return new Or({...se(this._def),schema:this,typeName:D.ZodEffects,effect:{type:"transform",transform:e}})}default(e){const n=typeof e=="function"?e:()=>e;return new fc({...se(this._def),innerType:this,defaultValue:n,typeName:D.ZodDefault})}brand(){return new Ww({typeName:D.ZodBranded,type:this,...se(this._def)})}catch(e){const n=typeof e=="function"?e:()=>e;return new hc({...se(this._def),innerType:this,catchValue:n,typeName:D.ZodCatch})}describe(e){const n=this.constructor;return new n({...this._def,description:e})}pipe(e){return Mc.create(this,e)}readonly(){return pc.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const UW=/^c[^\s-]{8,}$/i,HW=/^[0-9a-z]+$/,WW=/^[0-9A-HJKMNP-TV-Z]{26}$/,qW=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,ZW=/^[a-z0-9_-]{21}$/i,GW=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,KW=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,JW="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let Zg;const XW=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,YW=/^(([a-f0-9]{1,4}:){7}|::([a-f0-9]{1,4}:){0,6}|([a-f0-9]{1,4}:){1}:([a-f0-9]{1,4}:){0,5}|([a-f0-9]{1,4}:){2}:([a-f0-9]{1,4}:){0,4}|([a-f0-9]{1,4}:){3}:([a-f0-9]{1,4}:){0,3}|([a-f0-9]{1,4}:){4}:([a-f0-9]{1,4}:){0,2}|([a-f0-9]{1,4}:){5}:([a-f0-9]{1,4}:){0,1})([a-f0-9]{1,4}|(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2})))$/,QW=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,NO="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",eq=new RegExp(`^${NO}$`);function jO(t){let e="([01]\\d|2[0-3]):[0-5]\\d:[0-5]\\d";return t.precision?e=`${e}\\.\\d{${t.precision}}`:t.precision==null&&(e=`${e}(\\.\\d+)?`),e}function tq(t){return new RegExp(`^${jO(t)}$`)}function MO(t){let e=`${NO}T${jO(t)}`;const n=[];return n.push(t.local?"Z?":"Z"),t.offset&&n.push("([+-]\\d{2}:?\\d{2})"),e=`${e}(${n.join("|")})`,new RegExp(`^${e}$`)}function nq(t,e){return!!((e==="v4"||!e)&&XW.test(t)||(e==="v6"||!e)&&YW.test(t))}class kr extends le{_parse(e){if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==H.string){const s=this._getOrReturnCtx(e);return U(s,{code:L.invalid_type,expected:H.string,received:s.parsedType}),ne}const r=new qt;let i;for(const s of this._def.checks)if(s.kind==="min")e.data.length<s.value&&(i=this._getOrReturnCtx(e,i),U(i,{code:L.too_small,minimum:s.value,type:"string",inclusive:!0,exact:!1,message:s.message}),r.dirty());else if(s.kind==="max")e.data.length>s.value&&(i=this._getOrReturnCtx(e,i),U(i,{code:L.too_big,maximum:s.value,type:"string",inclusive:!0,exact:!1,message:s.message}),r.dirty());else if(s.kind==="length"){const a=e.data.length>s.value,o=e.data.length<s.value;(a||o)&&(i=this._getOrReturnCtx(e,i),a?U(i,{code:L.too_big,maximum:s.value,type:"string",inclusive:!0,exact:!0,message:s.message}):o&&U(i,{code:L.too_small,minimum:s.value,type:"string",inclusive:!0,exact:!0,message:s.message}),r.dirty())}else if(s.kind==="email")KW.test(e.data)||(i=this._getOrReturnCtx(e,i),U(i,{validation:"email",code:L.invalid_string,message:s.message}),r.dirty());else if(s.kind==="emoji")Zg||(Zg=new RegExp(JW,"u")),Zg.test(e.data)||(i=this._getOrReturnCtx(e,i),U(i,{validation:"emoji",code:L.invalid_string,message:s.message}),r.dirty());else if(s.kind==="uuid")qW.test(e.data)||(i=this._getOrReturnCtx(e,i),U(i,{validation:"uuid",code:L.invalid_string,message:s.message}),r.dirty());else if(s.kind==="nanoid")ZW.test(e.data)||(i=this._getOrReturnCtx(e,i),U(i,{validation:"nanoid",code:L.invalid_string,message:s.message}),r.dirty());else if(s.kind==="cuid")UW.test(e.data)||(i=this._getOrReturnCtx(e,i),U(i,{validation:"cuid",code:L.invalid_string,message:s.message}),r.dirty());else if(s.kind==="cuid2")HW.test(e.data)||(i=this._getOrReturnCtx(e,i),U(i,{validation:"cuid2",code:L.invalid_string,message:s.message}),r.dirty());else if(s.kind==="ulid")WW.test(e.data)||(i=this._getOrReturnCtx(e,i),U(i,{validation:"ulid",code:L.invalid_string,message:s.message}),r.dirty());else if(s.kind==="url")try{new URL(e.data)}catch{i=this._getOrReturnCtx(e,i),U(i,{validation:"url",code:L.invalid_string,message:s.message}),r.dirty()}else s.kind==="regex"?(s.regex.lastIndex=0,s.regex.test(e.data)||(i=this._getOrReturnCtx(e,i),U(i,{validation:"regex",code:L.invalid_string,message:s.message}),r.dirty())):s.kind==="trim"?e.data=e.data.trim():s.kind==="includes"?e.data.includes(s.value,s.position)||(i=this._getOrReturnCtx(e,i),U(i,{code:L.invalid_string,validation:{includes:s.value,position:s.position},message:s.message}),r.dirty()):s.kind==="toLowerCase"?e.data=e.data.toLowerCase():s.kind==="toUpperCase"?e.data=e.data.toUpperCase():s.kind==="startsWith"?e.data.startsWith(s.value)||(i=this._getOrReturnCtx(e,i),U(i,{code:L.invalid_string,validation:{startsWith:s.value},message:s.message}),r.dirty()):s.kind==="endsWith"?e.data.endsWith(s.value)||(i=this._getOrReturnCtx(e,i),U(i,{code:L.invalid_string,validation:{endsWith:s.value},message:s.message}),r.dirty()):s.kind==="datetime"?MO(s).test(e.data)||(i=this._getOrReturnCtx(e,i),U(i,{code:L.invalid_string,validation:"datetime",message:s.message}),r.dirty()):s.kind==="date"?eq.test(e.data)||(i=this._getOrReturnCtx(e,i),U(i,{code:L.invalid_string,validation:"date",message:s.message}),r.dirty()):s.kind==="time"?tq(s).test(e.data)||(i=this._getOrReturnCtx(e,i),U(i,{code:L.invalid_string,validation:"time",message:s.message}),r.dirty()):s.kind==="duration"?GW.test(e.data)||(i=this._getOrReturnCtx(e,i),U(i,{validation:"duration",code:L.invalid_string,message:s.message}),r.dirty()):s.kind==="ip"?nq(e.data,s.version)||(i=this._getOrReturnCtx(e,i),U(i,{validation:"ip",code:L.invalid_string,message:s.message}),r.dirty()):s.kind==="base64"?QW.test(e.data)||(i=this._getOrReturnCtx(e,i),U(i,{validation:"base64",code:L.invalid_string,message:s.message}),r.dirty()):ye.assertNever(s);return{status:r.value,value:e.data}}_regex(e,n,r){return this.refinement(i=>e.test(i),{validation:n,code:L.invalid_string,...G.errToObj(r)})}_addCheck(e){return new kr({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...G.errToObj(e)})}url(e){return this._addCheck({kind:"url",...G.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...G.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...G.errToObj(e)})}nanoid(e){return this._addCheck({kind:"nanoid",...G.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...G.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...G.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...G.errToObj(e)})}base64(e){return this._addCheck({kind:"base64",...G.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...G.errToObj(e)})}datetime(e){var n,r;return typeof e=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:e}):this._addCheck({kind:"datetime",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,offset:(n=e==null?void 0:e.offset)!==null&&n!==void 0?n:!1,local:(r=e==null?void 0:e.local)!==null&&r!==void 0?r:!1,...G.errToObj(e==null?void 0:e.message)})}date(e){return this._addCheck({kind:"date",message:e})}time(e){return typeof e=="string"?this._addCheck({kind:"time",precision:null,message:e}):this._addCheck({kind:"time",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,...G.errToObj(e==null?void 0:e.message)})}duration(e){return this._addCheck({kind:"duration",...G.errToObj(e)})}regex(e,n){return this._addCheck({kind:"regex",regex:e,...G.errToObj(n)})}includes(e,n){return this._addCheck({kind:"includes",value:e,position:n==null?void 0:n.position,...G.errToObj(n==null?void 0:n.message)})}startsWith(e,n){return this._addCheck({kind:"startsWith",value:e,...G.errToObj(n)})}endsWith(e,n){return this._addCheck({kind:"endsWith",value:e,...G.errToObj(n)})}min(e,n){return this._addCheck({kind:"min",value:e,...G.errToObj(n)})}max(e,n){return this._addCheck({kind:"max",value:e,...G.errToObj(n)})}length(e,n){return this._addCheck({kind:"length",value:e,...G.errToObj(n)})}nonempty(e){return this.min(1,G.errToObj(e))}trim(){return new kr({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new kr({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new kr({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(e=>e.kind==="datetime")}get isDate(){return!!this._def.checks.find(e=>e.kind==="date")}get isTime(){return!!this._def.checks.find(e=>e.kind==="time")}get isDuration(){return!!this._def.checks.find(e=>e.kind==="duration")}get isEmail(){return!!this._def.checks.find(e=>e.kind==="email")}get isURL(){return!!this._def.checks.find(e=>e.kind==="url")}get isEmoji(){return!!this._def.checks.find(e=>e.kind==="emoji")}get isUUID(){return!!this._def.checks.find(e=>e.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(e=>e.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(e=>e.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(e=>e.kind==="cuid2")}get isULID(){return!!this._def.checks.find(e=>e.kind==="ulid")}get isIP(){return!!this._def.checks.find(e=>e.kind==="ip")}get isBase64(){return!!this._def.checks.find(e=>e.kind==="base64")}get minLength(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxLength(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}}kr.create=t=>{var e;return new kr({checks:[],typeName:D.ZodString,coerce:(e=t==null?void 0:t.coerce)!==null&&e!==void 0?e:!1,...se(t)})};function rq(t,e){const n=(t.toString().split(".")[1]||"").length,r=(e.toString().split(".")[1]||"").length,i=n>r?n:r,s=parseInt(t.toFixed(i).replace(".","")),a=parseInt(e.toFixed(i).replace(".",""));return s%a/Math.pow(10,i)}class vs extends le{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==H.number){const s=this._getOrReturnCtx(e);return U(s,{code:L.invalid_type,expected:H.number,received:s.parsedType}),ne}let r;const i=new qt;for(const s of this._def.checks)s.kind==="int"?ye.isInteger(e.data)||(r=this._getOrReturnCtx(e,r),U(r,{code:L.invalid_type,expected:"integer",received:"float",message:s.message}),i.dirty()):s.kind==="min"?(s.inclusive?e.data<s.value:e.data<=s.value)&&(r=this._getOrReturnCtx(e,r),U(r,{code:L.too_small,minimum:s.value,type:"number",inclusive:s.inclusive,exact:!1,message:s.message}),i.dirty()):s.kind==="max"?(s.inclusive?e.data>s.value:e.data>=s.value)&&(r=this._getOrReturnCtx(e,r),U(r,{code:L.too_big,maximum:s.value,type:"number",inclusive:s.inclusive,exact:!1,message:s.message}),i.dirty()):s.kind==="multipleOf"?rq(e.data,s.value)!==0&&(r=this._getOrReturnCtx(e,r),U(r,{code:L.not_multiple_of,multipleOf:s.value,message:s.message}),i.dirty()):s.kind==="finite"?Number.isFinite(e.data)||(r=this._getOrReturnCtx(e,r),U(r,{code:L.not_finite,message:s.message}),i.dirty()):ye.assertNever(s);return{status:i.value,value:e.data}}gte(e,n){return this.setLimit("min",e,!0,G.toString(n))}gt(e,n){return this.setLimit("min",e,!1,G.toString(n))}lte(e,n){return this.setLimit("max",e,!0,G.toString(n))}lt(e,n){return this.setLimit("max",e,!1,G.toString(n))}setLimit(e,n,r,i){return new vs({...this._def,checks:[...this._def.checks,{kind:e,value:n,inclusive:r,message:G.toString(i)}]})}_addCheck(e){return new vs({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:G.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:G.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:G.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:G.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:G.toString(e)})}multipleOf(e,n){return this._addCheck({kind:"multipleOf",value:e,message:G.toString(n)})}finite(e){return this._addCheck({kind:"finite",message:G.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:G.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:G.toString(e)})}get minValue(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxValue(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}get isInt(){return!!this._def.checks.find(e=>e.kind==="int"||e.kind==="multipleOf"&&ye.isInteger(e.value))}get isFinite(){let e=null,n=null;for(const r of this._def.checks){if(r.kind==="finite"||r.kind==="int"||r.kind==="multipleOf")return!0;r.kind==="min"?(n===null||r.value>n)&&(n=r.value):r.kind==="max"&&(e===null||r.value<e)&&(e=r.value)}return Number.isFinite(n)&&Number.isFinite(e)}}vs.create=t=>new vs({checks:[],typeName:D.ZodNumber,coerce:(t==null?void 0:t.coerce)||!1,...se(t)});class bs extends le{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){if(this._def.coerce&&(e.data=BigInt(e.data)),this._getType(e)!==H.bigint){const s=this._getOrReturnCtx(e);return U(s,{code:L.invalid_type,expected:H.bigint,received:s.parsedType}),ne}let r;const i=new qt;for(const s of this._def.checks)s.kind==="min"?(s.inclusive?e.data<s.value:e.data<=s.value)&&(r=this._getOrReturnCtx(e,r),U(r,{code:L.too_small,type:"bigint",minimum:s.value,inclusive:s.inclusive,message:s.message}),i.dirty()):s.kind==="max"?(s.inclusive?e.data>s.value:e.data>=s.value)&&(r=this._getOrReturnCtx(e,r),U(r,{code:L.too_big,type:"bigint",maximum:s.value,inclusive:s.inclusive,message:s.message}),i.dirty()):s.kind==="multipleOf"?e.data%s.value!==BigInt(0)&&(r=this._getOrReturnCtx(e,r),U(r,{code:L.not_multiple_of,multipleOf:s.value,message:s.message}),i.dirty()):ye.assertNever(s);return{status:i.value,value:e.data}}gte(e,n){return this.setLimit("min",e,!0,G.toString(n))}gt(e,n){return this.setLimit("min",e,!1,G.toString(n))}lte(e,n){return this.setLimit("max",e,!0,G.toString(n))}lt(e,n){return this.setLimit("max",e,!1,G.toString(n))}setLimit(e,n,r,i){return new bs({...this._def,checks:[...this._def.checks,{kind:e,value:n,inclusive:r,message:G.toString(i)}]})}_addCheck(e){return new bs({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:G.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:G.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:G.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:G.toString(e)})}multipleOf(e,n){return this._addCheck({kind:"multipleOf",value:e,message:G.toString(n)})}get minValue(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxValue(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}}bs.create=t=>{var e;return new bs({checks:[],typeName:D.ZodBigInt,coerce:(e=t==null?void 0:t.coerce)!==null&&e!==void 0?e:!1,...se(t)})};class rc extends le{_parse(e){if(this._def.coerce&&(e.data=!!e.data),this._getType(e)!==H.boolean){const r=this._getOrReturnCtx(e);return U(r,{code:L.invalid_type,expected:H.boolean,received:r.parsedType}),ne}return tn(e.data)}}rc.create=t=>new rc({typeName:D.ZodBoolean,coerce:(t==null?void 0:t.coerce)||!1,...se(t)});class ma extends le{_parse(e){if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==H.date){const s=this._getOrReturnCtx(e);return U(s,{code:L.invalid_type,expected:H.date,received:s.parsedType}),ne}if(isNaN(e.data.getTime())){const s=this._getOrReturnCtx(e);return U(s,{code:L.invalid_date}),ne}const r=new qt;let i;for(const s of this._def.checks)s.kind==="min"?e.data.getTime()<s.value&&(i=this._getOrReturnCtx(e,i),U(i,{code:L.too_small,message:s.message,inclusive:!0,exact:!1,minimum:s.value,type:"date"}),r.dirty()):s.kind==="max"?e.data.getTime()>s.value&&(i=this._getOrReturnCtx(e,i),U(i,{code:L.too_big,message:s.message,inclusive:!0,exact:!1,maximum:s.value,type:"date"}),r.dirty()):ye.assertNever(s);return{status:r.value,value:new Date(e.data.getTime())}}_addCheck(e){return new ma({...this._def,checks:[...this._def.checks,e]})}min(e,n){return this._addCheck({kind:"min",value:e.getTime(),message:G.toString(n)})}max(e,n){return this._addCheck({kind:"max",value:e.getTime(),message:G.toString(n)})}get minDate(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e!=null?new Date(e):null}get maxDate(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e!=null?new Date(e):null}}ma.create=t=>new ma({checks:[],coerce:(t==null?void 0:t.coerce)||!1,typeName:D.ZodDate,...se(t)});class Jh extends le{_parse(e){if(this._getType(e)!==H.symbol){const r=this._getOrReturnCtx(e);return U(r,{code:L.invalid_type,expected:H.symbol,received:r.parsedType}),ne}return tn(e.data)}}Jh.create=t=>new Jh({typeName:D.ZodSymbol,...se(t)});class ic extends le{_parse(e){if(this._getType(e)!==H.undefined){const r=this._getOrReturnCtx(e);return U(r,{code:L.invalid_type,expected:H.undefined,received:r.parsedType}),ne}return tn(e.data)}}ic.create=t=>new ic({typeName:D.ZodUndefined,...se(t)});class sc extends le{_parse(e){if(this._getType(e)!==H.null){const r=this._getOrReturnCtx(e);return U(r,{code:L.invalid_type,expected:H.null,received:r.parsedType}),ne}return tn(e.data)}}sc.create=t=>new sc({typeName:D.ZodNull,...se(t)});class Vo extends le{constructor(){super(...arguments),this._any=!0}_parse(e){return tn(e.data)}}Vo.create=t=>new Vo({typeName:D.ZodAny,...se(t)});class aa extends le{constructor(){super(...arguments),this._unknown=!0}_parse(e){return tn(e.data)}}aa.create=t=>new aa({typeName:D.ZodUnknown,...se(t)});class $i extends le{_parse(e){const n=this._getOrReturnCtx(e);return U(n,{code:L.invalid_type,expected:H.never,received:n.parsedType}),ne}}$i.create=t=>new $i({typeName:D.ZodNever,...se(t)});class Xh extends le{_parse(e){if(this._getType(e)!==H.undefined){const r=this._getOrReturnCtx(e);return U(r,{code:L.invalid_type,expected:H.void,received:r.parsedType}),ne}return tn(e.data)}}Xh.create=t=>new Xh({typeName:D.ZodVoid,...se(t)});class Pr extends le{_parse(e){const{ctx:n,status:r}=this._processInputParams(e),i=this._def;if(n.parsedType!==H.array)return U(n,{code:L.invalid_type,expected:H.array,received:n.parsedType}),ne;if(i.exactLength!==null){const a=n.data.length>i.exactLength.value,o=n.data.length<i.exactLength.value;(a||o)&&(U(n,{code:a?L.too_big:L.too_small,minimum:o?i.exactLength.value:void 0,maximum:a?i.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:i.exactLength.message}),r.dirty())}if(i.minLength!==null&&n.data.length<i.minLength.value&&(U(n,{code:L.too_small,minimum:i.minLength.value,type:"array",inclusive:!0,exact:!1,message:i.minLength.message}),r.dirty()),i.maxLength!==null&&n.data.length>i.maxLength.value&&(U(n,{code:L.too_big,maximum:i.maxLength.value,type:"array",inclusive:!0,exact:!1,message:i.maxLength.message}),r.dirty()),n.common.async)return Promise.all([...n.data].map((a,o)=>i.type._parseAsync(new ni(n,a,n.path,o)))).then(a=>qt.mergeArray(r,a));const s=[...n.data].map((a,o)=>i.type._parseSync(new ni(n,a,n.path,o)));return qt.mergeArray(r,s)}get element(){return this._def.type}min(e,n){return new Pr({...this._def,minLength:{value:e,message:G.toString(n)}})}max(e,n){return new Pr({...this._def,maxLength:{value:e,message:G.toString(n)}})}length(e,n){return new Pr({...this._def,exactLength:{value:e,message:G.toString(n)}})}nonempty(e){return this.min(1,e)}}Pr.create=(t,e)=>new Pr({type:t,minLength:null,maxLength:null,exactLength:null,typeName:D.ZodArray,...se(e)});function La(t){if(t instanceof Qe){const e={};for(const n in t.shape){const r=t.shape[n];e[n]=ti.create(La(r))}return new Qe({...t._def,shape:()=>e})}else return t instanceof Pr?new Pr({...t._def,type:La(t.element)}):t instanceof ti?ti.create(La(t.unwrap())):t instanceof _s?_s.create(La(t.unwrap())):t instanceof ri?ri.create(t.items.map(e=>La(e))):t}class Qe extends le{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const e=this._def.shape(),n=ye.objectKeys(e);return this._cached={shape:e,keys:n}}_parse(e){if(this._getType(e)!==H.object){const u=this._getOrReturnCtx(e);return U(u,{code:L.invalid_type,expected:H.object,received:u.parsedType}),ne}const{status:r,ctx:i}=this._processInputParams(e),{shape:s,keys:a}=this._getCached(),o=[];if(!(this._def.catchall instanceof $i&&this._def.unknownKeys==="strip"))for(const u in i.data)a.includes(u)||o.push(u);const l=[];for(const u of a){const c=s[u],d=i.data[u];l.push({key:{status:"valid",value:u},value:c._parse(new ni(i,d,i.path,u)),alwaysSet:u in i.data})}if(this._def.catchall instanceof $i){const u=this._def.unknownKeys;if(u==="passthrough")for(const c of o)l.push({key:{status:"valid",value:c},value:{status:"valid",value:i.data[c]}});else if(u==="strict")o.length>0&&(U(i,{code:L.unrecognized_keys,keys:o}),r.dirty());else if(u!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const u=this._def.catchall;for(const c of o){const d=i.data[c];l.push({key:{status:"valid",value:c},value:u._parse(new ni(i,d,i.path,c)),alwaysSet:c in i.data})}}return i.common.async?Promise.resolve().then(async()=>{const u=[];for(const c of l){const d=await c.key,f=await c.value;u.push({key:d,value:f,alwaysSet:c.alwaysSet})}return u}).then(u=>qt.mergeObjectSync(r,u)):qt.mergeObjectSync(r,l)}get shape(){return this._def.shape()}strict(e){return G.errToObj,new Qe({...this._def,unknownKeys:"strict",...e!==void 0?{errorMap:(n,r)=>{var i,s,a,o;const l=(a=(s=(i=this._def).errorMap)===null||s===void 0?void 0:s.call(i,n,r).message)!==null&&a!==void 0?a:r.defaultError;return n.code==="unrecognized_keys"?{message:(o=G.errToObj(e).message)!==null&&o!==void 0?o:l}:{message:l}}}:{}})}strip(){return new Qe({...this._def,unknownKeys:"strip"})}passthrough(){return new Qe({...this._def,unknownKeys:"passthrough"})}extend(e){return new Qe({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new Qe({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:D.ZodObject})}setKey(e,n){return this.augment({[e]:n})}catchall(e){return new Qe({...this._def,catchall:e})}pick(e){const n={};return ye.objectKeys(e).forEach(r=>{e[r]&&this.shape[r]&&(n[r]=this.shape[r])}),new Qe({...this._def,shape:()=>n})}omit(e){const n={};return ye.objectKeys(this.shape).forEach(r=>{e[r]||(n[r]=this.shape[r])}),new Qe({...this._def,shape:()=>n})}deepPartial(){return La(this)}partial(e){const n={};return ye.objectKeys(this.shape).forEach(r=>{const i=this.shape[r];e&&!e[r]?n[r]=i:n[r]=i.optional()}),new Qe({...this._def,shape:()=>n})}required(e){const n={};return ye.objectKeys(this.shape).forEach(r=>{if(e&&!e[r])n[r]=this.shape[r];else{let s=this.shape[r];for(;s instanceof ti;)s=s._def.innerType;n[r]=s}}),new Qe({...this._def,shape:()=>n})}keyof(){return LO(ye.objectKeys(this.shape))}}Qe.create=(t,e)=>new Qe({shape:()=>t,unknownKeys:"strip",catchall:$i.create(),typeName:D.ZodObject,...se(e)});Qe.strictCreate=(t,e)=>new Qe({shape:()=>t,unknownKeys:"strict",catchall:$i.create(),typeName:D.ZodObject,...se(e)});Qe.lazycreate=(t,e)=>new Qe({shape:t,unknownKeys:"strip",catchall:$i.create(),typeName:D.ZodObject,...se(e)});class ac extends le{_parse(e){const{ctx:n}=this._processInputParams(e),r=this._def.options;function i(s){for(const o of s)if(o.result.status==="valid")return o.result;for(const o of s)if(o.result.status==="dirty")return n.common.issues.push(...o.ctx.common.issues),o.result;const a=s.map(o=>new Rn(o.ctx.common.issues));return U(n,{code:L.invalid_union,unionErrors:a}),ne}if(n.common.async)return Promise.all(r.map(async s=>{const a={...n,common:{...n.common,issues:[]},parent:null};return{result:await s._parseAsync({data:n.data,path:n.path,parent:a}),ctx:a}})).then(i);{let s;const a=[];for(const l of r){const u={...n,common:{...n.common,issues:[]},parent:null},c=l._parseSync({data:n.data,path:n.path,parent:u});if(c.status==="valid")return c;c.status==="dirty"&&!s&&(s={result:c,ctx:u}),u.common.issues.length&&a.push(u.common.issues)}if(s)return n.common.issues.push(...s.ctx.common.issues),s.result;const o=a.map(l=>new Rn(l));return U(n,{code:L.invalid_union,unionErrors:o}),ne}}get options(){return this._def.options}}ac.create=(t,e)=>new ac({options:t,typeName:D.ZodUnion,...se(e)});const fi=t=>t instanceof uc?fi(t.schema):t instanceof Or?fi(t.innerType()):t instanceof cc?[t.value]:t instanceof ws?t.options:t instanceof dc?ye.objectValues(t.enum):t instanceof fc?fi(t._def.innerType):t instanceof ic?[void 0]:t instanceof sc?[null]:t instanceof ti?[void 0,...fi(t.unwrap())]:t instanceof _s?[null,...fi(t.unwrap())]:t instanceof Ww||t instanceof pc?fi(t.unwrap()):t instanceof hc?fi(t._def.innerType):[];class fm extends le{_parse(e){const{ctx:n}=this._processInputParams(e);if(n.parsedType!==H.object)return U(n,{code:L.invalid_type,expected:H.object,received:n.parsedType}),ne;const r=this.discriminator,i=n.data[r],s=this.optionsMap.get(i);return s?n.common.async?s._parseAsync({data:n.data,path:n.path,parent:n}):s._parseSync({data:n.data,path:n.path,parent:n}):(U(n,{code:L.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[r]}),ne)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(e,n,r){const i=new Map;for(const s of n){const a=fi(s.shape[e]);if(!a.length)throw new Error(`A discriminator value for key \`${e}\` could not be extracted from all schema options`);for(const o of a){if(i.has(o))throw new Error(`Discriminator property ${String(e)} has duplicate value ${String(o)}`);i.set(o,s)}}return new fm({typeName:D.ZodDiscriminatedUnion,discriminator:e,options:n,optionsMap:i,...se(r)})}}function r0(t,e){const n=Qi(t),r=Qi(e);if(t===e)return{valid:!0,data:t};if(n===H.object&&r===H.object){const i=ye.objectKeys(e),s=ye.objectKeys(t).filter(o=>i.indexOf(o)!==-1),a={...t,...e};for(const o of s){const l=r0(t[o],e[o]);if(!l.valid)return{valid:!1};a[o]=l.data}return{valid:!0,data:a}}else if(n===H.array&&r===H.array){if(t.length!==e.length)return{valid:!1};const i=[];for(let s=0;s<t.length;s++){const a=t[s],o=e[s],l=r0(a,o);if(!l.valid)return{valid:!1};i.push(l.data)}return{valid:!0,data:i}}else return n===H.date&&r===H.date&&+t==+e?{valid:!0,data:t}:{valid:!1}}class oc extends le{_parse(e){const{status:n,ctx:r}=this._processInputParams(e),i=(s,a)=>{if(t0(s)||t0(a))return ne;const o=r0(s.value,a.value);return o.valid?((n0(s)||n0(a))&&n.dirty(),{status:n.value,value:o.data}):(U(r,{code:L.invalid_intersection_types}),ne)};return r.common.async?Promise.all([this._def.left._parseAsync({data:r.data,path:r.path,parent:r}),this._def.right._parseAsync({data:r.data,path:r.path,parent:r})]).then(([s,a])=>i(s,a)):i(this._def.left._parseSync({data:r.data,path:r.path,parent:r}),this._def.right._parseSync({data:r.data,path:r.path,parent:r}))}}oc.create=(t,e,n)=>new oc({left:t,right:e,typeName:D.ZodIntersection,...se(n)});class ri extends le{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==H.array)return U(r,{code:L.invalid_type,expected:H.array,received:r.parsedType}),ne;if(r.data.length<this._def.items.length)return U(r,{code:L.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),ne;!this._def.rest&&r.data.length>this._def.items.length&&(U(r,{code:L.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),n.dirty());const s=[...r.data].map((a,o)=>{const l=this._def.items[o]||this._def.rest;return l?l._parse(new ni(r,a,r.path,o)):null}).filter(a=>!!a);return r.common.async?Promise.all(s).then(a=>qt.mergeArray(n,a)):qt.mergeArray(n,s)}get items(){return this._def.items}rest(e){return new ri({...this._def,rest:e})}}ri.create=(t,e)=>{if(!Array.isArray(t))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new ri({items:t,typeName:D.ZodTuple,rest:null,...se(e)})};class lc extends le{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==H.object)return U(r,{code:L.invalid_type,expected:H.object,received:r.parsedType}),ne;const i=[],s=this._def.keyType,a=this._def.valueType;for(const o in r.data)i.push({key:s._parse(new ni(r,o,r.path,o)),value:a._parse(new ni(r,r.data[o],r.path,o)),alwaysSet:o in r.data});return r.common.async?qt.mergeObjectAsync(n,i):qt.mergeObjectSync(n,i)}get element(){return this._def.valueType}static create(e,n,r){return n instanceof le?new lc({keyType:e,valueType:n,typeName:D.ZodRecord,...se(r)}):new lc({keyType:kr.create(),valueType:e,typeName:D.ZodRecord,...se(n)})}}class Yh extends le{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==H.map)return U(r,{code:L.invalid_type,expected:H.map,received:r.parsedType}),ne;const i=this._def.keyType,s=this._def.valueType,a=[...r.data.entries()].map(([o,l],u)=>({key:i._parse(new ni(r,o,r.path,[u,"key"])),value:s._parse(new ni(r,l,r.path,[u,"value"]))}));if(r.common.async){const o=new Map;return Promise.resolve().then(async()=>{for(const l of a){const u=await l.key,c=await l.value;if(u.status==="aborted"||c.status==="aborted")return ne;(u.status==="dirty"||c.status==="dirty")&&n.dirty(),o.set(u.value,c.value)}return{status:n.value,value:o}})}else{const o=new Map;for(const l of a){const u=l.key,c=l.value;if(u.status==="aborted"||c.status==="aborted")return ne;(u.status==="dirty"||c.status==="dirty")&&n.dirty(),o.set(u.value,c.value)}return{status:n.value,value:o}}}}Yh.create=(t,e,n)=>new Yh({valueType:e,keyType:t,typeName:D.ZodMap,...se(n)});class ga extends le{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==H.set)return U(r,{code:L.invalid_type,expected:H.set,received:r.parsedType}),ne;const i=this._def;i.minSize!==null&&r.data.size<i.minSize.value&&(U(r,{code:L.too_small,minimum:i.minSize.value,type:"set",inclusive:!0,exact:!1,message:i.minSize.message}),n.dirty()),i.maxSize!==null&&r.data.size>i.maxSize.value&&(U(r,{code:L.too_big,maximum:i.maxSize.value,type:"set",inclusive:!0,exact:!1,message:i.maxSize.message}),n.dirty());const s=this._def.valueType;function a(l){const u=new Set;for(const c of l){if(c.status==="aborted")return ne;c.status==="dirty"&&n.dirty(),u.add(c.value)}return{status:n.value,value:u}}const o=[...r.data.values()].map((l,u)=>s._parse(new ni(r,l,r.path,u)));return r.common.async?Promise.all(o).then(l=>a(l)):a(o)}min(e,n){return new ga({...this._def,minSize:{value:e,message:G.toString(n)}})}max(e,n){return new ga({...this._def,maxSize:{value:e,message:G.toString(n)}})}size(e,n){return this.min(e,n).max(e,n)}nonempty(e){return this.min(1,e)}}ga.create=(t,e)=>new ga({valueType:t,minSize:null,maxSize:null,typeName:D.ZodSet,...se(e)});class Po extends le{constructor(){super(...arguments),this.validate=this.implement}_parse(e){const{ctx:n}=this._processInputParams(e);if(n.parsedType!==H.function)return U(n,{code:L.invalid_type,expected:H.function,received:n.parsedType}),ne;function r(o,l){return Gh({data:o,path:n.path,errorMaps:[n.common.contextualErrorMap,n.schemaErrorMap,Zh(),Bo].filter(u=>!!u),issueData:{code:L.invalid_arguments,argumentsError:l}})}function i(o,l){return Gh({data:o,path:n.path,errorMaps:[n.common.contextualErrorMap,n.schemaErrorMap,Zh(),Bo].filter(u=>!!u),issueData:{code:L.invalid_return_type,returnTypeError:l}})}const s={errorMap:n.common.contextualErrorMap},a=n.data;if(this._def.returns instanceof Uo){const o=this;return tn(async function(...l){const u=new Rn([]),c=await o._def.args.parseAsync(l,s).catch(h=>{throw u.addIssue(r(l,h)),u}),d=await Reflect.apply(a,this,c);return await o._def.returns._def.type.parseAsync(d,s).catch(h=>{throw u.addIssue(i(d,h)),u})})}else{const o=this;return tn(function(...l){const u=o._def.args.safeParse(l,s);if(!u.success)throw new Rn([r(l,u.error)]);const c=Reflect.apply(a,this,u.data),d=o._def.returns.safeParse(c,s);if(!d.success)throw new Rn([i(c,d.error)]);return d.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...e){return new Po({...this._def,args:ri.create(e).rest(aa.create())})}returns(e){return new Po({...this._def,returns:e})}implement(e){return this.parse(e)}strictImplement(e){return this.parse(e)}static create(e,n,r){return new Po({args:e||ri.create([]).rest(aa.create()),returns:n||aa.create(),typeName:D.ZodFunction,...se(r)})}}class uc extends le{get schema(){return this._def.getter()}_parse(e){const{ctx:n}=this._processInputParams(e);return this._def.getter()._parse({data:n.data,path:n.path,parent:n})}}uc.create=(t,e)=>new uc({getter:t,typeName:D.ZodLazy,...se(e)});class cc extends le{_parse(e){if(e.data!==this._def.value){const n=this._getOrReturnCtx(e);return U(n,{received:n.data,code:L.invalid_literal,expected:this._def.value}),ne}return{status:"valid",value:e.data}}get value(){return this._def.value}}cc.create=(t,e)=>new cc({value:t,typeName:D.ZodLiteral,...se(e)});function LO(t,e){return new ws({values:t,typeName:D.ZodEnum,...se(e)})}class ws extends le{constructor(){super(...arguments),Hl.set(this,void 0)}_parse(e){if(typeof e.data!="string"){const n=this._getOrReturnCtx(e),r=this._def.values;return U(n,{expected:ye.joinValues(r),received:n.parsedType,code:L.invalid_type}),ne}if(Kh(this,Hl)||$O(this,Hl,new Set(this._def.values)),!Kh(this,Hl).has(e.data)){const n=this._getOrReturnCtx(e),r=this._def.values;return U(n,{received:n.data,code:L.invalid_enum_value,options:r}),ne}return tn(e.data)}get options(){return this._def.values}get enum(){const e={};for(const n of this._def.values)e[n]=n;return e}get Values(){const e={};for(const n of this._def.values)e[n]=n;return e}get Enum(){const e={};for(const n of this._def.values)e[n]=n;return e}extract(e,n=this._def){return ws.create(e,{...this._def,...n})}exclude(e,n=this._def){return ws.create(this.options.filter(r=>!e.includes(r)),{...this._def,...n})}}Hl=new WeakMap;ws.create=LO;class dc extends le{constructor(){super(...arguments),Wl.set(this,void 0)}_parse(e){const n=ye.getValidEnumValues(this._def.values),r=this._getOrReturnCtx(e);if(r.parsedType!==H.string&&r.parsedType!==H.number){const i=ye.objectValues(n);return U(r,{expected:ye.joinValues(i),received:r.parsedType,code:L.invalid_type}),ne}if(Kh(this,Wl)||$O(this,Wl,new Set(ye.getValidEnumValues(this._def.values))),!Kh(this,Wl).has(e.data)){const i=ye.objectValues(n);return U(r,{received:r.data,code:L.invalid_enum_value,options:i}),ne}return tn(e.data)}get enum(){return this._def.values}}Wl=new WeakMap;dc.create=(t,e)=>new dc({values:t,typeName:D.ZodNativeEnum,...se(e)});class Uo extends le{unwrap(){return this._def.type}_parse(e){const{ctx:n}=this._processInputParams(e);if(n.parsedType!==H.promise&&n.common.async===!1)return U(n,{code:L.invalid_type,expected:H.promise,received:n.parsedType}),ne;const r=n.parsedType===H.promise?n.data:Promise.resolve(n.data);return tn(r.then(i=>this._def.type.parseAsync(i,{path:n.path,errorMap:n.common.contextualErrorMap})))}}Uo.create=(t,e)=>new Uo({type:t,typeName:D.ZodPromise,...se(e)});class Or extends le{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===D.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){const{status:n,ctx:r}=this._processInputParams(e),i=this._def.effect||null,s={addIssue:a=>{U(r,a),a.fatal?n.abort():n.dirty()},get path(){return r.path}};if(s.addIssue=s.addIssue.bind(s),i.type==="preprocess"){const a=i.transform(r.data,s);if(r.common.async)return Promise.resolve(a).then(async o=>{if(n.value==="aborted")return ne;const l=await this._def.schema._parseAsync({data:o,path:r.path,parent:r});return l.status==="aborted"?ne:l.status==="dirty"||n.value==="dirty"?uo(l.value):l});{if(n.value==="aborted")return ne;const o=this._def.schema._parseSync({data:a,path:r.path,parent:r});return o.status==="aborted"?ne:o.status==="dirty"||n.value==="dirty"?uo(o.value):o}}if(i.type==="refinement"){const a=o=>{const l=i.refinement(o,s);if(r.common.async)return Promise.resolve(l);if(l instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return o};if(r.common.async===!1){const o=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});return o.status==="aborted"?ne:(o.status==="dirty"&&n.dirty(),a(o.value),{status:n.value,value:o.value})}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(o=>o.status==="aborted"?ne:(o.status==="dirty"&&n.dirty(),a(o.value).then(()=>({status:n.value,value:o.value}))))}if(i.type==="transform")if(r.common.async===!1){const a=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});if(!tc(a))return a;const o=i.transform(a.value,s);if(o instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:n.value,value:o}}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(a=>tc(a)?Promise.resolve(i.transform(a.value,s)).then(o=>({status:n.value,value:o})):a);ye.assertNever(i)}}Or.create=(t,e,n)=>new Or({schema:t,typeName:D.ZodEffects,effect:e,...se(n)});Or.createWithPreprocess=(t,e,n)=>new Or({schema:e,effect:{type:"preprocess",transform:t},typeName:D.ZodEffects,...se(n)});class ti extends le{_parse(e){return this._getType(e)===H.undefined?tn(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}ti.create=(t,e)=>new ti({innerType:t,typeName:D.ZodOptional,...se(e)});class _s extends le{_parse(e){return this._getType(e)===H.null?tn(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}_s.create=(t,e)=>new _s({innerType:t,typeName:D.ZodNullable,...se(e)});class fc extends le{_parse(e){const{ctx:n}=this._processInputParams(e);let r=n.data;return n.parsedType===H.undefined&&(r=this._def.defaultValue()),this._def.innerType._parse({data:r,path:n.path,parent:n})}removeDefault(){return this._def.innerType}}fc.create=(t,e)=>new fc({innerType:t,typeName:D.ZodDefault,defaultValue:typeof e.default=="function"?e.default:()=>e.default,...se(e)});class hc extends le{_parse(e){const{ctx:n}=this._processInputParams(e),r={...n,common:{...n.common,issues:[]}},i=this._def.innerType._parse({data:r.data,path:r.path,parent:{...r}});return nc(i)?i.then(s=>({status:"valid",value:s.status==="valid"?s.value:this._def.catchValue({get error(){return new Rn(r.common.issues)},input:r.data})})):{status:"valid",value:i.status==="valid"?i.value:this._def.catchValue({get error(){return new Rn(r.common.issues)},input:r.data})}}removeCatch(){return this._def.innerType}}hc.create=(t,e)=>new hc({innerType:t,typeName:D.ZodCatch,catchValue:typeof e.catch=="function"?e.catch:()=>e.catch,...se(e)});class Qh extends le{_parse(e){if(this._getType(e)!==H.nan){const r=this._getOrReturnCtx(e);return U(r,{code:L.invalid_type,expected:H.nan,received:r.parsedType}),ne}return{status:"valid",value:e.data}}}Qh.create=t=>new Qh({typeName:D.ZodNaN,...se(t)});const iq=Symbol("zod_brand");class Ww extends le{_parse(e){const{ctx:n}=this._processInputParams(e),r=n.data;return this._def.type._parse({data:r,path:n.path,parent:n})}unwrap(){return this._def.type}}class Mc extends le{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.common.async)return(async()=>{const s=await this._def.in._parseAsync({data:r.data,path:r.path,parent:r});return s.status==="aborted"?ne:s.status==="dirty"?(n.dirty(),uo(s.value)):this._def.out._parseAsync({data:s.value,path:r.path,parent:r})})();{const i=this._def.in._parseSync({data:r.data,path:r.path,parent:r});return i.status==="aborted"?ne:i.status==="dirty"?(n.dirty(),{status:"dirty",value:i.value}):this._def.out._parseSync({data:i.value,path:r.path,parent:r})}}static create(e,n){return new Mc({in:e,out:n,typeName:D.ZodPipeline})}}class pc extends le{_parse(e){const n=this._def.innerType._parse(e),r=i=>(tc(i)&&(i.value=Object.freeze(i.value)),i);return nc(n)?n.then(i=>r(i)):r(n)}unwrap(){return this._def.innerType}}pc.create=(t,e)=>new pc({innerType:t,typeName:D.ZodReadonly,...se(e)});function zO(t,e={},n){return t?Vo.create().superRefine((r,i)=>{var s,a;if(!t(r)){const o=typeof e=="function"?e(r):typeof e=="string"?{message:e}:e,l=(a=(s=o.fatal)!==null&&s!==void 0?s:n)!==null&&a!==void 0?a:!0,u=typeof o=="string"?{message:o}:o;i.addIssue({code:"custom",...u,fatal:l})}}):Vo.create()}const sq={object:Qe.lazycreate};var D;(function(t){t.ZodString="ZodString",t.ZodNumber="ZodNumber",t.ZodNaN="ZodNaN",t.ZodBigInt="ZodBigInt",t.ZodBoolean="ZodBoolean",t.ZodDate="ZodDate",t.ZodSymbol="ZodSymbol",t.ZodUndefined="ZodUndefined",t.ZodNull="ZodNull",t.ZodAny="ZodAny",t.ZodUnknown="ZodUnknown",t.ZodNever="ZodNever",t.ZodVoid="ZodVoid",t.ZodArray="ZodArray",t.ZodObject="ZodObject",t.ZodUnion="ZodUnion",t.ZodDiscriminatedUnion="ZodDiscriminatedUnion",t.ZodIntersection="ZodIntersection",t.ZodTuple="ZodTuple",t.ZodRecord="ZodRecord",t.ZodMap="ZodMap",t.ZodSet="ZodSet",t.ZodFunction="ZodFunction",t.ZodLazy="ZodLazy",t.ZodLiteral="ZodLiteral",t.ZodEnum="ZodEnum",t.ZodEffects="ZodEffects",t.ZodNativeEnum="ZodNativeEnum",t.ZodOptional="ZodOptional",t.ZodNullable="ZodNullable",t.ZodDefault="ZodDefault",t.ZodCatch="ZodCatch",t.ZodPromise="ZodPromise",t.ZodBranded="ZodBranded",t.ZodPipeline="ZodPipeline",t.ZodReadonly="ZodReadonly"})(D||(D={}));const aq=(t,e={message:`Input not instance of ${t.name}`})=>zO(n=>n instanceof t,e),DO=kr.create,FO=vs.create,oq=Qh.create,lq=bs.create,BO=rc.create,uq=ma.create,cq=Jh.create,dq=ic.create,fq=sc.create,hq=Vo.create,pq=aa.create,mq=$i.create,gq=Xh.create,yq=Pr.create,vq=Qe.create,bq=Qe.strictCreate,wq=ac.create,_q=fm.create,xq=oc.create,kq=ri.create,Sq=lc.create,Cq=Yh.create,Tq=ga.create,Pq=Po.create,Eq=uc.create,Aq=cc.create,Iq=ws.create,Oq=dc.create,Rq=Uo.create,ES=Or.create,$q=ti.create,Nq=_s.create,jq=Or.createWithPreprocess,Mq=Mc.create,Lq=()=>DO().optional(),zq=()=>FO().optional(),Dq=()=>BO().optional(),Fq={string:t=>kr.create({...t,coerce:!0}),number:t=>vs.create({...t,coerce:!0}),boolean:t=>rc.create({...t,coerce:!0}),bigint:t=>bs.create({...t,coerce:!0}),date:t=>ma.create({...t,coerce:!0})},Bq=ne;var ep=Object.freeze({__proto__:null,defaultErrorMap:Bo,setErrorMap:BW,getErrorMap:Zh,makeIssue:Gh,EMPTY_PATH:VW,addIssueToContext:U,ParseStatus:qt,INVALID:ne,DIRTY:uo,OK:tn,isAborted:t0,isDirty:n0,isValid:tc,isAsync:nc,get util(){return ye},get objectUtil(){return e0},ZodParsedType:H,getParsedType:Qi,ZodType:le,datetimeRegex:MO,ZodString:kr,ZodNumber:vs,ZodBigInt:bs,ZodBoolean:rc,ZodDate:ma,ZodSymbol:Jh,ZodUndefined:ic,ZodNull:sc,ZodAny:Vo,ZodUnknown:aa,ZodNever:$i,ZodVoid:Xh,ZodArray:Pr,ZodObject:Qe,ZodUnion:ac,ZodDiscriminatedUnion:fm,ZodIntersection:oc,ZodTuple:ri,ZodRecord:lc,ZodMap:Yh,ZodSet:ga,ZodFunction:Po,ZodLazy:uc,ZodLiteral:cc,ZodEnum:ws,ZodNativeEnum:dc,ZodPromise:Uo,ZodEffects:Or,ZodTransformer:Or,ZodOptional:ti,ZodNullable:_s,ZodDefault:fc,ZodCatch:hc,ZodNaN:Qh,BRAND:iq,ZodBranded:Ww,ZodPipeline:Mc,ZodReadonly:pc,custom:zO,Schema:le,ZodSchema:le,late:sq,get ZodFirstPartyTypeKind(){return D},coerce:Fq,any:hq,array:yq,bigint:lq,boolean:BO,date:uq,discriminatedUnion:_q,effect:ES,enum:Iq,function:Pq,instanceof:aq,intersection:xq,lazy:Eq,literal:Aq,map:Cq,nan:oq,nativeEnum:Oq,never:mq,null:fq,nullable:Nq,number:FO,object:vq,oboolean:Dq,onumber:zq,optional:$q,ostring:Lq,pipeline:Mq,preprocess:jq,promise:Rq,record:Sq,set:Tq,strictObject:bq,string:DO,symbol:cq,transformer:ES,tuple:kq,undefined:dq,union:wq,unknown:pq,void:gq,NEVER:Bq,ZodIssueCode:L,quotelessJson:FW,ZodError:Rn});let Nd;const Vq=new Uint8Array(16);function Uq(){if(!Nd&&(Nd=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!Nd))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return Nd(Vq)}const Hq=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;function VO(t){return typeof t=="string"&&Hq.test(t)}const Tt=[];for(let t=0;t<256;++t)Tt.push((t+256).toString(16).slice(1));function Wq(t,e=0){return Tt[t[e+0]]+Tt[t[e+1]]+Tt[t[e+2]]+Tt[t[e+3]]+"-"+Tt[t[e+4]]+Tt[t[e+5]]+"-"+Tt[t[e+6]]+Tt[t[e+7]]+"-"+Tt[t[e+8]]+Tt[t[e+9]]+"-"+Tt[t[e+10]]+Tt[t[e+11]]+Tt[t[e+12]]+Tt[t[e+13]]+Tt[t[e+14]]+Tt[t[e+15]]}const qq=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),AS={randomUUID:qq};function Wr(t,e,n){if(AS.randomUUID&&!e&&!t)return AS.randomUUID();t=t||{};const r=t.random||(t.rng||Uq)();return r[6]=r[6]&15|64,r[8]=r[8]&63|128,Wq(r)}class Zq{}class Lc extends Zq{get lc_namespace(){return["langchain_core","callbacks",this.name]}get lc_secrets(){}get lc_attributes(){}get lc_aliases(){}static lc_name(){return this.name}get lc_id(){return[...this.lc_namespace,gO(this.constructor)]}constructor(e){super(),Object.defineProperty(this,"lc_serializable",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"lc_kwargs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"ignoreLLM",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"ignoreChain",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"ignoreAgent",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"ignoreRetriever",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"raiseError",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"awaitHandlers",{enumerable:!0,configurable:!0,writable:!0,value:Pn("LANGCHAIN_CALLBACKS_BACKGROUND")!=="true"}),this.lc_kwargs=e||{},e&&(this.ignoreLLM=e.ignoreLLM??this.ignoreLLM,this.ignoreChain=e.ignoreChain??this.ignoreChain,this.ignoreAgent=e.ignoreAgent??this.ignoreAgent,this.ignoreRetriever=e.ignoreRetriever??this.ignoreRetriever,this.raiseError=e.raiseError??this.raiseError,this.awaitHandlers=this.raiseError||(e._awaitHandler??this.awaitHandlers))}copy(){return new this.constructor(this)}toJSON(){return pa.prototype.toJSON.call(this)}toJSONNotImplemented(){return pa.prototype.toJSONNotImplemented.call(this)}static fromMethods(e){class n extends Lc{constructor(){super(),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:Wr()}),Object.assign(this,e)}}return new n}}var qw={exports:{}};qw.exports;(function(t){const n=(s=0)=>a=>`\x1B[${38+s};5;${a}m`,r=(s=0)=>(a,o,l)=>`\x1B[${38+s};2;${a};${o};${l}m`;function i(){const s=new Map,a={modifier:{reset:[0,0],bold:[1,22],dim:[2,22],italic:[3,23],underline:[4,24],overline:[53,55],inverse:[7,27],hidden:[8,28],strikethrough:[9,29]},color:{black:[30,39],red:[31,39],green:[32,39],yellow:[33,39],blue:[34,39],magenta:[35,39],cyan:[36,39],white:[37,39],blackBright:[90,39],redBright:[91,39],greenBright:[92,39],yellowBright:[93,39],blueBright:[94,39],magentaBright:[95,39],cyanBright:[96,39],whiteBright:[97,39]},bgColor:{bgBlack:[40,49],bgRed:[41,49],bgGreen:[42,49],bgYellow:[43,49],bgBlue:[44,49],bgMagenta:[45,49],bgCyan:[46,49],bgWhite:[47,49],bgBlackBright:[100,49],bgRedBright:[101,49],bgGreenBright:[102,49],bgYellowBright:[103,49],bgBlueBright:[104,49],bgMagentaBright:[105,49],bgCyanBright:[106,49],bgWhiteBright:[107,49]}};a.color.gray=a.color.blackBright,a.bgColor.bgGray=a.bgColor.bgBlackBright,a.color.grey=a.color.blackBright,a.bgColor.bgGrey=a.bgColor.bgBlackBright;for(const[o,l]of Object.entries(a)){for(const[u,c]of Object.entries(l))a[u]={open:`\x1B[${c[0]}m`,close:`\x1B[${c[1]}m`},l[u]=a[u],s.set(c[0],c[1]);Object.defineProperty(a,o,{value:l,enumerable:!1})}return Object.defineProperty(a,"codes",{value:s,enumerable:!1}),a.color.close="\x1B[39m",a.bgColor.close="\x1B[49m",a.color.ansi256=n(),a.color.ansi16m=r(),a.bgColor.ansi256=n(10),a.bgColor.ansi16m=r(10),Object.defineProperties(a,{rgbToAnsi256:{value:(o,l,u)=>o===l&&l===u?o<8?16:o>248?231:Math.round((o-8)/247*24)+232:16+36*Math.round(o/255*5)+6*Math.round(l/255*5)+Math.round(u/255*5),enumerable:!1},hexToRgb:{value:o=>{const l=/(?<colorString>[a-f\d]{6}|[a-f\d]{3})/i.exec(o.toString(16));if(!l)return[0,0,0];let{colorString:u}=l.groups;u.length===3&&(u=u.split("").map(d=>d+d).join(""));const c=Number.parseInt(u,16);return[c>>16&255,c>>8&255,c&255]},enumerable:!1},hexToAnsi256:{value:o=>a.rgbToAnsi256(...a.hexToRgb(o)),enumerable:!1}}),a}Object.defineProperty(t,"exports",{enumerable:!0,get:i})})(qw);var Gq=qw.exports;const UO=ba(Gq);function Gg(t,e){return t&&!Array.isArray(t)&&typeof t=="object"?t:{[e]:t}}function Kq(t){return t.replace(/[-:.]/g,"")}function Jq(t,e,n){const r=n.toFixed(0).slice(0,3).padStart(3,"0");return Kq(`${new Date(t).toISOString().slice(0,-1)}${r}Z`)+e}class hm extends Lc{constructor(e){super(...arguments),Object.defineProperty(this,"runMap",{enumerable:!0,configurable:!0,writable:!0,value:new Map})}copy(){return this}stringifyError(e){return e instanceof Error?e.message+(e!=null&&e.stack?`

${e.stack}`:""):typeof e=="string"?e:`${e}`}_addChildRun(e,n){e.child_runs.push(n)}async _startTrace(e){var i;const n=Jq(e.start_time,e.id,e.execution_order),r={...e};if(r.parent_run_id!==void 0){const s=this.runMap.get(r.parent_run_id);s&&(this._addChildRun(s,r),s.child_execution_order=Math.max(s.child_execution_order,r.child_execution_order),r.trace_id=s.trace_id,s.dotted_order!==void 0&&(r.dotted_order=[s.dotted_order,n].join(".")))}else r.trace_id=r.id,r.dotted_order=n;this.runMap.set(r.id,r),await((i=this.onRunCreate)==null?void 0:i.call(this,r))}async _endTrace(e){var r;const n=e.parent_run_id!==void 0&&this.runMap.get(e.parent_run_id);n?n.child_execution_order=Math.max(n.child_execution_order,e.child_execution_order):await this.persistRun(e),this.runMap.delete(e.id),await((r=this.onRunUpdate)==null?void 0:r.call(this,e))}_getExecutionOrder(e){const n=e!==void 0&&this.runMap.get(e);return n?n.child_execution_order+1:1}async handleLLMStart(e,n,r,i,s,a,o,l){var h;const u=this._getExecutionOrder(i),c=Date.now(),d=o?{...s,metadata:o}:s,f={id:r,name:l??e.id[e.id.length-1],parent_run_id:i,start_time:c,serialized:e,events:[{name:"start",time:new Date(c).toISOString()}],inputs:{prompts:n},execution_order:u,child_runs:[],child_execution_order:u,run_type:"llm",extra:d??{},tags:a||[]};return await this._startTrace(f),await((h=this.onLLMStart)==null?void 0:h.call(this,f)),f}async handleChatModelStart(e,n,r,i,s,a,o,l){var h;const u=this._getExecutionOrder(i),c=Date.now(),d=o?{...s,metadata:o}:s,f={id:r,name:l??e.id[e.id.length-1],parent_run_id:i,start_time:c,serialized:e,events:[{name:"start",time:new Date(c).toISOString()}],inputs:{messages:n},execution_order:u,child_runs:[],child_execution_order:u,run_type:"llm",extra:d??{},tags:a||[]};return await this._startTrace(f),await((h=this.onLLMStart)==null?void 0:h.call(this,f)),f}async handleLLMEnd(e,n){var i;const r=this.runMap.get(n);if(!r||(r==null?void 0:r.run_type)!=="llm")throw new Error("No LLM run to end.");return r.end_time=Date.now(),r.outputs=e,r.events.push({name:"end",time:new Date(r.end_time).toISOString()}),await((i=this.onLLMEnd)==null?void 0:i.call(this,r)),await this._endTrace(r),r}async handleLLMError(e,n){var i;const r=this.runMap.get(n);if(!r||(r==null?void 0:r.run_type)!=="llm")throw new Error("No LLM run to end.");return r.end_time=Date.now(),r.error=this.stringifyError(e),r.events.push({name:"error",time:new Date(r.end_time).toISOString()}),await((i=this.onLLMError)==null?void 0:i.call(this,r)),await this._endTrace(r),r}async handleChainStart(e,n,r,i,s,a,o,l){var f;const u=this._getExecutionOrder(i),c=Date.now(),d={id:r,name:l??e.id[e.id.length-1],parent_run_id:i,start_time:c,serialized:e,events:[{name:"start",time:new Date(c).toISOString()}],inputs:n,execution_order:u,child_execution_order:u,run_type:o??"chain",child_runs:[],extra:a?{metadata:a}:{},tags:s||[]};return await this._startTrace(d),await((f=this.onChainStart)==null?void 0:f.call(this,d)),d}async handleChainEnd(e,n,r,i,s){var o;const a=this.runMap.get(n);if(!a)throw new Error("No chain run to end.");return a.end_time=Date.now(),a.outputs=Gg(e,"output"),a.events.push({name:"end",time:new Date(a.end_time).toISOString()}),(s==null?void 0:s.inputs)!==void 0&&(a.inputs=Gg(s.inputs,"input")),await((o=this.onChainEnd)==null?void 0:o.call(this,a)),await this._endTrace(a),a}async handleChainError(e,n,r,i,s){var o;const a=this.runMap.get(n);if(!a)throw new Error("No chain run to end.");return a.end_time=Date.now(),a.error=this.stringifyError(e),a.events.push({name:"error",time:new Date(a.end_time).toISOString()}),(s==null?void 0:s.inputs)!==void 0&&(a.inputs=Gg(s.inputs,"input")),await((o=this.onChainError)==null?void 0:o.call(this,a)),await this._endTrace(a),a}async handleToolStart(e,n,r,i,s,a,o){var d;const l=this._getExecutionOrder(i),u=Date.now(),c={id:r,name:o??e.id[e.id.length-1],parent_run_id:i,start_time:u,serialized:e,events:[{name:"start",time:new Date(u).toISOString()}],inputs:{input:n},execution_order:l,child_execution_order:l,run_type:"tool",child_runs:[],extra:a?{metadata:a}:{},tags:s||[]};return await this._startTrace(c),await((d=this.onToolStart)==null?void 0:d.call(this,c)),c}async handleToolEnd(e,n){var i;const r=this.runMap.get(n);if(!r||(r==null?void 0:r.run_type)!=="tool")throw new Error("No tool run to end");return r.end_time=Date.now(),r.outputs={output:e},r.events.push({name:"end",time:new Date(r.end_time).toISOString()}),await((i=this.onToolEnd)==null?void 0:i.call(this,r)),await this._endTrace(r),r}async handleToolError(e,n){var i;const r=this.runMap.get(n);if(!r||(r==null?void 0:r.run_type)!=="tool")throw new Error("No tool run to end");return r.end_time=Date.now(),r.error=this.stringifyError(e),r.events.push({name:"error",time:new Date(r.end_time).toISOString()}),await((i=this.onToolError)==null?void 0:i.call(this,r)),await this._endTrace(r),r}async handleAgentAction(e,n){var s;const r=this.runMap.get(n);if(!r||(r==null?void 0:r.run_type)!=="chain")return;const i=r;i.actions=i.actions||[],i.actions.push(e),i.events.push({name:"agent_action",time:new Date().toISOString(),kwargs:{action:e}}),await((s=this.onAgentAction)==null?void 0:s.call(this,r))}async handleAgentEnd(e,n){var i;const r=this.runMap.get(n);!r||(r==null?void 0:r.run_type)!=="chain"||(r.events.push({name:"agent_end",time:new Date().toISOString(),kwargs:{action:e}}),await((i=this.onAgentEnd)==null?void 0:i.call(this,r)))}async handleRetrieverStart(e,n,r,i,s,a,o){var d;const l=this._getExecutionOrder(i),u=Date.now(),c={id:r,name:o??e.id[e.id.length-1],parent_run_id:i,start_time:u,serialized:e,events:[{name:"start",time:new Date(u).toISOString()}],inputs:{query:n},execution_order:l,child_execution_order:l,run_type:"retriever",child_runs:[],extra:a?{metadata:a}:{},tags:s||[]};return await this._startTrace(c),await((d=this.onRetrieverStart)==null?void 0:d.call(this,c)),c}async handleRetrieverEnd(e,n){var i;const r=this.runMap.get(n);if(!r||(r==null?void 0:r.run_type)!=="retriever")throw new Error("No retriever run to end");return r.end_time=Date.now(),r.outputs={documents:e},r.events.push({name:"end",time:new Date(r.end_time).toISOString()}),await((i=this.onRetrieverEnd)==null?void 0:i.call(this,r)),await this._endTrace(r),r}async handleRetrieverError(e,n){var i;const r=this.runMap.get(n);if(!r||(r==null?void 0:r.run_type)!=="retriever")throw new Error("No retriever run to end");return r.end_time=Date.now(),r.error=this.stringifyError(e),r.events.push({name:"error",time:new Date(r.end_time).toISOString()}),await((i=this.onRetrieverError)==null?void 0:i.call(this,r)),await this._endTrace(r),r}async handleText(e,n){var i;const r=this.runMap.get(n);!r||(r==null?void 0:r.run_type)!=="chain"||(r.events.push({name:"text",time:new Date().toISOString(),kwargs:{text:e}}),await((i=this.onText)==null?void 0:i.call(this,r)))}async handleLLMNewToken(e,n,r,i,s,a){var l;const o=this.runMap.get(r);if(!o||(o==null?void 0:o.run_type)!=="llm")throw new Error('Invalid "runId" provided to "handleLLMNewToken" callback.');return o.events.push({name:"new_token",time:new Date().toISOString(),kwargs:{token:e,idx:n,chunk:a==null?void 0:a.chunk}}),await((l=this.onLLMNewToken)==null?void 0:l.call(this,o,e,{chunk:a==null?void 0:a.chunk})),o}}function Gt(t,e){return`${t.open}${e}${t.close}`}function pr(t,e){try{return JSON.stringify(t,null,2)}catch{return e}}function Vi(t){if(!t.end_time)return"";const e=t.end_time-t.start_time;return e<1e3?`${e}ms`:`${(e/1e3).toFixed(2)}s`}const{color:on}=UO;class IS extends hm{constructor(){super(...arguments),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"console_callback_handler"})}persistRun(e){return Promise.resolve()}getParents(e){const n=[];let r=e;for(;r.parent_run_id;){const i=this.runMap.get(r.parent_run_id);if(i)n.push(i),r=i;else break}return n}getBreadcrumbs(e){const r=[...this.getParents(e).reverse(),e].map((i,s,a)=>{const o=`${i.execution_order}:${i.run_type}:${i.name}`;return s===a.length-1?Gt(UO.bold,o):o}).join(" > ");return Gt(on.grey,r)}onChainStart(e){const n=this.getBreadcrumbs(e);console.log(`${Gt(on.green,"[chain/start]")} [${n}] Entering Chain run with input: ${pr(e.inputs,"[inputs]")}`)}onChainEnd(e){const n=this.getBreadcrumbs(e);console.log(`${Gt(on.cyan,"[chain/end]")} [${n}] [${Vi(e)}] Exiting Chain run with output: ${pr(e.outputs,"[outputs]")}`)}onChainError(e){const n=this.getBreadcrumbs(e);console.log(`${Gt(on.red,"[chain/error]")} [${n}] [${Vi(e)}] Chain run errored with error: ${pr(e.error,"[error]")}`)}onLLMStart(e){const n=this.getBreadcrumbs(e),r="prompts"in e.inputs?{prompts:e.inputs.prompts.map(i=>i.trim())}:e.inputs;console.log(`${Gt(on.green,"[llm/start]")} [${n}] Entering LLM run with input: ${pr(r,"[inputs]")}`)}onLLMEnd(e){const n=this.getBreadcrumbs(e);console.log(`${Gt(on.cyan,"[llm/end]")} [${n}] [${Vi(e)}] Exiting LLM run with output: ${pr(e.outputs,"[response]")}`)}onLLMError(e){const n=this.getBreadcrumbs(e);console.log(`${Gt(on.red,"[llm/error]")} [${n}] [${Vi(e)}] LLM run errored with error: ${pr(e.error,"[error]")}`)}onToolStart(e){var r;const n=this.getBreadcrumbs(e);console.log(`${Gt(on.green,"[tool/start]")} [${n}] Entering Tool run with input: "${(r=e.inputs.input)==null?void 0:r.trim()}"`)}onToolEnd(e){var r,i;const n=this.getBreadcrumbs(e);console.log(`${Gt(on.cyan,"[tool/end]")} [${n}] [${Vi(e)}] Exiting Tool run with output: "${(i=(r=e.outputs)==null?void 0:r.output)==null?void 0:i.trim()}"`)}onToolError(e){const n=this.getBreadcrumbs(e);console.log(`${Gt(on.red,"[tool/error]")} [${n}] [${Vi(e)}] Tool run errored with error: ${pr(e.error,"[error]")}`)}onRetrieverStart(e){const n=this.getBreadcrumbs(e);console.log(`${Gt(on.green,"[retriever/start]")} [${n}] Entering Retriever run with input: ${pr(e.inputs,"[inputs]")}`)}onRetrieverEnd(e){const n=this.getBreadcrumbs(e);console.log(`${Gt(on.cyan,"[retriever/end]")} [${n}] [${Vi(e)}] Exiting Retriever run with output: ${pr(e.outputs,"[outputs]")}`)}onRetrieverError(e){const n=this.getBreadcrumbs(e);console.log(`${Gt(on.red,"[retriever/error]")} [${n}] [${Vi(e)}] Retriever run errored with error: ${pr(e.error,"[error]")}`)}onAgentAction(e){const n=e,r=this.getBreadcrumbs(e);console.log(`${Gt(on.blue,"[agent/action]")} [${r}] Agent selected action: ${pr(n.actions[n.actions.length-1],"[action]")}`)}}const Xq=[400,401,403,404,405,406,407,408],Yq=[409];class OS{constructor(e){Object.defineProperty(this,"maxConcurrency",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"maxRetries",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"queue",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"onFailedResponseHook",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.maxConcurrency=e.maxConcurrency??1/0,this.maxRetries=e.maxRetries??6,"default"in Ti?this.queue=new Ti.default({concurrency:this.maxConcurrency}):this.queue=new Ti({concurrency:this.maxConcurrency}),this.onFailedResponseHook=e==null?void 0:e.onFailedResponseHook}call(e,...n){const r=this.onFailedResponseHook;return this.queue.add(()=>qh(()=>e(...n).catch(i=>{throw i instanceof Error?i:new Error(i)}),{async onFailedAttempt(i){if(i.message.startsWith("Cancel")||i.message.startsWith("TimeoutError")||i.message.startsWith("AbortError")||(i==null?void 0:i.code)==="ECONNABORTED")throw i;const s=i==null?void 0:i.response,a=s==null?void 0:s.status;if(a){if(Xq.includes(+a))throw i;if(Yq.includes(+a))return;r&&await r(s)}},retries:this.maxRetries,randomize:!0}),{throwOnTimeout:!0})}callWithOptions(e,n,...r){return e.signal?Promise.race([this.call(n,...r),new Promise((i,s)=>{var a;(a=e.signal)==null||a.addEventListener("abort",()=>{s(new Error("AbortError"))})})]):this.call(n,...r)}fetch(...e){return this.call(()=>fetch(...e).then(n=>n.ok?n:Promise.reject(n)))}}function RS(t){return typeof(t==null?void 0:t._getType)=="function"}function $S(t){const e={type:t._getType(),data:{content:t.content}};return t!=null&&t.additional_kwargs&&Object.keys(t.additional_kwargs).length>0&&(e.data.additional_kwargs={...t.additional_kwargs}),e}var gu={};let ui;const Qq=()=>typeof window<"u"&&typeof window.document<"u",eZ=()=>typeof globalThis=="object"&&globalThis.constructor&&globalThis.constructor.name==="DedicatedWorkerGlobalScope",tZ=()=>typeof window<"u"&&window.name==="nodejs"||typeof navigator<"u"&&(navigator.userAgent.includes("Node.js")||navigator.userAgent.includes("jsdom")),HO=()=>typeof Deno<"u",nZ=()=>typeof process<"u"&&typeof process.versions<"u"&&typeof process.versions.node<"u"&&!HO(),rZ=()=>ui||(Qq()?ui="browser":nZ()?ui="node":eZ()?ui="webworker":tZ()?ui="jsdom":HO()?ui="deno":ui="other",ui);let Kg;async function iZ(){if(Kg===void 0){const t=rZ(),e=oZ();Kg={library:"langsmith",runtime:t,sdk:"langsmith-js",sdk_version:WO,...e}}return Kg}function sZ(){const t=aZ()||{},e={},n=["LANGCHAIN_API_KEY","LANGCHAIN_ENDPOINT","LANGCHAIN_TRACING_V2","LANGCHAIN_PROJECT","LANGCHAIN_SESSION"];for(const[r,i]of Object.entries(t))r.startsWith("LANGCHAIN_")&&typeof i=="string"&&!n.includes(r)&&!r.toLowerCase().includes("key")&&!r.toLowerCase().includes("secret")&&!r.toLowerCase().includes("token")&&(r==="LANGCHAIN_REVISION_ID"?e.revision_id=i:e[r]=i);return e}function aZ(){try{return typeof process<"u"&&gu?Object.entries(gu).reduce((t,[e,n])=>(t[e]=String(n),t),{}):void 0}catch{return}}function Vs(t){try{return typeof process<"u"?gu==null?void 0:gu[t]:void 0}catch{return}}let Jg;function oZ(){if(Jg!==void 0)return Jg;const t=["VERCEL_GIT_COMMIT_SHA","NEXT_PUBLIC_VERCEL_GIT_COMMIT_SHA","COMMIT_REF","RENDER_GIT_COMMIT","CI_COMMIT_SHA","CIRCLE_SHA1","CF_PAGES_COMMIT_SHA","REACT_APP_GIT_SHA","SOURCE_VERSION","GITHUB_SHA","TRAVIS_COMMIT","GIT_COMMIT","BUILD_VCS_NUMBER","bamboo_planRepository_revision","Build.SourceVersion","BITBUCKET_COMMIT","DRONE_COMMIT_SHA","SEMAPHORE_GIT_SHA","BUILDKITE_COMMIT"],e={};for(const n of t){const r=Vs(n);r!==void 0&&(e[n]=r)}return Jg=e,e}function Ye(t){if(!VO(t))throw new Error(`Invalid UUID: ${t}`)}async function NS(t){const e=await iZ(),n=sZ();return t.map(r=>{const i=r.extra??{},s=i.metadata;return r.extra={...i,runtime:{...e,...i==null?void 0:i.runtime},metadata:{...n,...n.revision_id||r.revision_id?{revision_id:r.revision_id??n.revision_id}:{},...s}},r})}const lZ=()=>{const t=Vs("LANGCHAIN_TRACING_SAMPLING_RATE");if(t===void 0)return;const e=parseFloat(t);if(e<0||e>1)throw new Error(`LANGCHAIN_TRACING_SAMPLING_RATE must be between 0 and 1 if set. Got: ${e}`);return e},uZ=t=>{const n=t.replace("http://","").replace("https://","").split("/")[0].split(":")[0];return n==="localhost"||n==="127.0.0.1"||n==="::1"},Ui=async(t,e)=>{const n=await t.text();if(!t.ok)throw new Error(`Failed to ${e}: ${t.status} ${t.statusText} ${n}`)};async function cZ(t){const e=[];for await(const n of t)e.push(n);return e}function Xg(t){if(t!==void 0)return t.trim().replace(/^"(.*)"$/,"$1").replace(/^'(.*)'$/,"$1")}const dZ=async t=>{if((t==null?void 0:t.status)===429){const e=parseInt(t.headers.get("retry-after")??"30",10)*1e3;if(e>0)return await new Promise(n=>setTimeout(n,e)),!0}return!1};class fZ{constructor(){Object.defineProperty(this,"items",{enumerable:!0,configurable:!0,writable:!0,value:[]})}get size(){return this.items.length}push(e){return new Promise(n=>{this.items.push([e,n])})}pop(e){if(e<1)throw new Error("Number of items to pop off may not be less than 1.");const n=[];for(;n.length<e&&this.items.length;){const r=this.items.shift();if(r)n.push(r);else break}return[n.map(r=>r[0]),()=>n.forEach(r=>r[1]())]}}const hZ=20971520;class Zw{constructor(e={}){Object.defineProperty(this,"apiKey",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"apiUrl",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"webUrl",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"caller",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"batchIngestCaller",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"timeout_ms",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_tenantId",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(this,"hideInputs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"hideOutputs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"tracingSampleRate",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"sampledPostUuids",{enumerable:!0,configurable:!0,writable:!0,value:new Set}),Object.defineProperty(this,"autoBatchTracing",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"batchEndpointSupported",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"autoBatchQueue",{enumerable:!0,configurable:!0,writable:!0,value:new fZ}),Object.defineProperty(this,"pendingAutoBatchedRunLimit",{enumerable:!0,configurable:!0,writable:!0,value:100}),Object.defineProperty(this,"autoBatchTimeout",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"autoBatchInitialDelayMs",{enumerable:!0,configurable:!0,writable:!0,value:250}),Object.defineProperty(this,"autoBatchAggregationDelayMs",{enumerable:!0,configurable:!0,writable:!0,value:50}),Object.defineProperty(this,"serverInfo",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"fetchOptions",{enumerable:!0,configurable:!0,writable:!0,value:void 0});const n=Zw.getDefaultClientConfig();this.tracingSampleRate=lZ(),this.apiUrl=Xg(e.apiUrl??n.apiUrl)??"",this.apiKey=Xg(e.apiKey??n.apiKey),this.webUrl=Xg(e.webUrl??n.webUrl),this.timeout_ms=e.timeout_ms??12e3,this.caller=new OS(e.callerOptions??{}),this.batchIngestCaller=new OS({...e.callerOptions??{},onFailedResponseHook:dZ}),this.hideInputs=e.hideInputs??n.hideInputs,this.hideOutputs=e.hideOutputs??n.hideOutputs,this.autoBatchTracing=e.autoBatchTracing??this.autoBatchTracing,this.pendingAutoBatchedRunLimit=e.pendingAutoBatchedRunLimit??this.pendingAutoBatchedRunLimit,this.fetchOptions=e.fetchOptions||{}}static getDefaultClientConfig(){const e=Vs("LANGCHAIN_API_KEY"),n=Vs("LANGCHAIN_ENDPOINT")??"https://api.smith.langchain.com",r=Vs("LANGCHAIN_HIDE_INPUTS")==="true",i=Vs("LANGCHAIN_HIDE_OUTPUTS")==="true";return{apiUrl:n,apiKey:e,webUrl:void 0,hideInputs:r,hideOutputs:i}}getHostUrl(){return this.webUrl?this.webUrl:uZ(this.apiUrl)?(this.webUrl="http://localhost","http://localhost"):this.apiUrl.includes("/api")&&!this.apiUrl.split(".",1)[0].endsWith("api")?(this.webUrl=this.apiUrl.replace("/api",""),this.webUrl):this.apiUrl.split(".",1)[0].includes("dev")?(this.webUrl="https://dev.smith.langchain.com","https://dev.smith.langchain.com"):(this.webUrl="https://smith.langchain.com","https://smith.langchain.com")}get headers(){const e={"User-Agent":`langsmith-js/${WO}`};return this.apiKey&&(e["x-api-key"]=`${this.apiKey}`),e}processInputs(e){return this.hideInputs===!1?e:this.hideInputs===!0?{}:typeof this.hideInputs=="function"?this.hideInputs(e):e}processOutputs(e){return this.hideOutputs===!1?e:this.hideOutputs===!0?{}:typeof this.hideOutputs=="function"?this.hideOutputs(e):e}prepareRunCreateOrUpdateInputs(e){const n={...e};return n.inputs!==void 0&&(n.inputs=this.processInputs(n.inputs)),n.outputs!==void 0&&(n.outputs=this.processOutputs(n.outputs)),n}async _getResponse(e,n){const r=(n==null?void 0:n.toString())??"",i=`${this.apiUrl}${e}?${r}`,s=await this.caller.call(fetch,i,{method:"GET",headers:this.headers,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});if(!s.ok)throw new Error(`Failed to fetch ${e}: ${s.status} ${s.statusText}`);return s}async _get(e,n){return(await this._getResponse(e,n)).json()}async*_getPaginated(e,n=new URLSearchParams){let r=Number(n.get("offset"))||0;const i=Number(n.get("limit"))||100;for(;;){n.set("offset",String(r)),n.set("limit",String(i));const s=`${this.apiUrl}${e}?${n}`,a=await this.caller.call(fetch,s,{method:"GET",headers:this.headers,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});if(!a.ok)throw new Error(`Failed to fetch ${e}: ${a.status} ${a.statusText}`);const o=await a.json();if(o.length===0||(yield o,o.length<i))break;r+=o.length}}async*_getCursorPaginatedList(e,n=null,r="POST",i="runs"){const s=n?{...n}:{};for(;;){const o=await(await this.caller.call(fetch,`${this.apiUrl}${e}`,{method:r,headers:{...this.headers,"Content-Type":"application/json"},signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions,body:JSON.stringify(s)})).json();if(!o||!o[i])break;yield o[i];const l=o.cursors;if(!l||!l.next)break;s.cursor=l.next}}_filterForSampling(e,n=!1){if(this.tracingSampleRate===void 0)return e;if(n){const r=[];for(const i of e)this.sampledPostUuids.has(i.id)&&(r.push(i),this.sampledPostUuids.delete(i.id));return r}else{const r=[];for(const i of e)Math.random()<this.tracingSampleRate&&(r.push(i),this.sampledPostUuids.add(i.id));return r}}async drainAutoBatchQueue(){for(;this.autoBatchQueue.size>=0;){const[e,n]=this.autoBatchQueue.pop(this.pendingAutoBatchedRunLimit);if(!e.length){n();return}try{await this.batchIngestRuns({runCreates:e.filter(r=>r.action==="create").map(r=>r.item),runUpdates:e.filter(r=>r.action==="update").map(r=>r.item)})}finally{n()}}}async processRunOperation(e,n){const r=this.autoBatchTimeout;clearTimeout(this.autoBatchTimeout),this.autoBatchTimeout=void 0;const i=this.autoBatchQueue.push(e);return(n||this.autoBatchQueue.size>this.pendingAutoBatchedRunLimit)&&await this.drainAutoBatchQueue(),this.autoBatchQueue.size>0&&(this.autoBatchTimeout=setTimeout(()=>{this.autoBatchTimeout=void 0,this.drainAutoBatchQueue().catch(console.error)},r?this.autoBatchAggregationDelayMs:this.autoBatchInitialDelayMs)),i}async _getServerInfo(){const e=await fetch(`${this.apiUrl}/info`,{method:"GET",headers:{Accept:"application/json"},signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});if(!e.ok)throw await e.text(),new Error("Failed to retrieve server info.");return e.json()}async batchEndpointIsSupported(){try{this.serverInfo=await this._getServerInfo()}catch{return!1}return!0}async createRun(e){if(!this._filterForSampling([e]).length)return;const n={...this.headers,"Content-Type":"application/json"},r=e.project_name;delete e.project_name;const i=this.prepareRunCreateOrUpdateInputs({session_name:r,...e,start_time:e.start_time??Date.now()});if(this.autoBatchTracing&&i.trace_id!==void 0&&i.dotted_order!==void 0){this.processRunOperation({action:"create",item:i}).catch(console.error);return}const s=await NS([i]),a=await this.caller.call(fetch,`${this.apiUrl}/runs`,{method:"POST",headers:n,body:JSON.stringify(s[0]),signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});await Ui(a,"create run")}async batchIngestRuns({runCreates:e,runUpdates:n}){var u,c;if(e===void 0&&n===void 0)return;let r=(e==null?void 0:e.map(d=>this.prepareRunCreateOrUpdateInputs(d)))??[],i=(n==null?void 0:n.map(d=>this.prepareRunCreateOrUpdateInputs(d)))??[];if(r.length>0&&i.length>0){const d=r.reduce((h,p)=>(p.id&&(h[p.id]=p),h),{}),f=[];for(const h of i)h.id!==void 0&&d[h.id]?d[h.id]={...d[h.id],...h}:f.push(h);r=Object.values(d),i=f}const s={post:this._filterForSampling(r),patch:this._filterForSampling(i,!0)};if(!s.post.length&&!s.patch.length)return;if(r=await NS(r),this.batchEndpointSupported===void 0&&(this.batchEndpointSupported=await this.batchEndpointIsSupported()),!this.batchEndpointSupported){this.autoBatchTracing=!1;for(const d of s.post)await this.createRun(d);for(const d of s.patch)d.id!==void 0&&await this.updateRun(d.id,d);return}const a=((c=(u=this.serverInfo)==null?void 0:u.batch_ingest_config)==null?void 0:c.size_limit_bytes)??hZ,o={post:[],patch:[]};let l=0;for(const d of["post","patch"]){const f=d,h=s[f].reverse();let p=h.pop();for(;p!==void 0;){const y=JSON.stringify(p);l>0&&l+y.length>a&&(await this._postBatchIngestRuns(JSON.stringify(o)),l=0,o.post=[],o.patch=[]),l+=y.length,o[f].push(p),p=h.pop()}}(o.post.length>0||o.patch.length>0)&&await this._postBatchIngestRuns(JSON.stringify(o))}async _postBatchIngestRuns(e){const n={...this.headers,"Content-Type":"application/json",Accept:"application/json"},r=await this.batchIngestCaller.call(fetch,`${this.apiUrl}/runs/batch`,{method:"POST",headers:n,body:e,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});await Ui(r,"batch create run")}async updateRun(e,n){Ye(e),n.inputs&&(n.inputs=this.processInputs(n.inputs)),n.outputs&&(n.outputs=this.processOutputs(n.outputs));const r={...n,id:e};if(!this._filterForSampling([r],!0).length)return;if(this.autoBatchTracing&&r.trace_id!==void 0&&r.dotted_order!==void 0){if(n.end_time!==void 0&&r.parent_run_id===void 0){await this.processRunOperation({action:"update",item:r},!0);return}else this.processRunOperation({action:"update",item:r}).catch(console.error);return}const i={...this.headers,"Content-Type":"application/json"},s=await this.caller.call(fetch,`${this.apiUrl}/runs/${e}`,{method:"PATCH",headers:i,body:JSON.stringify(n),signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});await Ui(s,"update run")}async readRun(e,{loadChildRuns:n}={loadChildRuns:!1}){Ye(e);let r=await this._get(`/runs/${e}`);return n&&r.child_run_ids&&(r=await this._loadChildRuns(r)),r}async getRunUrl({runId:e,run:n,projectOpts:r}){if(n!==void 0){let i;n.session_id?i=n.session_id:r!=null&&r.projectName?i=(await this.readProject({projectName:r==null?void 0:r.projectName})).id:r!=null&&r.projectId?i=r==null?void 0:r.projectId:i=(await this.readProject({projectName:Vs("LANGCHAIN_PROJECT")||"default"})).id;const s=await this._getTenantId();return`${this.getHostUrl()}/o/${s}/projects/p/${i}/r/${n.id}?poll=true`}else if(e!==void 0){const i=await this.readRun(e);if(!i.app_path)throw new Error(`Run ${e} has no app_path`);return`${this.getHostUrl()}${i.app_path}`}else throw new Error("Must provide either runId or run")}async _loadChildRuns(e){const n=await cZ(this.listRuns({id:e.child_run_ids})),r={},i={};n.sort((s,a)=>((s==null?void 0:s.dotted_order)??"").localeCompare((a==null?void 0:a.dotted_order)??""));for(const s of n){if(s.parent_run_id===null||s.parent_run_id===void 0)throw new Error(`Child run ${s.id} has no parent`);s.parent_run_id in r||(r[s.parent_run_id]=[]),r[s.parent_run_id].push(s),i[s.id]=s}e.child_runs=r[e.id]||[];for(const s in r)s!==e.id&&(i[s].child_runs=r[s]);return e}async*listRuns(e){const{projectId:n,projectName:r,parentRunId:i,traceId:s,referenceExampleId:a,startTime:o,executionOrder:l,isRoot:u,runType:c,error:d,id:f,query:h,filter:p,traceFilter:y,treeFilter:b,limit:m,select:g}=e;let v=[];if(n&&(v=Array.isArray(n)?n:[n]),r){const k=Array.isArray(r)?r:[r],I=await Promise.all(k.map(R=>this.readProject({projectName:R}).then(j=>j.id)));v.push(...I)}const x=["app_path","child_run_ids","completion_cost","completion_tokens","dotted_order","end_time","error","events","extra","feedback_stats","first_token_time","id","inputs","name","outputs","parent_run_id","parent_run_ids","prompt_cost","prompt_tokens","reference_example_id","run_type","session_id","start_time","status","tags","total_cost","total_tokens","trace_id"],C={session:v.length?v:null,run_type:c,reference_example:a,query:h,filter:p,trace_filter:y,tree_filter:b,execution_order:l,parent_run:i,start_time:o?o.toISOString():null,error:d,id:f,limit:m,trace:s,select:g||x,is_root:u};for await(const k of this._getCursorPaginatedList("/runs/query",C))yield*k}async shareRun(e,{shareId:n}={}){const r={run_id:e,share_token:n||Wr()};Ye(e);const s=await(await this.caller.call(fetch,`${this.apiUrl}/runs/${e}/share`,{method:"PUT",headers:this.headers,body:JSON.stringify(r),signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions})).json();if(s===null||!("share_token"in s))throw new Error("Invalid response from server");return`${this.getHostUrl()}/public/${s.share_token}/r`}async unshareRun(e){Ye(e);const n=await this.caller.call(fetch,`${this.apiUrl}/runs/${e}/share`,{method:"DELETE",headers:this.headers,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});await Ui(n,"unshare run")}async readRunSharedLink(e){Ye(e);const r=await(await this.caller.call(fetch,`${this.apiUrl}/runs/${e}/share`,{method:"GET",headers:this.headers,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions})).json();if(!(r===null||!("share_token"in r)))return`${this.getHostUrl()}/public/${r.share_token}/r`}async listSharedRuns(e,{runIds:n}={}){const r=new URLSearchParams({share_token:e});if(n!==void 0)for(const a of n)r.append("id",a);return Ye(e),await(await this.caller.call(fetch,`${this.apiUrl}/public/${e}/runs${r}`,{method:"GET",headers:this.headers,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions})).json()}async readDatasetSharedSchema(e,n){if(!e&&!n)throw new Error("Either datasetId or datasetName must be given");e||(e=(await this.readDataset({datasetName:n})).id),Ye(e);const i=await(await this.caller.call(fetch,`${this.apiUrl}/datasets/${e}/share`,{method:"GET",headers:this.headers,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions})).json();return i.url=`${this.getHostUrl()}/public/${i.share_token}/d`,i}async shareDataset(e,n){if(!e&&!n)throw new Error("Either datasetId or datasetName must be given");e||(e=(await this.readDataset({datasetName:n})).id);const r={dataset_id:e};Ye(e);const s=await(await this.caller.call(fetch,`${this.apiUrl}/datasets/${e}/share`,{method:"PUT",headers:this.headers,body:JSON.stringify(r),signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions})).json();return s.url=`${this.getHostUrl()}/public/${s.share_token}/d`,s}async unshareDataset(e){Ye(e);const n=await this.caller.call(fetch,`${this.apiUrl}/datasets/${e}/share`,{method:"DELETE",headers:this.headers,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});await Ui(n,"unshare dataset")}async readSharedDataset(e){return Ye(e),await(await this.caller.call(fetch,`${this.apiUrl}/public/${e}/datasets`,{method:"GET",headers:this.headers,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions})).json()}async createProject({projectName:e,description:n=null,metadata:r=null,upsert:i=!1,projectExtra:s=null,referenceDatasetId:a=null}){const o=i?"?upsert=true":"",l=`${this.apiUrl}/sessions${o}`,u=s||{};r&&(u.metadata=r);const c={name:e,extra:u,description:n};a!==null&&(c.reference_dataset_id=a);const d=await this.caller.call(fetch,l,{method:"POST",headers:{...this.headers,"Content-Type":"application/json"},body:JSON.stringify(c),signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions}),f=await d.json();if(!d.ok)throw new Error(`Failed to create session ${e}: ${d.status} ${d.statusText}`);return f}async updateProject(e,{name:n=null,description:r=null,metadata:i=null,projectExtra:s=null,endTime:a=null}){const o=`${this.apiUrl}/sessions/${e}`;let l=s;i&&(l={...l||{},metadata:i});const u={name:n,extra:l,description:r,end_time:a?new Date(a).toISOString():null},c=await this.caller.call(fetch,o,{method:"PATCH",headers:{...this.headers,"Content-Type":"application/json"},body:JSON.stringify(u),signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions}),d=await c.json();if(!c.ok)throw new Error(`Failed to update project ${e}: ${c.status} ${c.statusText}`);return d}async hasProject({projectId:e,projectName:n}){let r="/sessions";const i=new URLSearchParams;if(e!==void 0&&n!==void 0)throw new Error("Must provide either projectName or projectId, not both");if(e!==void 0)Ye(e),r+=`/${e}`;else if(n!==void 0)i.append("name",n);else throw new Error("Must provide projectName or projectId");const s=await this.caller.call(fetch,`${this.apiUrl}${r}?${i}`,{method:"GET",headers:this.headers,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});try{const a=await s.json();return s.ok?Array.isArray(a)?a.length>0:!0:!1}catch{return!1}}async readProject({projectId:e,projectName:n,includeStats:r}){let i="/sessions";const s=new URLSearchParams;if(e!==void 0&&n!==void 0)throw new Error("Must provide either projectName or projectId, not both");if(e!==void 0)Ye(e),i+=`/${e}`;else if(n!==void 0)s.append("name",n);else throw new Error("Must provide projectName or projectId");r!==void 0&&s.append("include_stats",r.toString());const a=await this._get(i,s);let o;if(Array.isArray(a)){if(a.length===0)throw new Error(`Project[id=${e}, name=${n}] not found`);o=a[0]}else o=a;return o}async _getTenantId(){if(this._tenantId!==null)return this._tenantId;const e=new URLSearchParams({limit:"1"});for await(const n of this._getPaginated("/sessions",e))return this._tenantId=n[0].tenant_id,n[0].tenant_id;throw new Error("No projects found to resolve tenant.")}async*listProjects({projectIds:e,name:n,nameContains:r,referenceDatasetId:i,referenceDatasetName:s,referenceFree:a}={}){const o=new URLSearchParams;if(e!==void 0)for(const l of e)o.append("id",l);if(n!==void 0&&o.append("name",n),r!==void 0&&o.append("name_contains",r),i!==void 0)o.append("reference_dataset",i);else if(s!==void 0){const l=await this.readDataset({datasetName:s});o.append("reference_dataset",l.id)}a!==void 0&&o.append("reference_free",a.toString());for await(const l of this._getPaginated("/sessions",o))yield*l}async deleteProject({projectId:e,projectName:n}){let r;if(e===void 0&&n===void 0)throw new Error("Must provide projectName or projectId");if(e!==void 0&&n!==void 0)throw new Error("Must provide either projectName or projectId, not both");e===void 0?r=(await this.readProject({projectName:n})).id:r=e,Ye(r);const i=await this.caller.call(fetch,`${this.apiUrl}/sessions/${r}`,{method:"DELETE",headers:this.headers,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});await Ui(i,`delete session ${r} (${n})`)}async uploadCsv({csvFile:e,fileName:n,inputKeys:r,outputKeys:i,description:s,dataType:a,name:o}){const l=`${this.apiUrl}/datasets/upload`,u=new FormData;u.append("file",e,n),r.forEach(f=>{u.append("input_keys",f)}),i.forEach(f=>{u.append("output_keys",f)}),s&&u.append("description",s),a&&u.append("data_type",a),o&&u.append("name",o);const c=await this.caller.call(fetch,l,{method:"POST",headers:this.headers,body:u,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});if(!c.ok){const f=await c.json();throw f.detail&&f.detail.includes("already exists")?new Error(`Dataset ${n} already exists`):new Error(`Failed to upload CSV: ${c.status} ${c.statusText}`)}return await c.json()}async createDataset(e,{description:n,dataType:r}={}){const i={name:e,description:n};r&&(i.data_type=r);const s=await this.caller.call(fetch,`${this.apiUrl}/datasets`,{method:"POST",headers:{...this.headers,"Content-Type":"application/json"},body:JSON.stringify(i),signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});if(!s.ok){const o=await s.json();throw o.detail&&o.detail.includes("already exists")?new Error(`Dataset ${e} already exists`):new Error(`Failed to create dataset ${s.status} ${s.statusText}`)}return await s.json()}async readDataset({datasetId:e,datasetName:n}){let r="/datasets";const i=new URLSearchParams({limit:"1"});if(e!==void 0&&n!==void 0)throw new Error("Must provide either datasetName or datasetId, not both");if(e!==void 0)Ye(e),r+=`/${e}`;else if(n!==void 0)i.append("name",n);else throw new Error("Must provide datasetName or datasetId");const s=await this._get(r,i);let a;if(Array.isArray(s)){if(s.length===0)throw new Error(`Dataset[id=${e}, name=${n}] not found`);a=s[0]}else a=s;return a}async hasDataset({datasetId:e,datasetName:n}){try{return await this.readDataset({datasetId:e,datasetName:n}),!0}catch(r){if(r instanceof Error&&r.message.toLocaleLowerCase().includes("not found"))return!1;throw r}}async diffDatasetVersions({datasetId:e,datasetName:n,fromVersion:r,toVersion:i}){let s=e;if(s===void 0&&n===void 0)throw new Error("Must provide either datasetName or datasetId");if(s!==void 0&&n!==void 0)throw new Error("Must provide either datasetName or datasetId, not both");s===void 0&&(s=(await this.readDataset({datasetName:n})).id);const a=new URLSearchParams({from_version:typeof r=="string"?r:r.toISOString(),to_version:typeof i=="string"?i:i.toISOString()});return await this._get(`/datasets/${s}/versions/diff`,a)}async readDatasetOpenaiFinetuning({datasetId:e,datasetName:n}){const r="/datasets";if(e===void 0)if(n!==void 0)e=(await this.readDataset({datasetName:n})).id;else throw new Error("Must provide datasetName or datasetId");return(await(await this._getResponse(`${r}/${e}/openai_ft`)).text()).trim().split(`
`).map(o=>JSON.parse(o))}async*listDatasets({limit:e=100,offset:n=0,datasetIds:r,datasetName:i,datasetNameContains:s}={}){const a="/datasets",o=new URLSearchParams({limit:e.toString(),offset:n.toString()});if(r!==void 0)for(const l of r)o.append("id",l);i!==void 0&&o.append("name",i),s!==void 0&&o.append("name_contains",s);for await(const l of this._getPaginated(a,o))yield*l}async deleteDataset({datasetId:e,datasetName:n}){let r="/datasets",i=e;if(e!==void 0&&n!==void 0)throw new Error("Must provide either datasetName or datasetId, not both");if(n!==void 0&&(i=(await this.readDataset({datasetName:n})).id),i!==void 0)Ye(i),r+=`/${i}`;else throw new Error("Must provide datasetName or datasetId");const s=await this.caller.call(fetch,this.apiUrl+r,{method:"DELETE",headers:this.headers,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});if(!s.ok)throw new Error(`Failed to delete ${r}: ${s.status} ${s.statusText}`);await s.json()}async createExample(e,n,{datasetId:r,datasetName:i,createdAt:s,exampleId:a,metadata:o}){let l=r;if(l===void 0&&i===void 0)throw new Error("Must provide either datasetName or datasetId");if(l!==void 0&&i!==void 0)throw new Error("Must provide either datasetName or datasetId, not both");l===void 0&&(l=(await this.readDataset({datasetName:i})).id);const u=s||new Date,c={dataset_id:l,inputs:e,outputs:n,created_at:u==null?void 0:u.toISOString(),id:a,metadata:o},d=await this.caller.call(fetch,`${this.apiUrl}/examples`,{method:"POST",headers:{...this.headers,"Content-Type":"application/json"},body:JSON.stringify(c),signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});if(!d.ok)throw new Error(`Failed to create example: ${d.status} ${d.statusText}`);return await d.json()}async createExamples(e){const{inputs:n,outputs:r,metadata:i,sourceRunIds:s,exampleIds:a,datasetId:o,datasetName:l}=e;let u=o;if(u===void 0&&l===void 0)throw new Error("Must provide either datasetName or datasetId");if(u!==void 0&&l!==void 0)throw new Error("Must provide either datasetName or datasetId, not both");u===void 0&&(u=(await this.readDataset({datasetName:l})).id);const c=n.map((h,p)=>({dataset_id:u,inputs:h,outputs:r?r[p]:void 0,metadata:i?i[p]:void 0,id:a?a[p]:void 0,source_run_id:s?s[p]:void 0})),d=await this.caller.call(fetch,`${this.apiUrl}/examples/bulk`,{method:"POST",headers:{...this.headers,"Content-Type":"application/json"},body:JSON.stringify(c),signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});if(!d.ok)throw new Error(`Failed to create examples: ${d.status} ${d.statusText}`);return await d.json()}async createLLMExample(e,n,r){return this.createExample({input:e},{output:n},r)}async createChatExample(e,n,r){const i=e.map(a=>RS(a)?$S(a):a),s=RS(n)?$S(n):n;return this.createExample({input:i},{output:s},r)}async readExample(e){Ye(e);const n=`/examples/${e}`;return await this._get(n)}async*listExamples({datasetId:e,datasetName:n,exampleIds:r,asOf:i,inlineS3Urls:s,metadata:a}={}){let o;if(e!==void 0&&n!==void 0)throw new Error("Must provide either datasetName or datasetId, not both");if(e!==void 0)o=e;else if(n!==void 0)o=(await this.readDataset({datasetName:n})).id;else throw new Error("Must provide a datasetName or datasetId");const l=new URLSearchParams({dataset:o}),u=i?typeof i=="string"?i:i==null?void 0:i.toISOString():void 0;u&&l.append("as_of",u);const c=s??!0;if(l.append("inline_s3_urls",c.toString()),r!==void 0)for(const d of r)l.append("id",d);if(a!==void 0){const d=JSON.stringify(a);l.append("metadata",d)}for await(const d of this._getPaginated("/examples",l))yield*d}async deleteExample(e){Ye(e);const n=`/examples/${e}`,r=await this.caller.call(fetch,this.apiUrl+n,{method:"DELETE",headers:this.headers,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});if(!r.ok)throw new Error(`Failed to delete ${n}: ${r.status} ${r.statusText}`);await r.json()}async updateExample(e,n){Ye(e);const r=await this.caller.call(fetch,`${this.apiUrl}/examples/${e}`,{method:"PATCH",headers:{...this.headers,"Content-Type":"application/json"},body:JSON.stringify(n),signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});if(!r.ok)throw new Error(`Failed to update example ${e}: ${r.status} ${r.statusText}`);return await r.json()}async evaluateRun(e,n,{sourceInfo:r,loadChildRuns:i,referenceExample:s}={loadChildRuns:!1}){let a;if(typeof e=="string")a=await this.readRun(e,{loadChildRuns:i});else if(typeof e=="object"&&"id"in e)a=e;else throw new Error(`Invalid run type: ${typeof e}`);a.reference_example_id!==null&&a.reference_example_id!==void 0&&(s=await this.readExample(a.reference_example_id));const o=await n.evaluateRun(a,s);let l=r??{};o.evaluatorInfo&&(l={...l,...o.evaluatorInfo});const u=o.targetRunId??a.id;return await this.createFeedback(u,o.key,{score:o==null?void 0:o.score,value:o==null?void 0:o.value,comment:o==null?void 0:o.comment,correction:o==null?void 0:o.correction,sourceInfo:l,feedbackSourceType:"model",sourceRunId:o==null?void 0:o.sourceRunId})}async createFeedback(e,n,{score:r,value:i,correction:s,comment:a,sourceInfo:o,feedbackSourceType:l="api",sourceRunId:u,feedbackId:c,feedbackConfig:d,projectId:f}){var m;if(!e&&!f)throw new Error("One of runId or projectId must be provided");if(e&&f)throw new Error("Only one of runId or projectId can be provided");const h={type:l??"api",metadata:o??{}};u!==void 0&&(h==null?void 0:h.metadata)!==void 0&&!h.metadata.__run&&(h.metadata.__run={run_id:u}),(h==null?void 0:h.metadata)!==void 0&&((m=h.metadata.__run)==null?void 0:m.run_id)!==void 0&&Ye(h.metadata.__run.run_id);const p={id:c??Wr(),run_id:e,key:n,score:r,value:i,correction:s,comment:a,feedback_source:h,feedbackConfig:d,session_id:f},y=`${this.apiUrl}/feedback`,b=await this.caller.call(fetch,y,{method:"POST",headers:{...this.headers,"Content-Type":"application/json"},body:JSON.stringify(p),signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});return await Ui(b,"create feedback"),p}async updateFeedback(e,{score:n,value:r,correction:i,comment:s}){const a={};n!=null&&(a.score=n),r!=null&&(a.value=r),i!=null&&(a.correction=i),s!=null&&(a.comment=s),Ye(e);const o=await this.caller.call(fetch,`${this.apiUrl}/feedback/${e}`,{method:"PATCH",headers:{...this.headers,"Content-Type":"application/json"},body:JSON.stringify(a),signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});await Ui(o,"update feedback")}async readFeedback(e){Ye(e);const n=`/feedback/${e}`;return await this._get(n)}async deleteFeedback(e){Ye(e);const n=`/feedback/${e}`,r=await this.caller.call(fetch,this.apiUrl+n,{method:"DELETE",headers:this.headers,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});if(!r.ok)throw new Error(`Failed to delete ${n}: ${r.status} ${r.statusText}`);await r.json()}async*listFeedback({runIds:e,feedbackKeys:n,feedbackSourceTypes:r}={}){const i=new URLSearchParams;if(e&&i.append("run",e.join(",")),n)for(const s of n)i.append("key",s);if(r)for(const s of r)i.append("source",s);for await(const s of this._getPaginated("/feedback",i))yield*s}async createPresignedFeedbackToken(e,n,{expiration:r,feedbackConfig:i}={}){const s={run_id:e,feedback_key:n,feedback_config:i};return r?typeof r=="string"?s.expires_at=r:(r!=null&&r.hours||r!=null&&r.minutes||r!=null&&r.days)&&(s.expires_in=r):s.expires_in={hours:3},await(await this.caller.call(fetch,`${this.apiUrl}/feedback/tokens`,{method:"POST",headers:{...this.headers,"Content-Type":"application/json"},body:JSON.stringify(s),signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions})).json()}async*listPresignedFeedbackTokens(e){Ye(e);const n=new URLSearchParams({run_id:e});for await(const r of this._getPaginated("/feedback/tokens",n))yield*r}_selectEvalResults(e){let n;return"results"in e?n=e.results:n=[e],n}async logEvaluationFeedback(e,n,r){const i=this._selectEvalResults(e);for(const s of i){let a=r||{};s.evaluatorInfo&&(a={...s.evaluatorInfo,...a});let o=null;s.targetRunId?o=s.targetRunId:n&&(o=n.id),await this.createFeedback(o,s.key,{score:s.score,value:s.value,comment:s.comment,correction:s.correction,sourceInfo:a,sourceRunId:s.sourceRunId,feedbackConfig:s.feedbackConfig,feedbackSourceType:"model"})}return i}}const WO="0.1.23";class pZ extends hm{constructor(e={}){super(e),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"langchain_tracer"}),Object.defineProperty(this,"projectName",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"exampleId",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"client",{enumerable:!0,configurable:!0,writable:!0,value:void 0});const{exampleId:n,projectName:r,client:i}=e;this.projectName=r??Pn("LANGCHAIN_PROJECT")??Pn("LANGCHAIN_SESSION"),this.exampleId=n,this.client=i??new Zw({})}async _convertToCreate(e,n=void 0){return{...e,extra:{...e.extra,runtime:await G7()},child_runs:void 0,session_name:this.projectName,reference_example_id:e.parent_run_id?void 0:n}}async persistRun(e){}async onRunCreate(e){const n=await this._convertToCreate(e,this.exampleId);await this.client.createRun(n)}async onRunUpdate(e){const n={end_time:e.end_time,error:e.error,outputs:e.outputs,events:e.events,inputs:e.inputs,trace_id:e.trace_id,dotted_order:e.dotted_order,parent_run_id:e.parent_run_id};await this.client.updateRun(e.id,n)}getRun(e){return this.runMap.get(e)}}async function mZ(){return new pZ}let Yg;function gZ(){const t="default"in Ti?Ti.default:Ti;return new t({autoStart:!0,concurrency:1})}async function Ot(t,e){e===!0?await t():(typeof Yg>"u"&&(Yg=gZ()),Yg.add(t))}class yZ{setHandler(e){return this.setHandlers([e])}}class pm{constructor(e,n,r,i,s,a,o,l){Object.defineProperty(this,"runId",{enumerable:!0,configurable:!0,writable:!0,value:e}),Object.defineProperty(this,"handlers",{enumerable:!0,configurable:!0,writable:!0,value:n}),Object.defineProperty(this,"inheritableHandlers",{enumerable:!0,configurable:!0,writable:!0,value:r}),Object.defineProperty(this,"tags",{enumerable:!0,configurable:!0,writable:!0,value:i}),Object.defineProperty(this,"inheritableTags",{enumerable:!0,configurable:!0,writable:!0,value:s}),Object.defineProperty(this,"metadata",{enumerable:!0,configurable:!0,writable:!0,value:a}),Object.defineProperty(this,"inheritableMetadata",{enumerable:!0,configurable:!0,writable:!0,value:o}),Object.defineProperty(this,"_parentRunId",{enumerable:!0,configurable:!0,writable:!0,value:l})}async handleText(e){await Promise.all(this.handlers.map(n=>Ot(async()=>{var r;try{await((r=n.handleText)==null?void 0:r.call(n,e,this.runId,this._parentRunId,this.tags))}catch(i){if(console.error(`Error in handler ${n.constructor.name}, handleText: ${i}`),n.raiseError)throw i}},n.awaitHandlers)))}}class vZ extends pm{getChild(e){const n=new yn(this.runId);return n.setHandlers(this.inheritableHandlers),n.addTags(this.inheritableTags),n.addMetadata(this.inheritableMetadata),e&&n.addTags([e],!1),n}async handleRetrieverEnd(e){await Promise.all(this.handlers.map(n=>Ot(async()=>{var r;if(!n.ignoreRetriever)try{await((r=n.handleRetrieverEnd)==null?void 0:r.call(n,e,this.runId,this._parentRunId,this.tags))}catch(i){if(console.error(`Error in handler ${n.constructor.name}, handleRetriever`),n.raiseError)throw i}},n.awaitHandlers)))}async handleRetrieverError(e){await Promise.all(this.handlers.map(n=>Ot(async()=>{var r;if(!n.ignoreRetriever)try{await((r=n.handleRetrieverError)==null?void 0:r.call(n,e,this.runId,this._parentRunId,this.tags))}catch(i){if(console.error(`Error in handler ${n.constructor.name}, handleRetrieverError: ${i}`),n.raiseError)throw e}},n.awaitHandlers)))}}class jS extends pm{async handleLLMNewToken(e,n,r,i,s,a){await Promise.all(this.handlers.map(o=>Ot(async()=>{var l;if(!o.ignoreLLM)try{await((l=o.handleLLMNewToken)==null?void 0:l.call(o,e,n??{prompt:0,completion:0},this.runId,this._parentRunId,this.tags,a))}catch(u){if(console.error(`Error in handler ${o.constructor.name}, handleLLMNewToken: ${u}`),o.raiseError)throw u}},o.awaitHandlers)))}async handleLLMError(e){await Promise.all(this.handlers.map(n=>Ot(async()=>{var r;if(!n.ignoreLLM)try{await((r=n.handleLLMError)==null?void 0:r.call(n,e,this.runId,this._parentRunId,this.tags))}catch(i){if(console.error(`Error in handler ${n.constructor.name}, handleLLMError: ${i}`),n.raiseError)throw i}},n.awaitHandlers)))}async handleLLMEnd(e){await Promise.all(this.handlers.map(n=>Ot(async()=>{var r;if(!n.ignoreLLM)try{await((r=n.handleLLMEnd)==null?void 0:r.call(n,e,this.runId,this._parentRunId,this.tags))}catch(i){if(console.error(`Error in handler ${n.constructor.name}, handleLLMEnd: ${i}`),n.raiseError)throw i}},n.awaitHandlers)))}}class bZ extends pm{getChild(e){const n=new yn(this.runId);return n.setHandlers(this.inheritableHandlers),n.addTags(this.inheritableTags),n.addMetadata(this.inheritableMetadata),e&&n.addTags([e],!1),n}async handleChainError(e,n,r,i,s){await Promise.all(this.handlers.map(a=>Ot(async()=>{var o;if(!a.ignoreChain)try{await((o=a.handleChainError)==null?void 0:o.call(a,e,this.runId,this._parentRunId,this.tags,s))}catch(l){if(console.error(`Error in handler ${a.constructor.name}, handleChainError: ${l}`),a.raiseError)throw l}},a.awaitHandlers)))}async handleChainEnd(e,n,r,i,s){await Promise.all(this.handlers.map(a=>Ot(async()=>{var o;if(!a.ignoreChain)try{await((o=a.handleChainEnd)==null?void 0:o.call(a,e,this.runId,this._parentRunId,this.tags,s))}catch(l){if(console.error(`Error in handler ${a.constructor.name}, handleChainEnd: ${l}`),a.raiseError)throw l}},a.awaitHandlers)))}async handleAgentAction(e){await Promise.all(this.handlers.map(n=>Ot(async()=>{var r;if(!n.ignoreAgent)try{await((r=n.handleAgentAction)==null?void 0:r.call(n,e,this.runId,this._parentRunId,this.tags))}catch(i){if(console.error(`Error in handler ${n.constructor.name}, handleAgentAction: ${i}`),n.raiseError)throw i}},n.awaitHandlers)))}async handleAgentEnd(e){await Promise.all(this.handlers.map(n=>Ot(async()=>{var r;if(!n.ignoreAgent)try{await((r=n.handleAgentEnd)==null?void 0:r.call(n,e,this.runId,this._parentRunId,this.tags))}catch(i){if(console.error(`Error in handler ${n.constructor.name}, handleAgentEnd: ${i}`),n.raiseError)throw i}},n.awaitHandlers)))}}class wZ extends pm{getChild(e){const n=new yn(this.runId);return n.setHandlers(this.inheritableHandlers),n.addTags(this.inheritableTags),n.addMetadata(this.inheritableMetadata),e&&n.addTags([e],!1),n}async handleToolError(e){await Promise.all(this.handlers.map(n=>Ot(async()=>{var r;if(!n.ignoreAgent)try{await((r=n.handleToolError)==null?void 0:r.call(n,e,this.runId,this._parentRunId,this.tags))}catch(i){if(console.error(`Error in handler ${n.constructor.name}, handleToolError: ${i}`),n.raiseError)throw i}},n.awaitHandlers)))}async handleToolEnd(e){await Promise.all(this.handlers.map(n=>Ot(async()=>{var r;if(!n.ignoreAgent)try{await((r=n.handleToolEnd)==null?void 0:r.call(n,e,this.runId,this._parentRunId,this.tags))}catch(i){if(console.error(`Error in handler ${n.constructor.name}, handleToolEnd: ${i}`),n.raiseError)throw i}},n.awaitHandlers)))}}class yn extends yZ{constructor(e,n){super(),Object.defineProperty(this,"handlers",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"inheritableHandlers",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"tags",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"inheritableTags",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"metadata",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"inheritableMetadata",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"callback_manager"}),Object.defineProperty(this,"_parentRunId",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.handlers=(n==null?void 0:n.handlers)??this.handlers,this.inheritableHandlers=(n==null?void 0:n.inheritableHandlers)??this.inheritableHandlers,this.tags=(n==null?void 0:n.tags)??this.tags,this.inheritableTags=(n==null?void 0:n.inheritableTags)??this.inheritableTags,this.metadata=(n==null?void 0:n.metadata)??this.metadata,this.inheritableMetadata=(n==null?void 0:n.inheritableMetadata)??this.inheritableMetadata,this._parentRunId=e}getParentRunId(){return this._parentRunId}async handleLLMStart(e,n,r=void 0,i=void 0,s=void 0,a=void 0,o=void 0,l=void 0){return Promise.all(n.map(async(u,c)=>{const d=c===0&&r?r:Wr();return await Promise.all(this.handlers.map(f=>Ot(async()=>{var h;if(!f.ignoreLLM)try{await((h=f.handleLLMStart)==null?void 0:h.call(f,e,[u],d,this._parentRunId,s,this.tags,this.metadata,l))}catch(p){if(console.error(`Error in handler ${f.constructor.name}, handleLLMStart: ${p}`),f.raiseError)throw p}},f.awaitHandlers))),new jS(d,this.handlers,this.inheritableHandlers,this.tags,this.inheritableTags,this.metadata,this.inheritableMetadata,this._parentRunId)}))}async handleChatModelStart(e,n,r=void 0,i=void 0,s=void 0,a=void 0,o=void 0,l=void 0){return Promise.all(n.map(async(u,c)=>{const d=c===0&&r?r:Wr();return await Promise.all(this.handlers.map(f=>Ot(async()=>{var h,p;if(!f.ignoreLLM)try{if(f.handleChatModelStart)await((h=f.handleChatModelStart)==null?void 0:h.call(f,e,[u],d,this._parentRunId,s,this.tags,this.metadata,l));else if(f.handleLLMStart){const y=bO(u);await((p=f.handleLLMStart)==null?void 0:p.call(f,e,[y],d,this._parentRunId,s,this.tags,this.metadata,l))}}catch(y){if(console.error(`Error in handler ${f.constructor.name}, handleLLMStart: ${y}`),f.raiseError)throw y}},f.awaitHandlers))),new jS(d,this.handlers,this.inheritableHandlers,this.tags,this.inheritableTags,this.metadata,this.inheritableMetadata,this._parentRunId)}))}async handleChainStart(e,n,r=Wr(),i=void 0,s=void 0,a=void 0,o=void 0){return await Promise.all(this.handlers.map(l=>Ot(async()=>{var u;if(!l.ignoreChain)try{await((u=l.handleChainStart)==null?void 0:u.call(l,e,n,r,this._parentRunId,this.tags,this.metadata,i,o))}catch(c){if(console.error(`Error in handler ${l.constructor.name}, handleChainStart: ${c}`),l.raiseError)throw c}},l.awaitHandlers))),new bZ(r,this.handlers,this.inheritableHandlers,this.tags,this.inheritableTags,this.metadata,this.inheritableMetadata,this._parentRunId)}async handleToolStart(e,n,r=Wr(),i=void 0,s=void 0,a=void 0,o=void 0){return await Promise.all(this.handlers.map(l=>Ot(async()=>{var u;if(!l.ignoreAgent)try{await((u=l.handleToolStart)==null?void 0:u.call(l,e,n,r,this._parentRunId,this.tags,this.metadata,o))}catch(c){if(console.error(`Error in handler ${l.constructor.name}, handleToolStart: ${c}`),l.raiseError)throw c}},l.awaitHandlers))),new wZ(r,this.handlers,this.inheritableHandlers,this.tags,this.inheritableTags,this.metadata,this.inheritableMetadata,this._parentRunId)}async handleRetrieverStart(e,n,r=Wr(),i=void 0,s=void 0,a=void 0,o=void 0){return await Promise.all(this.handlers.map(l=>Ot(async()=>{var u;if(!l.ignoreRetriever)try{await((u=l.handleRetrieverStart)==null?void 0:u.call(l,e,n,r,this._parentRunId,this.tags,this.metadata,o))}catch(c){if(console.error(`Error in handler ${l.constructor.name}, handleRetrieverStart: ${c}`),l.raiseError)throw c}},l.awaitHandlers))),new vZ(r,this.handlers,this.inheritableHandlers,this.tags,this.inheritableTags,this.metadata,this.inheritableMetadata,this._parentRunId)}addHandler(e,n=!0){this.handlers.push(e),n&&this.inheritableHandlers.push(e)}removeHandler(e){this.handlers=this.handlers.filter(n=>n!==e),this.inheritableHandlers=this.inheritableHandlers.filter(n=>n!==e)}setHandlers(e,n=!0){this.handlers=[],this.inheritableHandlers=[];for(const r of e)this.addHandler(r,n)}addTags(e,n=!0){this.removeTags(e),this.tags.push(...e),n&&this.inheritableTags.push(...e)}removeTags(e){this.tags=this.tags.filter(n=>!e.includes(n)),this.inheritableTags=this.inheritableTags.filter(n=>!e.includes(n))}addMetadata(e,n=!0){this.metadata={...this.metadata,...e},n&&(this.inheritableMetadata={...this.inheritableMetadata,...e})}removeMetadata(e){for(const n of Object.keys(e))delete this.metadata[n],delete this.inheritableMetadata[n]}copy(e=[],n=!0){const r=new yn(this._parentRunId);for(const i of this.handlers){const s=this.inheritableHandlers.includes(i);r.addHandler(i,s)}for(const i of this.tags){const s=this.inheritableTags.includes(i);r.addTags([i],s)}for(const i of Object.keys(this.metadata)){const s=Object.keys(this.inheritableMetadata).includes(i);r.addMetadata({[i]:this.metadata[i]},s)}for(const i of e)r.handlers.filter(s=>s.name==="console_callback_handler").some(s=>s.name===i.name)||r.addHandler(i,n);return r}static fromHandlers(e){class n extends Lc{constructor(){super(),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:Wr()}),Object.assign(this,e)}}const r=new this;return r.addHandler(new n),r}static async configure(e,n,r,i,s,a,o){let l;(e||n)&&(Array.isArray(e)||!e?(l=new yn,l.setHandlers((e==null?void 0:e.map(tp))??[],!0)):l=e,l=l.copy(Array.isArray(n)?n.map(tp):n==null?void 0:n.handlers,!1));const u=Pn("LANGCHAIN_VERBOSE")==="true"||(o==null?void 0:o.verbose),c=Pn("LANGCHAIN_TRACING_V2")==="true",d=c||(Pn("LANGCHAIN_TRACING")??!1);if(u||d){if(l||(l=new yn),u&&!l.handlers.some(f=>f.name===IS.prototype.name)){const f=new IS;l.addHandler(f,!0)}d&&!l.handlers.some(f=>f.name==="langchain_tracer")&&c&&l.addHandler(await mZ(),!0)}return(r||i)&&l&&(l.addTags(r??[]),l.addTags(i??[],!1)),(s||a)&&l&&(l.addMetadata(s??{}),l.addMetadata(a??{},!1)),l}}function tp(t){return"name"in t?t:Lc.fromMethods(t)}/*!
 * https://github.com/Starcounter-Jack/JSON-Patch
 * (c) 2017-2022 Joachim Wester
 * MIT licensed
 */const _Z=Object.prototype.hasOwnProperty;function i0(t,e){return _Z.call(t,e)}function s0(t){if(Array.isArray(t)){const n=new Array(t.length);for(let r=0;r<n.length;r++)n[r]=""+r;return n}if(Object.keys)return Object.keys(t);let e=[];for(let n in t)i0(t,n)&&e.push(n);return e}function Kr(t){switch(typeof t){case"object":return JSON.parse(JSON.stringify(t));case"undefined":return null;default:return t}}function a0(t){let e=0;const n=t.length;let r;for(;e<n;){if(r=t.charCodeAt(e),r>=48&&r<=57){e++;continue}return!1}return!0}function Ra(t){return t.indexOf("/")===-1&&t.indexOf("~")===-1?t:t.replace(/~/g,"~0").replace(/\//g,"~1")}function xZ(t){return t.replace(/~1/g,"/").replace(/~0/g,"~")}function o0(t){if(t===void 0)return!0;if(t){if(Array.isArray(t)){for(let n=0,r=t.length;n<r;n++)if(o0(t[n]))return!0}else if(typeof t=="object"){const n=s0(t),r=n.length;for(var e=0;e<r;e++)if(o0(t[n[e]]))return!0}}return!1}function MS(t,e){const n=[t];for(const r in e){const i=typeof e[r]=="object"?JSON.stringify(e[r],null,2):e[r];typeof i<"u"&&n.push(`${r}: ${i}`)}return n.join(`
`)}class kZ extends Error{constructor(e,n,r,i,s){super(MS(e,{name:n,index:r,operation:i,tree:s})),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:n}),Object.defineProperty(this,"index",{enumerable:!0,configurable:!0,writable:!0,value:r}),Object.defineProperty(this,"operation",{enumerable:!0,configurable:!0,writable:!0,value:i}),Object.defineProperty(this,"tree",{enumerable:!0,configurable:!0,writable:!0,value:s}),Object.setPrototypeOf(this,new.target.prototype),this.message=MS(e,{name:n,index:r,operation:i,tree:s})}}const mt=kZ,co={add:function(t,e,n){return t[e]=this.value,{newDocument:n}},remove:function(t,e,n){var r=t[e];return delete t[e],{newDocument:n,removed:r}},replace:function(t,e,n){var r=t[e];return t[e]=this.value,{newDocument:n,removed:r}},move:function(t,e,n){let r=l0(n,this.path);r&&(r=Kr(r));const i=yu(n,{op:"remove",path:this.from}).removed;return yu(n,{op:"add",path:this.path,value:i}),{newDocument:n,removed:r}},copy:function(t,e,n){const r=l0(n,this.from);return yu(n,{op:"add",path:this.path,value:Kr(r)}),{newDocument:n}},test:function(t,e,n){return{newDocument:n,test:rp(t[e],this.value)}},_get:function(t,e,n){return this.value=t[e],{newDocument:n}}};var SZ={add:function(t,e,n){return a0(e)?t.splice(e,0,this.value):t[e]=this.value,{newDocument:n,index:e}},remove:function(t,e,n){var r=t.splice(e,1);return{newDocument:n,removed:r[0]}},replace:function(t,e,n){var r=t[e];return t[e]=this.value,{newDocument:n,removed:r}},move:co.move,copy:co.copy,test:co.test,_get:co._get};function l0(t,e){if(e=="")return t;var n={op:"_get",path:e};return yu(t,n),n.value}function yu(t,e,n=!1,r=!0,i=!0,s=0){if(n&&(typeof n=="function"?n(e,0,t,e.path):u0(e,0)),e.path===""){let a={newDocument:t};if(e.op==="add")return a.newDocument=e.value,a;if(e.op==="replace")return a.newDocument=e.value,a.removed=t,a;if(e.op==="move"||e.op==="copy")return a.newDocument=l0(t,e.from),e.op==="move"&&(a.removed=t),a;if(e.op==="test"){if(a.test=rp(t,e.value),a.test===!1)throw new mt("Test operation failed","TEST_OPERATION_FAILED",s,e,t);return a.newDocument=t,a}else{if(e.op==="remove")return a.removed=t,a.newDocument=null,a;if(e.op==="_get")return e.value=t,a;if(n)throw new mt("Operation `op` property is not one of operations defined in RFC-6902","OPERATION_OP_INVALID",s,e,t);return a}}else{r||(t=Kr(t));const o=(e.path||"").split("/");let l=t,u=1,c=o.length,d,f,h;for(typeof n=="function"?h=n:h=u0;;){if(f=o[u],f&&f.indexOf("~")!=-1&&(f=xZ(f)),i&&(f=="__proto__"||f=="prototype"&&u>0&&o[u-1]=="constructor"))throw new TypeError("JSON-Patch: modifying `__proto__` or `constructor/prototype` prop is banned for security reasons, if this was on purpose, please set `banPrototypeModifications` flag false and pass it to this function. More info in fast-json-patch README");if(n&&d===void 0&&(l[f]===void 0?d=o.slice(0,u).join("/"):u==c-1&&(d=e.path),d!==void 0&&h(e,0,t,d)),u++,Array.isArray(l)){if(f==="-")f=l.length;else{if(n&&!a0(f))throw new mt("Expected an unsigned base-10 integer value, making the new referenced value the array element with the zero-based index","OPERATION_PATH_ILLEGAL_ARRAY_INDEX",s,e,t);a0(f)&&(f=~~f)}if(u>=c){if(n&&e.op==="add"&&f>l.length)throw new mt("The specified index MUST NOT be greater than the number of elements in the array","OPERATION_VALUE_OUT_OF_BOUNDS",s,e,t);const p=SZ[e.op].call(e,l,f,t);if(p.test===!1)throw new mt("Test operation failed","TEST_OPERATION_FAILED",s,e,t);return p}}else if(u>=c){const p=co[e.op].call(e,l,f,t);if(p.test===!1)throw new mt("Test operation failed","TEST_OPERATION_FAILED",s,e,t);return p}if(l=l[f],n&&u<c&&(!l||typeof l!="object"))throw new mt("Cannot perform operation at the desired path","OPERATION_PATH_UNRESOLVABLE",s,e,t)}}}function np(t,e,n,r=!0,i=!0){if(n&&!Array.isArray(e))throw new mt("Patch sequence must be an array","SEQUENCE_NOT_AN_ARRAY");r||(t=Kr(t));const s=new Array(e.length);for(let a=0,o=e.length;a<o;a++)s[a]=yu(t,e[a],n,!0,i,a),t=s[a].newDocument;return s.newDocument=t,s}function u0(t,e,n,r){if(typeof t!="object"||t===null||Array.isArray(t))throw new mt("Operation is not an object","OPERATION_NOT_AN_OBJECT",e,t,n);if(co[t.op]){if(typeof t.path!="string")throw new mt("Operation `path` property is not a string","OPERATION_PATH_INVALID",e,t,n);if(t.path.indexOf("/")!==0&&t.path.length>0)throw new mt('Operation `path` property must start with "/"',"OPERATION_PATH_INVALID",e,t,n);if((t.op==="move"||t.op==="copy")&&typeof t.from!="string")throw new mt("Operation `from` property is not present (applicable in `move` and `copy` operations)","OPERATION_FROM_REQUIRED",e,t,n);if((t.op==="add"||t.op==="replace"||t.op==="test")&&t.value===void 0)throw new mt("Operation `value` property is not present (applicable in `add`, `replace` and `test` operations)","OPERATION_VALUE_REQUIRED",e,t,n);if((t.op==="add"||t.op==="replace"||t.op==="test")&&o0(t.value))throw new mt("Operation `value` property is not present (applicable in `add`, `replace` and `test` operations)","OPERATION_VALUE_CANNOT_CONTAIN_UNDEFINED",e,t,n);if(n){if(t.op=="add"){var i=t.path.split("/").length,s=r.split("/").length;if(i!==s+1&&i!==s)throw new mt("Cannot perform an `add` operation at the desired path","OPERATION_PATH_CANNOT_ADD",e,t,n)}else if(t.op==="replace"||t.op==="remove"||t.op==="_get"){if(t.path!==r)throw new mt("Cannot perform the operation at a path that does not exist","OPERATION_PATH_UNRESOLVABLE",e,t,n)}else if(t.op==="move"||t.op==="copy"){var a={op:"_get",path:t.from,value:void 0},o=CZ([a],n);if(o&&o.name==="OPERATION_PATH_UNRESOLVABLE")throw new mt("Cannot perform the operation from a path that does not exist","OPERATION_FROM_UNRESOLVABLE",e,t,n)}}}else throw new mt("Operation `op` property is not one of operations defined in RFC-6902","OPERATION_OP_INVALID",e,t,n)}function CZ(t,e,n){try{if(!Array.isArray(t))throw new mt("Patch sequence must be an array","SEQUENCE_NOT_AN_ARRAY");if(e)np(Kr(e),Kr(t),n||!0);else{n=n||u0;for(var r=0;r<t.length;r++)n(t[r],r,e,void 0)}}catch(i){if(i instanceof mt)return i;throw i}}function rp(t,e){if(t===e)return!0;if(t&&e&&typeof t=="object"&&typeof e=="object"){var n=Array.isArray(t),r=Array.isArray(e),i,s,a;if(n&&r){if(s=t.length,s!=e.length)return!1;for(i=s;i--!==0;)if(!rp(t[i],e[i]))return!1;return!0}if(n!=r)return!1;var o=Object.keys(t);if(s=o.length,s!==Object.keys(e).length)return!1;for(i=s;i--!==0;)if(!e.hasOwnProperty(o[i]))return!1;for(i=s;i--!==0;)if(a=o[i],!rp(t[a],e[a]))return!1;return!0}return t!==t&&e!==e}/*!
 * https://github.com/Starcounter-Jack/JSON-Patch
 * (c) 2013-2021 Joachim Wester
 * MIT license
 */function qO(t,e,n,r,i){if(e!==t){typeof e.toJSON=="function"&&(e=e.toJSON());for(var s=s0(e),a=s0(t),o=!1,l=a.length-1;l>=0;l--){var u=a[l],c=t[u];if(i0(e,u)&&!(e[u]===void 0&&c!==void 0&&Array.isArray(e)===!1)){var d=e[u];typeof c=="object"&&c!=null&&typeof d=="object"&&d!=null&&Array.isArray(c)===Array.isArray(d)?qO(c,d,n,r+"/"+Ra(u),i):c!==d&&(i&&n.push({op:"test",path:r+"/"+Ra(u),value:Kr(c)}),n.push({op:"replace",path:r+"/"+Ra(u),value:Kr(d)}))}else Array.isArray(t)===Array.isArray(e)?(i&&n.push({op:"test",path:r+"/"+Ra(u),value:Kr(c)}),n.push({op:"remove",path:r+"/"+Ra(u)}),o=!0):(i&&n.push({op:"test",path:r,value:t}),n.push({op:"replace",path:r,value:e}))}if(!(!o&&s.length==a.length))for(var l=0;l<s.length;l++){var u=s[l];!i0(t,u)&&e[u]!==void 0&&n.push({op:"add",path:r+"/"+Ra(u),value:Kr(e[u])})}}}function TZ(t,e,n=!1){var r=[];return qO(t,e,r,"",n),r}class PZ{getStore(){}run(e,n){return n()}}class EZ{constructor(){Object.defineProperty(this,"asyncLocalStorage",{enumerable:!0,configurable:!0,writable:!0,value:new PZ}),Object.defineProperty(this,"hasBeenInitialized",{enumerable:!0,configurable:!0,writable:!0,value:!1})}getInstance(){return this.asyncLocalStorage}initializeGlobalInstance(e){this.hasBeenInitialized||(this.hasBeenInitialized=!0,this.asyncLocalStorage=e)}}const ya=new EZ;class nr extends ReadableStream{constructor(){super(...arguments),Object.defineProperty(this,"reader",{enumerable:!0,configurable:!0,writable:!0,value:void 0})}ensureReader(){this.reader||(this.reader=this.getReader())}async next(){this.ensureReader();try{const e=await this.reader.read();return e.done?(this.reader.releaseLock(),{done:!0,value:void 0}):{done:!1,value:e.value}}catch(e){throw this.reader.releaseLock(),e}}async return(){if(this.ensureReader(),this.locked){const e=this.reader.cancel();this.reader.releaseLock(),await e}return{done:!0,value:void 0}}async throw(e){if(this.ensureReader(),this.locked){const n=this.reader.cancel();this.reader.releaseLock(),await n}throw e}[Symbol.asyncIterator](){return this}static fromReadableStream(e){const n=e.getReader();return new nr({start(r){return i();function i(){return n.read().then(({done:s,value:a})=>{if(s){r.close();return}return r.enqueue(a),i()})}},cancel(){n.releaseLock()}})}static fromAsyncGenerator(e){return new nr({async pull(n){const{value:r,done:i}=await e.next();i&&n.close(),n.enqueue(r)},async cancel(n){await e.return(n)}})}}function ZO(t,e=2){const n=Array.from({length:e},()=>[]);return n.map(async function*(i){for(;;)if(i.length===0){const s=await t.next();for(const a of n)a.push(s)}else{if(i[0].done)return;yield i.shift().value}})}function Pi(t,e){if(Array.isArray(t)&&Array.isArray(e))return t.concat(e);if(typeof t=="string"&&typeof e=="string")return t+e;if(typeof t=="number"&&typeof e=="number")return t+e;if("concat"in t&&typeof t.concat=="function")return t.concat(e);if(typeof t=="object"&&typeof e=="object"){const n={...t};for(const[r,i]of Object.entries(e))r in n&&!Array.isArray(n[r])?n[r]=Pi(n[r],i):n[r]=i;return n}else throw new Error(`Cannot concat ${typeof t} and ${typeof e}`)}class Qo{constructor(e){Object.defineProperty(this,"generator",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"setup",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"config",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"firstResult",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"firstResultUsed",{enumerable:!0,configurable:!0,writable:!0,value:!1}),this.generator=e.generator,this.config=e.config,this.setup=new Promise((n,r)=>{ya.getInstance().run(e.config,async()=>{this.firstResult=e.generator.next(),e.startSetup?this.firstResult.then(e.startSetup).then(n,r):this.firstResult.then(s=>n(void 0),r)})})}async next(...e){return this.firstResultUsed?ya.getInstance().run(this.config,async()=>this.generator.next(...e)):(this.firstResultUsed=!0,this.firstResult)}async return(e){return this.generator.return(e)}async throw(e){return this.generator.throw(e)}[Symbol.asyncIterator](){return this}}async function AZ(t,e,n,...r){const i=new Qo({generator:e,startSetup:n}),s=await i.setup;return{output:t(i,s,...r),setup:s}}class Ki{constructor(e){Object.defineProperty(this,"ops",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.ops=e.ops??[]}concat(e){const n=this.ops.concat(e.ops),r=np({},n);return new mc({ops:n,state:r[r.length-1].newDocument})}}class mc extends Ki{constructor(e){super(e),Object.defineProperty(this,"state",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.state=e.state}concat(e){const n=this.ops.concat(e.ops),r=np(this.state,e.ops);return new mc({ops:n,state:r[r.length-1].newDocument})}static fromRunLogPatch(e){const n=np({},e.ops);return new mc({ops:e.ops,state:n[n.length-1].newDocument})}}async function LS(t,e){if(e==="original")throw new Error("Do not assign inputs with original schema drop the key for now. When inputs are added to streamLog they should be added with standardized schema for streaming events.");const{inputs:n}=t;if(["retriever","llm","prompt"].includes(t.run_type))return n;if(!(Object.keys(n).length===1&&(n==null?void 0:n.input)===""))return n.input}async function zS(t,e){const{outputs:n}=t;return e==="original"||["retriever","llm","prompt"].includes(t.run_type)?n:n!==void 0&&Object.keys(n).length===1&&(n==null?void 0:n.output)!==void 0?n.output:n}function IZ(t){return t!==void 0&&t.message!==void 0}class DS extends hm{constructor(e){super({_awaitHandler:!0,...e}),Object.defineProperty(this,"autoClose",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"includeNames",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"includeTypes",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"includeTags",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"excludeNames",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"excludeTypes",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"excludeTags",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_schemaFormat",{enumerable:!0,configurable:!0,writable:!0,value:"original"}),Object.defineProperty(this,"rootId",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"keyMapByRunId",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"counterMapByRunName",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"transformStream",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"writer",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"receiveStream",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"log_stream_tracer"}),this.autoClose=(e==null?void 0:e.autoClose)??!0,this.includeNames=e==null?void 0:e.includeNames,this.includeTypes=e==null?void 0:e.includeTypes,this.includeTags=e==null?void 0:e.includeTags,this.excludeNames=e==null?void 0:e.excludeNames,this.excludeTypes=e==null?void 0:e.excludeTypes,this.excludeTags=e==null?void 0:e.excludeTags,this._schemaFormat=(e==null?void 0:e._schemaFormat)??this._schemaFormat,this.transformStream=new TransformStream,this.writer=this.transformStream.writable.getWriter(),this.receiveStream=nr.fromReadableStream(this.transformStream.readable)}[Symbol.asyncIterator](){return this.receiveStream}async persistRun(e){}_includeRun(e){if(e.id===this.rootId)return!1;const n=e.tags??[];let r=this.includeNames===void 0&&this.includeTags===void 0&&this.includeTypes===void 0;return this.includeNames!==void 0&&(r=r||this.includeNames.includes(e.name)),this.includeTypes!==void 0&&(r=r||this.includeTypes.includes(e.run_type)),this.includeTags!==void 0&&(r=r||n.find(i=>{var s;return(s=this.includeTags)==null?void 0:s.includes(i)})!==void 0),this.excludeNames!==void 0&&(r=r&&!this.excludeNames.includes(e.name)),this.excludeTypes!==void 0&&(r=r&&!this.excludeTypes.includes(e.run_type)),this.excludeTags!==void 0&&(r=r&&n.every(i=>{var s;return!((s=this.excludeTags)!=null&&s.includes(i))})),r}async*tapOutputIterable(e,n){for await(const r of n){if(e!==this.rootId){const i=this.keyMapByRunId[e];i&&await this.writer.write(new Ki({ops:[{op:"add",path:`/logs/${i}/streamed_output/-`,value:r}]}))}yield r}}async onRunCreate(e){var i;if(this.rootId===void 0&&(this.rootId=e.id,await this.writer.write(new Ki({ops:[{op:"replace",path:"",value:{id:e.id,name:e.name,type:e.run_type,streamed_output:[],final_output:void 0,logs:{}}}]}))),!this._includeRun(e))return;this.counterMapByRunName[e.name]===void 0&&(this.counterMapByRunName[e.name]=0),this.counterMapByRunName[e.name]+=1;const n=this.counterMapByRunName[e.name];this.keyMapByRunId[e.id]=n===1?e.name:`${e.name}:${n}`;const r={id:e.id,name:e.name,type:e.run_type,tags:e.tags??[],metadata:((i=e.extra)==null?void 0:i.metadata)??{},start_time:new Date(e.start_time).toISOString(),streamed_output:[],streamed_output_str:[],final_output:void 0,end_time:void 0};this._schemaFormat==="streaming_events"&&(r.inputs=await LS(e,this._schemaFormat)),await this.writer.write(new Ki({ops:[{op:"add",path:`/logs/${this.keyMapByRunId[e.id]}`,value:r}]}))}async onRunUpdate(e){try{const n=this.keyMapByRunId[e.id];if(n===void 0)return;const r=[];this._schemaFormat==="streaming_events"&&r.push({op:"replace",path:`/logs/${n}/inputs`,value:await LS(e,this._schemaFormat)}),r.push({op:"add",path:`/logs/${n}/final_output`,value:await zS(e,this._schemaFormat)}),e.end_time!==void 0&&r.push({op:"add",path:`/logs/${n}/end_time`,value:new Date(e.end_time).toISOString()});const i=new Ki({ops:r});await this.writer.write(i)}finally{if(e.id===this.rootId){const n=new Ki({ops:[{op:"replace",path:"/final_output",value:await zS(e,this._schemaFormat)}]});await this.writer.write(n),this.autoClose&&await this.writer.close()}}}async onLLMNewToken(e,n,r){const i=this.keyMapByRunId[e.id];if(i===void 0)return;const s=e.inputs.messages!==void 0;let a;s?IZ(r==null?void 0:r.chunk)?a=r==null?void 0:r.chunk:a=new Nc(n):a=n;const o=new Ki({ops:[{op:"add",path:`/logs/${i}/streamed_output_str/-`,value:n},{op:"add",path:`/logs/${i}/streamed_output/-`,value:a}]});await this.writer.write(o)}}const Qg=25;async function oa(t){return yn.configure(t==null?void 0:t.callbacks,void 0,t==null?void 0:t.tags,void 0,t==null?void 0:t.metadata)}function FS(...t){const e={};for(const n of t.filter(r=>!!r))for(const r of Object.keys(n))if(r==="metadata")e[r]={...e[r],...n[r]};else if(r==="tags"){const i=e[r]??[];e[r]=[...new Set(i.concat(n[r]??[]))]}else if(r==="configurable")e[r]={...e[r],...n[r]};else if(r==="callbacks"){const i=e.callbacks,s=n.callbacks;if(Array.isArray(s))if(!i)e.callbacks=s;else if(Array.isArray(i))e.callbacks=i.concat(s);else{const a=i.copy();for(const o of s)a.addHandler(tp(o),!0);e.callbacks=a}else if(s)if(!i)e.callbacks=s;else if(Array.isArray(i)){const a=s.copy();for(const o of i)a.addHandler(tp(o),!0);e.callbacks=a}else e.callbacks=new yn(s._parentRunId,{handlers:i.handlers.concat(s.handlers),inheritableHandlers:i.inheritableHandlers.concat(s.inheritableHandlers),tags:Array.from(new Set(i.tags.concat(s.tags))),inheritableTags:Array.from(new Set(i.inheritableTags.concat(s.inheritableTags))),metadata:{...i.metadata,...s.metadata}})}else{const i=r;e[i]=n[i]??e[i]}return e}const OZ=new Set(["string","number","boolean"]);function De(t){var r;const e=t??ya.getInstance().getStore();let n={tags:[],metadata:{},callbacks:void 0,recursionLimit:25,runId:void 0};if(e&&(n={...n,...e}),e!=null&&e.configurable)for(const i of Object.keys(e.configurable))OZ.has(typeof e.configurable[i])&&!((r=n.metadata)!=null&&r[i])&&(n.metadata||(n.metadata={}),n.metadata[i]=e.configurable[i]);return n}function dn(t={},{callbacks:e,maxConcurrency:n,recursionLimit:r,runName:i,configurable:s,runId:a}={}){const o=De(t);return e!==void 0&&(delete o.runName,o.callbacks=e),r!==void 0&&(o.recursionLimit=r),n!==void 0&&(o.maxConcurrency=n),i!==void 0&&(o.runName=i),s!==void 0&&(o.configurable={...o.configurable,...s}),a!==void 0&&delete o.runId,o}class GO extends hm{constructor({config:e,onStart:n,onEnd:r,onError:i}){super({_awaitHandler:!0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"RootListenersTracer"}),Object.defineProperty(this,"rootId",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"config",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"argOnStart",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"argOnEnd",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"argOnError",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.config=e,this.argOnStart=n,this.argOnEnd=r,this.argOnError=i}persistRun(e){return Promise.resolve()}async onRunCreate(e){this.rootId||(this.rootId=e.id,this.argOnStart&&(this.argOnStart.length===1?await this.argOnStart(e):this.argOnStart.length===2&&await this.argOnStart(e,this.config)))}async onRunUpdate(e){e.id===this.rootId&&(e.error?this.argOnError&&(this.argOnError.length===1?await this.argOnError(e):this.argOnError.length===2&&await this.argOnError(e,this.config)):this.argOnEnd&&(this.argOnEnd.length===1?await this.argOnEnd(e):this.argOnEnd.length===2&&await this.argOnEnd(e,this.config)))}}function KO(t){return t?t.lc_runnable:!1}class RZ{constructor(e){Object.defineProperty(this,"includeNames",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"includeTypes",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"includeTags",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"excludeNames",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"excludeTypes",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"excludeTags",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.includeNames=e.includeNames,this.includeTypes=e.includeTypes,this.includeTags=e.includeTags,this.excludeNames=e.excludeNames,this.excludeTypes=e.excludeTypes,this.excludeTags=e.excludeTags}includeEvent(e,n){let r=this.includeNames===void 0&&this.includeTypes===void 0&&this.includeTags===void 0;const i=e.tags??[];return this.includeNames!==void 0&&(r=r||this.includeNames.includes(e.name)),this.includeTypes!==void 0&&(r=r||this.includeTypes.includes(n)),this.includeTags!==void 0&&(r=r||i.some(s=>{var a;return(a=this.includeTags)==null?void 0:a.includes(s)})),this.excludeNames!==void 0&&(r=r&&!this.excludeNames.includes(e.name)),this.excludeTypes!==void 0&&(r=r&&!this.excludeTypes.includes(n)),this.excludeTags!==void 0&&(r=r&&i.every(s=>{var a;return!((a=this.excludeTags)!=null&&a.includes(s))})),r}}const $Z=Symbol("Let zodToJsonSchema decide on which parser to use"),NZ={name:void 0,$refStrategy:"root",basePath:["#"],effectStrategy:"input",pipeStrategy:"all",dateStrategy:"format:date-time",mapStrategy:"entries",removeAdditionalStrategy:"passthrough",definitionPath:"definitions",target:"jsonSchema7",strictUnions:!1,definitions:{},errorMessages:!1,markdownDescription:!1,patternStrategy:"escape",emailStrategy:"format:email",base64Strategy:"contentEncoding:base64"},jZ=t=>({...NZ,...t}),MZ=t=>{const e=jZ(t),n=e.name!==void 0?[...e.basePath,e.definitionPath,e.name]:e.basePath;return{...e,currentPath:n,propertyPath:void 0,seen:new Map(Object.entries(e.definitions).map(([r,i])=>[i._def,{def:i._def,path:[...e.basePath,e.definitionPath,r],jsonSchema:void 0}]))}};function JO(t,e,n,r){r!=null&&r.errorMessages&&n&&(t.errorMessage={...t.errorMessage,[e]:n})}function Re(t,e,n,r,i){t[e]=n,JO(t,e,r,i)}function LZ(){return{}}function zZ(t,e){var r,i;const n={type:"array"};return((i=(r=t.type)==null?void 0:r._def)==null?void 0:i.typeName)!==D.ZodAny&&(n.items=Ae(t.type._def,{...e,currentPath:[...e.currentPath,"items"]})),t.minLength&&Re(n,"minItems",t.minLength.value,t.minLength.message,e),t.maxLength&&Re(n,"maxItems",t.maxLength.value,t.maxLength.message,e),t.exactLength&&(Re(n,"minItems",t.exactLength.value,t.exactLength.message,e),Re(n,"maxItems",t.exactLength.value,t.exactLength.message,e)),n}function DZ(t,e){const n={type:"integer",format:"int64"};if(!t.checks)return n;for(const r of t.checks)switch(r.kind){case"min":e.target==="jsonSchema7"?r.inclusive?Re(n,"minimum",r.value,r.message,e):Re(n,"exclusiveMinimum",r.value,r.message,e):(r.inclusive||(n.exclusiveMinimum=!0),Re(n,"minimum",r.value,r.message,e));break;case"max":e.target==="jsonSchema7"?r.inclusive?Re(n,"maximum",r.value,r.message,e):Re(n,"exclusiveMaximum",r.value,r.message,e):(r.inclusive||(n.exclusiveMaximum=!0),Re(n,"maximum",r.value,r.message,e));break;case"multipleOf":Re(n,"multipleOf",r.value,r.message,e);break}return n}function FZ(){return{type:"boolean"}}function BZ(t,e){return Ae(t.type._def,e)}const VZ=(t,e)=>Ae(t.innerType._def,e);function XO(t,e,n){const r=n??e.dateStrategy;if(Array.isArray(r))return{anyOf:r.map((i,s)=>XO(t,e,i))};switch(r){case"string":case"format:date-time":return{type:"string",format:"date-time"};case"format:date":return{type:"string",format:"date"};case"integer":return UZ(t,e)}}const UZ=(t,e)=>{const n={type:"integer",format:"unix-time"};if(e.target==="openApi3")return n;for(const r of t.checks)switch(r.kind){case"min":Re(n,"minimum",r.value,r.message,e);break;case"max":Re(n,"maximum",r.value,r.message,e);break}return n};function HZ(t,e){return{...Ae(t.innerType._def,e),default:t.defaultValue()}}function WZ(t,e){return e.effectStrategy==="input"?Ae(t.schema._def,e):{}}function qZ(t){return{type:"string",enum:t.values}}const ZZ=t=>"type"in t&&t.type==="string"?!1:"allOf"in t;function GZ(t,e){const n=[Ae(t.left._def,{...e,currentPath:[...e.currentPath,"allOf","0"]}),Ae(t.right._def,{...e,currentPath:[...e.currentPath,"allOf","1"]})].filter(s=>!!s);let r=e.target==="jsonSchema2019-09"?{unevaluatedProperties:!1}:void 0;const i=[];return n.forEach(s=>{if(ZZ(s))i.push(...s.allOf),s.unevaluatedProperties===void 0&&(r=void 0);else{let a=s;if("additionalProperties"in s&&s.additionalProperties===!1){const{additionalProperties:o,...l}=s;a=l}else r=void 0;i.push(a)}}),i.length?{allOf:i,...r}:void 0}function KZ(t,e){const n=typeof t.value;return n!=="bigint"&&n!=="number"&&n!=="boolean"&&n!=="string"?{type:Array.isArray(t.value)?"array":"object"}:e.target==="openApi3"?{type:n==="bigint"?"integer":n,enum:[t.value]}:{type:n==="bigint"?"integer":n,const:t.value}}const Rs={cuid:"^[cC][^\\s-]{8,}$",cuid2:"^[a-z][a-z0-9]*$",ulid:"^[0-9A-HJKMNP-TV-Z]{26}$",email:"^(?!\\.)(?!.*\\.\\.)([a-zA-Z0-9_+-\\.]*)[a-zA-Z0-9_+-]@([a-zA-Z0-9][a-zA-Z0-9\\-]*\\.)+[a-zA-Z]{2,}$",emoji:"^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$",uuid:"^[0-9a-fA-F]{8}\\b-[0-9a-fA-F]{4}\\b-[0-9a-fA-F]{4}\\b-[0-9a-fA-F]{4}\\b-[0-9a-fA-F]{12}$",ipv4:"^(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))$",ipv6:"^(([a-f0-9]{1,4}:){7}|::([a-f0-9]{1,4}:){0,6}|([a-f0-9]{1,4}:){1}:([a-f0-9]{1,4}:){0,5}|([a-f0-9]{1,4}:){2}:([a-f0-9]{1,4}:){0,4}|([a-f0-9]{1,4}:){3}:([a-f0-9]{1,4}:){0,3}|([a-f0-9]{1,4}:){4}:([a-f0-9]{1,4}:){0,2}|([a-f0-9]{1,4}:){5}:([a-f0-9]{1,4}:){0,1})([a-f0-9]{1,4}|(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2})))$",base64:"^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$",nanoid:"^[a-zA-Z0-9_-]{21}$"};function YO(t,e){const n={type:"string"};function r(i){return e.patternStrategy==="escape"?JZ(i):i}if(t.checks)for(const i of t.checks)switch(i.kind){case"min":Re(n,"minLength",typeof n.minLength=="number"?Math.max(n.minLength,i.value):i.value,i.message,e);break;case"max":Re(n,"maxLength",typeof n.maxLength=="number"?Math.min(n.maxLength,i.value):i.value,i.message,e);break;case"email":switch(e.emailStrategy){case"format:email":mr(n,"email",i.message,e);break;case"format:idn-email":mr(n,"idn-email",i.message,e);break;case"pattern:zod":gr(n,Rs.email,i.message,e);break}break;case"url":mr(n,"uri",i.message,e);break;case"uuid":mr(n,"uuid",i.message,e);break;case"regex":gr(n,i.regex.source,i.message,e);break;case"cuid":gr(n,Rs.cuid,i.message,e);break;case"cuid2":gr(n,Rs.cuid2,i.message,e);break;case"startsWith":gr(n,"^"+r(i.value),i.message,e);break;case"endsWith":gr(n,r(i.value)+"$",i.message,e);break;case"datetime":mr(n,"date-time",i.message,e);break;case"date":mr(n,"date",i.message,e);break;case"time":mr(n,"time",i.message,e);break;case"duration":mr(n,"duration",i.message,e);break;case"length":Re(n,"minLength",typeof n.minLength=="number"?Math.max(n.minLength,i.value):i.value,i.message,e),Re(n,"maxLength",typeof n.maxLength=="number"?Math.min(n.maxLength,i.value):i.value,i.message,e);break;case"includes":{gr(n,r(i.value),i.message,e);break}case"ip":{i.version!=="v6"&&mr(n,"ipv4",i.message,e),i.version!=="v4"&&mr(n,"ipv6",i.message,e);break}case"emoji":gr(n,Rs.emoji,i.message,e);break;case"ulid":{gr(n,Rs.ulid,i.message,e);break}case"base64":{switch(e.base64Strategy){case"format:binary":{mr(n,"binary",i.message,e);break}case"contentEncoding:base64":{Re(n,"contentEncoding","base64",i.message,e);break}case"pattern:zod":{gr(n,Rs.base64,i.message,e);break}}break}case"nanoid":gr(n,Rs.nanoid,i.message,e)}return n}const JZ=t=>Array.from(t).map(e=>/[a-zA-Z0-9]/.test(e)?e:`\\${e}`).join(""),mr=(t,e,n,r)=>{var i;t.format||(i=t.anyOf)!=null&&i.some(s=>s.format)?(t.anyOf||(t.anyOf=[]),t.format&&(t.anyOf.push({format:t.format,...t.errorMessage&&r.errorMessages&&{errorMessage:{format:t.errorMessage.format}}}),delete t.format,t.errorMessage&&(delete t.errorMessage.format,Object.keys(t.errorMessage).length===0&&delete t.errorMessage)),t.anyOf.push({format:e,...n&&r.errorMessages&&{errorMessage:{format:n}}})):Re(t,"format",e,n,r)},gr=(t,e,n,r)=>{var i;t.pattern||(i=t.allOf)!=null&&i.some(s=>s.pattern)?(t.allOf||(t.allOf=[]),t.pattern&&(t.allOf.push({pattern:t.pattern,...t.errorMessage&&r.errorMessages&&{errorMessage:{pattern:t.errorMessage.pattern}}}),delete t.pattern,t.errorMessage&&(delete t.errorMessage.pattern,Object.keys(t.errorMessage).length===0&&delete t.errorMessage)),t.allOf.push({pattern:e,...n&&r.errorMessages&&{errorMessage:{pattern:n}}})):Re(t,"pattern",e,n,r)};function QO(t,e){var r,i,s,a;if(e.target==="openApi3"&&((r=t.keyType)==null?void 0:r._def.typeName)===D.ZodEnum)return{type:"object",required:t.keyType._def.values,properties:t.keyType._def.values.reduce((o,l)=>({...o,[l]:Ae(t.valueType._def,{...e,currentPath:[...e.currentPath,"properties",l]})??{}}),{}),additionalProperties:!1};const n={type:"object",additionalProperties:Ae(t.valueType._def,{...e,currentPath:[...e.currentPath,"additionalProperties"]})??{}};if(e.target==="openApi3")return n;if(((i=t.keyType)==null?void 0:i._def.typeName)===D.ZodString&&((s=t.keyType._def.checks)!=null&&s.length)){const o=Object.entries(YO(t.keyType._def,e)).reduce((l,[u,c])=>u==="type"?l:{...l,[u]:c},{});return{...n,propertyNames:o}}else if(((a=t.keyType)==null?void 0:a._def.typeName)===D.ZodEnum)return{...n,propertyNames:{enum:t.keyType._def.values}};return n}function XZ(t,e){if(e.mapStrategy==="record")return QO(t,e);const n=Ae(t.keyType._def,{...e,currentPath:[...e.currentPath,"items","items","0"]})||{},r=Ae(t.valueType._def,{...e,currentPath:[...e.currentPath,"items","items","1"]})||{};return{type:"array",maxItems:125,items:{type:"array",items:[n,r],minItems:2,maxItems:2}}}function YZ(t){const e=t.values,r=Object.keys(t.values).filter(s=>typeof e[e[s]]!="number").map(s=>e[s]),i=Array.from(new Set(r.map(s=>typeof s)));return{type:i.length===1?i[0]==="string"?"string":"number":["string","number"],enum:r}}function QZ(){return{not:{}}}function eG(t){return t.target==="openApi3"?{enum:["null"],nullable:!0}:{type:"null"}}const ip={ZodString:"string",ZodNumber:"number",ZodBigInt:"integer",ZodBoolean:"boolean",ZodNull:"null"};function tG(t,e){if(e.target==="openApi3")return BS(t,e);const n=t.options instanceof Map?Array.from(t.options.values()):t.options;if(n.every(r=>r._def.typeName in ip&&(!r._def.checks||!r._def.checks.length))){const r=n.reduce((i,s)=>{const a=ip[s._def.typeName];return a&&!i.includes(a)?[...i,a]:i},[]);return{type:r.length>1?r:r[0]}}else if(n.every(r=>r._def.typeName==="ZodLiteral"&&!r.description)){const r=n.reduce((i,s)=>{const a=typeof s._def.value;switch(a){case"string":case"number":case"boolean":return[...i,a];case"bigint":return[...i,"integer"];case"object":if(s._def.value===null)return[...i,"null"];case"symbol":case"undefined":case"function":default:return i}},[]);if(r.length===n.length){const i=r.filter((s,a,o)=>o.indexOf(s)===a);return{type:i.length>1?i:i[0],enum:n.reduce((s,a)=>s.includes(a._def.value)?s:[...s,a._def.value],[])}}}else if(n.every(r=>r._def.typeName==="ZodEnum"))return{type:"string",enum:n.reduce((r,i)=>[...r,...i._def.values.filter(s=>!r.includes(s))],[])};return BS(t,e)}const BS=(t,e)=>{const n=(t.options instanceof Map?Array.from(t.options.values()):t.options).map((r,i)=>Ae(r._def,{...e,currentPath:[...e.currentPath,"anyOf",`${i}`]})).filter(r=>!!r&&(!e.strictUnions||typeof r=="object"&&Object.keys(r).length>0));return n.length?{anyOf:n}:void 0};function nG(t,e){if(["ZodString","ZodNumber","ZodBigInt","ZodBoolean","ZodNull"].includes(t.innerType._def.typeName)&&(!t.innerType._def.checks||!t.innerType._def.checks.length))return e.target==="openApi3"?{type:ip[t.innerType._def.typeName],nullable:!0}:{type:[ip[t.innerType._def.typeName],"null"]};if(e.target==="openApi3"){const r=Ae(t.innerType._def,{...e,currentPath:[...e.currentPath]});return r&&"$ref"in r?{allOf:[r],nullable:!0}:r&&{...r,nullable:!0}}const n=Ae(t.innerType._def,{...e,currentPath:[...e.currentPath,"anyOf","0"]});return n&&{anyOf:[n,{type:"null"}]}}function rG(t,e){const n={type:"number"};if(!t.checks)return n;for(const r of t.checks)switch(r.kind){case"int":n.type="integer",JO(n,"type",r.message,e);break;case"min":e.target==="jsonSchema7"?r.inclusive?Re(n,"minimum",r.value,r.message,e):Re(n,"exclusiveMinimum",r.value,r.message,e):(r.inclusive||(n.exclusiveMinimum=!0),Re(n,"minimum",r.value,r.message,e));break;case"max":e.target==="jsonSchema7"?r.inclusive?Re(n,"maximum",r.value,r.message,e):Re(n,"exclusiveMaximum",r.value,r.message,e):(r.inclusive||(n.exclusiveMaximum=!0),Re(n,"maximum",r.value,r.message,e));break;case"multipleOf":Re(n,"multipleOf",r.value,r.message,e);break}return n}function iG(t,e){return e.removeAdditionalStrategy==="strict"?t.catchall._def.typeName==="ZodNever"?t.unknownKeys!=="strict":Ae(t.catchall._def,{...e,currentPath:[...e.currentPath,"additionalProperties"]})??!0:t.catchall._def.typeName==="ZodNever"?t.unknownKeys==="passthrough":Ae(t.catchall._def,{...e,currentPath:[...e.currentPath,"additionalProperties"]})??!0}function sG(t,e){const n={type:"object",...Object.entries(t.shape()).reduce((r,[i,s])=>{if(s===void 0||s._def===void 0)return r;const a=Ae(s._def,{...e,currentPath:[...e.currentPath,"properties",i],propertyPath:[...e.currentPath,"properties",i]});return a===void 0?r:{properties:{...r.properties,[i]:a},required:s.isOptional()?r.required:[...r.required,i]}},{properties:{},required:[]}),additionalProperties:iG(t,e)};return n.required.length||delete n.required,n}const aG=(t,e)=>{var r;if(e.currentPath.toString()===((r=e.propertyPath)==null?void 0:r.toString()))return Ae(t.innerType._def,e);const n=Ae(t.innerType._def,{...e,currentPath:[...e.currentPath,"anyOf","1"]});return n?{anyOf:[{not:{}},n]}:{}},oG=(t,e)=>{if(e.pipeStrategy==="input")return Ae(t.in._def,e);if(e.pipeStrategy==="output")return Ae(t.out._def,e);const n=Ae(t.in._def,{...e,currentPath:[...e.currentPath,"allOf","0"]}),r=Ae(t.out._def,{...e,currentPath:[...e.currentPath,"allOf",n?"1":"0"]});return{allOf:[n,r].filter(i=>i!==void 0)}};function lG(t,e){return Ae(t.type._def,e)}function uG(t,e){const r={type:"array",uniqueItems:!0,items:Ae(t.valueType._def,{...e,currentPath:[...e.currentPath,"items"]})};return t.minSize&&Re(r,"minItems",t.minSize.value,t.minSize.message,e),t.maxSize&&Re(r,"maxItems",t.maxSize.value,t.maxSize.message,e),r}function cG(t,e){return t.rest?{type:"array",minItems:t.items.length,items:t.items.map((n,r)=>Ae(n._def,{...e,currentPath:[...e.currentPath,"items",`${r}`]})).reduce((n,r)=>r===void 0?n:[...n,r],[]),additionalItems:Ae(t.rest._def,{...e,currentPath:[...e.currentPath,"additionalItems"]})}:{type:"array",minItems:t.items.length,maxItems:t.items.length,items:t.items.map((n,r)=>Ae(n._def,{...e,currentPath:[...e.currentPath,"items",`${r}`]})).reduce((n,r)=>r===void 0?n:[...n,r],[])}}function dG(){return{not:{}}}function fG(){return{}}const hG=(t,e)=>Ae(t.innerType._def,e);function Ae(t,e,n=!1){var a;const r=e.seen.get(t);if(e.override){const o=(a=e.override)==null?void 0:a.call(e,t,e,r,n);if(o!==$Z)return o}if(r&&!n){const o=pG(r,e);if(o!==void 0)return o}const i={def:t,path:e.currentPath,jsonSchema:void 0};e.seen.set(t,i);const s=gG(t,t.typeName,e);return s&&yG(t,e,s),i.jsonSchema=s,s}const pG=(t,e)=>{switch(e.$refStrategy){case"root":return{$ref:t.path.join("/")};case"relative":return{$ref:mG(e.currentPath,t.path)};case"none":case"seen":return t.path.length<e.currentPath.length&&t.path.every((n,r)=>e.currentPath[r]===n)?(console.warn(`Recursive reference detected at ${e.currentPath.join("/")}! Defaulting to any`),{}):e.$refStrategy==="seen"?{}:void 0}},mG=(t,e)=>{let n=0;for(;n<t.length&&n<e.length&&t[n]===e[n];n++);return[(t.length-n).toString(),...e.slice(n)].join("/")},gG=(t,e,n)=>{switch(e){case D.ZodString:return YO(t,n);case D.ZodNumber:return rG(t,n);case D.ZodObject:return sG(t,n);case D.ZodBigInt:return DZ(t,n);case D.ZodBoolean:return FZ();case D.ZodDate:return XO(t,n);case D.ZodUndefined:return dG();case D.ZodNull:return eG(n);case D.ZodArray:return zZ(t,n);case D.ZodUnion:case D.ZodDiscriminatedUnion:return tG(t,n);case D.ZodIntersection:return GZ(t,n);case D.ZodTuple:return cG(t,n);case D.ZodRecord:return QO(t,n);case D.ZodLiteral:return KZ(t,n);case D.ZodEnum:return qZ(t);case D.ZodNativeEnum:return YZ(t);case D.ZodNullable:return nG(t,n);case D.ZodOptional:return aG(t,n);case D.ZodMap:return XZ(t,n);case D.ZodSet:return uG(t,n);case D.ZodLazy:return Ae(t.getter()._def,n);case D.ZodPromise:return lG(t,n);case D.ZodNaN:case D.ZodNever:return QZ();case D.ZodEffects:return WZ(t,n);case D.ZodAny:return LZ();case D.ZodUnknown:return fG();case D.ZodDefault:return HZ(t,n);case D.ZodBranded:return BZ(t,n);case D.ZodReadonly:return hG(t,n);case D.ZodCatch:return VZ(t,n);case D.ZodPipeline:return oG(t,n);case D.ZodFunction:case D.ZodVoid:case D.ZodSymbol:return;default:return(r=>{})()}},yG=(t,e,n)=>(t.description&&(n.description=t.description,e.markdownDescription&&(n.markdownDescription=t.description)),n),mm=(t,e)=>{const n=MZ(e),r=void 0,i=e==null?void 0:e.name,s=Ae(t._def,n,!1)??{},a=i===void 0?r?{...s,[n.definitionPath]:r}:s:{$ref:[...n.$refStrategy==="relative"?[]:n.basePath,n.definitionPath,i].join("/"),[n.definitionPath]:{...r,[i]:s}};return n.target==="jsonSchema7"?a.$schema="http://json-schema.org/draft-07/schema#":n.target==="jsonSchema2019-09"&&(a.$schema="https://json-schema.org/draft/2019-09/schema#"),a};function vG(t){return KO(t.data)?{type:"runnable",data:{id:t.data.lc_id,name:t.data.getName()}}:{type:"schema",data:{...mm(t.data.schema),title:t.data.name}}}class eR{constructor(){Object.defineProperty(this,"nodes",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"edges",{enumerable:!0,configurable:!0,writable:!0,value:[]})}toJSON(){const e={};return Object.values(this.nodes).forEach((n,r)=>{e[n.id]=VO(n.id)?r:n.id}),{nodes:Object.values(this.nodes).map(n=>({id:e[n.id],...vG(n)})),edges:this.edges.map(n=>n.data?{source:e[n.source],target:e[n.target],data:n.data}:{source:e[n.source],target:e[n.target]})}}addNode(e,n){if(n!==void 0&&this.nodes[n]!==void 0)throw new Error(`Node with id ${n} already exists`);const r=n||Wr(),i={id:r,data:e};return this.nodes[r]=i,i}removeNode(e){delete this.nodes[e.id],this.edges=this.edges.filter(n=>n.source!==e.id&&n.target!==e.id)}addEdge(e,n,r){if(this.nodes[e.id]===void 0)throw new Error(`Source node ${e.id} not in graph`);if(this.nodes[n.id]===void 0)throw new Error(`Target node ${n.id} not in graph`);const i={source:e.id,target:n.id,data:r};return this.edges.push(i),i}firstNode(){const e=new Set(this.edges.map(r=>r.target)),n=[];return Object.values(this.nodes).forEach(r=>{e.has(r.id)||n.push(r)}),n[0]}lastNode(){const e=new Set(this.edges.map(r=>r.source)),n=[];return Object.values(this.nodes).forEach(r=>{e.has(r.id)||n.push(r)}),n[0]}extend(e){Object.entries(e.nodes).forEach(([n,r])=>{this.nodes[n]=r}),this.edges=[...this.edges,...e.edges]}trimFirstNode(){const e=this.firstNode();if(e){const n=this.edges.filter(r=>r.source===e.id);(Object.keys(this.nodes).length===1||n.length===1)&&this.removeNode(e)}}trimLastNode(){const e=this.lastNode();if(e){const n=this.edges.filter(r=>r.target===e.id);(Object.keys(this.nodes).length===1||n.length===1)&&this.removeNode(e)}}}function bG(t){const e=new TextEncoder,n=new ReadableStream({async start(r){for await(const i of t)r.enqueue(e.encode(`event: data
data: ${JSON.stringify(i)}

`));r.enqueue(e.encode(`event: end

`)),r.close()}});return nr.fromReadableStream(n)}function VS(t){return typeof t=="object"&&t!==null&&typeof t[Symbol.iterator]=="function"&&typeof t.next=="function"}function US(t){return typeof t=="object"&&t!==null&&typeof t[Symbol.asyncIterator]=="function"}function*HS(t,e){const n=ya.getInstance();for(;;){const{value:r,done:i}=n.run(t,e.next.bind(e));if(i)break;yield r}}async function*WS(t,e){const n=ya.getInstance(),r=e[Symbol.asyncIterator]();for(;;){const{value:i,done:s}=await n.run(t,r.next.bind(e));if(s)break;yield i}}function Ft(t,e){return t&&!Array.isArray(t)&&!(t instanceof Date)&&typeof t=="object"?t:{[e]:t}}class Ht extends pa{constructor(){super(...arguments),Object.defineProperty(this,"lc_runnable",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:void 0})}getName(e){const n=this.name??this.constructor.lc_name()??this.constructor.name;return e?`${n}${e}`:n}bind(e){return new Eo({bound:this,kwargs:e,config:{}})}map(){return new sp({bound:this})}withRetry(e){return new wG({bound:this,kwargs:{},config:{},maxAttemptNumber:e==null?void 0:e.stopAfterAttempt,...e})}withConfig(e){return new Eo({bound:this,config:e,kwargs:{}})}withFallbacks(e){return new _G({runnable:this,fallbacks:e.fallbacks})}_getOptionsList(e,n=0){if(Array.isArray(e)&&e.length!==n)throw new Error(`Passed "options" must be an array with the same length as the inputs, but got ${e.length} options for ${n} inputs`);if(Array.isArray(e))return e.map(De);if(n>1&&!Array.isArray(e)&&e.runId){console.warn("Provided runId will be used only for the first element of the batch.");const r=Object.fromEntries(Object.entries(e).filter(([i])=>i!=="runId"));return Array.from({length:n},(i,s)=>De(s===0?e:r))}return Array.from({length:n},()=>De(e))}async batch(e,n,r){var l;const i=this._getOptionsList(n??{},e.length),s=((l=i[0])==null?void 0:l.maxConcurrency)??(r==null?void 0:r.maxConcurrency),a=new Hw({maxConcurrency:s,onFailedAttempt:u=>{throw u}}),o=e.map((u,c)=>a.call(async()=>{try{return await this.invoke(u,i[c])}catch(d){if(r!=null&&r.returnExceptions)return d;throw d}}));return Promise.all(o)}async*_streamIterator(e,n){yield this.invoke(e,n)}async stream(e,n){const r=De(n),i=new Qo({generator:this._streamIterator(e,r),config:r});return await i.setup,nr.fromAsyncGenerator(i)}_separateRunnableConfigFromCallOptions(e){let n;e===void 0?n=De(e):n=De({callbacks:e.callbacks,tags:e.tags,metadata:e.metadata,runName:e.runName,configurable:e.configurable,recursionLimit:e.recursionLimit,maxConcurrency:e.maxConcurrency,runId:e.runId});const r={...e};return delete r.callbacks,delete r.tags,delete r.metadata,delete r.runName,delete r.configurable,delete r.recursionLimit,delete r.maxConcurrency,delete r.runId,[n,r]}async _callWithConfig(e,n,r){const i=De(r),s=await oa(i),a=await(s==null?void 0:s.handleChainStart(this.toJSON(),Ft(n,"input"),i.runId,i==null?void 0:i.runType,void 0,void 0,(i==null?void 0:i.runName)??this.getName()));delete i.runId;let o;try{o=await e.call(this,n,i,a)}catch(l){throw await(a==null?void 0:a.handleChainError(l)),l}return await(a==null?void 0:a.handleChainEnd(Ft(o,"output"))),o}async _batchWithConfig(e,n,r,i){const s=this._getOptionsList(r??{},n.length),a=await Promise.all(s.map(oa)),o=await Promise.all(a.map(async(u,c)=>{const d=await(u==null?void 0:u.handleChainStart(this.toJSON(),Ft(n[c],"input"),s[c].runId,s[c].runType,void 0,void 0,s[c].runName??this.getName()));return delete s[c].runId,d}));let l;try{l=await e.call(this,n,s,o,i)}catch(u){throw await Promise.all(o.map(c=>c==null?void 0:c.handleChainError(u))),u}return await Promise.all(o.map(u=>u==null?void 0:u.handleChainEnd(Ft(l,"output")))),l}async*_transformStreamWithConfig(e,n,r){let i,s=!0,a,o=!0;const l=De(r),u=await oa(l);async function*c(){for await(const f of e){if(s)if(i===void 0)i=f;else try{i=Pi(i,f)}catch{i=void 0,s=!1}yield f}}let d;try{const f=await AZ(n.bind(this),c(),async()=>u==null?void 0:u.handleChainStart(this.toJSON(),{input:""},l.runId,l.runType,void 0,void 0,l.runName??this.getName()),l);delete l.runId,d=f.setup;const h=b=>b.name==="log_stream_tracer",p=d==null?void 0:d.handlers.find(h);let y=f.output;p!==void 0&&d!==void 0&&(y=await p.tapOutputIterable(d.runId,f.output));for await(const b of y)if(yield b,o)if(a===void 0)a=b;else try{a=Pi(a,b)}catch{a=void 0,o=!1}}catch(f){throw await(d==null?void 0:d.handleChainError(f,void 0,void 0,void 0,{inputs:Ft(i,"input")})),f}await(d==null?void 0:d.handleChainEnd(a??{},void 0,void 0,void 0,{inputs:Ft(i,"input")}))}getGraph(e){const n=new eR,r=n.addNode({name:`${this.getName()}Input`,schema:ep.any()}),i=n.addNode(this),s=n.addNode({name:`${this.getName()}Output`,schema:ep.any()});return n.addEdge(r,i),n.addEdge(i,s),n}pipe(e){return new Ys({first:this,last:Qs(e)})}pick(e){return this.pipe(new xG(e))}assign(e){return this.pipe(new tR(new el({steps:e})))}async*transform(e,n){let r;for await(const i of e)r===void 0?r=i:r=Pi(r,i);yield*this._streamIterator(r,De(n))}async*streamLog(e,n,r){const i=new DS({...r,autoClose:!1,_schemaFormat:"original"}),s=De(n);yield*this._streamLog(e,i,s)}async*_streamLog(e,n,r){const{callbacks:i}=r;if(i===void 0)r.callbacks=[n];else if(Array.isArray(i))r.callbacks=i.concat([n]);else{const l=i.copy();l.inheritableHandlers.push(n),r.callbacks=l}const s=this.stream(e,r);async function a(){try{const l=await s;for await(const u of l){const c=new Ki({ops:[{op:"add",path:"/streamed_output/-",value:u}]});await n.writer.write(c)}}finally{await n.writer.close()}}const o=a();try{for await(const l of n)yield l}finally{await o}}streamEvents(e,n,r){const i=this._streamEvents(e,n,r);return n.encoding==="text/event-stream"?bG(i):nr.fromAsyncGenerator(i)}async*_streamEvents(e,n,r){if(n.version!=="v1")throw new Error('Only version "v1" of the events schema is currently supported.');let i,s=!1;const a=De(n),o=a.tags??[],l=a.metadata??{},u=a.runName??this.getName(),c=new DS({...r,autoClose:!1,_schemaFormat:"streaming_events"}),d=new RZ({...r}),f=this._streamLog(e,c,a);for await(const p of f){if(i?i=i.concat(p):i=mc.fromRunLogPatch(p),i.state===void 0)throw new Error('Internal error: "streamEvents" state is missing. Please open a bug report.');if(!s){s=!0;const g={...i.state},v={run_id:g.id,event:`on_${g.type}_start`,name:u,tags:o,metadata:l,data:{input:e}};d.includeEvent(v,g.type)&&(yield v)}const y=p.ops.filter(g=>g.path.startsWith("/logs/")).map(g=>g.path.split("/")[2]),b=[...new Set(y)];for(const g of b){let v,x={};const C=i.state.logs[g];if(C.end_time===void 0?C.streamed_output.length>0?v="stream":v="start":v="end",v==="start")C.inputs!==void 0&&(x.input=C.inputs);else if(v==="end")C.inputs!==void 0&&(x.input=C.inputs),x.output=C.final_output;else if(v==="stream"){const k=C.streamed_output.length;if(k!==1)throw new Error(`Expected exactly one chunk of streamed output, got ${k} instead. Encountered in: "${C.name}"`);x={chunk:C.streamed_output[0]},C.streamed_output=[]}yield{event:`on_${C.type}_${v}`,name:C.name,run_id:C.id,tags:C.tags,metadata:C.metadata,data:x}}const{state:m}=i;if(m.streamed_output.length>0){const g=m.streamed_output.length;if(g!==1)throw new Error(`Expected exactly one chunk of streamed output, got ${g} instead. Encountered in: "${m.name}"`);const v={chunk:m.streamed_output[0]};m.streamed_output=[];const x={event:`on_${m.type}_stream`,run_id:m.id,tags:o,metadata:l,name:u,data:v};d.includeEvent(x,m.type)&&(yield x)}}const h=i==null?void 0:i.state;if(h!==void 0){const p={event:`on_${h.type}_end`,name:u,run_id:h.id,tags:o,metadata:l,data:{output:h.final_output}};d.includeEvent(p,h.type)&&(yield p)}}static isRunnable(e){return KO(e)}withListeners({onStart:e,onEnd:n,onError:r}){return new Eo({bound:this,config:{},configFactories:[i=>({callbacks:[new GO({config:i,onStart:e,onEnd:n,onError:r})]})]})}}class Eo extends Ht{static lc_name(){return"RunnableBinding"}constructor(e){super(e),Object.defineProperty(this,"lc_namespace",{enumerable:!0,configurable:!0,writable:!0,value:["langchain_core","runnables"]}),Object.defineProperty(this,"lc_serializable",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"bound",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"config",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"kwargs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"configFactories",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.bound=e.bound,this.kwargs=e.kwargs,this.config=e.config,this.configFactories=e.configFactories}getName(e){return this.bound.getName(e)}async _mergeConfig(...e){const n=FS(this.config,...e);return FS(n,...this.configFactories?await Promise.all(this.configFactories.map(async r=>await r(n))):[])}bind(e){return new this.constructor({bound:this.bound,kwargs:{...this.kwargs,...e},config:this.config})}withConfig(e){return new this.constructor({bound:this.bound,kwargs:this.kwargs,config:{...this.config,...e}})}withRetry(e){return new this.constructor({bound:this.bound.withRetry(e),kwargs:this.kwargs,config:this.config})}async invoke(e,n){return this.bound.invoke(e,await this._mergeConfig(De(n),this.kwargs))}async batch(e,n,r){const i=Array.isArray(n)?await Promise.all(n.map(async s=>this._mergeConfig(De(s),this.kwargs))):await this._mergeConfig(De(n),this.kwargs);return this.bound.batch(e,i,r)}async*_streamIterator(e,n){yield*this.bound._streamIterator(e,await this._mergeConfig(De(n),this.kwargs))}async stream(e,n){return this.bound.stream(e,await this._mergeConfig(De(n),this.kwargs))}async*transform(e,n){yield*this.bound.transform(e,await this._mergeConfig(De(n),this.kwargs))}streamEvents(e,n,r){const i=this,s=async function*(){yield*i.bound.streamEvents(e,{...await i._mergeConfig(De(n),i.kwargs),version:n.version},r)};return nr.fromAsyncGenerator(s())}static isRunnableBinding(e){return e.bound&&Ht.isRunnable(e.bound)}withListeners({onStart:e,onEnd:n,onError:r}){return new Eo({bound:this.bound,kwargs:this.kwargs,config:this.config,configFactories:[i=>({callbacks:[new GO({config:i,onStart:e,onEnd:n,onError:r})]})]})}}class sp extends Ht{static lc_name(){return"RunnableEach"}constructor(e){super(e),Object.defineProperty(this,"lc_serializable",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"lc_namespace",{enumerable:!0,configurable:!0,writable:!0,value:["langchain_core","runnables"]}),Object.defineProperty(this,"bound",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.bound=e.bound}bind(e){return new sp({bound:this.bound.bind(e)})}async invoke(e,n){return this._callWithConfig(this._invoke,e,n)}async _invoke(e,n,r){return this.bound.batch(e,dn(n,{callbacks:r==null?void 0:r.getChild()}))}withListeners({onStart:e,onEnd:n,onError:r}){return new sp({bound:this.bound.withListeners({onStart:e,onEnd:n,onError:r})})}}class wG extends Eo{static lc_name(){return"RunnableRetry"}constructor(e){super(e),Object.defineProperty(this,"lc_namespace",{enumerable:!0,configurable:!0,writable:!0,value:["langchain_core","runnables"]}),Object.defineProperty(this,"maxAttemptNumber",{enumerable:!0,configurable:!0,writable:!0,value:3}),Object.defineProperty(this,"onFailedAttempt",{enumerable:!0,configurable:!0,writable:!0,value:()=>{}}),this.maxAttemptNumber=e.maxAttemptNumber??this.maxAttemptNumber,this.onFailedAttempt=e.onFailedAttempt??this.onFailedAttempt}_patchConfigForRetry(e,n,r){const i=e>1?`retry:attempt:${e}`:void 0;return dn(n,{callbacks:r==null?void 0:r.getChild(i)})}async _invoke(e,n,r){return qh(i=>super.invoke(e,this._patchConfigForRetry(i,n,r)),{onFailedAttempt:i=>this.onFailedAttempt(i,e),retries:Math.max(this.maxAttemptNumber-1,0),randomize:!0})}async invoke(e,n){return this._callWithConfig(this._invoke,e,n)}async _batch(e,n,r,i){const s={};try{await qh(async a=>{const o=e.map((f,h)=>h).filter(f=>s[f.toString()]===void 0||s[f.toString()]instanceof Error),l=o.map(f=>e[f]),u=o.map(f=>this._patchConfigForRetry(a,n==null?void 0:n[f],r==null?void 0:r[f])),c=await super.batch(l,u,{...i,returnExceptions:!0});let d;for(let f=0;f<c.length;f+=1){const h=c[f],p=o[f];h instanceof Error&&d===void 0&&(d=h,d.input=l[f]),s[p.toString()]=h}if(d)throw d;return c},{onFailedAttempt:a=>this.onFailedAttempt(a,a.input),retries:Math.max(this.maxAttemptNumber-1,0),randomize:!0})}catch(a){if((i==null?void 0:i.returnExceptions)!==!0)throw a}return Object.keys(s).sort((a,o)=>parseInt(a,10)-parseInt(o,10)).map(a=>s[parseInt(a,10)])}async batch(e,n,r){return this._batchWithConfig(this._batch.bind(this),e,n,r)}}class Ys extends Ht{static lc_name(){return"RunnableSequence"}constructor(e){super(e),Object.defineProperty(this,"first",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"middle",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"last",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"lc_serializable",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"lc_namespace",{enumerable:!0,configurable:!0,writable:!0,value:["langchain_core","runnables"]}),this.first=e.first,this.middle=e.middle??this.middle,this.last=e.last,this.name=e.name}get steps(){return[this.first,...this.middle,this.last]}async invoke(e,n){const r=De(n),i=await oa(r),s=await(i==null?void 0:i.handleChainStart(this.toJSON(),Ft(e,"input"),r.runId,void 0,void 0,void 0,r==null?void 0:r.runName));delete r.runId;let a=e,o;try{const l=[this.first,...this.middle];for(let u=0;u<l.length;u+=1)a=await l[u].invoke(a,dn(r,{callbacks:s==null?void 0:s.getChild(`seq:step:${u+1}`)}));o=await this.last.invoke(a,dn(r,{callbacks:s==null?void 0:s.getChild(`seq:step:${this.steps.length}`)}))}catch(l){throw await(s==null?void 0:s.handleChainError(l)),l}return await(s==null?void 0:s.handleChainEnd(Ft(o,"output"))),o}async batch(e,n,r){const i=this._getOptionsList(n??{},e.length),s=await Promise.all(i.map(oa)),a=await Promise.all(s.map(async(l,u)=>{const c=await(l==null?void 0:l.handleChainStart(this.toJSON(),Ft(e[u],"input"),i[u].runId,void 0,void 0,void 0,i[u].runName));return delete i[u].runId,c}));let o=e;try{for(let l=0;l<this.steps.length;l+=1)o=await this.steps[l].batch(o,a.map((c,d)=>{const f=c==null?void 0:c.getChild(`seq:step:${l+1}`);return dn(i[d],{callbacks:f})}),r)}catch(l){throw await Promise.all(a.map(u=>u==null?void 0:u.handleChainError(l))),l}return await Promise.all(a.map(l=>l==null?void 0:l.handleChainEnd(Ft(o,"output")))),o}async*_streamIterator(e,n){const r=await oa(n),{runId:i,...s}=n??{},a=await(r==null?void 0:r.handleChainStart(this.toJSON(),Ft(e,"input"),i,void 0,void 0,void 0,s==null?void 0:s.runName)),o=[this.first,...this.middle,this.last];let l=!0,u;async function*c(){yield e}try{let d=o[0].transform(c(),dn(s,{callbacks:a==null?void 0:a.getChild("seq:step:1")}));for(let f=1;f<o.length;f+=1)d=await o[f].transform(d,dn(s,{callbacks:a==null?void 0:a.getChild(`seq:step:${f+1}`)}));for await(const f of d)if(yield f,l)if(u===void 0)u=f;else try{u=Pi(u,f)}catch{u=void 0,l=!1}}catch(d){throw await(a==null?void 0:a.handleChainError(d)),d}await(a==null?void 0:a.handleChainEnd(Ft(u,"output")))}getGraph(e){const n=new eR;let r=null;return this.steps.forEach((i,s)=>{const a=i.getGraph(e);s!==0&&a.trimFirstNode(),s!==this.steps.length-1&&a.trimLastNode(),n.extend(a);const o=a.firstNode();if(!o)throw new Error(`Runnable ${i} has no first node`);r&&n.addEdge(r,o),r=a.lastNode()}),n}pipe(e){return Ys.isRunnableSequence(e)?new Ys({first:this.first,middle:this.middle.concat([this.last,e.first,...e.middle]),last:e.last,name:this.name??e.name}):new Ys({first:this.first,middle:[...this.middle,this.last],last:Qs(e),name:this.name})}static isRunnableSequence(e){return Array.isArray(e.middle)&&Ht.isRunnable(e)}static from([e,...n],r){return new Ys({first:Qs(e),middle:n.slice(0,-1).map(Qs),last:Qs(n[n.length-1]),name:r})}}class el extends Ht{static lc_name(){return"RunnableMap"}getStepsKeys(){return Object.keys(this.steps)}constructor(e){super(e),Object.defineProperty(this,"lc_namespace",{enumerable:!0,configurable:!0,writable:!0,value:["langchain_core","runnables"]}),Object.defineProperty(this,"lc_serializable",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"steps",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.steps={};for(const[n,r]of Object.entries(e.steps))this.steps[n]=Qs(r)}static from(e){return new el({steps:e})}async invoke(e,n){const r=De(n),i=await oa(r),s=await(i==null?void 0:i.handleChainStart(this.toJSON(),{input:e},r.runId,void 0,void 0,void 0,r==null?void 0:r.runName));delete r.runId;const a={};try{await Promise.all(Object.entries(this.steps).map(async([o,l])=>{a[o]=await l.invoke(e,dn(r,{callbacks:s==null?void 0:s.getChild(`map:key:${o}`)}))}))}catch(o){throw await(s==null?void 0:s.handleChainError(o)),o}return await(s==null?void 0:s.handleChainEnd(a)),a}async*_transform(e,n,r){const i={...this.steps},s=ZO(e,Object.keys(i).length),a=new Map(Object.entries(i).map(([o,l],u)=>{const c=l.transform(s[u],dn(r,{callbacks:n==null?void 0:n.getChild(`map:key:${o}`)}));return[o,c.next().then(d=>({key:o,gen:c,result:d}))]}));for(;a.size;){const{key:o,result:l,gen:u}=await Promise.race(a.values());a.delete(o),l.done||(yield{[o]:l.value},a.set(o,u.next().then(c=>({key:o,gen:u,result:c}))))}}transform(e,n){return this._transformStreamWithConfig(e,this._transform.bind(this),n)}async stream(e,n){async function*r(){yield e}const i=De(n),s=new Qo({generator:this.transform(r(),i),config:i});return await s.setup,nr.fromAsyncGenerator(s)}}class Gw extends Ht{static lc_name(){return"RunnableLambda"}constructor(e){super(e),Object.defineProperty(this,"lc_namespace",{enumerable:!0,configurable:!0,writable:!0,value:["langchain_core","runnables"]}),Object.defineProperty(this,"func",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.func=e.func}static from(e){return new Gw({func:e})}async _invoke(e,n,r){return new Promise((i,s)=>{const a=dn(n,{callbacks:r==null?void 0:r.getChild(),recursionLimit:((n==null?void 0:n.recursionLimit)??Qg)-1});ya.getInstance().run(a,async()=>{try{let o=await this.func(e,{...a,config:a});if(o&&Ht.isRunnable(o)){if((n==null?void 0:n.recursionLimit)===0)throw new Error("Recursion limit reached.");o=await o.invoke(e,{...a,recursionLimit:(a.recursionLimit??Qg)-1})}else if(US(o)){let l;for await(const u of WS(a,o))if(l===void 0)l=u;else try{l=Pi(l,u)}catch{l=u}o=l}else if(VS(o)){let l;for(const u of HS(a,o))if(l===void 0)l=u;else try{l=Pi(l,u)}catch{l=u}o=l}i(o)}catch(o){s(o)}})})}async invoke(e,n){return this._callWithConfig(this._invoke,e,n)}async*_transform(e,n,r){let i;for await(const a of e)if(i===void 0)i=a;else try{i=Pi(i,a)}catch{i=a}const s=await new Promise((a,o)=>{ya.getInstance().run(r,async()=>{try{const l=await this.func(i,{...r,config:r});a(l)}catch(l){o(l)}})});if(s&&Ht.isRunnable(s)){if((r==null?void 0:r.recursionLimit)===0)throw new Error("Recursion limit reached.");const a=await s.stream(i,dn(r,{callbacks:n==null?void 0:n.getChild(),recursionLimit:((r==null?void 0:r.recursionLimit)??Qg)-1}));for await(const o of a)yield o}else if(US(s))for await(const a of WS(r,s))yield a;else if(VS(s))for(const a of HS(r,s))yield a;else yield s}transform(e,n){return this._transformStreamWithConfig(e,this._transform.bind(this),n)}async stream(e,n){async function*r(){yield e}const i=De(n),s=new Qo({generator:this.transform(r(),i),config:i});return await s.setup,nr.fromAsyncGenerator(s)}}class _G extends Ht{static lc_name(){return"RunnableWithFallbacks"}constructor(e){super(e),Object.defineProperty(this,"lc_namespace",{enumerable:!0,configurable:!0,writable:!0,value:["langchain_core","runnables"]}),Object.defineProperty(this,"lc_serializable",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"runnable",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"fallbacks",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.runnable=e.runnable,this.fallbacks=e.fallbacks}*runnables(){yield this.runnable;for(const e of this.fallbacks)yield e}async invoke(e,n){const r=await yn.configure(n==null?void 0:n.callbacks,void 0,n==null?void 0:n.tags,void 0,n==null?void 0:n.metadata),{runId:i,...s}=n??{},a=await(r==null?void 0:r.handleChainStart(this.toJSON(),Ft(e,"input"),i,void 0,void 0,void 0,s==null?void 0:s.runName));let o;for(const l of this.runnables())try{const u=await l.invoke(e,dn(s,{callbacks:a==null?void 0:a.getChild()}));return await(a==null?void 0:a.handleChainEnd(Ft(u,"output"))),u}catch(u){o===void 0&&(o=u)}throw o===void 0?new Error("No error stored at end of fallback."):(await(a==null?void 0:a.handleChainError(o)),o)}async batch(e,n,r){if(r!=null&&r.returnExceptions)throw new Error("Not implemented.");const i=this._getOptionsList(n??{},e.length),s=await Promise.all(i.map(l=>yn.configure(l==null?void 0:l.callbacks,void 0,l==null?void 0:l.tags,void 0,l==null?void 0:l.metadata))),a=await Promise.all(s.map(async(l,u)=>{const c=await(l==null?void 0:l.handleChainStart(this.toJSON(),Ft(e[u],"input"),i[u].runId,void 0,void 0,void 0,i[u].runName));return delete i[u].runId,c}));let o;for(const l of this.runnables())try{const u=await l.batch(e,a.map((c,d)=>dn(i[d],{callbacks:c==null?void 0:c.getChild()})),r);return await Promise.all(a.map((c,d)=>c==null?void 0:c.handleChainEnd(Ft(u[d],"output")))),u}catch(u){o===void 0&&(o=u)}throw o?(await Promise.all(a.map(l=>l==null?void 0:l.handleChainError(o))),o):new Error("No error stored at end of fallbacks.")}}function Qs(t){if(typeof t=="function")return new Gw({func:t});if(Ht.isRunnable(t))return t;if(!Array.isArray(t)&&typeof t=="object"){const e={};for(const[n,r]of Object.entries(t))e[n]=Qs(r);return new el({steps:e})}else throw new Error(`Expected a Runnable, function or object.
Instead got an unsupported type.`)}class tR extends Ht{static lc_name(){return"RunnableAssign"}constructor(e){e instanceof el&&(e={mapper:e}),super(e),Object.defineProperty(this,"lc_namespace",{enumerable:!0,configurable:!0,writable:!0,value:["langchain_core","runnables"]}),Object.defineProperty(this,"lc_serializable",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"mapper",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.mapper=e.mapper}async invoke(e,n){const r=await this.mapper.invoke(e,n);return{...e,...r}}async*_transform(e,n,r){const i=this.mapper.getStepsKeys(),[s,a]=ZO(e),o=this.mapper.transform(a,dn(r,{callbacks:n==null?void 0:n.getChild()})),l=o.next();for await(const u of s){if(typeof u!="object"||Array.isArray(u))throw new Error(`RunnableAssign can only be used with objects as input, got ${typeof u}`);const c=Object.fromEntries(Object.entries(u).filter(([d])=>!i.includes(d)));Object.keys(c).length>0&&(yield c)}yield(await l).value;for await(const u of o)yield u}transform(e,n){return this._transformStreamWithConfig(e,this._transform.bind(this),n)}async stream(e,n){async function*r(){yield e}const i=De(n),s=new Qo({generator:this.transform(r(),i),config:i});return await s.setup,nr.fromAsyncGenerator(s)}}class xG extends Ht{static lc_name(){return"RunnablePick"}constructor(e){(typeof e=="string"||Array.isArray(e))&&(e={keys:e}),super(e),Object.defineProperty(this,"lc_namespace",{enumerable:!0,configurable:!0,writable:!0,value:["langchain_core","runnables"]}),Object.defineProperty(this,"lc_serializable",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"keys",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.keys=e.keys}async _pick(e){if(typeof this.keys=="string")return e[this.keys];{const n=this.keys.map(r=>[r,e[r]]).filter(r=>r[1]!==void 0);return n.length===0?void 0:Object.fromEntries(n)}}async invoke(e,n){return this._callWithConfig(this._pick.bind(this),e,n)}async*_transform(e){for await(const n of e){const r=await this._pick(n);r!==void 0&&(yield r)}}transform(e,n){return this._transformStreamWithConfig(e,this._transform.bind(this),n)}async stream(e,n){async function*r(){yield e}const i=De(n),s=new Qo({generator:this.transform(r(),i),config:i});return await s.setup,nr.fromAsyncGenerator(s)}}const kG=t=>t.startsWith("gpt-3.5-turbo-16k")?"gpt-3.5-turbo-16k":t.startsWith("gpt-3.5-turbo-")?"gpt-3.5-turbo":t.startsWith("gpt-4-32k")?"gpt-4-32k":t.startsWith("gpt-4-")?"gpt-4":t.startsWith("gpt-4o")?"gpt-4o":t,SG=()=>!1;class CG extends Ht{get lc_attributes(){return{callbacks:void 0,verbose:void 0}}constructor(e){super(e),Object.defineProperty(this,"verbose",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"callbacks",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"tags",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"metadata",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.verbose=e.verbose??SG(),this.callbacks=e.callbacks,this.tags=e.tags??[],this.metadata=e.metadata??{}}}class TG extends CG{get callKeys(){return["stop","timeout","signal","tags","metadata","callbacks"]}constructor({callbacks:e,callbackManager:n,...r}){super({callbacks:e??n,...r}),Object.defineProperty(this,"caller",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"cache",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_encoding",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),typeof r.cache=="object"?this.cache=r.cache:r.cache?this.cache=Bw.global():this.cache=void 0,this.caller=new Hw(r??{})}async getNumTokens(e){if(typeof e!="string")return 0;let n=Math.ceil(e.length/4);if(!this._encoding)try{this._encoding=await DW("modelName"in this?kG(this.modelName):"gpt2")}catch(r){console.warn("Failed to calculate number of tokens, falling back to approximate count",r)}if(this._encoding)try{n=this._encoding.encode(e).length}catch(r){console.warn("Failed to calculate number of tokens, falling back to approximate count",r)}return n}static _convertInputToPromptValue(e){return typeof e=="string"?new eW(e):Array.isArray(e)?new tW(e.map(Ul)):e}_identifyingParams(){return{}}_getSerializedCacheKeyParametersForCall({config:e,...n}){const r={...this._identifyingParams(),...n,_type:this._llmType(),_model:this._modelType()};return Object.entries(r).filter(([a,o])=>o!==void 0).map(([a,o])=>`${a}:${JSON.stringify(o)}`).sort().join(",")}serialize(){return{...this._identifyingParams(),_type:this._llmType(),_model:this._modelType()}}static async deserialize(e){throw new Error("Use .toJSON() instead")}}class Us extends TG{constructor(e){super(e),Object.defineProperty(this,"lc_namespace",{enumerable:!0,configurable:!0,writable:!0,value:["langchain","chat_models",this._llmType()]})}_separateRunnableConfigFromCallOptions(e){const[n,r]=super._separateRunnableConfigFromCallOptions(e);return r!=null&&r.timeout&&!r.signal&&(r.signal=AbortSignal.timeout(r.timeout)),[n,r]}async invoke(e,n){const r=Us._convertInputToPromptValue(e);return(await this.generatePrompt([r],n,n==null?void 0:n.callbacks)).generations[0][0].message}async*_streamResponseChunks(e,n,r){throw new Error("Not implemented.")}async*_streamIterator(e,n){if(this._streamResponseChunks===Us.prototype._streamResponseChunks)yield this.invoke(e,n);else{const i=Us._convertInputToPromptValue(e).toChatMessages(),[s,a]=this._separateRunnableConfigFromCallOptions(n),o={...s.metadata,...this.getLsParams(a)},l=await yn.configure(s.callbacks,this.callbacks,s.tags,this.tags,o,this.metadata,{verbose:this.verbose}),u={options:a,invocation_params:this==null?void 0:this.invocationParams(a),batch_size:1},c=await(l==null?void 0:l.handleChatModelStart(this.toJSON(),[i],s.runId,void 0,u,void 0,void 0,s.runName));let d;try{for await(const f of this._streamResponseChunks(i,a,c==null?void 0:c[0]))f.message.response_metadata={...f.generationInfo,...f.message.response_metadata},yield f.message,d?d=d.concat(f):d=f}catch(f){throw await Promise.all((c??[]).map(h=>h==null?void 0:h.handleLLMError(f))),f}await Promise.all((c??[]).map(f=>f==null?void 0:f.handleLLMEnd({generations:[[d]]})))}}getLsParams(e){return{ls_model_type:"chat",ls_stop:e.stop}}async _generateUncached(e,n,r){var h;const i=e.map(p=>p.map(Ul)),s={...r.metadata,...this.getLsParams(n)},a=await yn.configure(r.callbacks,this.callbacks,r.tags,this.tags,s,this.metadata,{verbose:this.verbose}),o={options:n,invocation_params:this==null?void 0:this.invocationParams(n),batch_size:1},l=await(a==null?void 0:a.handleChatModelStart(this.toJSON(),i,r.runId,void 0,o,void 0,void 0,r.runName)),u=await Promise.allSettled(i.map((p,y)=>this._generate(p,{...n,promptIndex:y},l==null?void 0:l[y]))),c=[],d=[];await Promise.all(u.map(async(p,y)=>{var b,m;if(p.status==="fulfilled"){const g=p.value;for(const v of g.generations)v.message.response_metadata={...v.generationInfo,...v.message.response_metadata};return g.generations.length===1&&(g.generations[0].message.response_metadata={...g.llmOutput,...g.generations[0].message.response_metadata}),c[y]=g.generations,d[y]=g.llmOutput,(b=l==null?void 0:l[y])==null?void 0:b.handleLLMEnd({generations:[g.generations],llmOutput:g.llmOutput})}else return await((m=l==null?void 0:l[y])==null?void 0:m.handleLLMError(p.reason)),Promise.reject(p.reason)}));const f={generations:c,llmOutput:d.length?(h=this._combineLLMOutput)==null?void 0:h.call(this,...d):void 0};return Object.defineProperty(f,CS,{value:l?{runIds:l==null?void 0:l.map(p=>p.runId)}:void 0,configurable:!0}),f}async _generateCached({messages:e,cache:n,llmStringKey:r,parsedOptions:i,handledOptions:s}){const a=e.map(b=>b.map(Ul)),o={...s.metadata,...this.getLsParams(i)},l=await yn.configure(s.callbacks,this.callbacks,s.tags,this.tags,o,this.metadata,{verbose:this.verbose}),u={options:i,invocation_params:this==null?void 0:this.invocationParams(i),batch_size:1,cached:!0},c=await(l==null?void 0:l.handleChatModelStart(this.toJSON(),a,s.runId,void 0,u,void 0,void 0,s.runName)),d=[],h=(await Promise.allSettled(a.map(async(b,m)=>{const g=Us._convertInputToPromptValue(b).toString(),v=await n.lookup(g,r);return v==null&&d.push(m),v}))).map((b,m)=>({result:b,runManager:c==null?void 0:c[m]})).filter(({result:b})=>b.status==="fulfilled"&&b.value!=null||b.status==="rejected"),p=[];await Promise.all(h.map(async({result:b,runManager:m},g)=>{if(b.status==="fulfilled"){const v=b.value;return p[g]=v,v.length&&await(m==null?void 0:m.handleLLMNewToken(v[0].text)),m==null?void 0:m.handleLLMEnd({generations:[v]})}else return await(m==null?void 0:m.handleLLMError(b.reason)),Promise.reject(b.reason)}));const y={generations:p,missingPromptIndices:d};return Object.defineProperty(y,CS,{value:c?{runIds:c==null?void 0:c.map(b=>b.runId)}:void 0,configurable:!0}),y}async generate(e,n,r){let i;Array.isArray(n)?i={stop:n}:i=n;const s=e.map(h=>h.map(Ul)),[a,o]=this._separateRunnableConfigFromCallOptions(i);if(a.callbacks=a.callbacks??r,!this.cache)return this._generateUncached(s,o,a);const{cache:l}=this,u=this._getSerializedCacheKeyParametersForCall(o),{generations:c,missingPromptIndices:d}=await this._generateCached({messages:s,cache:l,llmStringKey:u,parsedOptions:o,handledOptions:a});let f={};if(d.length>0){const h=await this._generateUncached(d.map(p=>s[p]),o,a);await Promise.all(h.generations.map(async(p,y)=>{const b=d[y];c[b]=p;const m=Us._convertInputToPromptValue(s[b]).toString();return l.update(m,u,p)})),f=h.llmOutput??{}}return{generations:c,llmOutput:f}}invocationParams(e){return{}}_modelType(){return"base_chat_model"}serialize(){return{...this.invocationParams(),_type:this._llmType(),_model:this._modelType()}}async generatePrompt(e,n,r){const i=e.map(s=>s.toChatMessages());return this.generate(i,n,r)}async call(e,n,r){return(await this.generate([e.map(Ul)],n,r)).generations[0][0].message}async callPrompt(e,n,r){const i=e.toChatMessages();return this.call(i,n,r)}async predictMessages(e,n,r){return this.call(e,n,r)}async predict(e,n,r){const i=new Wh(e),s=await this.call([i],n,r);if(typeof s.content!="string")throw new Error("Cannot use predict when output is not a string.");return s.content}}function PG(t){return{name:t.name,description:t.description,parameters:mm(t.schema)}}function qS(t){return EG(t)?{type:"function",function:PG(t)}:t}function EG(t){return t!==void 0&&Array.isArray(t.lc_namespace)}class ZS extends Ht{static lc_name(){return"RunnablePassthrough"}constructor(e){super(e),Object.defineProperty(this,"lc_namespace",{enumerable:!0,configurable:!0,writable:!0,value:["langchain_core","runnables"]}),Object.defineProperty(this,"lc_serializable",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"func",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),e&&(this.func=e.func)}async invoke(e,n){const r=De(n);return this.func&&await this.func(e,r),this._callWithConfig(i=>Promise.resolve(i),e,r)}async*transform(e,n){const r=De(n);let i,s=!0;for await(const a of this._transformStreamWithConfig(e,o=>o,r))if(yield a,s)if(i===void 0)i=a;else try{i=Pi(i,a)}catch{i=void 0,s=!1}this.func&&i!==void 0&&await this.func(i,r)}static assign(e){return new tR(new el({steps:e}))}}class Kw extends Ht{parseResultWithPrompt(e,n,r){return this.parseResult(e,r)}_baseMessageToString(e){return typeof e.content=="string"?e.content:this._baseMessageContentToString(e.content)}_baseMessageContentToString(e){return JSON.stringify(e)}async invoke(e,n){return typeof e=="string"?this._callWithConfig(async(r,i)=>this.parseResult([{text:r}],i==null?void 0:i.callbacks),e,{...n,runType:"parser"}):this._callWithConfig(async(r,i)=>this.parseResult([{message:r,text:this._baseMessageToString(r)}],i==null?void 0:i.callbacks),e,{...n,runType:"parser"})}}class nR extends Kw{parseResult(e,n){return this.parse(e[0].text,n)}async parseWithPrompt(e,n,r){return this.parse(e,r)}_type(){throw new Error("_type not implemented")}}class Jw extends Error{constructor(e,n,r,i=!1){if(super(e),Object.defineProperty(this,"llmOutput",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"observation",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"sendToLLM",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.llmOutput=n,this.observation=r,this.sendToLLM=i,i&&(r===void 0||n===void 0))throw new Error("Arguments 'observation' & 'llmOutput' are required if 'sendToLlm' is true")}}function c0(t,e){const n=typeof t;if(n!==typeof e)return!1;if(Array.isArray(t)){if(!Array.isArray(e))return!1;const r=t.length;if(r!==e.length)return!1;for(let i=0;i<r;i++)if(!c0(t[i],e[i]))return!1;return!0}if(n==="object"){if(!t||!e)return t===e;const r=Object.keys(t),i=Object.keys(e);if(r.length!==i.length)return!1;for(const a of r)if(!c0(t[a],e[a]))return!1;return!0}return t===e}class AG extends nR{async*_transform(e){for await(const n of e)typeof n=="string"?yield this.parseResult([{text:n}]):yield this.parseResult([{message:n,text:this._baseMessageToString(n)}])}async*transform(e,n){yield*this._transformStreamWithConfig(e,this._transform.bind(this),{...n,runType:"parser"})}}class IG extends AG{constructor(e){super(e),Object.defineProperty(this,"diff",{enumerable:!0,configurable:!0,writable:!0,value:!1}),this.diff=(e==null?void 0:e.diff)??this.diff}async*_transform(e){let n,r;for await(const i of e){if(typeof i!="string"&&typeof i.content!="string")throw new Error("Cannot handle non-string output.");let s;if(z7(i)){if(typeof i.content!="string")throw new Error("Cannot handle non-string message output.");s=new ec({message:i,text:i.content})}else if(Dw(i)){if(typeof i.content!="string")throw new Error("Cannot handle non-string message output.");s=new ec({message:V7(i),text:i.content})}else s=new lm({text:i});r===void 0?r=s:r=r.concat(s);const a=await this.parsePartialResult([r]);a!=null&&!c0(a,n)&&(this.diff?yield this._diff(n,a):yield a,n=a)}}}class OG extends nR{static lc_name(){return"StructuredOutputParser"}toJSON(){return this.toJSONNotImplemented()}constructor(e){super(e),Object.defineProperty(this,"schema",{enumerable:!0,configurable:!0,writable:!0,value:e}),Object.defineProperty(this,"lc_namespace",{enumerable:!0,configurable:!0,writable:!0,value:["langchain","output_parsers","structured"]})}static fromZodSchema(e){return new this(e)}static fromNamesAndDescriptions(e){const n=ep.object(Object.fromEntries(Object.entries(e).map(([r,i])=>[r,ep.string().describe(i)])));return new this(n)}getFormatInstructions(){return`You must format your output as a JSON value that adheres to a given "JSON Schema" instance.

"JSON Schema" is a declarative language that allows you to annotate and validate JSON documents.

For example, the example "JSON Schema" instance {{"properties": {{"foo": {{"description": "a list of test words", "type": "array", "items": {{"type": "string"}}}}}}, "required": ["foo"]}}}}
would match an object with one required property, "foo". The "type" property specifies "foo" must be an "array", and the "description" property semantically describes it as "a list of test words". The items within "foo" must be strings.
Thus, the object {{"foo": ["bar", "baz"]}} is a well-formatted instance of this example "JSON Schema". The object {{"properties": {{"foo": ["bar", "baz"]}}}} is not well-formatted.

Your output will be parsed and type-checked according to the provided schema instance, so make sure all fields in your output match the schema exactly and there are no trailing commas!

Here is the JSON Schema instance your output must adhere to. Include the enclosing markdown codeblock:
\`\`\`json
${JSON.stringify(mm(this.schema))}
\`\`\`
`}async parse(e){try{const r=(e.includes("```")?e.trim().split(/```(?:json)?/)[1]:e.trim()).replace(/"([^"\\]*(\\.[^"\\]*)*)"/g,(i,s)=>`"${s.replace(/\n/g,"\\n")}"`).replace(/\n/g,"");return await this.schema.parseAsync(JSON.parse(r))}catch(n){throw new Jw(`Failed to parse. Text: "${e}". Error: ${n}`,e)}}}class RG extends IG{constructor(){super(...arguments),Object.defineProperty(this,"lc_namespace",{enumerable:!0,configurable:!0,writable:!0,value:["langchain_core","output_parsers"]}),Object.defineProperty(this,"lc_serializable",{enumerable:!0,configurable:!0,writable:!0,value:!0})}static lc_name(){return"JsonOutputParser"}_diff(e,n){if(n)return e?TZ(e,n):[{op:"replace",path:"",value:n}]}async parsePartialResult(e){return wS(e[0].text)}async parse(e){return wS(e,JSON.parse)}getFormatInstructions(){return""}}function rR(t,e){if(t.function===void 0)return;let n;if(e!=null&&e.partial)try{n=zw(t.function.arguments??"{}")}catch{return}else try{n=JSON.parse(t.function.arguments)}catch(i){throw new Jw([`Function "${t.function.name}" arguments:`,"",t.function.arguments,"","are not valid JSON.",`Error: ${i.message}`].join(`
`))}const r={name:t.function.name,args:n};return e!=null&&e.returnId&&(r.id=t.id),r}function $G(t){if(t.id===void 0)throw new Error('All OpenAI tool calls must have an "id" field.');return{id:t.id,type:"function",function:{name:t.name,arguments:JSON.stringify(t.args)}}}function NG(t,e){var n,r;return{name:(n=t.function)==null?void 0:n.name,args:(r=t.function)==null?void 0:r.arguments,id:t.id,error:e}}class jG extends Kw{static lc_name(){return"JsonOutputToolsParser"}constructor(e){super(e),Object.defineProperty(this,"returnId",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"lc_namespace",{enumerable:!0,configurable:!0,writable:!0,value:["langchain","output_parsers","openai_tools"]}),Object.defineProperty(this,"lc_serializable",{enumerable:!0,configurable:!0,writable:!0,value:!0}),this.returnId=(e==null?void 0:e.returnId)??this.returnId}async parseResult(e){const n=e[0].message.additional_kwargs.tool_calls;if(!n)throw new Error(`No tools_call in message ${JSON.stringify(e)}`);const r=JSON.parse(JSON.stringify(n)),i=[];for(const s of r){const a=rR(s,{partial:!0});if(a!==void 0){const o={type:a.name,args:a.args,id:a.id};Object.defineProperty(o,"name",{get(){return this.type}}),Object.defineProperty(o,"arguments",{get(){return this.args}}),i.push(o)}}return i}}class GS extends Kw{static lc_name(){return"JsonOutputKeyToolsParser"}constructor(e){super(e),Object.defineProperty(this,"lc_namespace",{enumerable:!0,configurable:!0,writable:!0,value:["langchain","output_parsers","openai_tools"]}),Object.defineProperty(this,"lc_serializable",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"returnId",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"keyName",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"returnSingle",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"initialParser",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"zodSchema",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.keyName=e.keyName,this.returnSingle=e.returnSingle??this.returnSingle,this.initialParser=new jG(e),this.zodSchema=e.zodSchema}async _validateResult(e){if(this.zodSchema===void 0)return e;const n=await this.zodSchema.safeParseAsync(e);if(n.success)return n.data;throw new Jw(`Failed to parse. Text: "${JSON.stringify(e,null,2)}". Error: ${JSON.stringify(n.error.errors)}`,JSON.stringify(e,null,2))}async parseResult(e){const r=(await this.initialParser.parseResult(e)).filter(a=>a.type===this.keyName);let i=r;return this.returnId||(i=r.map(a=>a.args)),this.returnSingle?this._validateResult(i[0]):await Promise.all(i.map(a=>this._validateResult(a)))}}function MG(t){const{azureOpenAIApiDeploymentName:e,azureOpenAIApiInstanceName:n,azureOpenAIApiKey:r,azureOpenAIBasePath:i,baseURL:s,azureADTokenProvider:a}=t;if(r&&i&&e)return`${i}/${e}`;if(r||a){if(!n)throw new Error("azureOpenAIApiInstanceName is required when using azureOpenAIApiKey");if(!e)throw new Error("azureOpenAIApiDeploymentName is a required parameter when using azureOpenAIApiKey");return`https://${n}.openai.azure.com/openai/deployments/${e}`}return s}function LG(t){let e;return t.constructor.name===C7.name?(e=new Error(t.message),e.name="TimeoutError"):t.constructor.name===T7.name?(e=new Error(t.message),e.name="AbortError"):e=t,e}function zG(t){return t.anyOf!==void 0&&Array.isArray(t.anyOf)}function DG(t){const e=["namespace functions {",""];for(const n of t)n.description&&e.push(`// ${n.description}`),Object.keys(n.parameters.properties??{}).length>0?(e.push(`type ${n.name} = (_: {`),e.push(iR(n.parameters,0)),e.push("}) => any;")):e.push(`type ${n.name} = () => any;`),e.push("");return e.push("} // namespace functions"),e.join(`
`)}function iR(t,e){var r;const n=[];for(const[i,s]of Object.entries(t.properties??{}))s.description&&e<2&&n.push(`// ${s.description}`),(r=t.required)!=null&&r.includes(i)?n.push(`${i}: ${ap(s,e)},`):n.push(`${i}?: ${ap(s,e)},`);return n.map(i=>" ".repeat(e)+i).join(`
`)}function ap(t,e){if(zG(t))return t.anyOf.map(n=>ap(n,e)).join(" | ");switch(t.type){case"string":return t.enum?t.enum.map(n=>`"${n}"`).join(" | "):"string";case"number":return t.enum?t.enum.map(n=>`${n}`).join(" | "):"number";case"integer":return t.enum?t.enum.map(n=>`${n}`).join(" | "):"number";case"boolean":return"boolean";case"null":return"null";case"object":return["{",iR(t,e+2),"}"].join(`
`);case"array":return t.items?`${ap(t.items,e)}[]`:"any[]";default:return""}}function FG(t){return t.role!=="system"&&t.role!=="assistant"&&t.role!=="user"&&t.role!=="function"&&t.role!=="tool"&&console.warn(`Unknown message role: ${t.role}`),t.role}function sR(t){const e=t._getType();switch(e){case"system":return"system";case"ai":return"assistant";case"human":return"user";case"function":return"function";case"tool":return"tool";case"generic":{if(!jc.isInstance(t))throw new Error("Invalid generic chat message");return FG(t)}default:throw new Error(`Unknown message type: ${e}`)}}function BG(t){const e=t.tool_calls;switch(t.role){case"assistant":{const n=[],r=[];for(const i of e??[])try{n.push(rR(i,{returnId:!0}))}catch(s){r.push(NG(i,s.message))}return new vO({content:t.content||"",tool_calls:n,invalid_tool_calls:r,additional_kwargs:{function_call:t.function_call,tool_calls:e}})}default:return new jc(t.content||"",t.role??"unknown")}}function VG(t,e){var s,a;const n=t.role??e,r=t.content??"";let i;if(t.function_call?i={function_call:t.function_call}:t.tool_calls?i={tool_calls:t.tool_calls}:i={},n==="user")return new am({content:r});if(n==="assistant"){const o=[];if(Array.isArray(t.tool_calls))for(const l of t.tool_calls)o.push({name:(s=l.function)==null?void 0:s.name,args:(a=l.function)==null?void 0:a.arguments,id:l.id,index:l.index});return new Nc({content:r,tool_call_chunks:o,additional_kwargs:i})}else return n==="system"?new om({content:r}):n==="function"?new sm({content:r,additional_kwargs:i,name:t.name}):n==="tool"?new Fw({content:r,additional_kwargs:i,tool_call_id:t.tool_call_id}):new im({content:r,role:n})}function KS(t){return t.map(e=>{var r;const n={role:sR(e),content:e.content};return e.name!=null&&(n.name=e.name),e.additional_kwargs.function_call!=null&&(n.function_call=e.additional_kwargs.function_call),F7(e)&&((r=e.tool_calls)!=null&&r.length)?n.tool_calls=e.tool_calls.map($G):(e.additional_kwargs.tool_calls!=null&&(n.tool_calls=e.additional_kwargs.tool_calls),e.tool_call_id!=null&&(n.tool_call_id=e.tool_call_id)),n})}class UG extends Us{static lc_name(){return"ChatOpenAI"}get callKeys(){return[...super.callKeys,"options","function_call","functions","tools","tool_choice","promptIndex","response_format","seed"]}get lc_secrets(){return{openAIApiKey:"OPENAI_API_KEY",apiKey:"OPENAI_API_KEY",azureOpenAIApiKey:"AZURE_OPENAI_API_KEY",organization:"OPENAI_ORGANIZATION"}}get lc_aliases(){return{modelName:"model",openAIApiKey:"openai_api_key",apiKey:"openai_api_key",azureOpenAIApiVersion:"azure_openai_api_version",azureOpenAIApiKey:"azure_openai_api_key",azureOpenAIApiInstanceName:"azure_openai_api_instance_name",azureOpenAIApiDeploymentName:"azure_openai_api_deployment_name"}}constructor(e,n){var r,i,s,a,o,l,u,c;if(super(e??{}),Object.defineProperty(this,"lc_serializable",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"temperature",{enumerable:!0,configurable:!0,writable:!0,value:1}),Object.defineProperty(this,"topP",{enumerable:!0,configurable:!0,writable:!0,value:1}),Object.defineProperty(this,"frequencyPenalty",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"presencePenalty",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"n",{enumerable:!0,configurable:!0,writable:!0,value:1}),Object.defineProperty(this,"logitBias",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"modelName",{enumerable:!0,configurable:!0,writable:!0,value:"gpt-3.5-turbo"}),Object.defineProperty(this,"model",{enumerable:!0,configurable:!0,writable:!0,value:"gpt-3.5-turbo"}),Object.defineProperty(this,"modelKwargs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"stop",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"stopSequences",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"user",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"timeout",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"streaming",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"maxTokens",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"logprobs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"topLogprobs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"openAIApiKey",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"apiKey",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"azureOpenAIApiVersion",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"azureOpenAIApiKey",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"azureADTokenProvider",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"azureOpenAIApiInstanceName",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"azureOpenAIApiDeploymentName",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"azureOpenAIBasePath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"organization",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"client",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"clientConfig",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.openAIApiKey=(e==null?void 0:e.apiKey)??(e==null?void 0:e.openAIApiKey)??Pn("OPENAI_API_KEY"),this.apiKey=this.openAIApiKey,this.azureOpenAIApiKey=(e==null?void 0:e.azureOpenAIApiKey)??Pn("AZURE_OPENAI_API_KEY"),this.azureADTokenProvider=(e==null?void 0:e.azureADTokenProvider)??void 0,!this.azureOpenAIApiKey&&!this.apiKey&&!this.azureADTokenProvider)throw new Error("OpenAI or Azure OpenAI API key or Token Provider not found");if(this.azureOpenAIApiInstanceName=(e==null?void 0:e.azureOpenAIApiInstanceName)??Pn("AZURE_OPENAI_API_INSTANCE_NAME"),this.azureOpenAIApiDeploymentName=(e==null?void 0:e.azureOpenAIApiDeploymentName)??Pn("AZURE_OPENAI_API_DEPLOYMENT_NAME"),this.azureOpenAIApiVersion=(e==null?void 0:e.azureOpenAIApiVersion)??Pn("AZURE_OPENAI_API_VERSION"),this.azureOpenAIBasePath=(e==null?void 0:e.azureOpenAIBasePath)??Pn("AZURE_OPENAI_BASE_PATH"),this.organization=((r=e==null?void 0:e.configuration)==null?void 0:r.organization)??Pn("OPENAI_ORGANIZATION"),this.modelName=(e==null?void 0:e.model)??(e==null?void 0:e.modelName)??this.model,this.model=this.modelName,this.modelKwargs=(e==null?void 0:e.modelKwargs)??{},this.timeout=e==null?void 0:e.timeout,this.temperature=(e==null?void 0:e.temperature)??this.temperature,this.topP=(e==null?void 0:e.topP)??this.topP,this.frequencyPenalty=(e==null?void 0:e.frequencyPenalty)??this.frequencyPenalty,this.presencePenalty=(e==null?void 0:e.presencePenalty)??this.presencePenalty,this.maxTokens=e==null?void 0:e.maxTokens,this.logprobs=e==null?void 0:e.logprobs,this.topLogprobs=e==null?void 0:e.topLogprobs,this.n=(e==null?void 0:e.n)??this.n,this.logitBias=e==null?void 0:e.logitBias,this.stop=(e==null?void 0:e.stopSequences)??(e==null?void 0:e.stop),this.stopSequences=this==null?void 0:this.stop,this.user=e==null?void 0:e.user,this.streaming=(e==null?void 0:e.streaming)??!1,this.azureOpenAIApiKey||this.azureADTokenProvider){if(!this.azureOpenAIApiInstanceName&&!this.azureOpenAIBasePath)throw new Error("Azure OpenAI API instance name not found");if(!this.azureOpenAIApiDeploymentName)throw new Error("Azure OpenAI API deployment name not found");if(!this.azureOpenAIApiVersion)throw new Error("Azure OpenAI API version not found");this.apiKey=this.apiKey??""}this.clientConfig={apiKey:this.apiKey,organization:this.organization,baseURL:(n==null?void 0:n.basePath)??((i=e==null?void 0:e.configuration)==null?void 0:i.basePath),dangerouslyAllowBrowser:!0,defaultHeaders:((s=n==null?void 0:n.baseOptions)==null?void 0:s.headers)??((o=(a=e==null?void 0:e.configuration)==null?void 0:a.baseOptions)==null?void 0:o.headers),defaultQuery:((l=n==null?void 0:n.baseOptions)==null?void 0:l.params)??((c=(u=e==null?void 0:e.configuration)==null?void 0:u.baseOptions)==null?void 0:c.params),...n,...e==null?void 0:e.configuration}}getLsParams(e){const n=this.invocationParams(e);return{ls_provider:"openai",ls_model_name:this.model,ls_model_type:"chat",ls_temperature:n.temperature??void 0,ls_max_tokens:n.max_tokens??void 0,ls_stop:e.stop}}bindTools(e,n){return this.bind({tools:e.map(qS),...n})}invocationParams(e){function n(i){return i!==void 0&&i.every(s=>Array.isArray(s.lc_namespace))}return{model:this.model,temperature:this.temperature,top_p:this.topP,frequency_penalty:this.frequencyPenalty,presence_penalty:this.presencePenalty,max_tokens:this.maxTokens===-1?void 0:this.maxTokens,logprobs:this.logprobs,top_logprobs:this.topLogprobs,n:this.n,logit_bias:this.logitBias,stop:(e==null?void 0:e.stop)??this.stopSequences,user:this.user,stream:this.streaming,functions:e==null?void 0:e.functions,function_call:e==null?void 0:e.function_call,tools:n(e==null?void 0:e.tools)?e==null?void 0:e.tools.map(qS):e==null?void 0:e.tools,tool_choice:e==null?void 0:e.tool_choice,response_format:e==null?void 0:e.response_format,seed:e==null?void 0:e.seed,...this.modelKwargs}}_identifyingParams(){return{model_name:this.model,...this.invocationParams(),...this.clientConfig}}async*_streamResponseChunks(e,n,r){var l;const i=KS(e),s={...this.invocationParams(n),messages:i,stream:!0};let a;const o=await this.completionWithRetry(s,n);for await(const u of o){const c=u==null?void 0:u.choices[0];if(!c)continue;const{delta:d}=c;if(!d)continue;const f=VG(d,a);a=d.role??a;const h={prompt:n.promptIndex??0,completion:c.index??0};if(typeof f.content!="string"){console.log("[WARNING]: Received non-string content from OpenAI. This is currently not supported.");continue}const p={...h};c.finish_reason!==void 0&&(p.finish_reason=c.finish_reason),this.logprobs&&(p.logprobs=c.logprobs);const y=new ec({message:f,text:f.content,generationInfo:p});yield y,r==null||r.handleLLMNewToken(y.text??"",h,void 0,void 0,void 0,{chunk:y})}if((l=n.signal)!=null&&l.aborted)throw new Error("AbortError")}identifyingParams(){return this._identifyingParams()}async _generate(e,n,r){var o,l;const i={},s=this.invocationParams(n),a=KS(e);if(s.stream){const u=this._streamResponseChunks(e,n,r),c={};for await(const b of u){b.message.response_metadata={...b.generationInfo,...b.message.response_metadata};const m=((o=b.generationInfo)==null?void 0:o.completion)??0;c[m]===void 0?c[m]=b:c[m]=c[m].concat(b)}const d=Object.entries(c).sort(([b],[m])=>parseInt(b,10)-parseInt(m,10)).map(([b,m])=>m),{functions:f,function_call:h}=this.invocationParams(n),p=await this.getEstimatedTokenCountFromPrompt(e,f,h),y=await this.getNumTokensFromGenerations(d);return i.promptTokens=p,i.completionTokens=y,i.totalTokens=p+y,{generations:d,llmOutput:{estimatedTokenUsage:i}}}else{const u=await this.completionWithRetry({...s,stream:!1,messages:a},{signal:n==null?void 0:n.signal,...n==null?void 0:n.options}),{completion_tokens:c,prompt_tokens:d,total_tokens:f}=(u==null?void 0:u.usage)??{};c&&(i.completionTokens=(i.completionTokens??0)+c),d&&(i.promptTokens=(i.promptTokens??0)+d),f&&(i.totalTokens=(i.totalTokens??0)+f);const h=[];for(const p of(u==null?void 0:u.choices)??[]){const b={text:((l=p.message)==null?void 0:l.content)??"",message:BG(p.message??{role:"assistant"})};b.generationInfo={...p.finish_reason?{finish_reason:p.finish_reason}:{},...p.logprobs?{logprobs:p.logprobs}:{}},h.push(b)}return{generations:h,llmOutput:{tokenUsage:i}}}}async getEstimatedTokenCountFromPrompt(e,n,r){let i=(await this.getNumTokensFromMessages(e)).totalCount;if(n&&r!=="auto"){const s=DG(n);i+=await this.getNumTokens(s),i+=9}return n&&e.find(s=>s._getType()==="system")&&(i-=4),r==="none"?i+=1:typeof r=="object"&&(i+=await this.getNumTokens(r.name)+4),i}async getNumTokensFromGenerations(e){return(await Promise.all(e.map(async r=>{var i;return(i=r.message.additional_kwargs)!=null&&i.function_call?(await this.getNumTokensFromMessages([r.message])).countPerMessage[0]:await this.getNumTokens(r.message.content)}))).reduce((r,i)=>r+i,0)}async getNumTokensFromMessages(e){let n=0,r=0,i=0;this.model==="gpt-3.5-turbo-0301"?(r=4,i=-1):(r=3,i=1);const s=await Promise.all(e.map(async a=>{var f,h,p,y,b,m;const o=await this.getNumTokens(a.content),l=await this.getNumTokens(sR(a)),u=a.name!==void 0?i+await this.getNumTokens(a.name):0;let c=o+r+l+u;const d=a;if(d._getType()==="function"&&(c-=2),(f=d.additional_kwargs)!=null&&f.function_call&&(c+=3),(h=d==null?void 0:d.additional_kwargs.function_call)!=null&&h.name&&(c+=await this.getNumTokens((p=d.additional_kwargs.function_call)==null?void 0:p.name)),(y=d.additional_kwargs.function_call)!=null&&y.arguments)try{c+=await this.getNumTokens(JSON.stringify(JSON.parse((b=d.additional_kwargs.function_call)==null?void 0:b.arguments)))}catch(g){console.error("Error parsing function arguments",g,JSON.stringify(d.additional_kwargs.function_call)),c+=await this.getNumTokens((m=d.additional_kwargs.function_call)==null?void 0:m.arguments)}return n+=c,c}));return n+=3,{totalCount:n,countPerMessage:s}}async completionWithRetry(e,n){const r=this._getClientOptions(n);return this.caller.call(async()=>{try{return await this.client.chat.completions.create(e,r)}catch(i){throw LG(i)}})}_getClientOptions(e){if(!this.client){const r={azureOpenAIApiDeploymentName:this.azureOpenAIApiDeploymentName,azureOpenAIApiInstanceName:this.azureOpenAIApiInstanceName,azureOpenAIApiKey:this.azureOpenAIApiKey,azureOpenAIBasePath:this.azureOpenAIBasePath,baseURL:this.clientConfig.baseURL},i=MG(r),s={...this.clientConfig,baseURL:i,timeout:this.timeout,maxRetries:0};s.baseURL||delete s.baseURL,this.client=new ht(s)}const n={...this.clientConfig,...e};return this.azureOpenAIApiKey&&(n.headers={"api-key":this.azureOpenAIApiKey,...n.headers},n.query={"api-version":this.azureOpenAIApiVersion,...n.query}),n}_llmType(){return"openai"}_combineLLMOutput(...e){return e.reduce((n,r)=>(r&&r.tokenUsage&&(n.tokenUsage.completionTokens+=r.tokenUsage.completionTokens??0,n.tokenUsage.promptTokens+=r.tokenUsage.promptTokens??0,n.tokenUsage.totalTokens+=r.tokenUsage.totalTokens??0),n),{tokenUsage:{completionTokens:0,promptTokens:0,totalTokens:0}})}withStructuredOutput(e,n){let r,i,s,a;HG(e)?(r=e.schema,i=e.name,s=e.method,a=e.includeRaw):(r=e,i=n==null?void 0:n.name,s=n==null?void 0:n.method,a=n==null?void 0:n.includeRaw);let o,l;if(s==="jsonMode")o=this.bind({response_format:{type:"json_object"}}),JS(r)?l=OG.fromZodSchema(r):l=new RG;else{let f=i??"extract";if(JS(r)){const h=mm(r);o=this.bind({tools:[{type:"function",function:{name:f,description:h.description,parameters:h}}],tool_choice:{type:"function",function:{name:f}}}),l=new GS({returnSingle:!0,keyName:f,zodSchema:r})}else{let h;typeof r.name=="string"&&typeof r.parameters=="object"&&r.parameters!=null?(h=r,f=r.name):(f=r.title??f,h={name:f,description:r.description??"",parameters:r}),o=this.bind({tools:[{type:"function",function:h}],tool_choice:{type:"function",function:{name:f}}}),l=new GS({returnSingle:!0,keyName:f})}}if(!a)return o.pipe(l);const u=ZS.assign({parsed:(f,h)=>l.invoke(f.raw,h)}),c=ZS.assign({parsed:()=>null}),d=u.withFallbacks({fallbacks:[c]});return Ys.from([{raw:o},d])}}function JS(t){return typeof(t==null?void 0:t.parse)=="function"}function HG(t){return t!==void 0&&typeof t.schema=="object"}const WG=()=>{const[t,e]=A.useState("");return{apiKey:t,setApiKey:e}},qG=()=>{const[t,e]=A.useState(!1),[n,r]=A.useState(null),i=A.useRef(),s=A.useRef([]),a=()=>{navigator.mediaDevices.getUserMedia({audio:!0}).then(c=>{e(!0),s.current=[];const d=new MediaRecorder(c);d&&(i.current=d,i.current&&(i.current.ondataavailable=l,i.current.start()))}).catch(c=>{console.error("Error accessing microphone:",c)})},o=()=>{i.current&&(e(!1),i.current.stop())},l=c=>{if(c.data.size===0)return;s.current.push(c.data);const d=new Blob(s.current,{type:"audio/webm"}),f=URL.createObjectURL(d);r(f)};return{recording:t,source:n,startRecording:a,stopRecording:o,revokeSource:()=>{if(n){const c=n;r(""),URL.revokeObjectURL(c)}}}},ZG=t=>{const[e,n]=A.useState("");return{transcribeText:e,setTranscribeText:n,transcribe:async i=>{fetch(i).then(s=>s.blob()).then(s=>{new ht({apiKey:t,dangerouslyAllowBrowser:!0}).audio.transcriptions.create({file:new File([s],"audio.webm",{type:s.type}),model:"whisper-1"}).then(o=>{n(o.text)}).catch(o=>{console.error(o)})})}}},GG=(t,e)=>({start:async r=>{const s=await new UG({apiKey:t,model:"gpt-4o",temperature:.7}).stream(r);for await(const a of s)a.content&&e(o=>o+a.content)}});function KG(t,e){const n={};return(t[t.length-1]===""?[...t,""]:t).join((n.padRight?" ":"")+","+(n.padLeft===!1?"":" ")).trim()}const JG=/^[$_\p{ID_Start}][$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,XG=/^[$_\p{ID_Start}][-$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,YG={};function XS(t,e){return(YG.jsx?XG:JG).test(t)}const QG=/[ \t\n\f\r]/g;function eK(t){return typeof t=="object"?t.type==="text"?YS(t.value):!1:YS(t)}function YS(t){return t.replace(QG,"")===""}class zc{constructor(e,n,r){this.property=e,this.normal=n,r&&(this.space=r)}}zc.prototype.property={};zc.prototype.normal={};zc.prototype.space=null;function aR(t,e){const n={},r={};let i=-1;for(;++i<t.length;)Object.assign(n,t[i].property),Object.assign(r,t[i].normal);return new zc(n,r,e)}function d0(t){return t.toLowerCase()}class rr{constructor(e,n){this.property=e,this.attribute=n}}rr.prototype.space=null;rr.prototype.boolean=!1;rr.prototype.booleanish=!1;rr.prototype.overloadedBoolean=!1;rr.prototype.number=!1;rr.prototype.commaSeparated=!1;rr.prototype.spaceSeparated=!1;rr.prototype.commaOrSpaceSeparated=!1;rr.prototype.mustUseProperty=!1;rr.prototype.defined=!1;let tK=0;const ie=ka(),pt=ka(),oR=ka(),z=ka(),Ve=ka(),Ao=ka(),Sn=ka();function ka(){return 2**++tK}const f0=Object.freeze(Object.defineProperty({__proto__:null,boolean:ie,booleanish:pt,commaOrSpaceSeparated:Sn,commaSeparated:Ao,number:z,overloadedBoolean:oR,spaceSeparated:Ve},Symbol.toStringTag,{value:"Module"})),ey=Object.keys(f0);class Xw extends rr{constructor(e,n,r,i){let s=-1;if(super(e,n),QS(this,"space",i),typeof r=="number")for(;++s<ey.length;){const a=ey[s];QS(this,ey[s],(r&f0[a])===f0[a])}}}Xw.prototype.defined=!0;function QS(t,e,n){n&&(t[e]=n)}const nK={}.hasOwnProperty;function tl(t){const e={},n={};let r;for(r in t.properties)if(nK.call(t.properties,r)){const i=t.properties[r],s=new Xw(r,t.transform(t.attributes||{},r),i,t.space);t.mustUseProperty&&t.mustUseProperty.includes(r)&&(s.mustUseProperty=!0),e[r]=s,n[d0(r)]=r,n[d0(s.attribute)]=r}return new zc(e,n,t.space)}const lR=tl({space:"xlink",transform(t,e){return"xlink:"+e.slice(5).toLowerCase()},properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null}}),uR=tl({space:"xml",transform(t,e){return"xml:"+e.slice(3).toLowerCase()},properties:{xmlLang:null,xmlBase:null,xmlSpace:null}});function cR(t,e){return e in t?t[e]:e}function dR(t,e){return cR(t,e.toLowerCase())}const fR=tl({space:"xmlns",attributes:{xmlnsxlink:"xmlns:xlink"},transform:dR,properties:{xmlns:null,xmlnsXLink:null}}),hR=tl({transform(t,e){return e==="role"?e:"aria-"+e.slice(4).toLowerCase()},properties:{ariaActiveDescendant:null,ariaAtomic:pt,ariaAutoComplete:null,ariaBusy:pt,ariaChecked:pt,ariaColCount:z,ariaColIndex:z,ariaColSpan:z,ariaControls:Ve,ariaCurrent:null,ariaDescribedBy:Ve,ariaDetails:null,ariaDisabled:pt,ariaDropEffect:Ve,ariaErrorMessage:null,ariaExpanded:pt,ariaFlowTo:Ve,ariaGrabbed:pt,ariaHasPopup:null,ariaHidden:pt,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:Ve,ariaLevel:z,ariaLive:null,ariaModal:pt,ariaMultiLine:pt,ariaMultiSelectable:pt,ariaOrientation:null,ariaOwns:Ve,ariaPlaceholder:null,ariaPosInSet:z,ariaPressed:pt,ariaReadOnly:pt,ariaRelevant:null,ariaRequired:pt,ariaRoleDescription:Ve,ariaRowCount:z,ariaRowIndex:z,ariaRowSpan:z,ariaSelected:pt,ariaSetSize:z,ariaSort:null,ariaValueMax:z,ariaValueMin:z,ariaValueNow:z,ariaValueText:null,role:null}}),rK=tl({space:"html",attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},transform:dR,mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:Ao,acceptCharset:Ve,accessKey:Ve,action:null,allow:null,allowFullScreen:ie,allowPaymentRequest:ie,allowUserMedia:ie,alt:null,as:null,async:ie,autoCapitalize:null,autoComplete:Ve,autoFocus:ie,autoPlay:ie,blocking:Ve,capture:null,charSet:null,checked:ie,cite:null,className:Ve,cols:z,colSpan:null,content:null,contentEditable:pt,controls:ie,controlsList:Ve,coords:z|Ao,crossOrigin:null,data:null,dateTime:null,decoding:null,default:ie,defer:ie,dir:null,dirName:null,disabled:ie,download:oR,draggable:pt,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:ie,formTarget:null,headers:Ve,height:z,hidden:ie,high:z,href:null,hrefLang:null,htmlFor:Ve,httpEquiv:Ve,id:null,imageSizes:null,imageSrcSet:null,inert:ie,inputMode:null,integrity:null,is:null,isMap:ie,itemId:null,itemProp:Ve,itemRef:Ve,itemScope:ie,itemType:Ve,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:ie,low:z,manifest:null,max:null,maxLength:z,media:null,method:null,min:null,minLength:z,multiple:ie,muted:ie,name:null,nonce:null,noModule:ie,noValidate:ie,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:ie,optimum:z,pattern:null,ping:Ve,placeholder:null,playsInline:ie,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:ie,referrerPolicy:null,rel:Ve,required:ie,reversed:ie,rows:z,rowSpan:z,sandbox:Ve,scope:null,scoped:ie,seamless:ie,selected:ie,shadowRootClonable:ie,shadowRootDelegatesFocus:ie,shadowRootMode:null,shape:null,size:z,sizes:null,slot:null,span:z,spellCheck:pt,src:null,srcDoc:null,srcLang:null,srcSet:null,start:z,step:null,style:null,tabIndex:z,target:null,title:null,translate:null,type:null,typeMustMatch:ie,useMap:null,value:pt,width:z,wrap:null,writingSuggestions:null,align:null,aLink:null,archive:Ve,axis:null,background:null,bgColor:null,border:z,borderColor:null,bottomMargin:z,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:ie,declare:ie,event:null,face:null,frame:null,frameBorder:null,hSpace:z,leftMargin:z,link:null,longDesc:null,lowSrc:null,marginHeight:z,marginWidth:z,noResize:ie,noHref:ie,noShade:ie,noWrap:ie,object:null,profile:null,prompt:null,rev:null,rightMargin:z,rules:null,scheme:null,scrolling:pt,standby:null,summary:null,text:null,topMargin:z,valueType:null,version:null,vAlign:null,vLink:null,vSpace:z,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:ie,disableRemotePlayback:ie,prefix:null,property:null,results:z,security:null,unselectable:null}}),iK=tl({space:"svg",attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},transform:cR,properties:{about:Sn,accentHeight:z,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:z,amplitude:z,arabicForm:null,ascent:z,attributeName:null,attributeType:null,azimuth:z,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:z,by:null,calcMode:null,capHeight:z,className:Ve,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:z,diffuseConstant:z,direction:null,display:null,dur:null,divisor:z,dominantBaseline:null,download:ie,dx:null,dy:null,edgeMode:null,editable:null,elevation:z,enableBackground:null,end:null,event:null,exponent:z,externalResourcesRequired:null,fill:null,fillOpacity:z,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:Ao,g2:Ao,glyphName:Ao,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:z,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:z,horizOriginX:z,horizOriginY:z,id:null,ideographic:z,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:z,k:z,k1:z,k2:z,k3:z,k4:z,kernelMatrix:Sn,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:z,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:z,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:z,overlineThickness:z,paintOrder:null,panose1:null,path:null,pathLength:z,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:Ve,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:z,pointsAtY:z,pointsAtZ:z,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:Sn,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:Sn,rev:Sn,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:Sn,requiredFeatures:Sn,requiredFonts:Sn,requiredFormats:Sn,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:z,specularExponent:z,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:z,strikethroughThickness:z,string:null,stroke:null,strokeDashArray:Sn,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:z,strokeOpacity:z,strokeWidth:null,style:null,surfaceScale:z,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:Sn,tabIndex:z,tableValues:null,target:null,targetX:z,targetY:z,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:Sn,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:z,underlineThickness:z,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:z,values:null,vAlphabetic:z,vMathematical:z,vectorEffect:null,vHanging:z,vIdeographic:z,version:null,vertAdvY:z,vertOriginX:z,vertOriginY:z,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:z,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null}}),sK=/^data[-\w.:]+$/i,eC=/-[a-z]/g,aK=/[A-Z]/g;function oK(t,e){const n=d0(e);let r=e,i=rr;if(n in t.normal)return t.property[t.normal[n]];if(n.length>4&&n.slice(0,4)==="data"&&sK.test(e)){if(e.charAt(4)==="-"){const s=e.slice(5).replace(eC,uK);r="data"+s.charAt(0).toUpperCase()+s.slice(1)}else{const s=e.slice(4);if(!eC.test(s)){let a=s.replace(aK,lK);a.charAt(0)!=="-"&&(a="-"+a),e="data"+a}}i=Xw}return new i(r,e)}function lK(t){return"-"+t.toLowerCase()}function uK(t){return t.charAt(1).toUpperCase()}const cK={classId:"classID",dataType:"datatype",itemId:"itemID",strokeDashArray:"strokeDasharray",strokeDashOffset:"strokeDashoffset",strokeLineCap:"strokeLinecap",strokeLineJoin:"strokeLinejoin",strokeMiterLimit:"strokeMiterlimit",typeOf:"typeof",xLinkActuate:"xlinkActuate",xLinkArcRole:"xlinkArcrole",xLinkHref:"xlinkHref",xLinkRole:"xlinkRole",xLinkShow:"xlinkShow",xLinkTitle:"xlinkTitle",xLinkType:"xlinkType",xmlnsXLink:"xmlnsXlink"},dK=aR([uR,lR,fR,hR,rK],"html"),Yw=aR([uR,lR,fR,hR,iK],"svg");function fK(t){return t.join(" ").trim()}var pR={},tC=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,hK=/\n/g,pK=/^\s*/,mK=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,gK=/^:\s*/,yK=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,vK=/^[;\s]*/,bK=/^\s+|\s+$/g,wK=`
`,nC="/",rC="*",Hs="",_K="comment",xK="declaration",kK=function(t,e){if(typeof t!="string")throw new TypeError("First argument must be a string");if(!t)return[];e=e||{};var n=1,r=1;function i(p){var y=p.match(hK);y&&(n+=y.length);var b=p.lastIndexOf(wK);r=~b?p.length-b:r+p.length}function s(){var p={line:n,column:r};return function(y){return y.position=new a(p),u(),y}}function a(p){this.start=p,this.end={line:n,column:r},this.source=e.source}a.prototype.content=t;function o(p){var y=new Error(e.source+":"+n+":"+r+": "+p);if(y.reason=p,y.filename=e.source,y.line=n,y.column=r,y.source=t,!e.silent)throw y}function l(p){var y=p.exec(t);if(y){var b=y[0];return i(b),t=t.slice(b.length),y}}function u(){l(pK)}function c(p){var y;for(p=p||[];y=d();)y!==!1&&p.push(y);return p}function d(){var p=s();if(!(nC!=t.charAt(0)||rC!=t.charAt(1))){for(var y=2;Hs!=t.charAt(y)&&(rC!=t.charAt(y)||nC!=t.charAt(y+1));)++y;if(y+=2,Hs===t.charAt(y-1))return o("End of comment missing");var b=t.slice(2,y-2);return r+=2,i(b),t=t.slice(y),r+=2,p({type:_K,comment:b})}}function f(){var p=s(),y=l(mK);if(y){if(d(),!l(gK))return o("property missing ':'");var b=l(yK),m=p({type:xK,property:iC(y[0].replace(tC,Hs)),value:b?iC(b[0].replace(tC,Hs)):Hs});return l(vK),m}}function h(){var p=[];c(p);for(var y;y=f();)y!==!1&&(p.push(y),c(p));return p}return u(),h()};function iC(t){return t?t.replace(bK,Hs):Hs}var SK=Da&&Da.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(pR,"__esModule",{value:!0});var CK=SK(kK);function TK(t,e){var n=null;if(!t||typeof t!="string")return n;var r=(0,CK.default)(t),i=typeof e=="function";return r.forEach(function(s){if(s.type==="declaration"){var a=s.property,o=s.value;i?e(a,o,s):o&&(n=n||{},n[a]=o)}}),n}var sC=pR.default=TK;const PK=sC.default||sC,mR=gR("end"),Qw=gR("start");function gR(t){return e;function e(n){const r=n&&n.position&&n.position[t]||{};if(typeof r.line=="number"&&r.line>0&&typeof r.column=="number"&&r.column>0)return{line:r.line,column:r.column,offset:typeof r.offset=="number"&&r.offset>-1?r.offset:void 0}}}function EK(t){const e=Qw(t),n=mR(t);if(e&&n)return{start:e,end:n}}function vu(t){return!t||typeof t!="object"?"":"position"in t||"type"in t?aC(t.position):"start"in t||"end"in t?aC(t):"line"in t||"column"in t?h0(t):""}function h0(t){return oC(t&&t.line)+":"+oC(t&&t.column)}function aC(t){return h0(t&&t.start)+"-"+h0(t&&t.end)}function oC(t){return t&&typeof t=="number"?t:1}class Zt extends Error{constructor(e,n,r){super(),typeof n=="string"&&(r=n,n=void 0);let i="",s={},a=!1;if(n&&("line"in n&&"column"in n?s={place:n}:"start"in n&&"end"in n?s={place:n}:"type"in n?s={ancestors:[n],place:n.position}:s={...n}),typeof e=="string"?i=e:!s.cause&&e&&(a=!0,i=e.message,s.cause=e),!s.ruleId&&!s.source&&typeof r=="string"){const l=r.indexOf(":");l===-1?s.ruleId=r:(s.source=r.slice(0,l),s.ruleId=r.slice(l+1))}if(!s.place&&s.ancestors&&s.ancestors){const l=s.ancestors[s.ancestors.length-1];l&&(s.place=l.position)}const o=s.place&&"start"in s.place?s.place.start:s.place;this.ancestors=s.ancestors||void 0,this.cause=s.cause||void 0,this.column=o?o.column:void 0,this.fatal=void 0,this.file,this.message=i,this.line=o?o.line:void 0,this.name=vu(s.place)||"1:1",this.place=s.place||void 0,this.reason=this.message,this.ruleId=s.ruleId||void 0,this.source=s.source||void 0,this.stack=a&&s.cause&&typeof s.cause.stack=="string"?s.cause.stack:"",this.actual,this.expected,this.note,this.url}}Zt.prototype.file="";Zt.prototype.name="";Zt.prototype.reason="";Zt.prototype.message="";Zt.prototype.stack="";Zt.prototype.column=void 0;Zt.prototype.line=void 0;Zt.prototype.ancestors=void 0;Zt.prototype.cause=void 0;Zt.prototype.fatal=void 0;Zt.prototype.place=void 0;Zt.prototype.ruleId=void 0;Zt.prototype.source=void 0;const e_={}.hasOwnProperty,AK=new Map,IK=/[A-Z]/g,OK=/-([a-z])/g,RK=new Set(["table","tbody","thead","tfoot","tr"]),$K=new Set(["td","th"]),yR="https://github.com/syntax-tree/hast-util-to-jsx-runtime";function NK(t,e){if(!e||e.Fragment===void 0)throw new TypeError("Expected `Fragment` in options");const n=e.filePath||void 0;let r;if(e.development){if(typeof e.jsxDEV!="function")throw new TypeError("Expected `jsxDEV` in options when `development: true`");r=VK(n,e.jsxDEV)}else{if(typeof e.jsx!="function")throw new TypeError("Expected `jsx` in production options");if(typeof e.jsxs!="function")throw new TypeError("Expected `jsxs` in production options");r=BK(n,e.jsx,e.jsxs)}const i={Fragment:e.Fragment,ancestors:[],components:e.components||{},create:r,elementAttributeNameCase:e.elementAttributeNameCase||"react",evaluater:e.createEvaluater?e.createEvaluater():void 0,filePath:n,ignoreInvalidStyle:e.ignoreInvalidStyle||!1,passKeys:e.passKeys!==!1,passNode:e.passNode||!1,schema:e.space==="svg"?Yw:dK,stylePropertyNameCase:e.stylePropertyNameCase||"dom",tableCellAlignToStyle:e.tableCellAlignToStyle!==!1},s=vR(i,t,void 0);return s&&typeof s!="string"?s:i.create(t,i.Fragment,{children:s||void 0},void 0)}function vR(t,e,n){if(e.type==="element")return jK(t,e,n);if(e.type==="mdxFlowExpression"||e.type==="mdxTextExpression")return MK(t,e);if(e.type==="mdxJsxFlowElement"||e.type==="mdxJsxTextElement")return zK(t,e,n);if(e.type==="mdxjsEsm")return LK(t,e);if(e.type==="root")return DK(t,e,n);if(e.type==="text")return FK(t,e)}function jK(t,e,n){const r=t.schema;let i=r;e.tagName.toLowerCase()==="svg"&&r.space==="html"&&(i=Yw,t.schema=i),t.ancestors.push(e);const s=wR(t,e.tagName,!1),a=UK(t,e);let o=n_(t,e);return RK.has(e.tagName)&&(o=o.filter(function(l){return typeof l=="string"?!eK(l):!0})),bR(t,a,s,e),t_(a,o),t.ancestors.pop(),t.schema=r,t.create(e,s,a,n)}function MK(t,e){if(e.data&&e.data.estree&&t.evaluater){const r=e.data.estree.body[0];return r.type,t.evaluater.evaluateExpression(r.expression)}gc(t,e.position)}function LK(t,e){if(e.data&&e.data.estree&&t.evaluater)return t.evaluater.evaluateProgram(e.data.estree);gc(t,e.position)}function zK(t,e,n){const r=t.schema;let i=r;e.name==="svg"&&r.space==="html"&&(i=Yw,t.schema=i),t.ancestors.push(e);const s=e.name===null?t.Fragment:wR(t,e.name,!0),a=HK(t,e),o=n_(t,e);return bR(t,a,s,e),t_(a,o),t.ancestors.pop(),t.schema=r,t.create(e,s,a,n)}function DK(t,e,n){const r={};return t_(r,n_(t,e)),t.create(e,t.Fragment,r,n)}function FK(t,e){return e.value}function bR(t,e,n,r){typeof n!="string"&&n!==t.Fragment&&t.passNode&&(e.node=r)}function t_(t,e){if(e.length>0){const n=e.length>1?e:e[0];n&&(t.children=n)}}function BK(t,e,n){return r;function r(i,s,a,o){const u=Array.isArray(a.children)?n:e;return o?u(s,a,o):u(s,a)}}function VK(t,e){return n;function n(r,i,s,a){const o=Array.isArray(s.children),l=Qw(r);return e(i,s,a,o,{columnNumber:l?l.column-1:void 0,fileName:t,lineNumber:l?l.line:void 0},void 0)}}function UK(t,e){const n={};let r,i;for(i in e.properties)if(i!=="children"&&e_.call(e.properties,i)){const s=WK(t,i,e.properties[i]);if(s){const[a,o]=s;t.tableCellAlignToStyle&&a==="align"&&typeof o=="string"&&$K.has(e.tagName)?r=o:n[a]=o}}if(r){const s=n.style||(n.style={});s[t.stylePropertyNameCase==="css"?"text-align":"textAlign"]=r}return n}function HK(t,e){const n={};for(const r of e.attributes)if(r.type==="mdxJsxExpressionAttribute")if(r.data&&r.data.estree&&t.evaluater){const s=r.data.estree.body[0];s.type;const a=s.expression;a.type;const o=a.properties[0];o.type,Object.assign(n,t.evaluater.evaluateExpression(o.argument))}else gc(t,e.position);else{const i=r.name;let s;if(r.value&&typeof r.value=="object")if(r.value.data&&r.value.data.estree&&t.evaluater){const o=r.value.data.estree.body[0];o.type,s=t.evaluater.evaluateExpression(o.expression)}else gc(t,e.position);else s=r.value===null?!0:r.value;n[i]=s}return n}function n_(t,e){const n=[];let r=-1;const i=t.passKeys?new Map:AK;for(;++r<e.children.length;){const s=e.children[r];let a;if(t.passKeys){const l=s.type==="element"?s.tagName:s.type==="mdxJsxFlowElement"||s.type==="mdxJsxTextElement"?s.name:void 0;if(l){const u=i.get(l)||0;a=l+"-"+u,i.set(l,u+1)}}const o=vR(t,s,a);o!==void 0&&n.push(o)}return n}function WK(t,e,n){const r=oK(t.schema,e);if(!(n==null||typeof n=="number"&&Number.isNaN(n))){if(Array.isArray(n)&&(n=r.commaSeparated?KG(n):fK(n)),r.property==="style"){let i=typeof n=="object"?n:qK(t,String(n));return t.stylePropertyNameCase==="css"&&(i=ZK(i)),["style",i]}return[t.elementAttributeNameCase==="react"&&r.space?cK[r.property]||r.property:r.attribute,n]}}function qK(t,e){const n={};try{PK(e,r)}catch(i){if(!t.ignoreInvalidStyle){const s=i,a=new Zt("Cannot parse `style` attribute",{ancestors:t.ancestors,cause:s,ruleId:"style",source:"hast-util-to-jsx-runtime"});throw a.file=t.filePath||void 0,a.url=yR+"#cannot-parse-style-attribute",a}}return n;function r(i,s){let a=i;a.slice(0,2)!=="--"&&(a.slice(0,4)==="-ms-"&&(a="ms-"+a.slice(4)),a=a.replace(OK,KK)),n[a]=s}}function wR(t,e,n){let r;if(!n)r={type:"Literal",value:e};else if(e.includes(".")){const i=e.split(".");let s=-1,a;for(;++s<i.length;){const o=XS(i[s])?{type:"Identifier",name:i[s]}:{type:"Literal",value:i[s]};a=a?{type:"MemberExpression",object:a,property:o,computed:!!(s&&o.type==="Literal"),optional:!1}:o}r=a}else r=XS(e)&&!/^[a-z]/.test(e)?{type:"Identifier",name:e}:{type:"Literal",value:e};if(r.type==="Literal"){const i=r.value;return e_.call(t.components,i)?t.components[i]:i}if(t.evaluater)return t.evaluater.evaluateExpression(r);gc(t)}function gc(t,e){const n=new Zt("Cannot handle MDX estrees without `createEvaluater`",{ancestors:t.ancestors,place:e,ruleId:"mdx-estree",source:"hast-util-to-jsx-runtime"});throw n.file=t.filePath||void 0,n.url=yR+"#cannot-handle-mdx-estrees-without-createevaluater",n}function ZK(t){const e={};let n;for(n in t)e_.call(t,n)&&(e[GK(n)]=t[n]);return e}function GK(t){let e=t.replace(IK,JK);return e.slice(0,3)==="ms-"&&(e="-"+e),e}function KK(t,e){return e.toUpperCase()}function JK(t){return"-"+t.toLowerCase()}const ty={action:["form"],cite:["blockquote","del","ins","q"],data:["object"],formAction:["button","input"],href:["a","area","base","link"],icon:["menuitem"],itemId:null,manifest:["html"],ping:["a","area"],poster:["video"],src:["audio","embed","iframe","img","input","script","source","track","video"]},XK={};function r_(t,e){const n=XK,r=typeof n.includeImageAlt=="boolean"?n.includeImageAlt:!0,i=typeof n.includeHtml=="boolean"?n.includeHtml:!0;return _R(t,r,i)}function _R(t,e,n){if(YK(t)){if("value"in t)return t.type==="html"&&!n?"":t.value;if(e&&"alt"in t&&t.alt)return t.alt;if("children"in t)return lC(t.children,e,n)}return Array.isArray(t)?lC(t,e,n):""}function lC(t,e,n){const r=[];let i=-1;for(;++i<t.length;)r[i]=_R(t[i],e,n);return r.join("")}function YK(t){return!!(t&&typeof t=="object")}const uC=document.createElement("i");function i_(t){const e="&"+t+";";uC.innerHTML=e;const n=uC.textContent;return n.charCodeAt(n.length-1)===59&&t!=="semi"||n===e?!1:n}function Yn(t,e,n,r){const i=t.length;let s=0,a;if(e<0?e=-e>i?0:i+e:e=e>i?i:e,n=n>0?n:0,r.length<1e4)a=Array.from(r),a.unshift(e,n),t.splice(...a);else for(n&&t.splice(e,n);s<r.length;)a=r.slice(s,s+1e4),a.unshift(e,0),t.splice(...a),s+=1e4,e+=1e4}function Gn(t,e){return t.length>0?(Yn(t,t.length,0,e),t):e}const cC={}.hasOwnProperty;function xR(t){const e={};let n=-1;for(;++n<t.length;)QK(e,t[n]);return e}function QK(t,e){let n;for(n in e){const i=(cC.call(t,n)?t[n]:void 0)||(t[n]={}),s=e[n];let a;if(s)for(a in s){cC.call(i,a)||(i[a]=[]);const o=s[a];eJ(i[a],Array.isArray(o)?o:o?[o]:[])}}}function eJ(t,e){let n=-1;const r=[];for(;++n<e.length;)(e[n].add==="after"?t:r).push(e[n]);Yn(t,0,0,r)}function kR(t,e){const n=Number.parseInt(t,e);return n<9||n===11||n>13&&n<32||n>126&&n<160||n>55295&&n<57344||n>64975&&n<65008||(n&65535)===65535||(n&65535)===65534||n>1114111?"":String.fromCodePoint(n)}function Er(t){return t.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}const Jt=Ts(/[A-Za-z]/),Vt=Ts(/[\dA-Za-z]/),tJ=Ts(/[#-'*+\--9=?A-Z^-~]/);function op(t){return t!==null&&(t<32||t===127)}const p0=Ts(/\d/),nJ=Ts(/[\dA-Fa-f]/),rJ=Ts(/[!-/:-@[-`{-~]/);function Q(t){return t!==null&&t<-2}function Fe(t){return t!==null&&(t<0||t===32)}function de(t){return t===-2||t===-1||t===32}const gm=Ts(new RegExp("\\p{P}|\\p{S}","u")),va=Ts(/\s/);function Ts(t){return e;function e(n){return n!==null&&n>-1&&t.test(String.fromCharCode(n))}}function nl(t){const e=[];let n=-1,r=0,i=0;for(;++n<t.length;){const s=t.charCodeAt(n);let a="";if(s===37&&Vt(t.charCodeAt(n+1))&&Vt(t.charCodeAt(n+2)))i=2;else if(s<128)/[!#$&-;=?-Z_a-z~]/.test(String.fromCharCode(s))||(a=String.fromCharCode(s));else if(s>55295&&s<57344){const o=t.charCodeAt(n+1);s<56320&&o>56319&&o<57344?(a=String.fromCharCode(s,o),i=1):a=""}else a=String.fromCharCode(s);a&&(e.push(t.slice(r,n),encodeURIComponent(a)),r=n+i+1,a=""),i&&(n+=i,i=0)}return e.join("")+t.slice(r)}function ve(t,e,n,r){const i=r?r-1:Number.POSITIVE_INFINITY;let s=0;return a;function a(l){return de(l)?(t.enter(n),o(l)):e(l)}function o(l){return de(l)&&s++<i?(t.consume(l),o):(t.exit(n),e(l))}}const iJ={tokenize:sJ};function sJ(t){const e=t.attempt(this.parser.constructs.contentInitial,r,i);let n;return e;function r(o){if(o===null){t.consume(o);return}return t.enter("lineEnding"),t.consume(o),t.exit("lineEnding"),ve(t,e,"linePrefix")}function i(o){return t.enter("paragraph"),s(o)}function s(o){const l=t.enter("chunkText",{contentType:"text",previous:n});return n&&(n.next=l),n=l,a(o)}function a(o){if(o===null){t.exit("chunkText"),t.exit("paragraph"),t.consume(o);return}return Q(o)?(t.consume(o),t.exit("chunkText"),s):(t.consume(o),a)}}const aJ={tokenize:oJ},dC={tokenize:lJ};function oJ(t){const e=this,n=[];let r=0,i,s,a;return o;function o(v){if(r<n.length){const x=n[r];return e.containerState=x[1],t.attempt(x[0].continuation,l,u)(v)}return u(v)}function l(v){if(r++,e.containerState._closeFlow){e.containerState._closeFlow=void 0,i&&g();const x=e.events.length;let C=x,k;for(;C--;)if(e.events[C][0]==="exit"&&e.events[C][1].type==="chunkFlow"){k=e.events[C][1].end;break}m(r);let I=x;for(;I<e.events.length;)e.events[I][1].end=Object.assign({},k),I++;return Yn(e.events,C+1,0,e.events.slice(x)),e.events.length=I,u(v)}return o(v)}function u(v){if(r===n.length){if(!i)return f(v);if(i.currentConstruct&&i.currentConstruct.concrete)return p(v);e.interrupt=!!(i.currentConstruct&&!i._gfmTableDynamicInterruptHack)}return e.containerState={},t.check(dC,c,d)(v)}function c(v){return i&&g(),m(r),f(v)}function d(v){return e.parser.lazy[e.now().line]=r!==n.length,a=e.now().offset,p(v)}function f(v){return e.containerState={},t.attempt(dC,h,p)(v)}function h(v){return r++,n.push([e.currentConstruct,e.containerState]),f(v)}function p(v){if(v===null){i&&g(),m(0),t.consume(v);return}return i=i||e.parser.flow(e.now()),t.enter("chunkFlow",{contentType:"flow",previous:s,_tokenizer:i}),y(v)}function y(v){if(v===null){b(t.exit("chunkFlow"),!0),m(0),t.consume(v);return}return Q(v)?(t.consume(v),b(t.exit("chunkFlow")),r=0,e.interrupt=void 0,o):(t.consume(v),y)}function b(v,x){const C=e.sliceStream(v);if(x&&C.push(null),v.previous=s,s&&(s.next=v),s=v,i.defineSkip(v.start),i.write(C),e.parser.lazy[v.start.line]){let k=i.events.length;for(;k--;)if(i.events[k][1].start.offset<a&&(!i.events[k][1].end||i.events[k][1].end.offset>a))return;const I=e.events.length;let R=I,j,T;for(;R--;)if(e.events[R][0]==="exit"&&e.events[R][1].type==="chunkFlow"){if(j){T=e.events[R][1].end;break}j=!0}for(m(r),k=I;k<e.events.length;)e.events[k][1].end=Object.assign({},T),k++;Yn(e.events,R+1,0,e.events.slice(I)),e.events.length=k}}function m(v){let x=n.length;for(;x-- >v;){const C=n[x];e.containerState=C[1],C[0].exit.call(e,t)}n.length=v}function g(){i.write([null]),s=void 0,i=void 0,e.containerState._closeFlow=void 0}}function lJ(t,e,n){return ve(t,t.attempt(this.parser.constructs.document,e,n),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}function lp(t){if(t===null||Fe(t)||va(t))return 1;if(gm(t))return 2}function ym(t,e,n){const r=[];let i=-1;for(;++i<t.length;){const s=t[i].resolveAll;s&&!r.includes(s)&&(e=s(e,n),r.push(s))}return e}const m0={name:"attention",tokenize:cJ,resolveAll:uJ};function uJ(t,e){let n=-1,r,i,s,a,o,l,u,c;for(;++n<t.length;)if(t[n][0]==="enter"&&t[n][1].type==="attentionSequence"&&t[n][1]._close){for(r=n;r--;)if(t[r][0]==="exit"&&t[r][1].type==="attentionSequence"&&t[r][1]._open&&e.sliceSerialize(t[r][1]).charCodeAt(0)===e.sliceSerialize(t[n][1]).charCodeAt(0)){if((t[r][1]._close||t[n][1]._open)&&(t[n][1].end.offset-t[n][1].start.offset)%3&&!((t[r][1].end.offset-t[r][1].start.offset+t[n][1].end.offset-t[n][1].start.offset)%3))continue;l=t[r][1].end.offset-t[r][1].start.offset>1&&t[n][1].end.offset-t[n][1].start.offset>1?2:1;const d=Object.assign({},t[r][1].end),f=Object.assign({},t[n][1].start);fC(d,-l),fC(f,l),a={type:l>1?"strongSequence":"emphasisSequence",start:d,end:Object.assign({},t[r][1].end)},o={type:l>1?"strongSequence":"emphasisSequence",start:Object.assign({},t[n][1].start),end:f},s={type:l>1?"strongText":"emphasisText",start:Object.assign({},t[r][1].end),end:Object.assign({},t[n][1].start)},i={type:l>1?"strong":"emphasis",start:Object.assign({},a.start),end:Object.assign({},o.end)},t[r][1].end=Object.assign({},a.start),t[n][1].start=Object.assign({},o.end),u=[],t[r][1].end.offset-t[r][1].start.offset&&(u=Gn(u,[["enter",t[r][1],e],["exit",t[r][1],e]])),u=Gn(u,[["enter",i,e],["enter",a,e],["exit",a,e],["enter",s,e]]),u=Gn(u,ym(e.parser.constructs.insideSpan.null,t.slice(r+1,n),e)),u=Gn(u,[["exit",s,e],["enter",o,e],["exit",o,e],["exit",i,e]]),t[n][1].end.offset-t[n][1].start.offset?(c=2,u=Gn(u,[["enter",t[n][1],e],["exit",t[n][1],e]])):c=0,Yn(t,r-1,n-r+3,u),n=r+u.length-c-2;break}}for(n=-1;++n<t.length;)t[n][1].type==="attentionSequence"&&(t[n][1].type="data");return t}function cJ(t,e){const n=this.parser.constructs.attentionMarkers.null,r=this.previous,i=lp(r);let s;return a;function a(l){return s=l,t.enter("attentionSequence"),o(l)}function o(l){if(l===s)return t.consume(l),o;const u=t.exit("attentionSequence"),c=lp(l),d=!c||c===2&&i||n.includes(l),f=!i||i===2&&c||n.includes(r);return u._open=!!(s===42?d:d&&(i||!f)),u._close=!!(s===42?f:f&&(c||!d)),e(l)}}function fC(t,e){t.column+=e,t.offset+=e,t._bufferIndex+=e}const dJ={name:"autolink",tokenize:fJ};function fJ(t,e,n){let r=0;return i;function i(h){return t.enter("autolink"),t.enter("autolinkMarker"),t.consume(h),t.exit("autolinkMarker"),t.enter("autolinkProtocol"),s}function s(h){return Jt(h)?(t.consume(h),a):h===64?n(h):u(h)}function a(h){return h===43||h===45||h===46||Vt(h)?(r=1,o(h)):u(h)}function o(h){return h===58?(t.consume(h),r=0,l):(h===43||h===45||h===46||Vt(h))&&r++<32?(t.consume(h),o):(r=0,u(h))}function l(h){return h===62?(t.exit("autolinkProtocol"),t.enter("autolinkMarker"),t.consume(h),t.exit("autolinkMarker"),t.exit("autolink"),e):h===null||h===32||h===60||op(h)?n(h):(t.consume(h),l)}function u(h){return h===64?(t.consume(h),c):tJ(h)?(t.consume(h),u):n(h)}function c(h){return Vt(h)?d(h):n(h)}function d(h){return h===46?(t.consume(h),r=0,c):h===62?(t.exit("autolinkProtocol").type="autolinkEmail",t.enter("autolinkMarker"),t.consume(h),t.exit("autolinkMarker"),t.exit("autolink"),e):f(h)}function f(h){if((h===45||Vt(h))&&r++<63){const p=h===45?f:d;return t.consume(h),p}return n(h)}}const Dc={tokenize:hJ,partial:!0};function hJ(t,e,n){return r;function r(s){return de(s)?ve(t,i,"linePrefix")(s):i(s)}function i(s){return s===null||Q(s)?e(s):n(s)}}const SR={name:"blockQuote",tokenize:pJ,continuation:{tokenize:mJ},exit:gJ};function pJ(t,e,n){const r=this;return i;function i(a){if(a===62){const o=r.containerState;return o.open||(t.enter("blockQuote",{_container:!0}),o.open=!0),t.enter("blockQuotePrefix"),t.enter("blockQuoteMarker"),t.consume(a),t.exit("blockQuoteMarker"),s}return n(a)}function s(a){return de(a)?(t.enter("blockQuotePrefixWhitespace"),t.consume(a),t.exit("blockQuotePrefixWhitespace"),t.exit("blockQuotePrefix"),e):(t.exit("blockQuotePrefix"),e(a))}}function mJ(t,e,n){const r=this;return i;function i(a){return de(a)?ve(t,s,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(a):s(a)}function s(a){return t.attempt(SR,e,n)(a)}}function gJ(t){t.exit("blockQuote")}const CR={name:"characterEscape",tokenize:yJ};function yJ(t,e,n){return r;function r(s){return t.enter("characterEscape"),t.enter("escapeMarker"),t.consume(s),t.exit("escapeMarker"),i}function i(s){return rJ(s)?(t.enter("characterEscapeValue"),t.consume(s),t.exit("characterEscapeValue"),t.exit("characterEscape"),e):n(s)}}const TR={name:"characterReference",tokenize:vJ};function vJ(t,e,n){const r=this;let i=0,s,a;return o;function o(d){return t.enter("characterReference"),t.enter("characterReferenceMarker"),t.consume(d),t.exit("characterReferenceMarker"),l}function l(d){return d===35?(t.enter("characterReferenceMarkerNumeric"),t.consume(d),t.exit("characterReferenceMarkerNumeric"),u):(t.enter("characterReferenceValue"),s=31,a=Vt,c(d))}function u(d){return d===88||d===120?(t.enter("characterReferenceMarkerHexadecimal"),t.consume(d),t.exit("characterReferenceMarkerHexadecimal"),t.enter("characterReferenceValue"),s=6,a=nJ,c):(t.enter("characterReferenceValue"),s=7,a=p0,c(d))}function c(d){if(d===59&&i){const f=t.exit("characterReferenceValue");return a===Vt&&!i_(r.sliceSerialize(f))?n(d):(t.enter("characterReferenceMarker"),t.consume(d),t.exit("characterReferenceMarker"),t.exit("characterReference"),e)}return a(d)&&i++<s?(t.consume(d),c):n(d)}}const hC={tokenize:wJ,partial:!0},pC={name:"codeFenced",tokenize:bJ,concrete:!0};function bJ(t,e,n){const r=this,i={tokenize:C,partial:!0};let s=0,a=0,o;return l;function l(k){return u(k)}function u(k){const I=r.events[r.events.length-1];return s=I&&I[1].type==="linePrefix"?I[2].sliceSerialize(I[1],!0).length:0,o=k,t.enter("codeFenced"),t.enter("codeFencedFence"),t.enter("codeFencedFenceSequence"),c(k)}function c(k){return k===o?(a++,t.consume(k),c):a<3?n(k):(t.exit("codeFencedFenceSequence"),de(k)?ve(t,d,"whitespace")(k):d(k))}function d(k){return k===null||Q(k)?(t.exit("codeFencedFence"),r.interrupt?e(k):t.check(hC,y,x)(k)):(t.enter("codeFencedFenceInfo"),t.enter("chunkString",{contentType:"string"}),f(k))}function f(k){return k===null||Q(k)?(t.exit("chunkString"),t.exit("codeFencedFenceInfo"),d(k)):de(k)?(t.exit("chunkString"),t.exit("codeFencedFenceInfo"),ve(t,h,"whitespace")(k)):k===96&&k===o?n(k):(t.consume(k),f)}function h(k){return k===null||Q(k)?d(k):(t.enter("codeFencedFenceMeta"),t.enter("chunkString",{contentType:"string"}),p(k))}function p(k){return k===null||Q(k)?(t.exit("chunkString"),t.exit("codeFencedFenceMeta"),d(k)):k===96&&k===o?n(k):(t.consume(k),p)}function y(k){return t.attempt(i,x,b)(k)}function b(k){return t.enter("lineEnding"),t.consume(k),t.exit("lineEnding"),m}function m(k){return s>0&&de(k)?ve(t,g,"linePrefix",s+1)(k):g(k)}function g(k){return k===null||Q(k)?t.check(hC,y,x)(k):(t.enter("codeFlowValue"),v(k))}function v(k){return k===null||Q(k)?(t.exit("codeFlowValue"),g(k)):(t.consume(k),v)}function x(k){return t.exit("codeFenced"),e(k)}function C(k,I,R){let j=0;return T;function T(J){return k.enter("lineEnding"),k.consume(J),k.exit("lineEnding"),F}function F(J){return k.enter("codeFencedFence"),de(J)?ve(k,q,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(J):q(J)}function q(J){return J===o?(k.enter("codeFencedFenceSequence"),ue(J)):R(J)}function ue(J){return J===o?(j++,k.consume(J),ue):j>=a?(k.exit("codeFencedFenceSequence"),de(J)?ve(k,_e,"whitespace")(J):_e(J)):R(J)}function _e(J){return J===null||Q(J)?(k.exit("codeFencedFence"),I(J)):R(J)}}}function wJ(t,e,n){const r=this;return i;function i(a){return a===null?n(a):(t.enter("lineEnding"),t.consume(a),t.exit("lineEnding"),s)}function s(a){return r.parser.lazy[r.now().line]?n(a):e(a)}}const ny={name:"codeIndented",tokenize:xJ},_J={tokenize:kJ,partial:!0};function xJ(t,e,n){const r=this;return i;function i(u){return t.enter("codeIndented"),ve(t,s,"linePrefix",5)(u)}function s(u){const c=r.events[r.events.length-1];return c&&c[1].type==="linePrefix"&&c[2].sliceSerialize(c[1],!0).length>=4?a(u):n(u)}function a(u){return u===null?l(u):Q(u)?t.attempt(_J,a,l)(u):(t.enter("codeFlowValue"),o(u))}function o(u){return u===null||Q(u)?(t.exit("codeFlowValue"),a(u)):(t.consume(u),o)}function l(u){return t.exit("codeIndented"),e(u)}}function kJ(t,e,n){const r=this;return i;function i(a){return r.parser.lazy[r.now().line]?n(a):Q(a)?(t.enter("lineEnding"),t.consume(a),t.exit("lineEnding"),i):ve(t,s,"linePrefix",5)(a)}function s(a){const o=r.events[r.events.length-1];return o&&o[1].type==="linePrefix"&&o[2].sliceSerialize(o[1],!0).length>=4?e(a):Q(a)?i(a):n(a)}}const SJ={name:"codeText",tokenize:PJ,resolve:CJ,previous:TJ};function CJ(t){let e=t.length-4,n=3,r,i;if((t[n][1].type==="lineEnding"||t[n][1].type==="space")&&(t[e][1].type==="lineEnding"||t[e][1].type==="space")){for(r=n;++r<e;)if(t[r][1].type==="codeTextData"){t[n][1].type="codeTextPadding",t[e][1].type="codeTextPadding",n+=2,e-=2;break}}for(r=n-1,e++;++r<=e;)i===void 0?r!==e&&t[r][1].type!=="lineEnding"&&(i=r):(r===e||t[r][1].type==="lineEnding")&&(t[i][1].type="codeTextData",r!==i+2&&(t[i][1].end=t[r-1][1].end,t.splice(i+2,r-i-2),e-=r-i-2,r=i+2),i=void 0);return t}function TJ(t){return t!==96||this.events[this.events.length-1][1].type==="characterEscape"}function PJ(t,e,n){let r=0,i,s;return a;function a(d){return t.enter("codeText"),t.enter("codeTextSequence"),o(d)}function o(d){return d===96?(t.consume(d),r++,o):(t.exit("codeTextSequence"),l(d))}function l(d){return d===null?n(d):d===32?(t.enter("space"),t.consume(d),t.exit("space"),l):d===96?(s=t.enter("codeTextSequence"),i=0,c(d)):Q(d)?(t.enter("lineEnding"),t.consume(d),t.exit("lineEnding"),l):(t.enter("codeTextData"),u(d))}function u(d){return d===null||d===32||d===96||Q(d)?(t.exit("codeTextData"),l(d)):(t.consume(d),u)}function c(d){return d===96?(t.consume(d),i++,c):i===r?(t.exit("codeTextSequence"),t.exit("codeText"),e(d)):(s.type="codeTextData",u(d))}}class EJ{constructor(e){this.left=e?[...e]:[],this.right=[]}get(e){if(e<0||e>=this.left.length+this.right.length)throw new RangeError("Cannot access index `"+e+"` in a splice buffer of size `"+(this.left.length+this.right.length)+"`");return e<this.left.length?this.left[e]:this.right[this.right.length-e+this.left.length-1]}get length(){return this.left.length+this.right.length}shift(){return this.setCursor(0),this.right.pop()}slice(e,n){const r=n??Number.POSITIVE_INFINITY;return r<this.left.length?this.left.slice(e,r):e>this.left.length?this.right.slice(this.right.length-r+this.left.length,this.right.length-e+this.left.length).reverse():this.left.slice(e).concat(this.right.slice(this.right.length-r+this.left.length).reverse())}splice(e,n,r){const i=n||0;this.setCursor(Math.trunc(e));const s=this.right.splice(this.right.length-i,Number.POSITIVE_INFINITY);return r&&wl(this.left,r),s.reverse()}pop(){return this.setCursor(Number.POSITIVE_INFINITY),this.left.pop()}push(e){this.setCursor(Number.POSITIVE_INFINITY),this.left.push(e)}pushMany(e){this.setCursor(Number.POSITIVE_INFINITY),wl(this.left,e)}unshift(e){this.setCursor(0),this.right.push(e)}unshiftMany(e){this.setCursor(0),wl(this.right,e.reverse())}setCursor(e){if(!(e===this.left.length||e>this.left.length&&this.right.length===0||e<0&&this.left.length===0))if(e<this.left.length){const n=this.left.splice(e,Number.POSITIVE_INFINITY);wl(this.right,n.reverse())}else{const n=this.right.splice(this.left.length+this.right.length-e,Number.POSITIVE_INFINITY);wl(this.left,n.reverse())}}}function wl(t,e){let n=0;if(e.length<1e4)t.push(...e);else for(;n<e.length;)t.push(...e.slice(n,n+1e4)),n+=1e4}function PR(t){const e={};let n=-1,r,i,s,a,o,l,u;const c=new EJ(t);for(;++n<c.length;){for(;n in e;)n=e[n];if(r=c.get(n),n&&r[1].type==="chunkFlow"&&c.get(n-1)[1].type==="listItemPrefix"&&(l=r[1]._tokenizer.events,s=0,s<l.length&&l[s][1].type==="lineEndingBlank"&&(s+=2),s<l.length&&l[s][1].type==="content"))for(;++s<l.length&&l[s][1].type!=="content";)l[s][1].type==="chunkText"&&(l[s][1]._isInFirstContentOfListItem=!0,s++);if(r[0]==="enter")r[1].contentType&&(Object.assign(e,AJ(c,n)),n=e[n],u=!0);else if(r[1]._container){for(s=n,i=void 0;s--&&(a=c.get(s),a[1].type==="lineEnding"||a[1].type==="lineEndingBlank");)a[0]==="enter"&&(i&&(c.get(i)[1].type="lineEndingBlank"),a[1].type="lineEnding",i=s);i&&(r[1].end=Object.assign({},c.get(i)[1].start),o=c.slice(i,n),o.unshift(r),c.splice(i,n-i+1,o))}}return Yn(t,0,Number.POSITIVE_INFINITY,c.slice(0)),!u}function AJ(t,e){const n=t.get(e)[1],r=t.get(e)[2];let i=e-1;const s=[],a=n._tokenizer||r.parser[n.contentType](n.start),o=a.events,l=[],u={};let c,d,f=-1,h=n,p=0,y=0;const b=[y];for(;h;){for(;t.get(++i)[1]!==h;);s.push(i),h._tokenizer||(c=r.sliceStream(h),h.next||c.push(null),d&&a.defineSkip(h.start),h._isInFirstContentOfListItem&&(a._gfmTasklistFirstContentOfListItem=!0),a.write(c),h._isInFirstContentOfListItem&&(a._gfmTasklistFirstContentOfListItem=void 0)),d=h,h=h.next}for(h=n;++f<o.length;)o[f][0]==="exit"&&o[f-1][0]==="enter"&&o[f][1].type===o[f-1][1].type&&o[f][1].start.line!==o[f][1].end.line&&(y=f+1,b.push(y),h._tokenizer=void 0,h.previous=void 0,h=h.next);for(a.events=[],h?(h._tokenizer=void 0,h.previous=void 0):b.pop(),f=b.length;f--;){const m=o.slice(b[f],b[f+1]),g=s.pop();l.push([g,g+m.length-1]),t.splice(g,2,m)}for(l.reverse(),f=-1;++f<l.length;)u[p+l[f][0]]=p+l[f][1],p+=l[f][1]-l[f][0]-1;return u}const IJ={tokenize:$J,resolve:RJ},OJ={tokenize:NJ,partial:!0};function RJ(t){return PR(t),t}function $J(t,e){let n;return r;function r(o){return t.enter("content"),n=t.enter("chunkContent",{contentType:"content"}),i(o)}function i(o){return o===null?s(o):Q(o)?t.check(OJ,a,s)(o):(t.consume(o),i)}function s(o){return t.exit("chunkContent"),t.exit("content"),e(o)}function a(o){return t.consume(o),t.exit("chunkContent"),n.next=t.enter("chunkContent",{contentType:"content",previous:n}),n=n.next,i}}function NJ(t,e,n){const r=this;return i;function i(a){return t.exit("chunkContent"),t.enter("lineEnding"),t.consume(a),t.exit("lineEnding"),ve(t,s,"linePrefix")}function s(a){if(a===null||Q(a))return n(a);const o=r.events[r.events.length-1];return!r.parser.constructs.disable.null.includes("codeIndented")&&o&&o[1].type==="linePrefix"&&o[2].sliceSerialize(o[1],!0).length>=4?e(a):t.interrupt(r.parser.constructs.flow,n,e)(a)}}function ER(t,e,n,r,i,s,a,o,l){const u=l||Number.POSITIVE_INFINITY;let c=0;return d;function d(m){return m===60?(t.enter(r),t.enter(i),t.enter(s),t.consume(m),t.exit(s),f):m===null||m===32||m===41||op(m)?n(m):(t.enter(r),t.enter(a),t.enter(o),t.enter("chunkString",{contentType:"string"}),y(m))}function f(m){return m===62?(t.enter(s),t.consume(m),t.exit(s),t.exit(i),t.exit(r),e):(t.enter(o),t.enter("chunkString",{contentType:"string"}),h(m))}function h(m){return m===62?(t.exit("chunkString"),t.exit(o),f(m)):m===null||m===60||Q(m)?n(m):(t.consume(m),m===92?p:h)}function p(m){return m===60||m===62||m===92?(t.consume(m),h):h(m)}function y(m){return!c&&(m===null||m===41||Fe(m))?(t.exit("chunkString"),t.exit(o),t.exit(a),t.exit(r),e(m)):c<u&&m===40?(t.consume(m),c++,y):m===41?(t.consume(m),c--,y):m===null||m===32||m===40||op(m)?n(m):(t.consume(m),m===92?b:y)}function b(m){return m===40||m===41||m===92?(t.consume(m),y):y(m)}}function AR(t,e,n,r,i,s){const a=this;let o=0,l;return u;function u(h){return t.enter(r),t.enter(i),t.consume(h),t.exit(i),t.enter(s),c}function c(h){return o>999||h===null||h===91||h===93&&!l||h===94&&!o&&"_hiddenFootnoteSupport"in a.parser.constructs?n(h):h===93?(t.exit(s),t.enter(i),t.consume(h),t.exit(i),t.exit(r),e):Q(h)?(t.enter("lineEnding"),t.consume(h),t.exit("lineEnding"),c):(t.enter("chunkString",{contentType:"string"}),d(h))}function d(h){return h===null||h===91||h===93||Q(h)||o++>999?(t.exit("chunkString"),c(h)):(t.consume(h),l||(l=!de(h)),h===92?f:d)}function f(h){return h===91||h===92||h===93?(t.consume(h),o++,d):d(h)}}function IR(t,e,n,r,i,s){let a;return o;function o(f){return f===34||f===39||f===40?(t.enter(r),t.enter(i),t.consume(f),t.exit(i),a=f===40?41:f,l):n(f)}function l(f){return f===a?(t.enter(i),t.consume(f),t.exit(i),t.exit(r),e):(t.enter(s),u(f))}function u(f){return f===a?(t.exit(s),l(a)):f===null?n(f):Q(f)?(t.enter("lineEnding"),t.consume(f),t.exit("lineEnding"),ve(t,u,"linePrefix")):(t.enter("chunkString",{contentType:"string"}),c(f))}function c(f){return f===a||f===null||Q(f)?(t.exit("chunkString"),u(f)):(t.consume(f),f===92?d:c)}function d(f){return f===a||f===92?(t.consume(f),c):c(f)}}function bu(t,e){let n;return r;function r(i){return Q(i)?(t.enter("lineEnding"),t.consume(i),t.exit("lineEnding"),n=!0,r):de(i)?ve(t,r,n?"linePrefix":"lineSuffix")(i):e(i)}}const jJ={name:"definition",tokenize:LJ},MJ={tokenize:zJ,partial:!0};function LJ(t,e,n){const r=this;let i;return s;function s(h){return t.enter("definition"),a(h)}function a(h){return AR.call(r,t,o,n,"definitionLabel","definitionLabelMarker","definitionLabelString")(h)}function o(h){return i=Er(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)),h===58?(t.enter("definitionMarker"),t.consume(h),t.exit("definitionMarker"),l):n(h)}function l(h){return Fe(h)?bu(t,u)(h):u(h)}function u(h){return ER(t,c,n,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString")(h)}function c(h){return t.attempt(MJ,d,d)(h)}function d(h){return de(h)?ve(t,f,"whitespace")(h):f(h)}function f(h){return h===null||Q(h)?(t.exit("definition"),r.parser.defined.push(i),e(h)):n(h)}}function zJ(t,e,n){return r;function r(o){return Fe(o)?bu(t,i)(o):n(o)}function i(o){return IR(t,s,n,"definitionTitle","definitionTitleMarker","definitionTitleString")(o)}function s(o){return de(o)?ve(t,a,"whitespace")(o):a(o)}function a(o){return o===null||Q(o)?e(o):n(o)}}const DJ={name:"hardBreakEscape",tokenize:FJ};function FJ(t,e,n){return r;function r(s){return t.enter("hardBreakEscape"),t.consume(s),i}function i(s){return Q(s)?(t.exit("hardBreakEscape"),e(s)):n(s)}}const BJ={name:"headingAtx",tokenize:UJ,resolve:VJ};function VJ(t,e){let n=t.length-2,r=3,i,s;return t[r][1].type==="whitespace"&&(r+=2),n-2>r&&t[n][1].type==="whitespace"&&(n-=2),t[n][1].type==="atxHeadingSequence"&&(r===n-1||n-4>r&&t[n-2][1].type==="whitespace")&&(n-=r+1===n?2:4),n>r&&(i={type:"atxHeadingText",start:t[r][1].start,end:t[n][1].end},s={type:"chunkText",start:t[r][1].start,end:t[n][1].end,contentType:"text"},Yn(t,r,n-r+1,[["enter",i,e],["enter",s,e],["exit",s,e],["exit",i,e]])),t}function UJ(t,e,n){let r=0;return i;function i(c){return t.enter("atxHeading"),s(c)}function s(c){return t.enter("atxHeadingSequence"),a(c)}function a(c){return c===35&&r++<6?(t.consume(c),a):c===null||Fe(c)?(t.exit("atxHeadingSequence"),o(c)):n(c)}function o(c){return c===35?(t.enter("atxHeadingSequence"),l(c)):c===null||Q(c)?(t.exit("atxHeading"),e(c)):de(c)?ve(t,o,"whitespace")(c):(t.enter("atxHeadingText"),u(c))}function l(c){return c===35?(t.consume(c),l):(t.exit("atxHeadingSequence"),o(c))}function u(c){return c===null||c===35||Fe(c)?(t.exit("atxHeadingText"),o(c)):(t.consume(c),u)}}const HJ=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],mC=["pre","script","style","textarea"],WJ={name:"htmlFlow",tokenize:KJ,resolveTo:GJ,concrete:!0},qJ={tokenize:XJ,partial:!0},ZJ={tokenize:JJ,partial:!0};function GJ(t){let e=t.length;for(;e--&&!(t[e][0]==="enter"&&t[e][1].type==="htmlFlow"););return e>1&&t[e-2][1].type==="linePrefix"&&(t[e][1].start=t[e-2][1].start,t[e+1][1].start=t[e-2][1].start,t.splice(e-2,2)),t}function KJ(t,e,n){const r=this;let i,s,a,o,l;return u;function u(S){return c(S)}function c(S){return t.enter("htmlFlow"),t.enter("htmlFlowData"),t.consume(S),d}function d(S){return S===33?(t.consume(S),f):S===47?(t.consume(S),s=!0,y):S===63?(t.consume(S),i=3,r.interrupt?e:_):Jt(S)?(t.consume(S),a=String.fromCharCode(S),b):n(S)}function f(S){return S===45?(t.consume(S),i=2,h):S===91?(t.consume(S),i=5,o=0,p):Jt(S)?(t.consume(S),i=4,r.interrupt?e:_):n(S)}function h(S){return S===45?(t.consume(S),r.interrupt?e:_):n(S)}function p(S){const at="CDATA[";return S===at.charCodeAt(o++)?(t.consume(S),o===at.length?r.interrupt?e:q:p):n(S)}function y(S){return Jt(S)?(t.consume(S),a=String.fromCharCode(S),b):n(S)}function b(S){if(S===null||S===47||S===62||Fe(S)){const at=S===47,wn=a.toLowerCase();return!at&&!s&&mC.includes(wn)?(i=1,r.interrupt?e(S):q(S)):HJ.includes(a.toLowerCase())?(i=6,at?(t.consume(S),m):r.interrupt?e(S):q(S)):(i=7,r.interrupt&&!r.parser.lazy[r.now().line]?n(S):s?g(S):v(S))}return S===45||Vt(S)?(t.consume(S),a+=String.fromCharCode(S),b):n(S)}function m(S){return S===62?(t.consume(S),r.interrupt?e:q):n(S)}function g(S){return de(S)?(t.consume(S),g):T(S)}function v(S){return S===47?(t.consume(S),T):S===58||S===95||Jt(S)?(t.consume(S),x):de(S)?(t.consume(S),v):T(S)}function x(S){return S===45||S===46||S===58||S===95||Vt(S)?(t.consume(S),x):C(S)}function C(S){return S===61?(t.consume(S),k):de(S)?(t.consume(S),C):v(S)}function k(S){return S===null||S===60||S===61||S===62||S===96?n(S):S===34||S===39?(t.consume(S),l=S,I):de(S)?(t.consume(S),k):R(S)}function I(S){return S===l?(t.consume(S),l=null,j):S===null||Q(S)?n(S):(t.consume(S),I)}function R(S){return S===null||S===34||S===39||S===47||S===60||S===61||S===62||S===96||Fe(S)?C(S):(t.consume(S),R)}function j(S){return S===47||S===62||de(S)?v(S):n(S)}function T(S){return S===62?(t.consume(S),F):n(S)}function F(S){return S===null||Q(S)?q(S):de(S)?(t.consume(S),F):n(S)}function q(S){return S===45&&i===2?(t.consume(S),we):S===60&&i===1?(t.consume(S),Le):S===62&&i===4?(t.consume(S),he):S===63&&i===3?(t.consume(S),_):S===93&&i===5?(t.consume(S),X):Q(S)&&(i===6||i===7)?(t.exit("htmlFlowData"),t.check(qJ,Oe,ue)(S)):S===null||Q(S)?(t.exit("htmlFlowData"),ue(S)):(t.consume(S),q)}function ue(S){return t.check(ZJ,_e,Oe)(S)}function _e(S){return t.enter("lineEnding"),t.consume(S),t.exit("lineEnding"),J}function J(S){return S===null||Q(S)?ue(S):(t.enter("htmlFlowData"),q(S))}function we(S){return S===45?(t.consume(S),_):q(S)}function Le(S){return S===47?(t.consume(S),a="",B):q(S)}function B(S){if(S===62){const at=a.toLowerCase();return mC.includes(at)?(t.consume(S),he):q(S)}return Jt(S)&&a.length<8?(t.consume(S),a+=String.fromCharCode(S),B):q(S)}function X(S){return S===93?(t.consume(S),_):q(S)}function _(S){return S===62?(t.consume(S),he):S===45&&i===2?(t.consume(S),_):q(S)}function he(S){return S===null||Q(S)?(t.exit("htmlFlowData"),Oe(S)):(t.consume(S),he)}function Oe(S){return t.exit("htmlFlow"),e(S)}}function JJ(t,e,n){const r=this;return i;function i(a){return Q(a)?(t.enter("lineEnding"),t.consume(a),t.exit("lineEnding"),s):n(a)}function s(a){return r.parser.lazy[r.now().line]?n(a):e(a)}}function XJ(t,e,n){return r;function r(i){return t.enter("lineEnding"),t.consume(i),t.exit("lineEnding"),t.attempt(Dc,e,n)}}const YJ={name:"htmlText",tokenize:QJ};function QJ(t,e,n){const r=this;let i,s,a;return o;function o(_){return t.enter("htmlText"),t.enter("htmlTextData"),t.consume(_),l}function l(_){return _===33?(t.consume(_),u):_===47?(t.consume(_),C):_===63?(t.consume(_),v):Jt(_)?(t.consume(_),R):n(_)}function u(_){return _===45?(t.consume(_),c):_===91?(t.consume(_),s=0,p):Jt(_)?(t.consume(_),g):n(_)}function c(_){return _===45?(t.consume(_),h):n(_)}function d(_){return _===null?n(_):_===45?(t.consume(_),f):Q(_)?(a=d,Le(_)):(t.consume(_),d)}function f(_){return _===45?(t.consume(_),h):d(_)}function h(_){return _===62?we(_):_===45?f(_):d(_)}function p(_){const he="CDATA[";return _===he.charCodeAt(s++)?(t.consume(_),s===he.length?y:p):n(_)}function y(_){return _===null?n(_):_===93?(t.consume(_),b):Q(_)?(a=y,Le(_)):(t.consume(_),y)}function b(_){return _===93?(t.consume(_),m):y(_)}function m(_){return _===62?we(_):_===93?(t.consume(_),m):y(_)}function g(_){return _===null||_===62?we(_):Q(_)?(a=g,Le(_)):(t.consume(_),g)}function v(_){return _===null?n(_):_===63?(t.consume(_),x):Q(_)?(a=v,Le(_)):(t.consume(_),v)}function x(_){return _===62?we(_):v(_)}function C(_){return Jt(_)?(t.consume(_),k):n(_)}function k(_){return _===45||Vt(_)?(t.consume(_),k):I(_)}function I(_){return Q(_)?(a=I,Le(_)):de(_)?(t.consume(_),I):we(_)}function R(_){return _===45||Vt(_)?(t.consume(_),R):_===47||_===62||Fe(_)?j(_):n(_)}function j(_){return _===47?(t.consume(_),we):_===58||_===95||Jt(_)?(t.consume(_),T):Q(_)?(a=j,Le(_)):de(_)?(t.consume(_),j):we(_)}function T(_){return _===45||_===46||_===58||_===95||Vt(_)?(t.consume(_),T):F(_)}function F(_){return _===61?(t.consume(_),q):Q(_)?(a=F,Le(_)):de(_)?(t.consume(_),F):j(_)}function q(_){return _===null||_===60||_===61||_===62||_===96?n(_):_===34||_===39?(t.consume(_),i=_,ue):Q(_)?(a=q,Le(_)):de(_)?(t.consume(_),q):(t.consume(_),_e)}function ue(_){return _===i?(t.consume(_),i=void 0,J):_===null?n(_):Q(_)?(a=ue,Le(_)):(t.consume(_),ue)}function _e(_){return _===null||_===34||_===39||_===60||_===61||_===96?n(_):_===47||_===62||Fe(_)?j(_):(t.consume(_),_e)}function J(_){return _===47||_===62||Fe(_)?j(_):n(_)}function we(_){return _===62?(t.consume(_),t.exit("htmlTextData"),t.exit("htmlText"),e):n(_)}function Le(_){return t.exit("htmlTextData"),t.enter("lineEnding"),t.consume(_),t.exit("lineEnding"),B}function B(_){return de(_)?ve(t,X,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(_):X(_)}function X(_){return t.enter("htmlTextData"),a(_)}}const s_={name:"labelEnd",tokenize:sX,resolveTo:iX,resolveAll:rX},eX={tokenize:aX},tX={tokenize:oX},nX={tokenize:lX};function rX(t){let e=-1;for(;++e<t.length;){const n=t[e][1];(n.type==="labelImage"||n.type==="labelLink"||n.type==="labelEnd")&&(t.splice(e+1,n.type==="labelImage"?4:2),n.type="data",e++)}return t}function iX(t,e){let n=t.length,r=0,i,s,a,o;for(;n--;)if(i=t[n][1],s){if(i.type==="link"||i.type==="labelLink"&&i._inactive)break;t[n][0]==="enter"&&i.type==="labelLink"&&(i._inactive=!0)}else if(a){if(t[n][0]==="enter"&&(i.type==="labelImage"||i.type==="labelLink")&&!i._balanced&&(s=n,i.type!=="labelLink")){r=2;break}}else i.type==="labelEnd"&&(a=n);const l={type:t[s][1].type==="labelLink"?"link":"image",start:Object.assign({},t[s][1].start),end:Object.assign({},t[t.length-1][1].end)},u={type:"label",start:Object.assign({},t[s][1].start),end:Object.assign({},t[a][1].end)},c={type:"labelText",start:Object.assign({},t[s+r+2][1].end),end:Object.assign({},t[a-2][1].start)};return o=[["enter",l,e],["enter",u,e]],o=Gn(o,t.slice(s+1,s+r+3)),o=Gn(o,[["enter",c,e]]),o=Gn(o,ym(e.parser.constructs.insideSpan.null,t.slice(s+r+4,a-3),e)),o=Gn(o,[["exit",c,e],t[a-2],t[a-1],["exit",u,e]]),o=Gn(o,t.slice(a+1)),o=Gn(o,[["exit",l,e]]),Yn(t,s,t.length,o),t}function sX(t,e,n){const r=this;let i=r.events.length,s,a;for(;i--;)if((r.events[i][1].type==="labelImage"||r.events[i][1].type==="labelLink")&&!r.events[i][1]._balanced){s=r.events[i][1];break}return o;function o(f){return s?s._inactive?d(f):(a=r.parser.defined.includes(Er(r.sliceSerialize({start:s.end,end:r.now()}))),t.enter("labelEnd"),t.enter("labelMarker"),t.consume(f),t.exit("labelMarker"),t.exit("labelEnd"),l):n(f)}function l(f){return f===40?t.attempt(eX,c,a?c:d)(f):f===91?t.attempt(tX,c,a?u:d)(f):a?c(f):d(f)}function u(f){return t.attempt(nX,c,d)(f)}function c(f){return e(f)}function d(f){return s._balanced=!0,n(f)}}function aX(t,e,n){return r;function r(d){return t.enter("resource"),t.enter("resourceMarker"),t.consume(d),t.exit("resourceMarker"),i}function i(d){return Fe(d)?bu(t,s)(d):s(d)}function s(d){return d===41?c(d):ER(t,a,o,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(d)}function a(d){return Fe(d)?bu(t,l)(d):c(d)}function o(d){return n(d)}function l(d){return d===34||d===39||d===40?IR(t,u,n,"resourceTitle","resourceTitleMarker","resourceTitleString")(d):c(d)}function u(d){return Fe(d)?bu(t,c)(d):c(d)}function c(d){return d===41?(t.enter("resourceMarker"),t.consume(d),t.exit("resourceMarker"),t.exit("resource"),e):n(d)}}function oX(t,e,n){const r=this;return i;function i(o){return AR.call(r,t,s,a,"reference","referenceMarker","referenceString")(o)}function s(o){return r.parser.defined.includes(Er(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)))?e(o):n(o)}function a(o){return n(o)}}function lX(t,e,n){return r;function r(s){return t.enter("reference"),t.enter("referenceMarker"),t.consume(s),t.exit("referenceMarker"),i}function i(s){return s===93?(t.enter("referenceMarker"),t.consume(s),t.exit("referenceMarker"),t.exit("reference"),e):n(s)}}const uX={name:"labelStartImage",tokenize:cX,resolveAll:s_.resolveAll};function cX(t,e,n){const r=this;return i;function i(o){return t.enter("labelImage"),t.enter("labelImageMarker"),t.consume(o),t.exit("labelImageMarker"),s}function s(o){return o===91?(t.enter("labelMarker"),t.consume(o),t.exit("labelMarker"),t.exit("labelImage"),a):n(o)}function a(o){return o===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(o):e(o)}}const dX={name:"labelStartLink",tokenize:fX,resolveAll:s_.resolveAll};function fX(t,e,n){const r=this;return i;function i(a){return t.enter("labelLink"),t.enter("labelMarker"),t.consume(a),t.exit("labelMarker"),t.exit("labelLink"),s}function s(a){return a===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(a):e(a)}}const ry={name:"lineEnding",tokenize:hX};function hX(t,e){return n;function n(r){return t.enter("lineEnding"),t.consume(r),t.exit("lineEnding"),ve(t,e,"linePrefix")}}const Ef={name:"thematicBreak",tokenize:pX};function pX(t,e,n){let r=0,i;return s;function s(u){return t.enter("thematicBreak"),a(u)}function a(u){return i=u,o(u)}function o(u){return u===i?(t.enter("thematicBreakSequence"),l(u)):r>=3&&(u===null||Q(u))?(t.exit("thematicBreak"),e(u)):n(u)}function l(u){return u===i?(t.consume(u),r++,l):(t.exit("thematicBreakSequence"),de(u)?ve(t,o,"whitespace")(u):o(u))}}const ln={name:"list",tokenize:yX,continuation:{tokenize:vX},exit:wX},mX={tokenize:_X,partial:!0},gX={tokenize:bX,partial:!0};function yX(t,e,n){const r=this,i=r.events[r.events.length-1];let s=i&&i[1].type==="linePrefix"?i[2].sliceSerialize(i[1],!0).length:0,a=0;return o;function o(h){const p=r.containerState.type||(h===42||h===43||h===45?"listUnordered":"listOrdered");if(p==="listUnordered"?!r.containerState.marker||h===r.containerState.marker:p0(h)){if(r.containerState.type||(r.containerState.type=p,t.enter(p,{_container:!0})),p==="listUnordered")return t.enter("listItemPrefix"),h===42||h===45?t.check(Ef,n,u)(h):u(h);if(!r.interrupt||h===49)return t.enter("listItemPrefix"),t.enter("listItemValue"),l(h)}return n(h)}function l(h){return p0(h)&&++a<10?(t.consume(h),l):(!r.interrupt||a<2)&&(r.containerState.marker?h===r.containerState.marker:h===41||h===46)?(t.exit("listItemValue"),u(h)):n(h)}function u(h){return t.enter("listItemMarker"),t.consume(h),t.exit("listItemMarker"),r.containerState.marker=r.containerState.marker||h,t.check(Dc,r.interrupt?n:c,t.attempt(mX,f,d))}function c(h){return r.containerState.initialBlankLine=!0,s++,f(h)}function d(h){return de(h)?(t.enter("listItemPrefixWhitespace"),t.consume(h),t.exit("listItemPrefixWhitespace"),f):n(h)}function f(h){return r.containerState.size=s+r.sliceSerialize(t.exit("listItemPrefix"),!0).length,e(h)}}function vX(t,e,n){const r=this;return r.containerState._closeFlow=void 0,t.check(Dc,i,s);function i(o){return r.containerState.furtherBlankLines=r.containerState.furtherBlankLines||r.containerState.initialBlankLine,ve(t,e,"listItemIndent",r.containerState.size+1)(o)}function s(o){return r.containerState.furtherBlankLines||!de(o)?(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,a(o)):(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,t.attempt(gX,e,a)(o))}function a(o){return r.containerState._closeFlow=!0,r.interrupt=void 0,ve(t,t.attempt(ln,e,n),"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(o)}}function bX(t,e,n){const r=this;return ve(t,i,"listItemIndent",r.containerState.size+1);function i(s){const a=r.events[r.events.length-1];return a&&a[1].type==="listItemIndent"&&a[2].sliceSerialize(a[1],!0).length===r.containerState.size?e(s):n(s)}}function wX(t){t.exit(this.containerState.type)}function _X(t,e,n){const r=this;return ve(t,i,"listItemPrefixWhitespace",r.parser.constructs.disable.null.includes("codeIndented")?void 0:5);function i(s){const a=r.events[r.events.length-1];return!de(s)&&a&&a[1].type==="listItemPrefixWhitespace"?e(s):n(s)}}const gC={name:"setextUnderline",tokenize:kX,resolveTo:xX};function xX(t,e){let n=t.length,r,i,s;for(;n--;)if(t[n][0]==="enter"){if(t[n][1].type==="content"){r=n;break}t[n][1].type==="paragraph"&&(i=n)}else t[n][1].type==="content"&&t.splice(n,1),!s&&t[n][1].type==="definition"&&(s=n);const a={type:"setextHeading",start:Object.assign({},t[i][1].start),end:Object.assign({},t[t.length-1][1].end)};return t[i][1].type="setextHeadingText",s?(t.splice(i,0,["enter",a,e]),t.splice(s+1,0,["exit",t[r][1],e]),t[r][1].end=Object.assign({},t[s][1].end)):t[r][1]=a,t.push(["exit",a,e]),t}function kX(t,e,n){const r=this;let i;return s;function s(u){let c=r.events.length,d;for(;c--;)if(r.events[c][1].type!=="lineEnding"&&r.events[c][1].type!=="linePrefix"&&r.events[c][1].type!=="content"){d=r.events[c][1].type==="paragraph";break}return!r.parser.lazy[r.now().line]&&(r.interrupt||d)?(t.enter("setextHeadingLine"),i=u,a(u)):n(u)}function a(u){return t.enter("setextHeadingLineSequence"),o(u)}function o(u){return u===i?(t.consume(u),o):(t.exit("setextHeadingLineSequence"),de(u)?ve(t,l,"lineSuffix")(u):l(u))}function l(u){return u===null||Q(u)?(t.exit("setextHeadingLine"),e(u)):n(u)}}const SX={tokenize:CX};function CX(t){const e=this,n=t.attempt(Dc,r,t.attempt(this.parser.constructs.flowInitial,i,ve(t,t.attempt(this.parser.constructs.flow,i,t.attempt(IJ,i)),"linePrefix")));return n;function r(s){if(s===null){t.consume(s);return}return t.enter("lineEndingBlank"),t.consume(s),t.exit("lineEndingBlank"),e.currentConstruct=void 0,n}function i(s){if(s===null){t.consume(s);return}return t.enter("lineEnding"),t.consume(s),t.exit("lineEnding"),e.currentConstruct=void 0,n}}const TX={resolveAll:RR()},PX=OR("string"),EX=OR("text");function OR(t){return{tokenize:e,resolveAll:RR(t==="text"?AX:void 0)};function e(n){const r=this,i=this.parser.constructs[t],s=n.attempt(i,a,o);return a;function a(c){return u(c)?s(c):o(c)}function o(c){if(c===null){n.consume(c);return}return n.enter("data"),n.consume(c),l}function l(c){return u(c)?(n.exit("data"),s(c)):(n.consume(c),l)}function u(c){if(c===null)return!0;const d=i[c];let f=-1;if(d)for(;++f<d.length;){const h=d[f];if(!h.previous||h.previous.call(r,r.previous))return!0}return!1}}}function RR(t){return e;function e(n,r){let i=-1,s;for(;++i<=n.length;)s===void 0?n[i]&&n[i][1].type==="data"&&(s=i,i++):(!n[i]||n[i][1].type!=="data")&&(i!==s+2&&(n[s][1].end=n[i-1][1].end,n.splice(s+2,i-s-2),i=s+2),s=void 0);return t?t(n,r):n}}function AX(t,e){let n=0;for(;++n<=t.length;)if((n===t.length||t[n][1].type==="lineEnding")&&t[n-1][1].type==="data"){const r=t[n-1][1],i=e.sliceStream(r);let s=i.length,a=-1,o=0,l;for(;s--;){const u=i[s];if(typeof u=="string"){for(a=u.length;u.charCodeAt(a-1)===32;)o++,a--;if(a)break;a=-1}else if(u===-2)l=!0,o++;else if(u!==-1){s++;break}}if(o){const u={type:n===t.length||l||o<2?"lineSuffix":"hardBreakTrailing",start:{line:r.end.line,column:r.end.column-o,offset:r.end.offset-o,_index:r.start._index+s,_bufferIndex:s?a:r.start._bufferIndex+a},end:Object.assign({},r.end)};r.end=Object.assign({},u.start),r.start.offset===r.end.offset?Object.assign(r,u):(t.splice(n,0,["enter",u,e],["exit",u,e]),n+=2)}n++}return t}function IX(t,e,n){let r=Object.assign(n?Object.assign({},n):{line:1,column:1,offset:0},{_index:0,_bufferIndex:-1});const i={},s=[];let a=[],o=[];const l={consume:g,enter:v,exit:x,attempt:I(C),check:I(k),interrupt:I(k,{interrupt:!0})},u={previous:null,code:null,containerState:{},events:[],parser:t,sliceStream:h,sliceSerialize:f,now:p,defineSkip:y,write:d};let c=e.tokenize.call(u,l);return e.resolveAll&&s.push(e),u;function d(F){return a=Gn(a,F),b(),a[a.length-1]!==null?[]:(R(e,0),u.events=ym(s,u.events,u),u.events)}function f(F,q){return RX(h(F),q)}function h(F){return OX(a,F)}function p(){const{line:F,column:q,offset:ue,_index:_e,_bufferIndex:J}=r;return{line:F,column:q,offset:ue,_index:_e,_bufferIndex:J}}function y(F){i[F.line]=F.column,T()}function b(){let F;for(;r._index<a.length;){const q=a[r._index];if(typeof q=="string")for(F=r._index,r._bufferIndex<0&&(r._bufferIndex=0);r._index===F&&r._bufferIndex<q.length;)m(q.charCodeAt(r._bufferIndex));else m(q)}}function m(F){c=c(F)}function g(F){Q(F)?(r.line++,r.column=1,r.offset+=F===-3?2:1,T()):F!==-1&&(r.column++,r.offset++),r._bufferIndex<0?r._index++:(r._bufferIndex++,r._bufferIndex===a[r._index].length&&(r._bufferIndex=-1,r._index++)),u.previous=F}function v(F,q){const ue=q||{};return ue.type=F,ue.start=p(),u.events.push(["enter",ue,u]),o.push(ue),ue}function x(F){const q=o.pop();return q.end=p(),u.events.push(["exit",q,u]),q}function C(F,q){R(F,q.from)}function k(F,q){q.restore()}function I(F,q){return ue;function ue(_e,J,we){let Le,B,X,_;return Array.isArray(_e)?Oe(_e):"tokenize"in _e?Oe([_e]):he(_e);function he(xe){return _n;function _n(sn){const ai=sn!==null&&xe[sn],ir=sn!==null&&xe.null,Sa=[...Array.isArray(ai)?ai:ai?[ai]:[],...Array.isArray(ir)?ir:ir?[ir]:[]];return Oe(Sa)(sn)}}function Oe(xe){return Le=xe,B=0,xe.length===0?we:S(xe[B])}function S(xe){return _n;function _n(sn){return _=j(),X=xe,xe.partial||(u.currentConstruct=xe),xe.name&&u.parser.constructs.disable.null.includes(xe.name)?wn():xe.tokenize.call(q?Object.assign(Object.create(u),q):u,l,at,wn)(sn)}}function at(xe){return F(X,_),J}function wn(xe){return _.restore(),++B<Le.length?S(Le[B]):we}}}function R(F,q){F.resolveAll&&!s.includes(F)&&s.push(F),F.resolve&&Yn(u.events,q,u.events.length-q,F.resolve(u.events.slice(q),u)),F.resolveTo&&(u.events=F.resolveTo(u.events,u))}function j(){const F=p(),q=u.previous,ue=u.currentConstruct,_e=u.events.length,J=Array.from(o);return{restore:we,from:_e};function we(){r=F,u.previous=q,u.currentConstruct=ue,u.events.length=_e,o=J,T()}}function T(){r.line in i&&r.column<2&&(r.column=i[r.line],r.offset+=i[r.line]-1)}}function OX(t,e){const n=e.start._index,r=e.start._bufferIndex,i=e.end._index,s=e.end._bufferIndex;let a;if(n===i)a=[t[n].slice(r,s)];else{if(a=t.slice(n,i),r>-1){const o=a[0];typeof o=="string"?a[0]=o.slice(r):a.shift()}s>0&&a.push(t[i].slice(0,s))}return a}function RX(t,e){let n=-1;const r=[];let i;for(;++n<t.length;){const s=t[n];let a;if(typeof s=="string")a=s;else switch(s){case-5:{a="\r";break}case-4:{a=`
`;break}case-3:{a=`\r
`;break}case-2:{a=e?" ":"	";break}case-1:{if(!e&&i)continue;a=" ";break}default:a=String.fromCharCode(s)}i=s===-2,r.push(a)}return r.join("")}const $X={42:ln,43:ln,45:ln,48:ln,49:ln,50:ln,51:ln,52:ln,53:ln,54:ln,55:ln,56:ln,57:ln,62:SR},NX={91:jJ},jX={[-2]:ny,[-1]:ny,32:ny},MX={35:BJ,42:Ef,45:[gC,Ef],60:WJ,61:gC,95:Ef,96:pC,126:pC},LX={38:TR,92:CR},zX={[-5]:ry,[-4]:ry,[-3]:ry,33:uX,38:TR,42:m0,60:[dJ,YJ],91:dX,92:[DJ,CR],93:s_,95:m0,96:SJ},DX={null:[m0,TX]},FX={null:[42,95]},BX={null:[]},VX=Object.freeze(Object.defineProperty({__proto__:null,attentionMarkers:FX,contentInitial:NX,disable:BX,document:$X,flow:MX,flowInitial:jX,insideSpan:DX,string:LX,text:zX},Symbol.toStringTag,{value:"Module"}));function UX(t){const n=xR([VX,...(t||{}).extensions||[]]),r={defined:[],lazy:{},constructs:n,content:i(iJ),document:i(aJ),flow:i(SX),string:i(PX),text:i(EX)};return r;function i(s){return a;function a(o){return IX(r,s,o)}}}function HX(t){for(;!PR(t););return t}const yC=/[\0\t\n\r]/g;function WX(){let t=1,e="",n=!0,r;return i;function i(s,a,o){const l=[];let u,c,d,f,h;for(s=e+(typeof s=="string"?s.toString():new TextDecoder(a||void 0).decode(s)),d=0,e="",n&&(s.charCodeAt(0)===65279&&d++,n=void 0);d<s.length;){if(yC.lastIndex=d,u=yC.exec(s),f=u&&u.index!==void 0?u.index:s.length,h=s.charCodeAt(f),!u){e=s.slice(d);break}if(h===10&&d===f&&r)l.push(-3),r=void 0;else switch(r&&(l.push(-5),r=void 0),d<f&&(l.push(s.slice(d,f)),t+=f-d),h){case 0:{l.push(65533),t++;break}case 9:{for(c=Math.ceil(t/4)*4,l.push(-2);t++<c;)l.push(-1);break}case 10:{l.push(-4),t=1;break}default:r=!0,t=1}d=f+1}return o&&(r&&l.push(-5),e&&l.push(e),l.push(null)),l}}const qX=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function ZX(t){return t.replace(qX,GX)}function GX(t,e,n){if(e)return e;if(n.charCodeAt(0)===35){const i=n.charCodeAt(1),s=i===120||i===88;return kR(n.slice(s?2:1),s?16:10)}return i_(n)||t}const $R={}.hasOwnProperty;function KX(t,e,n){return typeof e!="string"&&(n=e,e=void 0),JX(n)(HX(UX(n).document().write(WX()(t,e,!0))))}function JX(t){const e={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:s(Wc),autolinkProtocol:j,autolinkEmail:j,atxHeading:s(Vc),blockQuote:s(ai),characterEscape:j,characterReference:j,codeFenced:s(ir),codeFencedFenceInfo:a,codeFencedFenceMeta:a,codeIndented:s(ir,a),codeText:s(Sa,a),codeTextData:j,data:j,codeFlowValue:j,definition:s(Bc),definitionDestinationString:a,definitionLabelString:a,definitionTitleString:a,emphasis:s(_m),hardBreakEscape:s(Uc),hardBreakTrailing:s(Uc),htmlFlow:s(Hc,a),htmlFlowData:j,htmlText:s(Hc,a),htmlTextData:j,image:s(xm),label:a,link:s(Wc),listItem:s(Ca),listItemValue:f,listOrdered:s(qc,d),listUnordered:s(qc),paragraph:s(rl),reference:S,referenceString:a,resourceDestinationString:a,resourceTitleString:a,setextHeading:s(Vc),strong:s(Ta),thematicBreak:s(Zc)},exit:{atxHeading:l(),atxHeadingSequence:C,autolink:l(),autolinkEmail:sn,autolinkProtocol:_n,blockQuote:l(),characterEscapeValue:T,characterReferenceMarkerHexadecimal:wn,characterReferenceMarkerNumeric:wn,characterReferenceValue:xe,codeFenced:l(b),codeFencedFence:y,codeFencedFenceInfo:h,codeFencedFenceMeta:p,codeFlowValue:T,codeIndented:l(m),codeText:l(J),codeTextData:T,data:T,definition:l(),definitionDestinationString:x,definitionLabelString:g,definitionTitleString:v,emphasis:l(),hardBreakEscape:l(q),hardBreakTrailing:l(q),htmlFlow:l(ue),htmlFlowData:T,htmlText:l(_e),htmlTextData:T,image:l(Le),label:X,labelText:B,lineEnding:F,link:l(we),listItem:l(),listOrdered:l(),listUnordered:l(),paragraph:l(),referenceString:at,resourceDestinationString:_,resourceTitleString:he,resource:Oe,setextHeading:l(R),setextHeadingLineSequence:I,setextHeadingText:k,strong:l(),thematicBreak:l()}};NR(e,(t||{}).mdastExtensions||[]);const n={};return r;function r(N){let V={type:"root",children:[]};const re={stack:[V],tokenStack:[],config:e,enter:o,exit:u,buffer:a,resume:c,data:n},ae=[];let ke=-1;for(;++ke<N.length;)if(N[ke][1].type==="listOrdered"||N[ke][1].type==="listUnordered")if(N[ke][0]==="enter")ae.push(ke);else{const an=ae.pop();ke=i(N,an,ke)}for(ke=-1;++ke<N.length;){const an=e[N[ke][0]];$R.call(an,N[ke][1].type)&&an[N[ke][1].type].call(Object.assign({sliceSerialize:N[ke][2].sliceSerialize},re),N[ke][1])}if(re.tokenStack.length>0){const an=re.tokenStack[re.tokenStack.length-1];(an[1]||vC).call(re,void 0,an[0])}for(V.position={start:Hi(N.length>0?N[0][1].start:{line:1,column:1,offset:0}),end:Hi(N.length>0?N[N.length-2][1].end:{line:1,column:1,offset:0})},ke=-1;++ke<e.transforms.length;)V=e.transforms[ke](V)||V;return V}function i(N,V,re){let ae=V-1,ke=-1,an=!1,Nr,Fn,Ps,Es;for(;++ae<=re;){const ut=N[ae];switch(ut[1].type){case"listUnordered":case"listOrdered":case"blockQuote":{ut[0]==="enter"?ke++:ke--,Es=void 0;break}case"lineEndingBlank":{ut[0]==="enter"&&(Nr&&!Es&&!ke&&!Ps&&(Ps=ae),Es=void 0);break}case"linePrefix":case"listItemValue":case"listItemMarker":case"listItemPrefix":case"listItemPrefixWhitespace":break;default:Es=void 0}if(!ke&&ut[0]==="enter"&&ut[1].type==="listItemPrefix"||ke===-1&&ut[0]==="exit"&&(ut[1].type==="listUnordered"||ut[1].type==="listOrdered")){if(Nr){let sr=ae;for(Fn=void 0;sr--;){const ar=N[sr];if(ar[1].type==="lineEnding"||ar[1].type==="lineEndingBlank"){if(ar[0]==="exit")continue;Fn&&(N[Fn][1].type="lineEndingBlank",an=!0),ar[1].type="lineEnding",Fn=sr}else if(!(ar[1].type==="linePrefix"||ar[1].type==="blockQuotePrefix"||ar[1].type==="blockQuotePrefixWhitespace"||ar[1].type==="blockQuoteMarker"||ar[1].type==="listItemIndent"))break}Ps&&(!Fn||Ps<Fn)&&(Nr._spread=!0),Nr.end=Object.assign({},Fn?N[Fn][1].start:ut[1].end),N.splice(Fn||ae,0,["exit",Nr,ut[2]]),ae++,re++}if(ut[1].type==="listItemPrefix"){const sr={type:"listItem",_spread:!1,start:Object.assign({},ut[1].start),end:void 0};Nr=sr,N.splice(ae,0,["enter",sr,ut[2]]),ae++,re++,Ps=void 0,Es=!0}}}return N[V][1]._spread=an,re}function s(N,V){return re;function re(ae){o.call(this,N(ae),ae),V&&V.call(this,ae)}}function a(){this.stack.push({type:"fragment",children:[]})}function o(N,V,re){this.stack[this.stack.length-1].children.push(N),this.stack.push(N),this.tokenStack.push([V,re]),N.position={start:Hi(V.start),end:void 0}}function l(N){return V;function V(re){N&&N.call(this,re),u.call(this,re)}}function u(N,V){const re=this.stack.pop(),ae=this.tokenStack.pop();if(ae)ae[0].type!==N.type&&(V?V.call(this,N,ae[0]):(ae[1]||vC).call(this,N,ae[0]));else throw new Error("Cannot close `"+N.type+"` ("+vu({start:N.start,end:N.end})+"): its not open");re.position.end=Hi(N.end)}function c(){return r_(this.stack.pop())}function d(){this.data.expectingFirstListItemValue=!0}function f(N){if(this.data.expectingFirstListItemValue){const V=this.stack[this.stack.length-2];V.start=Number.parseInt(this.sliceSerialize(N),10),this.data.expectingFirstListItemValue=void 0}}function h(){const N=this.resume(),V=this.stack[this.stack.length-1];V.lang=N}function p(){const N=this.resume(),V=this.stack[this.stack.length-1];V.meta=N}function y(){this.data.flowCodeInside||(this.buffer(),this.data.flowCodeInside=!0)}function b(){const N=this.resume(),V=this.stack[this.stack.length-1];V.value=N.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),this.data.flowCodeInside=void 0}function m(){const N=this.resume(),V=this.stack[this.stack.length-1];V.value=N.replace(/(\r?\n|\r)$/g,"")}function g(N){const V=this.resume(),re=this.stack[this.stack.length-1];re.label=V,re.identifier=Er(this.sliceSerialize(N)).toLowerCase()}function v(){const N=this.resume(),V=this.stack[this.stack.length-1];V.title=N}function x(){const N=this.resume(),V=this.stack[this.stack.length-1];V.url=N}function C(N){const V=this.stack[this.stack.length-1];if(!V.depth){const re=this.sliceSerialize(N).length;V.depth=re}}function k(){this.data.setextHeadingSlurpLineEnding=!0}function I(N){const V=this.stack[this.stack.length-1];V.depth=this.sliceSerialize(N).codePointAt(0)===61?1:2}function R(){this.data.setextHeadingSlurpLineEnding=void 0}function j(N){const re=this.stack[this.stack.length-1].children;let ae=re[re.length-1];(!ae||ae.type!=="text")&&(ae=$r(),ae.position={start:Hi(N.start),end:void 0},re.push(ae)),this.stack.push(ae)}function T(N){const V=this.stack.pop();V.value+=this.sliceSerialize(N),V.position.end=Hi(N.end)}function F(N){const V=this.stack[this.stack.length-1];if(this.data.atHardBreak){const re=V.children[V.children.length-1];re.position.end=Hi(N.end),this.data.atHardBreak=void 0;return}!this.data.setextHeadingSlurpLineEnding&&e.canContainEols.includes(V.type)&&(j.call(this,N),T.call(this,N))}function q(){this.data.atHardBreak=!0}function ue(){const N=this.resume(),V=this.stack[this.stack.length-1];V.value=N}function _e(){const N=this.resume(),V=this.stack[this.stack.length-1];V.value=N}function J(){const N=this.resume(),V=this.stack[this.stack.length-1];V.value=N}function we(){const N=this.stack[this.stack.length-1];if(this.data.inReference){const V=this.data.referenceType||"shortcut";N.type+="Reference",N.referenceType=V,delete N.url,delete N.title}else delete N.identifier,delete N.label;this.data.referenceType=void 0}function Le(){const N=this.stack[this.stack.length-1];if(this.data.inReference){const V=this.data.referenceType||"shortcut";N.type+="Reference",N.referenceType=V,delete N.url,delete N.title}else delete N.identifier,delete N.label;this.data.referenceType=void 0}function B(N){const V=this.sliceSerialize(N),re=this.stack[this.stack.length-2];re.label=ZX(V),re.identifier=Er(V).toLowerCase()}function X(){const N=this.stack[this.stack.length-1],V=this.resume(),re=this.stack[this.stack.length-1];if(this.data.inReference=!0,re.type==="link"){const ae=N.children;re.children=ae}else re.alt=V}function _(){const N=this.resume(),V=this.stack[this.stack.length-1];V.url=N}function he(){const N=this.resume(),V=this.stack[this.stack.length-1];V.title=N}function Oe(){this.data.inReference=void 0}function S(){this.data.referenceType="collapsed"}function at(N){const V=this.resume(),re=this.stack[this.stack.length-1];re.label=V,re.identifier=Er(this.sliceSerialize(N)).toLowerCase(),this.data.referenceType="full"}function wn(N){this.data.characterReferenceType=N.type}function xe(N){const V=this.sliceSerialize(N),re=this.data.characterReferenceType;let ae;re?(ae=kR(V,re==="characterReferenceMarkerNumeric"?10:16),this.data.characterReferenceType=void 0):ae=i_(V);const ke=this.stack.pop();ke.value+=ae,ke.position.end=Hi(N.end)}function _n(N){T.call(this,N);const V=this.stack[this.stack.length-1];V.url=this.sliceSerialize(N)}function sn(N){T.call(this,N);const V=this.stack[this.stack.length-1];V.url="mailto:"+this.sliceSerialize(N)}function ai(){return{type:"blockquote",children:[]}}function ir(){return{type:"code",lang:null,meta:null,value:""}}function Sa(){return{type:"inlineCode",value:""}}function Bc(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function _m(){return{type:"emphasis",children:[]}}function Vc(){return{type:"heading",depth:0,children:[]}}function Uc(){return{type:"break"}}function Hc(){return{type:"html",value:""}}function xm(){return{type:"image",title:null,url:"",alt:null}}function Wc(){return{type:"link",title:null,url:"",children:[]}}function qc(N){return{type:"list",ordered:N.type==="listOrdered",start:null,spread:N._spread,children:[]}}function Ca(N){return{type:"listItem",spread:N._spread,checked:null,children:[]}}function rl(){return{type:"paragraph",children:[]}}function Ta(){return{type:"strong",children:[]}}function $r(){return{type:"text",value:""}}function Zc(){return{type:"thematicBreak"}}}function Hi(t){return{line:t.line,column:t.column,offset:t.offset}}function NR(t,e){let n=-1;for(;++n<e.length;){const r=e[n];Array.isArray(r)?NR(t,r):XX(t,r)}}function XX(t,e){let n;for(n in e)if($R.call(e,n))switch(n){case"canContainEols":{const r=e[n];r&&t[n].push(...r);break}case"transforms":{const r=e[n];r&&t[n].push(...r);break}case"enter":case"exit":{const r=e[n];r&&Object.assign(t[n],r);break}}}function vC(t,e){throw t?new Error("Cannot close `"+t.type+"` ("+vu({start:t.start,end:t.end})+"): a different token (`"+e.type+"`, "+vu({start:e.start,end:e.end})+") is open"):new Error("Cannot close document, a token (`"+e.type+"`, "+vu({start:e.start,end:e.end})+") is still open")}function YX(t){const e=this;e.parser=n;function n(r){return KX(r,{...e.data("settings"),...t,extensions:e.data("micromarkExtensions")||[],mdastExtensions:e.data("fromMarkdownExtensions")||[]})}}function QX(t,e){const n={type:"element",tagName:"blockquote",properties:{},children:t.wrap(t.all(e),!0)};return t.patch(e,n),t.applyData(e,n)}function eY(t,e){const n={type:"element",tagName:"br",properties:{},children:[]};return t.patch(e,n),[t.applyData(e,n),{type:"text",value:`
`}]}function tY(t,e){const n=e.value?e.value+`
`:"",r={};e.lang&&(r.className=["language-"+e.lang]);let i={type:"element",tagName:"code",properties:r,children:[{type:"text",value:n}]};return e.meta&&(i.data={meta:e.meta}),t.patch(e,i),i=t.applyData(e,i),i={type:"element",tagName:"pre",properties:{},children:[i]},t.patch(e,i),i}function nY(t,e){const n={type:"element",tagName:"del",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function rY(t,e){const n={type:"element",tagName:"em",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function iY(t,e){const n=typeof t.options.clobberPrefix=="string"?t.options.clobberPrefix:"user-content-",r=String(e.identifier).toUpperCase(),i=nl(r.toLowerCase()),s=t.footnoteOrder.indexOf(r);let a,o=t.footnoteCounts.get(r);o===void 0?(o=0,t.footnoteOrder.push(r),a=t.footnoteOrder.length):a=s+1,o+=1,t.footnoteCounts.set(r,o);const l={type:"element",tagName:"a",properties:{href:"#"+n+"fn-"+i,id:n+"fnref-"+i+(o>1?"-"+o:""),dataFootnoteRef:!0,ariaDescribedBy:["footnote-label"]},children:[{type:"text",value:String(a)}]};t.patch(e,l);const u={type:"element",tagName:"sup",properties:{},children:[l]};return t.patch(e,u),t.applyData(e,u)}function sY(t,e){const n={type:"element",tagName:"h"+e.depth,properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function aY(t,e){if(t.options.allowDangerousHtml){const n={type:"raw",value:e.value};return t.patch(e,n),t.applyData(e,n)}}function jR(t,e){const n=e.referenceType;let r="]";if(n==="collapsed"?r+="[]":n==="full"&&(r+="["+(e.label||e.identifier)+"]"),e.type==="imageReference")return[{type:"text",value:"!["+e.alt+r}];const i=t.all(e),s=i[0];s&&s.type==="text"?s.value="["+s.value:i.unshift({type:"text",value:"["});const a=i[i.length-1];return a&&a.type==="text"?a.value+=r:i.push({type:"text",value:r}),i}function oY(t,e){const n=String(e.identifier).toUpperCase(),r=t.definitionById.get(n);if(!r)return jR(t,e);const i={src:nl(r.url||""),alt:e.alt};r.title!==null&&r.title!==void 0&&(i.title=r.title);const s={type:"element",tagName:"img",properties:i,children:[]};return t.patch(e,s),t.applyData(e,s)}function lY(t,e){const n={src:nl(e.url)};e.alt!==null&&e.alt!==void 0&&(n.alt=e.alt),e.title!==null&&e.title!==void 0&&(n.title=e.title);const r={type:"element",tagName:"img",properties:n,children:[]};return t.patch(e,r),t.applyData(e,r)}function uY(t,e){const n={type:"text",value:e.value.replace(/\r?\n|\r/g," ")};t.patch(e,n);const r={type:"element",tagName:"code",properties:{},children:[n]};return t.patch(e,r),t.applyData(e,r)}function cY(t,e){const n=String(e.identifier).toUpperCase(),r=t.definitionById.get(n);if(!r)return jR(t,e);const i={href:nl(r.url||"")};r.title!==null&&r.title!==void 0&&(i.title=r.title);const s={type:"element",tagName:"a",properties:i,children:t.all(e)};return t.patch(e,s),t.applyData(e,s)}function dY(t,e){const n={href:nl(e.url)};e.title!==null&&e.title!==void 0&&(n.title=e.title);const r={type:"element",tagName:"a",properties:n,children:t.all(e)};return t.patch(e,r),t.applyData(e,r)}function fY(t,e,n){const r=t.all(e),i=n?hY(n):MR(e),s={},a=[];if(typeof e.checked=="boolean"){const c=r[0];let d;c&&c.type==="element"&&c.tagName==="p"?d=c:(d={type:"element",tagName:"p",properties:{},children:[]},r.unshift(d)),d.children.length>0&&d.children.unshift({type:"text",value:" "}),d.children.unshift({type:"element",tagName:"input",properties:{type:"checkbox",checked:e.checked,disabled:!0},children:[]}),s.className=["task-list-item"]}let o=-1;for(;++o<r.length;){const c=r[o];(i||o!==0||c.type!=="element"||c.tagName!=="p")&&a.push({type:"text",value:`
`}),c.type==="element"&&c.tagName==="p"&&!i?a.push(...c.children):a.push(c)}const l=r[r.length-1];l&&(i||l.type!=="element"||l.tagName!=="p")&&a.push({type:"text",value:`
`});const u={type:"element",tagName:"li",properties:s,children:a};return t.patch(e,u),t.applyData(e,u)}function hY(t){let e=!1;if(t.type==="list"){e=t.spread||!1;const n=t.children;let r=-1;for(;!e&&++r<n.length;)e=MR(n[r])}return e}function MR(t){const e=t.spread;return e??t.children.length>1}function pY(t,e){const n={},r=t.all(e);let i=-1;for(typeof e.start=="number"&&e.start!==1&&(n.start=e.start);++i<r.length;){const a=r[i];if(a.type==="element"&&a.tagName==="li"&&a.properties&&Array.isArray(a.properties.className)&&a.properties.className.includes("task-list-item")){n.className=["contains-task-list"];break}}const s={type:"element",tagName:e.ordered?"ol":"ul",properties:n,children:t.wrap(r,!0)};return t.patch(e,s),t.applyData(e,s)}function mY(t,e){const n={type:"element",tagName:"p",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function gY(t,e){const n={type:"root",children:t.wrap(t.all(e))};return t.patch(e,n),t.applyData(e,n)}function yY(t,e){const n={type:"element",tagName:"strong",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function vY(t,e){const n=t.all(e),r=n.shift(),i=[];if(r){const a={type:"element",tagName:"thead",properties:{},children:t.wrap([r],!0)};t.patch(e.children[0],a),i.push(a)}if(n.length>0){const a={type:"element",tagName:"tbody",properties:{},children:t.wrap(n,!0)},o=Qw(e.children[1]),l=mR(e.children[e.children.length-1]);o&&l&&(a.position={start:o,end:l}),i.push(a)}const s={type:"element",tagName:"table",properties:{},children:t.wrap(i,!0)};return t.patch(e,s),t.applyData(e,s)}function bY(t,e,n){const r=n?n.children:void 0,s=(r?r.indexOf(e):1)===0?"th":"td",a=n&&n.type==="table"?n.align:void 0,o=a?a.length:e.children.length;let l=-1;const u=[];for(;++l<o;){const d=e.children[l],f={},h=a?a[l]:void 0;h&&(f.align=h);let p={type:"element",tagName:s,properties:f,children:[]};d&&(p.children=t.all(d),t.patch(d,p),p=t.applyData(d,p)),u.push(p)}const c={type:"element",tagName:"tr",properties:{},children:t.wrap(u,!0)};return t.patch(e,c),t.applyData(e,c)}function wY(t,e){const n={type:"element",tagName:"td",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}const bC=9,wC=32;function _Y(t){const e=String(t),n=/\r?\n|\r/g;let r=n.exec(e),i=0;const s=[];for(;r;)s.push(_C(e.slice(i,r.index),i>0,!0),r[0]),i=r.index+r[0].length,r=n.exec(e);return s.push(_C(e.slice(i),i>0,!1)),s.join("")}function _C(t,e,n){let r=0,i=t.length;if(e){let s=t.codePointAt(r);for(;s===bC||s===wC;)r++,s=t.codePointAt(r)}if(n){let s=t.codePointAt(i-1);for(;s===bC||s===wC;)i--,s=t.codePointAt(i-1)}return i>r?t.slice(r,i):""}function xY(t,e){const n={type:"text",value:_Y(String(e.value))};return t.patch(e,n),t.applyData(e,n)}function kY(t,e){const n={type:"element",tagName:"hr",properties:{},children:[]};return t.patch(e,n),t.applyData(e,n)}const SY={blockquote:QX,break:eY,code:tY,delete:nY,emphasis:rY,footnoteReference:iY,heading:sY,html:aY,imageReference:oY,image:lY,inlineCode:uY,linkReference:cY,link:dY,listItem:fY,list:pY,paragraph:mY,root:gY,strong:yY,table:vY,tableCell:wY,tableRow:bY,text:xY,thematicBreak:kY,toml:jd,yaml:jd,definition:jd,footnoteDefinition:jd};function jd(){}const LR=-1,vm=0,up=1,cp=2,a_=3,o_=4,l_=5,u_=6,zR=7,DR=8,xC=typeof self=="object"?self:globalThis,CY=(t,e)=>{const n=(i,s)=>(t.set(s,i),i),r=i=>{if(t.has(i))return t.get(i);const[s,a]=e[i];switch(s){case vm:case LR:return n(a,i);case up:{const o=n([],i);for(const l of a)o.push(r(l));return o}case cp:{const o=n({},i);for(const[l,u]of a)o[r(l)]=r(u);return o}case a_:return n(new Date(a),i);case o_:{const{source:o,flags:l}=a;return n(new RegExp(o,l),i)}case l_:{const o=n(new Map,i);for(const[l,u]of a)o.set(r(l),r(u));return o}case u_:{const o=n(new Set,i);for(const l of a)o.add(r(l));return o}case zR:{const{name:o,message:l}=a;return n(new xC[o](l),i)}case DR:return n(BigInt(a),i);case"BigInt":return n(Object(BigInt(a)),i)}return n(new xC[s](a),i)};return r},kC=t=>CY(new Map,t)(0),$a="",{toString:TY}={},{keys:PY}=Object,_l=t=>{const e=typeof t;if(e!=="object"||!t)return[vm,e];const n=TY.call(t).slice(8,-1);switch(n){case"Array":return[up,$a];case"Object":return[cp,$a];case"Date":return[a_,$a];case"RegExp":return[o_,$a];case"Map":return[l_,$a];case"Set":return[u_,$a]}return n.includes("Array")?[up,n]:n.includes("Error")?[zR,n]:[cp,n]},Md=([t,e])=>t===vm&&(e==="function"||e==="symbol"),EY=(t,e,n,r)=>{const i=(a,o)=>{const l=r.push(a)-1;return n.set(o,l),l},s=a=>{if(n.has(a))return n.get(a);let[o,l]=_l(a);switch(o){case vm:{let c=a;switch(l){case"bigint":o=DR,c=a.toString();break;case"function":case"symbol":if(t)throw new TypeError("unable to serialize "+l);c=null;break;case"undefined":return i([LR],a)}return i([o,c],a)}case up:{if(l)return i([l,[...a]],a);const c=[],d=i([o,c],a);for(const f of a)c.push(s(f));return d}case cp:{if(l)switch(l){case"BigInt":return i([l,a.toString()],a);case"Boolean":case"Number":case"String":return i([l,a.valueOf()],a)}if(e&&"toJSON"in a)return s(a.toJSON());const c=[],d=i([o,c],a);for(const f of PY(a))(t||!Md(_l(a[f])))&&c.push([s(f),s(a[f])]);return d}case a_:return i([o,a.toISOString()],a);case o_:{const{source:c,flags:d}=a;return i([o,{source:c,flags:d}],a)}case l_:{const c=[],d=i([o,c],a);for(const[f,h]of a)(t||!(Md(_l(f))||Md(_l(h))))&&c.push([s(f),s(h)]);return d}case u_:{const c=[],d=i([o,c],a);for(const f of a)(t||!Md(_l(f)))&&c.push(s(f));return d}}const{message:u}=a;return i([o,{name:l,message:u}],a)};return s},SC=(t,{json:e,lossy:n}={})=>{const r=[];return EY(!(e||n),!!e,new Map,r)(t),r},dp=typeof structuredClone=="function"?(t,e)=>e&&("json"in e||"lossy"in e)?kC(SC(t,e)):structuredClone(t):(t,e)=>kC(SC(t,e));function AY(t,e){const n=[{type:"text",value:""}];return e>1&&n.push({type:"element",tagName:"sup",properties:{},children:[{type:"text",value:String(e)}]}),n}function IY(t,e){return"Back to reference "+(t+1)+(e>1?"-"+e:"")}function OY(t){const e=typeof t.options.clobberPrefix=="string"?t.options.clobberPrefix:"user-content-",n=t.options.footnoteBackContent||AY,r=t.options.footnoteBackLabel||IY,i=t.options.footnoteLabel||"Footnotes",s=t.options.footnoteLabelTagName||"h2",a=t.options.footnoteLabelProperties||{className:["sr-only"]},o=[];let l=-1;for(;++l<t.footnoteOrder.length;){const u=t.footnoteById.get(t.footnoteOrder[l]);if(!u)continue;const c=t.all(u),d=String(u.identifier).toUpperCase(),f=nl(d.toLowerCase());let h=0;const p=[],y=t.footnoteCounts.get(d);for(;y!==void 0&&++h<=y;){p.length>0&&p.push({type:"text",value:" "});let g=typeof n=="string"?n:n(l,h);typeof g=="string"&&(g={type:"text",value:g}),p.push({type:"element",tagName:"a",properties:{href:"#"+e+"fnref-"+f+(h>1?"-"+h:""),dataFootnoteBackref:"",ariaLabel:typeof r=="string"?r:r(l,h),className:["data-footnote-backref"]},children:Array.isArray(g)?g:[g]})}const b=c[c.length-1];if(b&&b.type==="element"&&b.tagName==="p"){const g=b.children[b.children.length-1];g&&g.type==="text"?g.value+=" ":b.children.push({type:"text",value:" "}),b.children.push(...p)}else c.push(...p);const m={type:"element",tagName:"li",properties:{id:e+"fn-"+f},children:t.wrap(c,!0)};t.patch(u,m),o.push(m)}if(o.length!==0)return{type:"element",tagName:"section",properties:{dataFootnotes:!0,className:["footnotes"]},children:[{type:"element",tagName:s,properties:{...dp(a),id:"footnote-label"},children:[{type:"text",value:i}]},{type:"text",value:`
`},{type:"element",tagName:"ol",properties:{},children:t.wrap(o,!0)},{type:"text",value:`
`}]}}const bm=function(t){if(t==null)return jY;if(typeof t=="function")return wm(t);if(typeof t=="object")return Array.isArray(t)?RY(t):$Y(t);if(typeof t=="string")return NY(t);throw new Error("Expected function, string, or object as test")};function RY(t){const e=[];let n=-1;for(;++n<t.length;)e[n]=bm(t[n]);return wm(r);function r(...i){let s=-1;for(;++s<e.length;)if(e[s].apply(this,i))return!0;return!1}}function $Y(t){const e=t;return wm(n);function n(r){const i=r;let s;for(s in t)if(i[s]!==e[s])return!1;return!0}}function NY(t){return wm(e);function e(n){return n&&n.type===t}}function wm(t){return e;function e(n,r,i){return!!(MY(n)&&t.call(this,n,typeof r=="number"?r:void 0,i||void 0))}}function jY(){return!0}function MY(t){return t!==null&&typeof t=="object"&&"type"in t}const FR=[],LY=!0,g0=!1,zY="skip";function BR(t,e,n,r){let i;typeof e=="function"&&typeof n!="function"?(r=n,n=e):i=e;const s=bm(i),a=r?-1:1;o(t,void 0,[])();function o(l,u,c){const d=l&&typeof l=="object"?l:{};if(typeof d.type=="string"){const h=typeof d.tagName=="string"?d.tagName:typeof d.name=="string"?d.name:void 0;Object.defineProperty(f,"name",{value:"node ("+(l.type+(h?"<"+h+">":""))+")"})}return f;function f(){let h=FR,p,y,b;if((!e||s(l,u,c[c.length-1]||void 0))&&(h=DY(n(l,c)),h[0]===g0))return h;if("children"in l&&l.children){const m=l;if(m.children&&h[0]!==zY)for(y=(r?m.children.length:-1)+a,b=c.concat(m);y>-1&&y<m.children.length;){const g=m.children[y];if(p=o(g,y,b)(),p[0]===g0)return p;y=typeof p[1]=="number"?p[1]:y+a}}return h}}}function DY(t){return Array.isArray(t)?t:typeof t=="number"?[LY,t]:t==null?FR:[t]}function c_(t,e,n,r){let i,s,a;typeof e=="function"&&typeof n!="function"?(s=void 0,a=e,i=n):(s=e,a=n,i=r),BR(t,s,o,i);function o(l,u){const c=u[u.length-1],d=c?c.children.indexOf(l):void 0;return a(l,d,c)}}const y0={}.hasOwnProperty,FY={};function BY(t,e){const n=e||FY,r=new Map,i=new Map,s=new Map,a={...SY,...n.handlers},o={all:u,applyData:UY,definitionById:r,footnoteById:i,footnoteCounts:s,footnoteOrder:[],handlers:a,one:l,options:n,patch:VY,wrap:WY};return c_(t,function(c){if(c.type==="definition"||c.type==="footnoteDefinition"){const d=c.type==="definition"?r:i,f=String(c.identifier).toUpperCase();d.has(f)||d.set(f,c)}}),o;function l(c,d){const f=c.type,h=o.handlers[f];if(y0.call(o.handlers,f)&&h)return h(o,c,d);if(o.options.passThrough&&o.options.passThrough.includes(f)){if("children"in c){const{children:y,...b}=c,m=dp(b);return m.children=o.all(c),m}return dp(c)}return(o.options.unknownHandler||HY)(o,c,d)}function u(c){const d=[];if("children"in c){const f=c.children;let h=-1;for(;++h<f.length;){const p=o.one(f[h],c);if(p){if(h&&f[h-1].type==="break"&&(!Array.isArray(p)&&p.type==="text"&&(p.value=CC(p.value)),!Array.isArray(p)&&p.type==="element")){const y=p.children[0];y&&y.type==="text"&&(y.value=CC(y.value))}Array.isArray(p)?d.push(...p):d.push(p)}}}return d}}function VY(t,e){t.position&&(e.position=EK(t))}function UY(t,e){let n=e;if(t&&t.data){const r=t.data.hName,i=t.data.hChildren,s=t.data.hProperties;if(typeof r=="string")if(n.type==="element")n.tagName=r;else{const a="children"in n?n.children:[n];n={type:"element",tagName:r,properties:{},children:a}}n.type==="element"&&s&&Object.assign(n.properties,dp(s)),"children"in n&&n.children&&i!==null&&i!==void 0&&(n.children=i)}return n}function HY(t,e){const n=e.data||{},r="value"in e&&!(y0.call(n,"hProperties")||y0.call(n,"hChildren"))?{type:"text",value:e.value}:{type:"element",tagName:"div",properties:{},children:t.all(e)};return t.patch(e,r),t.applyData(e,r)}function WY(t,e){const n=[];let r=-1;for(e&&n.push({type:"text",value:`
`});++r<t.length;)r&&n.push({type:"text",value:`
`}),n.push(t[r]);return e&&t.length>0&&n.push({type:"text",value:`
`}),n}function CC(t){let e=0,n=t.charCodeAt(e);for(;n===9||n===32;)e++,n=t.charCodeAt(e);return t.slice(e)}function TC(t,e){const n=BY(t,e),r=n.one(t,void 0),i=OY(n),s=Array.isArray(r)?{type:"root",children:r}:r||{type:"root",children:[]};return i&&s.children.push({type:"text",value:`
`},i),s}function qY(t,e){return t&&"run"in t?async function(n,r){const i=TC(n,{file:r,...e});await t.run(i,r)}:function(n,r){return TC(n,{file:r,...e||t})}}function PC(t){if(t)throw t}var Af=Object.prototype.hasOwnProperty,VR=Object.prototype.toString,EC=Object.defineProperty,AC=Object.getOwnPropertyDescriptor,IC=function(e){return typeof Array.isArray=="function"?Array.isArray(e):VR.call(e)==="[object Array]"},OC=function(e){if(!e||VR.call(e)!=="[object Object]")return!1;var n=Af.call(e,"constructor"),r=e.constructor&&e.constructor.prototype&&Af.call(e.constructor.prototype,"isPrototypeOf");if(e.constructor&&!n&&!r)return!1;var i;for(i in e);return typeof i>"u"||Af.call(e,i)},RC=function(e,n){EC&&n.name==="__proto__"?EC(e,n.name,{enumerable:!0,configurable:!0,value:n.newValue,writable:!0}):e[n.name]=n.newValue},$C=function(e,n){if(n==="__proto__")if(Af.call(e,n)){if(AC)return AC(e,n).value}else return;return e[n]},ZY=function t(){var e,n,r,i,s,a,o=arguments[0],l=1,u=arguments.length,c=!1;for(typeof o=="boolean"&&(c=o,o=arguments[1]||{},l=2),(o==null||typeof o!="object"&&typeof o!="function")&&(o={});l<u;++l)if(e=arguments[l],e!=null)for(n in e)r=$C(o,n),i=$C(e,n),o!==i&&(c&&i&&(OC(i)||(s=IC(i)))?(s?(s=!1,a=r&&IC(r)?r:[]):a=r&&OC(r)?r:{},RC(o,{name:n,newValue:t(c,a,i)})):typeof i<"u"&&RC(o,{name:n,newValue:i}));return o};const iy=ba(ZY);function v0(t){if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)}function GY(){const t=[],e={run:n,use:r};return e;function n(...i){let s=-1;const a=i.pop();if(typeof a!="function")throw new TypeError("Expected function as last argument, not "+a);o(null,...i);function o(l,...u){const c=t[++s];let d=-1;if(l){a(l);return}for(;++d<i.length;)(u[d]===null||u[d]===void 0)&&(u[d]=i[d]);i=u,c?KY(c,o)(...u):a(null,...u)}}function r(i){if(typeof i!="function")throw new TypeError("Expected `middelware` to be a function, not "+i);return t.push(i),e}}function KY(t,e){let n;return r;function r(...a){const o=t.length>a.length;let l;o&&a.push(i);try{l=t.apply(this,a)}catch(u){const c=u;if(o&&n)throw c;return i(c)}o||(l&&l.then&&typeof l.then=="function"?l.then(s,i):l instanceof Error?i(l):s(l))}function i(a,...o){n||(n=!0,e(a,...o))}function s(a){i(null,a)}}const Fr={basename:JY,dirname:XY,extname:YY,join:QY,sep:"/"};function JY(t,e){if(e!==void 0&&typeof e!="string")throw new TypeError('"ext" argument must be a string');Fc(t);let n=0,r=-1,i=t.length,s;if(e===void 0||e.length===0||e.length>t.length){for(;i--;)if(t.codePointAt(i)===47){if(s){n=i+1;break}}else r<0&&(s=!0,r=i+1);return r<0?"":t.slice(n,r)}if(e===t)return"";let a=-1,o=e.length-1;for(;i--;)if(t.codePointAt(i)===47){if(s){n=i+1;break}}else a<0&&(s=!0,a=i+1),o>-1&&(t.codePointAt(i)===e.codePointAt(o--)?o<0&&(r=i):(o=-1,r=a));return n===r?r=a:r<0&&(r=t.length),t.slice(n,r)}function XY(t){if(Fc(t),t.length===0)return".";let e=-1,n=t.length,r;for(;--n;)if(t.codePointAt(n)===47){if(r){e=n;break}}else r||(r=!0);return e<0?t.codePointAt(0)===47?"/":".":e===1&&t.codePointAt(0)===47?"//":t.slice(0,e)}function YY(t){Fc(t);let e=t.length,n=-1,r=0,i=-1,s=0,a;for(;e--;){const o=t.codePointAt(e);if(o===47){if(a){r=e+1;break}continue}n<0&&(a=!0,n=e+1),o===46?i<0?i=e:s!==1&&(s=1):i>-1&&(s=-1)}return i<0||n<0||s===0||s===1&&i===n-1&&i===r+1?"":t.slice(i,n)}function QY(...t){let e=-1,n;for(;++e<t.length;)Fc(t[e]),t[e]&&(n=n===void 0?t[e]:n+"/"+t[e]);return n===void 0?".":eQ(n)}function eQ(t){Fc(t);const e=t.codePointAt(0)===47;let n=tQ(t,!e);return n.length===0&&!e&&(n="."),n.length>0&&t.codePointAt(t.length-1)===47&&(n+="/"),e?"/"+n:n}function tQ(t,e){let n="",r=0,i=-1,s=0,a=-1,o,l;for(;++a<=t.length;){if(a<t.length)o=t.codePointAt(a);else{if(o===47)break;o=47}if(o===47){if(!(i===a-1||s===1))if(i!==a-1&&s===2){if(n.length<2||r!==2||n.codePointAt(n.length-1)!==46||n.codePointAt(n.length-2)!==46){if(n.length>2){if(l=n.lastIndexOf("/"),l!==n.length-1){l<0?(n="",r=0):(n=n.slice(0,l),r=n.length-1-n.lastIndexOf("/")),i=a,s=0;continue}}else if(n.length>0){n="",r=0,i=a,s=0;continue}}e&&(n=n.length>0?n+"/..":"..",r=2)}else n.length>0?n+="/"+t.slice(i+1,a):n=t.slice(i+1,a),r=a-i-1;i=a,s=0}else o===46&&s>-1?s++:s=-1}return n}function Fc(t){if(typeof t!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(t))}const nQ={cwd:rQ};function rQ(){return"/"}function b0(t){return!!(t!==null&&typeof t=="object"&&"href"in t&&t.href&&"protocol"in t&&t.protocol&&t.auth===void 0)}function iQ(t){if(typeof t=="string")t=new URL(t);else if(!b0(t)){const e=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+t+"`");throw e.code="ERR_INVALID_ARG_TYPE",e}if(t.protocol!=="file:"){const e=new TypeError("The URL must be of scheme file");throw e.code="ERR_INVALID_URL_SCHEME",e}return sQ(t)}function sQ(t){if(t.hostname!==""){const r=new TypeError('File URL host must be "localhost" or empty on darwin');throw r.code="ERR_INVALID_FILE_URL_HOST",r}const e=t.pathname;let n=-1;for(;++n<e.length;)if(e.codePointAt(n)===37&&e.codePointAt(n+1)===50){const r=e.codePointAt(n+2);if(r===70||r===102){const i=new TypeError("File URL path must not include encoded / characters");throw i.code="ERR_INVALID_FILE_URL_PATH",i}}return decodeURIComponent(e)}const sy=["history","path","basename","stem","extname","dirname"];class UR{constructor(e){let n;e?b0(e)?n={path:e}:typeof e=="string"||aQ(e)?n={value:e}:n=e:n={},this.cwd=nQ.cwd(),this.data={},this.history=[],this.messages=[],this.value,this.map,this.result,this.stored;let r=-1;for(;++r<sy.length;){const s=sy[r];s in n&&n[s]!==void 0&&n[s]!==null&&(this[s]=s==="history"?[...n[s]]:n[s])}let i;for(i in n)sy.includes(i)||(this[i]=n[i])}get basename(){return typeof this.path=="string"?Fr.basename(this.path):void 0}set basename(e){oy(e,"basename"),ay(e,"basename"),this.path=Fr.join(this.dirname||"",e)}get dirname(){return typeof this.path=="string"?Fr.dirname(this.path):void 0}set dirname(e){NC(this.basename,"dirname"),this.path=Fr.join(e||"",this.basename)}get extname(){return typeof this.path=="string"?Fr.extname(this.path):void 0}set extname(e){if(ay(e,"extname"),NC(this.dirname,"extname"),e){if(e.codePointAt(0)!==46)throw new Error("`extname` must start with `.`");if(e.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=Fr.join(this.dirname,this.stem+(e||""))}get path(){return this.history[this.history.length-1]}set path(e){b0(e)&&(e=iQ(e)),oy(e,"path"),this.path!==e&&this.history.push(e)}get stem(){return typeof this.path=="string"?Fr.basename(this.path,this.extname):void 0}set stem(e){oy(e,"stem"),ay(e,"stem"),this.path=Fr.join(this.dirname||"",e+(this.extname||""))}fail(e,n,r){const i=this.message(e,n,r);throw i.fatal=!0,i}info(e,n,r){const i=this.message(e,n,r);return i.fatal=void 0,i}message(e,n,r){const i=new Zt(e,n,r);return this.path&&(i.name=this.path+":"+i.name,i.file=this.path),i.fatal=!1,this.messages.push(i),i}toString(e){return this.value===void 0?"":typeof this.value=="string"?this.value:new TextDecoder(e||void 0).decode(this.value)}}function ay(t,e){if(t&&t.includes(Fr.sep))throw new Error("`"+e+"` cannot be a path: did not expect `"+Fr.sep+"`")}function oy(t,e){if(!t)throw new Error("`"+e+"` cannot be empty")}function NC(t,e){if(!t)throw new Error("Setting `"+e+"` requires `path` to be set too")}function aQ(t){return!!(t&&typeof t=="object"&&"byteLength"in t&&"byteOffset"in t)}const oQ=function(t){const r=this.constructor.prototype,i=r[t],s=function(){return i.apply(s,arguments)};Object.setPrototypeOf(s,r);const a=Object.getOwnPropertyNames(i);for(const o of a){const l=Object.getOwnPropertyDescriptor(i,o);l&&Object.defineProperty(s,o,l)}return s},lQ={}.hasOwnProperty;class d_ extends oQ{constructor(){super("copy"),this.Compiler=void 0,this.Parser=void 0,this.attachers=[],this.compiler=void 0,this.freezeIndex=-1,this.frozen=void 0,this.namespace={},this.parser=void 0,this.transformers=GY()}copy(){const e=new d_;let n=-1;for(;++n<this.attachers.length;){const r=this.attachers[n];e.use(...r)}return e.data(iy(!0,{},this.namespace)),e}data(e,n){return typeof e=="string"?arguments.length===2?(cy("data",this.frozen),this.namespace[e]=n,this):lQ.call(this.namespace,e)&&this.namespace[e]||void 0:e?(cy("data",this.frozen),this.namespace=e,this):this.namespace}freeze(){if(this.frozen)return this;const e=this;for(;++this.freezeIndex<this.attachers.length;){const[n,...r]=this.attachers[this.freezeIndex];if(r[0]===!1)continue;r[0]===!0&&(r[0]=void 0);const i=n.call(e,...r);typeof i=="function"&&this.transformers.use(i)}return this.frozen=!0,this.freezeIndex=Number.POSITIVE_INFINITY,this}parse(e){this.freeze();const n=Ld(e),r=this.parser||this.Parser;return ly("parse",r),r(String(n),n)}process(e,n){const r=this;return this.freeze(),ly("process",this.parser||this.Parser),uy("process",this.compiler||this.Compiler),n?i(void 0,n):new Promise(i);function i(s,a){const o=Ld(e),l=r.parse(o);r.run(l,o,function(c,d,f){if(c||!d||!f)return u(c);const h=d,p=r.stringify(h,f);dQ(p)?f.value=p:f.result=p,u(c,f)});function u(c,d){c||!d?a(c):s?s(d):n(void 0,d)}}}processSync(e){let n=!1,r;return this.freeze(),ly("processSync",this.parser||this.Parser),uy("processSync",this.compiler||this.Compiler),this.process(e,i),MC("processSync","process",n),r;function i(s,a){n=!0,PC(s),r=a}}run(e,n,r){jC(e),this.freeze();const i=this.transformers;return!r&&typeof n=="function"&&(r=n,n=void 0),r?s(void 0,r):new Promise(s);function s(a,o){const l=Ld(n);i.run(e,l,u);function u(c,d,f){const h=d||e;c?o(c):a?a(h):r(void 0,h,f)}}}runSync(e,n){let r=!1,i;return this.run(e,n,s),MC("runSync","run",r),i;function s(a,o){PC(a),i=o,r=!0}}stringify(e,n){this.freeze();const r=Ld(n),i=this.compiler||this.Compiler;return uy("stringify",i),jC(e),i(e,r)}use(e,...n){const r=this.attachers,i=this.namespace;if(cy("use",this.frozen),e!=null)if(typeof e=="function")l(e,n);else if(typeof e=="object")Array.isArray(e)?o(e):a(e);else throw new TypeError("Expected usable value, not `"+e+"`");return this;function s(u){if(typeof u=="function")l(u,[]);else if(typeof u=="object")if(Array.isArray(u)){const[c,...d]=u;l(c,d)}else a(u);else throw new TypeError("Expected usable value, not `"+u+"`")}function a(u){if(!("plugins"in u)&&!("settings"in u))throw new Error("Expected usable value but received an empty preset, which is probably a mistake: presets typically come with `plugins` and sometimes with `settings`, but this has neither");o(u.plugins),u.settings&&(i.settings=iy(!0,i.settings,u.settings))}function o(u){let c=-1;if(u!=null)if(Array.isArray(u))for(;++c<u.length;){const d=u[c];s(d)}else throw new TypeError("Expected a list of plugins, not `"+u+"`")}function l(u,c){let d=-1,f=-1;for(;++d<r.length;)if(r[d][0]===u){f=d;break}if(f===-1)r.push([u,...c]);else if(c.length>0){let[h,...p]=c;const y=r[f][1];v0(y)&&v0(h)&&(h=iy(!0,y,h)),r[f]=[u,h,...p]}}}}const uQ=new d_().freeze();function ly(t,e){if(typeof e!="function")throw new TypeError("Cannot `"+t+"` without `parser`")}function uy(t,e){if(typeof e!="function")throw new TypeError("Cannot `"+t+"` without `compiler`")}function cy(t,e){if(e)throw new Error("Cannot call `"+t+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function jC(t){if(!v0(t)||typeof t.type!="string")throw new TypeError("Expected node, got `"+t+"`")}function MC(t,e,n){if(!n)throw new Error("`"+t+"` finished async. Use `"+e+"` instead")}function Ld(t){return cQ(t)?t:new UR(t)}function cQ(t){return!!(t&&typeof t=="object"&&"message"in t&&"messages"in t)}function dQ(t){return typeof t=="string"||fQ(t)}function fQ(t){return!!(t&&typeof t=="object"&&"byteLength"in t&&"byteOffset"in t)}const hQ="https://github.com/remarkjs/react-markdown/blob/main/changelog.md",LC=[],zC={allowDangerousHtml:!0},pQ=/^(https?|ircs?|mailto|xmpp)$/i,mQ=[{from:"astPlugins",id:"remove-buggy-html-in-markdown-parser"},{from:"allowDangerousHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"allowNode",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowElement"},{from:"allowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowedElements"},{from:"disallowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"disallowedElements"},{from:"escapeHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"includeElementIndex",id:"#remove-includeelementindex"},{from:"includeNodeIndex",id:"change-includenodeindex-to-includeelementindex"},{from:"linkTarget",id:"remove-linktarget"},{from:"plugins",id:"change-plugins-to-remarkplugins",to:"remarkPlugins"},{from:"rawSourcePos",id:"#remove-rawsourcepos"},{from:"renderers",id:"change-renderers-to-components",to:"components"},{from:"source",id:"change-source-to-children",to:"children"},{from:"sourcePos",id:"#remove-sourcepos"},{from:"transformImageUri",id:"#add-urltransform",to:"urlTransform"},{from:"transformLinkUri",id:"#add-urltransform",to:"urlTransform"}];function gQ(t){const e=t.allowedElements,n=t.allowElement,r=t.children||"",i=t.className,s=t.components,a=t.disallowedElements,o=t.rehypePlugins||LC,l=t.remarkPlugins||LC,u=t.remarkRehypeOptions?{...t.remarkRehypeOptions,...zC}:zC,c=t.skipHtml,d=t.unwrapDisallowed,f=t.urlTransform||yQ,h=uQ().use(YX).use(l).use(qY,u).use(o),p=new UR;typeof r=="string"&&(p.value=r);for(const g of mQ)Object.hasOwn(t,g.from)&&(""+g.from+(g.to?"use `"+g.to+"` instead":"remove it")+hQ+g.id,void 0);const y=h.parse(p);let b=h.runSync(y,p);return i&&(b={type:"element",tagName:"div",properties:{className:i},children:b.type==="root"?b.children:[b]}),c_(b,m),NK(b,{Fragment:O.Fragment,components:s,ignoreInvalidStyle:!0,jsx:O.jsx,jsxs:O.jsxs,passKeys:!0,passNode:!0});function m(g,v,x){if(g.type==="raw"&&x&&typeof v=="number")return c?x.children.splice(v,1):x.children[v]={type:"text",value:g.value},v;if(g.type==="element"){let C;for(C in ty)if(Object.hasOwn(ty,C)&&Object.hasOwn(g.properties,C)){const k=g.properties[C],I=ty[C];(I===null||I.includes(g.tagName))&&(g.properties[C]=f(String(k||""),C,g))}}if(g.type==="element"){let C=e?!e.includes(g.tagName):a?a.includes(g.tagName):!1;if(!C&&n&&typeof v=="number"&&(C=!n(g,v,x)),C&&x&&typeof v=="number")return d&&g.children?x.children.splice(v,1,...g.children):x.children.splice(v,1),v}}}function yQ(t){const e=t.indexOf(":"),n=t.indexOf("?"),r=t.indexOf("#"),i=t.indexOf("/");return e<0||i>-1&&e>i||n>-1&&e>n||r>-1&&e>r||pQ.test(t.slice(0,e))?t:""}function DC(t,e){const n=String(t);if(typeof e!="string")throw new TypeError("Expected character");let r=0,i=n.indexOf(e);for(;i!==-1;)r++,i=n.indexOf(e,i+e.length);return r}function vQ(t){if(typeof t!="string")throw new TypeError("Expected a string");return t.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d")}function bQ(t,e,n){const i=bm((n||{}).ignore||[]),s=wQ(e);let a=-1;for(;++a<s.length;)BR(t,"text",o);function o(u,c){let d=-1,f;for(;++d<c.length;){const h=c[d],p=f?f.children:void 0;if(i(h,p?p.indexOf(h):void 0,f))return;f=h}if(f)return l(u,c)}function l(u,c){const d=c[c.length-1],f=s[a][0],h=s[a][1];let p=0;const b=d.children.indexOf(u);let m=!1,g=[];f.lastIndex=0;let v=f.exec(u.value);for(;v;){const x=v.index,C={index:v.index,input:v.input,stack:[...c,u]};let k=h(...v,C);if(typeof k=="string"&&(k=k.length>0?{type:"text",value:k}:void 0),k===!1?f.lastIndex=x+1:(p!==x&&g.push({type:"text",value:u.value.slice(p,x)}),Array.isArray(k)?g.push(...k):k&&g.push(k),p=x+v[0].length,m=!0),!f.global)break;v=f.exec(u.value)}return m?(p<u.value.length&&g.push({type:"text",value:u.value.slice(p)}),d.children.splice(b,1,...g)):g=[u],b+g.length}}function wQ(t){const e=[];if(!Array.isArray(t))throw new TypeError("Expected find and replace tuple or list of tuples");const n=!t[0]||Array.isArray(t[0])?t:[t];let r=-1;for(;++r<n.length;){const i=n[r];e.push([_Q(i[0]),xQ(i[1])])}return e}function _Q(t){return typeof t=="string"?new RegExp(vQ(t),"g"):t}function xQ(t){return typeof t=="function"?t:function(){return t}}const dy="phrasing",fy=["autolink","link","image","label"];function kQ(){return{transforms:[IQ],enter:{literalAutolink:CQ,literalAutolinkEmail:hy,literalAutolinkHttp:hy,literalAutolinkWww:hy},exit:{literalAutolink:AQ,literalAutolinkEmail:EQ,literalAutolinkHttp:TQ,literalAutolinkWww:PQ}}}function SQ(){return{unsafe:[{character:"@",before:"[+\\-.\\w]",after:"[\\-.\\w]",inConstruct:dy,notInConstruct:fy},{character:".",before:"[Ww]",after:"[\\-.\\w]",inConstruct:dy,notInConstruct:fy},{character:":",before:"[ps]",after:"\\/",inConstruct:dy,notInConstruct:fy}]}}function CQ(t){this.enter({type:"link",title:null,url:"",children:[]},t)}function hy(t){this.config.enter.autolinkProtocol.call(this,t)}function TQ(t){this.config.exit.autolinkProtocol.call(this,t)}function PQ(t){this.config.exit.data.call(this,t);const e=this.stack[this.stack.length-1];e.type,e.url="http://"+this.sliceSerialize(t)}function EQ(t){this.config.exit.autolinkEmail.call(this,t)}function AQ(t){this.exit(t)}function IQ(t){bQ(t,[[/(https?:\/\/|www(?=\.))([-.\w]+)([^ \t\r\n]*)/gi,OQ],[/([-.\w+]+)@([-\w]+(?:\.[-\w]+)+)/g,RQ]],{ignore:["link","linkReference"]})}function OQ(t,e,n,r,i){let s="";if(!HR(i)||(/^w/i.test(e)&&(n=e+n,e="",s="http://"),!$Q(n)))return!1;const a=NQ(n+r);if(!a[0])return!1;const o={type:"link",title:null,url:s+e+a[0],children:[{type:"text",value:e+a[0]}]};return a[1]?[o,{type:"text",value:a[1]}]:o}function RQ(t,e,n,r){return!HR(r,!0)||/[-\d_]$/.test(n)?!1:{type:"link",title:null,url:"mailto:"+e+"@"+n,children:[{type:"text",value:e+"@"+n}]}}function $Q(t){const e=t.split(".");return!(e.length<2||e[e.length-1]&&(/_/.test(e[e.length-1])||!/[a-zA-Z\d]/.test(e[e.length-1]))||e[e.length-2]&&(/_/.test(e[e.length-2])||!/[a-zA-Z\d]/.test(e[e.length-2])))}function NQ(t){const e=/[!"&'),.:;<>?\]}]+$/.exec(t);if(!e)return[t,void 0];t=t.slice(0,e.index);let n=e[0],r=n.indexOf(")");const i=DC(t,"(");let s=DC(t,")");for(;r!==-1&&i>s;)t+=n.slice(0,r+1),n=n.slice(r+1),r=n.indexOf(")"),s++;return[t,n]}function HR(t,e){const n=t.input.charCodeAt(t.index-1);return(t.index===0||va(n)||gm(n))&&(!e||n!==47)}WR.peek=WQ;function jQ(){return{enter:{gfmFootnoteDefinition:LQ,gfmFootnoteDefinitionLabelString:zQ,gfmFootnoteCall:BQ,gfmFootnoteCallString:VQ},exit:{gfmFootnoteDefinition:FQ,gfmFootnoteDefinitionLabelString:DQ,gfmFootnoteCall:HQ,gfmFootnoteCallString:UQ}}}function MQ(){return{unsafe:[{character:"[",inConstruct:["phrasing","label","reference"]}],handlers:{footnoteDefinition:qQ,footnoteReference:WR}}}function LQ(t){this.enter({type:"footnoteDefinition",identifier:"",label:"",children:[]},t)}function zQ(){this.buffer()}function DQ(t){const e=this.resume(),n=this.stack[this.stack.length-1];n.type,n.label=e,n.identifier=Er(this.sliceSerialize(t)).toLowerCase()}function FQ(t){this.exit(t)}function BQ(t){this.enter({type:"footnoteReference",identifier:"",label:""},t)}function VQ(){this.buffer()}function UQ(t){const e=this.resume(),n=this.stack[this.stack.length-1];n.type,n.label=e,n.identifier=Er(this.sliceSerialize(t)).toLowerCase()}function HQ(t){this.exit(t)}function WR(t,e,n,r){const i=n.createTracker(r);let s=i.move("[^");const a=n.enter("footnoteReference"),o=n.enter("reference");return s+=i.move(n.safe(n.associationId(t),{...i.current(),before:s,after:"]"})),o(),a(),s+=i.move("]"),s}function WQ(){return"["}function qQ(t,e,n,r){const i=n.createTracker(r);let s=i.move("[^");const a=n.enter("footnoteDefinition"),o=n.enter("label");return s+=i.move(n.safe(n.associationId(t),{...i.current(),before:s,after:"]"})),o(),s+=i.move("]:"+(t.children&&t.children.length>0?" ":"")),i.shift(4),s+=i.move(n.indentLines(n.containerFlow(t,i.current()),ZQ)),a(),s}function ZQ(t,e,n){return e===0?t:(n?"":"    ")+t}const GQ=["autolink","destinationLiteral","destinationRaw","reference","titleQuote","titleApostrophe"];qR.peek=QQ;function KQ(){return{canContainEols:["delete"],enter:{strikethrough:XQ},exit:{strikethrough:YQ}}}function JQ(){return{unsafe:[{character:"~",inConstruct:"phrasing",notInConstruct:GQ}],handlers:{delete:qR}}}function XQ(t){this.enter({type:"delete",children:[]},t)}function YQ(t){this.exit(t)}function qR(t,e,n,r){const i=n.createTracker(r),s=n.enter("strikethrough");let a=i.move("~~");return a+=n.containerPhrasing(t,{...i.current(),before:a,after:"~"}),a+=i.move("~~"),s(),a}function QQ(){return"~"}function eee(t,e={}){const n=(e.align||[]).concat(),r=e.stringLength||nee,i=[],s=[],a=[],o=[];let l=0,u=-1;for(;++u<t.length;){const p=[],y=[];let b=-1;for(t[u].length>l&&(l=t[u].length);++b<t[u].length;){const m=tee(t[u][b]);if(e.alignDelimiters!==!1){const g=r(m);y[b]=g,(o[b]===void 0||g>o[b])&&(o[b]=g)}p.push(m)}s[u]=p,a[u]=y}let c=-1;if(typeof n=="object"&&"length"in n)for(;++c<l;)i[c]=FC(n[c]);else{const p=FC(n);for(;++c<l;)i[c]=p}c=-1;const d=[],f=[];for(;++c<l;){const p=i[c];let y="",b="";p===99?(y=":",b=":"):p===108?y=":":p===114&&(b=":");let m=e.alignDelimiters===!1?1:Math.max(1,o[c]-y.length-b.length);const g=y+"-".repeat(m)+b;e.alignDelimiters!==!1&&(m=y.length+m+b.length,m>o[c]&&(o[c]=m),f[c]=m),d[c]=g}s.splice(1,0,d),a.splice(1,0,f),u=-1;const h=[];for(;++u<s.length;){const p=s[u],y=a[u];c=-1;const b=[];for(;++c<l;){const m=p[c]||"";let g="",v="";if(e.alignDelimiters!==!1){const x=o[c]-(y[c]||0),C=i[c];C===114?g=" ".repeat(x):C===99?x%2?(g=" ".repeat(x/2+.5),v=" ".repeat(x/2-.5)):(g=" ".repeat(x/2),v=g):v=" ".repeat(x)}e.delimiterStart!==!1&&!c&&b.push("|"),e.padding!==!1&&!(e.alignDelimiters===!1&&m==="")&&(e.delimiterStart!==!1||c)&&b.push(" "),e.alignDelimiters!==!1&&b.push(g),b.push(m),e.alignDelimiters!==!1&&b.push(v),e.padding!==!1&&b.push(" "),(e.delimiterEnd!==!1||c!==l-1)&&b.push("|")}h.push(e.delimiterEnd===!1?b.join("").replace(/ +$/,""):b.join(""))}return h.join(`
`)}function tee(t){return t==null?"":String(t)}function nee(t){return t.length}function FC(t){const e=typeof t=="string"?t.codePointAt(0):0;return e===67||e===99?99:e===76||e===108?108:e===82||e===114?114:0}function ree(t,e,n,r){const i=n.enter("blockquote"),s=n.createTracker(r);s.move("> "),s.shift(2);const a=n.indentLines(n.containerFlow(t,s.current()),iee);return i(),a}function iee(t,e,n){return">"+(n?"":" ")+t}function see(t,e){return BC(t,e.inConstruct,!0)&&!BC(t,e.notInConstruct,!1)}function BC(t,e,n){if(typeof e=="string"&&(e=[e]),!e||e.length===0)return n;let r=-1;for(;++r<e.length;)if(t.includes(e[r]))return!0;return!1}function VC(t,e,n,r){let i=-1;for(;++i<n.unsafe.length;)if(n.unsafe[i].character===`
`&&see(n.stack,n.unsafe[i]))return/[ \t]/.test(r.before)?"":" ";return`\\
`}function aee(t,e){const n=String(t);let r=n.indexOf(e),i=r,s=0,a=0;if(typeof e!="string")throw new TypeError("Expected substring");for(;r!==-1;)r===i?++s>a&&(a=s):s=1,i=r+e.length,r=n.indexOf(e,i);return a}function oee(t,e){return!!(e.options.fences===!1&&t.value&&!t.lang&&/[^ \r\n]/.test(t.value)&&!/^[\t ]*(?:[\r\n]|$)|(?:^|[\r\n])[\t ]*$/.test(t.value))}function lee(t){const e=t.options.fence||"`";if(e!=="`"&&e!=="~")throw new Error("Cannot serialize code with `"+e+"` for `options.fence`, expected `` ` `` or `~`");return e}function uee(t,e,n,r){const i=lee(n),s=t.value||"",a=i==="`"?"GraveAccent":"Tilde";if(oee(t,n)){const d=n.enter("codeIndented"),f=n.indentLines(s,cee);return d(),f}const o=n.createTracker(r),l=i.repeat(Math.max(aee(s,i)+1,3)),u=n.enter("codeFenced");let c=o.move(l);if(t.lang){const d=n.enter(`codeFencedLang${a}`);c+=o.move(n.safe(t.lang,{before:c,after:" ",encode:["`"],...o.current()})),d()}if(t.lang&&t.meta){const d=n.enter(`codeFencedMeta${a}`);c+=o.move(" "),c+=o.move(n.safe(t.meta,{before:c,after:`
`,encode:["`"],...o.current()})),d()}return c+=o.move(`
`),s&&(c+=o.move(s+`
`)),c+=o.move(l),u(),c}function cee(t,e,n){return(n?"":"    ")+t}function f_(t){const e=t.options.quote||'"';if(e!=='"'&&e!=="'")throw new Error("Cannot serialize title with `"+e+"` for `options.quote`, expected `\"`, or `'`");return e}function dee(t,e,n,r){const i=f_(n),s=i==='"'?"Quote":"Apostrophe",a=n.enter("definition");let o=n.enter("label");const l=n.createTracker(r);let u=l.move("[");return u+=l.move(n.safe(n.associationId(t),{before:u,after:"]",...l.current()})),u+=l.move("]: "),o(),!t.url||/[\0- \u007F]/.test(t.url)?(o=n.enter("destinationLiteral"),u+=l.move("<"),u+=l.move(n.safe(t.url,{before:u,after:">",...l.current()})),u+=l.move(">")):(o=n.enter("destinationRaw"),u+=l.move(n.safe(t.url,{before:u,after:t.title?" ":`
`,...l.current()}))),o(),t.title&&(o=n.enter(`title${s}`),u+=l.move(" "+i),u+=l.move(n.safe(t.title,{before:u,after:i,...l.current()})),u+=l.move(i),o()),a(),u}function fee(t){const e=t.options.emphasis||"*";if(e!=="*"&&e!=="_")throw new Error("Cannot serialize emphasis with `"+e+"` for `options.emphasis`, expected `*`, or `_`");return e}ZR.peek=hee;function ZR(t,e,n,r){const i=fee(n),s=n.enter("emphasis"),a=n.createTracker(r);let o=a.move(i);return o+=a.move(n.containerPhrasing(t,{before:o,after:i,...a.current()})),o+=a.move(i),s(),o}function hee(t,e,n){return n.options.emphasis||"*"}function pee(t,e){let n=!1;return c_(t,function(r){if("value"in r&&/\r?\n|\r/.test(r.value)||r.type==="break")return n=!0,g0}),!!((!t.depth||t.depth<3)&&r_(t)&&(e.options.setext||n))}function mee(t,e,n,r){const i=Math.max(Math.min(6,t.depth||1),1),s=n.createTracker(r);if(pee(t,n)){const c=n.enter("headingSetext"),d=n.enter("phrasing"),f=n.containerPhrasing(t,{...s.current(),before:`
`,after:`
`});return d(),c(),f+`
`+(i===1?"=":"-").repeat(f.length-(Math.max(f.lastIndexOf("\r"),f.lastIndexOf(`
`))+1))}const a="#".repeat(i),o=n.enter("headingAtx"),l=n.enter("phrasing");s.move(a+" ");let u=n.containerPhrasing(t,{before:"# ",after:`
`,...s.current()});return/^[\t ]/.test(u)&&(u="&#x"+u.charCodeAt(0).toString(16).toUpperCase()+";"+u.slice(1)),u=u?a+" "+u:a,n.options.closeAtx&&(u+=" "+a),l(),o(),u}GR.peek=gee;function GR(t){return t.value||""}function gee(){return"<"}KR.peek=yee;function KR(t,e,n,r){const i=f_(n),s=i==='"'?"Quote":"Apostrophe",a=n.enter("image");let o=n.enter("label");const l=n.createTracker(r);let u=l.move("![");return u+=l.move(n.safe(t.alt,{before:u,after:"]",...l.current()})),u+=l.move("]("),o(),!t.url&&t.title||/[\0- \u007F]/.test(t.url)?(o=n.enter("destinationLiteral"),u+=l.move("<"),u+=l.move(n.safe(t.url,{before:u,after:">",...l.current()})),u+=l.move(">")):(o=n.enter("destinationRaw"),u+=l.move(n.safe(t.url,{before:u,after:t.title?" ":")",...l.current()}))),o(),t.title&&(o=n.enter(`title${s}`),u+=l.move(" "+i),u+=l.move(n.safe(t.title,{before:u,after:i,...l.current()})),u+=l.move(i),o()),u+=l.move(")"),a(),u}function yee(){return"!"}JR.peek=vee;function JR(t,e,n,r){const i=t.referenceType,s=n.enter("imageReference");let a=n.enter("label");const o=n.createTracker(r);let l=o.move("![");const u=n.safe(t.alt,{before:l,after:"]",...o.current()});l+=o.move(u+"]["),a();const c=n.stack;n.stack=[],a=n.enter("reference");const d=n.safe(n.associationId(t),{before:l,after:"]",...o.current()});return a(),n.stack=c,s(),i==="full"||!u||u!==d?l+=o.move(d+"]"):i==="shortcut"?l=l.slice(0,-1):l+=o.move("]"),l}function vee(){return"!"}XR.peek=bee;function XR(t,e,n){let r=t.value||"",i="`",s=-1;for(;new RegExp("(^|[^`])"+i+"([^`]|$)").test(r);)i+="`";for(/[^ \r\n]/.test(r)&&(/^[ \r\n]/.test(r)&&/[ \r\n]$/.test(r)||/^`|`$/.test(r))&&(r=" "+r+" ");++s<n.unsafe.length;){const a=n.unsafe[s],o=n.compilePattern(a);let l;if(a.atBreak)for(;l=o.exec(r);){let u=l.index;r.charCodeAt(u)===10&&r.charCodeAt(u-1)===13&&u--,r=r.slice(0,u)+" "+r.slice(l.index+1)}}return i+r+i}function bee(){return"`"}function YR(t,e){const n=r_(t);return!!(!e.options.resourceLink&&t.url&&!t.title&&t.children&&t.children.length===1&&t.children[0].type==="text"&&(n===t.url||"mailto:"+n===t.url)&&/^[a-z][a-z+.-]+:/i.test(t.url)&&!/[\0- <>\u007F]/.test(t.url))}QR.peek=wee;function QR(t,e,n,r){const i=f_(n),s=i==='"'?"Quote":"Apostrophe",a=n.createTracker(r);let o,l;if(YR(t,n)){const c=n.stack;n.stack=[],o=n.enter("autolink");let d=a.move("<");return d+=a.move(n.containerPhrasing(t,{before:d,after:">",...a.current()})),d+=a.move(">"),o(),n.stack=c,d}o=n.enter("link"),l=n.enter("label");let u=a.move("[");return u+=a.move(n.containerPhrasing(t,{before:u,after:"](",...a.current()})),u+=a.move("]("),l(),!t.url&&t.title||/[\0- \u007F]/.test(t.url)?(l=n.enter("destinationLiteral"),u+=a.move("<"),u+=a.move(n.safe(t.url,{before:u,after:">",...a.current()})),u+=a.move(">")):(l=n.enter("destinationRaw"),u+=a.move(n.safe(t.url,{before:u,after:t.title?" ":")",...a.current()}))),l(),t.title&&(l=n.enter(`title${s}`),u+=a.move(" "+i),u+=a.move(n.safe(t.title,{before:u,after:i,...a.current()})),u+=a.move(i),l()),u+=a.move(")"),o(),u}function wee(t,e,n){return YR(t,n)?"<":"["}e2.peek=_ee;function e2(t,e,n,r){const i=t.referenceType,s=n.enter("linkReference");let a=n.enter("label");const o=n.createTracker(r);let l=o.move("[");const u=n.containerPhrasing(t,{before:l,after:"]",...o.current()});l+=o.move(u+"]["),a();const c=n.stack;n.stack=[],a=n.enter("reference");const d=n.safe(n.associationId(t),{before:l,after:"]",...o.current()});return a(),n.stack=c,s(),i==="full"||!u||u!==d?l+=o.move(d+"]"):i==="shortcut"?l=l.slice(0,-1):l+=o.move("]"),l}function _ee(){return"["}function h_(t){const e=t.options.bullet||"*";if(e!=="*"&&e!=="+"&&e!=="-")throw new Error("Cannot serialize items with `"+e+"` for `options.bullet`, expected `*`, `+`, or `-`");return e}function xee(t){const e=h_(t),n=t.options.bulletOther;if(!n)return e==="*"?"-":"*";if(n!=="*"&&n!=="+"&&n!=="-")throw new Error("Cannot serialize items with `"+n+"` for `options.bulletOther`, expected `*`, `+`, or `-`");if(n===e)throw new Error("Expected `bullet` (`"+e+"`) and `bulletOther` (`"+n+"`) to be different");return n}function kee(t){const e=t.options.bulletOrdered||".";if(e!=="."&&e!==")")throw new Error("Cannot serialize items with `"+e+"` for `options.bulletOrdered`, expected `.` or `)`");return e}function t2(t){const e=t.options.rule||"*";if(e!=="*"&&e!=="-"&&e!=="_")throw new Error("Cannot serialize rules with `"+e+"` for `options.rule`, expected `*`, `-`, or `_`");return e}function See(t,e,n,r){const i=n.enter("list"),s=n.bulletCurrent;let a=t.ordered?kee(n):h_(n);const o=t.ordered?a==="."?")":".":xee(n);let l=e&&n.bulletLastUsed?a===n.bulletLastUsed:!1;if(!t.ordered){const c=t.children?t.children[0]:void 0;if((a==="*"||a==="-")&&c&&(!c.children||!c.children[0])&&n.stack[n.stack.length-1]==="list"&&n.stack[n.stack.length-2]==="listItem"&&n.stack[n.stack.length-3]==="list"&&n.stack[n.stack.length-4]==="listItem"&&n.indexStack[n.indexStack.length-1]===0&&n.indexStack[n.indexStack.length-2]===0&&n.indexStack[n.indexStack.length-3]===0&&(l=!0),t2(n)===a&&c){let d=-1;for(;++d<t.children.length;){const f=t.children[d];if(f&&f.type==="listItem"&&f.children&&f.children[0]&&f.children[0].type==="thematicBreak"){l=!0;break}}}}l&&(a=o),n.bulletCurrent=a;const u=n.containerFlow(t,r);return n.bulletLastUsed=a,n.bulletCurrent=s,i(),u}function Cee(t){const e=t.options.listItemIndent||"one";if(e!=="tab"&&e!=="one"&&e!=="mixed")throw new Error("Cannot serialize items with `"+e+"` for `options.listItemIndent`, expected `tab`, `one`, or `mixed`");return e}function Tee(t,e,n,r){const i=Cee(n);let s=n.bulletCurrent||h_(n);e&&e.type==="list"&&e.ordered&&(s=(typeof e.start=="number"&&e.start>-1?e.start:1)+(n.options.incrementListMarker===!1?0:e.children.indexOf(t))+s);let a=s.length+1;(i==="tab"||i==="mixed"&&(e&&e.type==="list"&&e.spread||t.spread))&&(a=Math.ceil(a/4)*4);const o=n.createTracker(r);o.move(s+" ".repeat(a-s.length)),o.shift(a);const l=n.enter("listItem"),u=n.indentLines(n.containerFlow(t,o.current()),c);return l(),u;function c(d,f,h){return f?(h?"":" ".repeat(a))+d:(h?s:s+" ".repeat(a-s.length))+d}}function Pee(t,e,n,r){const i=n.enter("paragraph"),s=n.enter("phrasing"),a=n.containerPhrasing(t,r);return s(),i(),a}const Eee=bm(["break","delete","emphasis","footnote","footnoteReference","image","imageReference","inlineCode","inlineMath","link","linkReference","mdxJsxTextElement","mdxTextExpression","strong","text","textDirective"]);function Aee(t,e,n,r){return(t.children.some(function(a){return Eee(a)})?n.containerPhrasing:n.containerFlow).call(n,t,r)}function Iee(t){const e=t.options.strong||"*";if(e!=="*"&&e!=="_")throw new Error("Cannot serialize strong with `"+e+"` for `options.strong`, expected `*`, or `_`");return e}n2.peek=Oee;function n2(t,e,n,r){const i=Iee(n),s=n.enter("strong"),a=n.createTracker(r);let o=a.move(i+i);return o+=a.move(n.containerPhrasing(t,{before:o,after:i,...a.current()})),o+=a.move(i+i),s(),o}function Oee(t,e,n){return n.options.strong||"*"}function Ree(t,e,n,r){return n.safe(t.value,r)}function $ee(t){const e=t.options.ruleRepetition||3;if(e<3)throw new Error("Cannot serialize rules with repetition `"+e+"` for `options.ruleRepetition`, expected `3` or more");return e}function Nee(t,e,n){const r=(t2(n)+(n.options.ruleSpaces?" ":"")).repeat($ee(n));return n.options.ruleSpaces?r.slice(0,-1):r}const r2={blockquote:ree,break:VC,code:uee,definition:dee,emphasis:ZR,hardBreak:VC,heading:mee,html:GR,image:KR,imageReference:JR,inlineCode:XR,link:QR,linkReference:e2,list:See,listItem:Tee,paragraph:Pee,root:Aee,strong:n2,text:Ree,thematicBreak:Nee};function jee(){return{enter:{table:Mee,tableData:UC,tableHeader:UC,tableRow:zee},exit:{codeText:Dee,table:Lee,tableData:py,tableHeader:py,tableRow:py}}}function Mee(t){const e=t._align;this.enter({type:"table",align:e.map(function(n){return n==="none"?null:n}),children:[]},t),this.data.inTable=!0}function Lee(t){this.exit(t),this.data.inTable=void 0}function zee(t){this.enter({type:"tableRow",children:[]},t)}function py(t){this.exit(t)}function UC(t){this.enter({type:"tableCell",children:[]},t)}function Dee(t){let e=this.resume();this.data.inTable&&(e=e.replace(/\\([\\|])/g,Fee));const n=this.stack[this.stack.length-1];n.type,n.value=e,this.exit(t)}function Fee(t,e){return e==="|"?e:t}function Bee(t){const e=t||{},n=e.tableCellPadding,r=e.tablePipeAlign,i=e.stringLength,s=n?" ":"|";return{unsafe:[{character:"\r",inConstruct:"tableCell"},{character:`
`,inConstruct:"tableCell"},{atBreak:!0,character:"|",after:"[	 :-]"},{character:"|",inConstruct:"tableCell"},{atBreak:!0,character:":",after:"-"},{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{inlineCode:f,table:a,tableCell:l,tableRow:o}};function a(h,p,y,b){return u(c(h,y,b),h.align)}function o(h,p,y,b){const m=d(h,y,b),g=u([m]);return g.slice(0,g.indexOf(`
`))}function l(h,p,y,b){const m=y.enter("tableCell"),g=y.enter("phrasing"),v=y.containerPhrasing(h,{...b,before:s,after:s});return g(),m(),v}function u(h,p){return eee(h,{align:p,alignDelimiters:r,padding:n,stringLength:i})}function c(h,p,y){const b=h.children;let m=-1;const g=[],v=p.enter("table");for(;++m<b.length;)g[m]=d(b[m],p,y);return v(),g}function d(h,p,y){const b=h.children;let m=-1;const g=[],v=p.enter("tableRow");for(;++m<b.length;)g[m]=l(b[m],h,p,y);return v(),g}function f(h,p,y){let b=r2.inlineCode(h,p,y);return y.stack.includes("tableCell")&&(b=b.replace(/\|/g,"\\$&")),b}}function Vee(){return{exit:{taskListCheckValueChecked:HC,taskListCheckValueUnchecked:HC,paragraph:Hee}}}function Uee(){return{unsafe:[{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{listItem:Wee}}}function HC(t){const e=this.stack[this.stack.length-2];e.type,e.checked=t.type==="taskListCheckValueChecked"}function Hee(t){const e=this.stack[this.stack.length-2];if(e&&e.type==="listItem"&&typeof e.checked=="boolean"){const n=this.stack[this.stack.length-1];n.type;const r=n.children[0];if(r&&r.type==="text"){const i=e.children;let s=-1,a;for(;++s<i.length;){const o=i[s];if(o.type==="paragraph"){a=o;break}}a===n&&(r.value=r.value.slice(1),r.value.length===0?n.children.shift():n.position&&r.position&&typeof r.position.start.offset=="number"&&(r.position.start.column++,r.position.start.offset++,n.position.start=Object.assign({},r.position.start)))}}this.exit(t)}function Wee(t,e,n,r){const i=t.children[0],s=typeof t.checked=="boolean"&&i&&i.type==="paragraph",a="["+(t.checked?"x":" ")+"] ",o=n.createTracker(r);s&&o.move(a);let l=r2.listItem(t,e,n,{...r,...o.current()});return s&&(l=l.replace(/^(?:[*+-]|\d+\.)([\r\n]| {1,3})/,u)),l;function u(c){return c+a}}function qee(){return[kQ(),jQ(),KQ(),jee(),Vee()]}function Zee(t){return{extensions:[SQ(),MQ(),JQ(),Bee(t),Uee()]}}const Gee={tokenize:ete,partial:!0},i2={tokenize:tte,partial:!0},s2={tokenize:nte,partial:!0},a2={tokenize:rte,partial:!0},Kee={tokenize:ite,partial:!0},o2={tokenize:Yee,previous:u2},l2={tokenize:Qee,previous:c2},ji={tokenize:Xee,previous:d2},si={};function Jee(){return{text:si}}let $s=48;for(;$s<123;)si[$s]=ji,$s++,$s===58?$s=65:$s===91&&($s=97);si[43]=ji;si[45]=ji;si[46]=ji;si[95]=ji;si[72]=[ji,l2];si[104]=[ji,l2];si[87]=[ji,o2];si[119]=[ji,o2];function Xee(t,e,n){const r=this;let i,s;return a;function a(d){return!w0(d)||!d2.call(r,r.previous)||p_(r.events)?n(d):(t.enter("literalAutolink"),t.enter("literalAutolinkEmail"),o(d))}function o(d){return w0(d)?(t.consume(d),o):d===64?(t.consume(d),l):n(d)}function l(d){return d===46?t.check(Kee,c,u)(d):d===45||d===95||Vt(d)?(s=!0,t.consume(d),l):c(d)}function u(d){return t.consume(d),i=!0,l}function c(d){return s&&i&&Jt(r.previous)?(t.exit("literalAutolinkEmail"),t.exit("literalAutolink"),e(d)):n(d)}}function Yee(t,e,n){const r=this;return i;function i(a){return a!==87&&a!==119||!u2.call(r,r.previous)||p_(r.events)?n(a):(t.enter("literalAutolink"),t.enter("literalAutolinkWww"),t.check(Gee,t.attempt(i2,t.attempt(s2,s),n),n)(a))}function s(a){return t.exit("literalAutolinkWww"),t.exit("literalAutolink"),e(a)}}function Qee(t,e,n){const r=this;let i="",s=!1;return a;function a(d){return(d===72||d===104)&&c2.call(r,r.previous)&&!p_(r.events)?(t.enter("literalAutolink"),t.enter("literalAutolinkHttp"),i+=String.fromCodePoint(d),t.consume(d),o):n(d)}function o(d){if(Jt(d)&&i.length<5)return i+=String.fromCodePoint(d),t.consume(d),o;if(d===58){const f=i.toLowerCase();if(f==="http"||f==="https")return t.consume(d),l}return n(d)}function l(d){return d===47?(t.consume(d),s?u:(s=!0,l)):n(d)}function u(d){return d===null||op(d)||Fe(d)||va(d)||gm(d)?n(d):t.attempt(i2,t.attempt(s2,c),n)(d)}function c(d){return t.exit("literalAutolinkHttp"),t.exit("literalAutolink"),e(d)}}function ete(t,e,n){let r=0;return i;function i(a){return(a===87||a===119)&&r<3?(r++,t.consume(a),i):a===46&&r===3?(t.consume(a),s):n(a)}function s(a){return a===null?n(a):e(a)}}function tte(t,e,n){let r,i,s;return a;function a(u){return u===46||u===95?t.check(a2,l,o)(u):u===null||Fe(u)||va(u)||u!==45&&gm(u)?l(u):(s=!0,t.consume(u),a)}function o(u){return u===95?r=!0:(i=r,r=void 0),t.consume(u),a}function l(u){return i||r||!s?n(u):e(u)}}function nte(t,e){let n=0,r=0;return i;function i(a){return a===40?(n++,t.consume(a),i):a===41&&r<n?s(a):a===33||a===34||a===38||a===39||a===41||a===42||a===44||a===46||a===58||a===59||a===60||a===63||a===93||a===95||a===126?t.check(a2,e,s)(a):a===null||Fe(a)||va(a)?e(a):(t.consume(a),i)}function s(a){return a===41&&r++,t.consume(a),i}}function rte(t,e,n){return r;function r(o){return o===33||o===34||o===39||o===41||o===42||o===44||o===46||o===58||o===59||o===63||o===95||o===126?(t.consume(o),r):o===38?(t.consume(o),s):o===93?(t.consume(o),i):o===60||o===null||Fe(o)||va(o)?e(o):n(o)}function i(o){return o===null||o===40||o===91||Fe(o)||va(o)?e(o):r(o)}function s(o){return Jt(o)?a(o):n(o)}function a(o){return o===59?(t.consume(o),r):Jt(o)?(t.consume(o),a):n(o)}}function ite(t,e,n){return r;function r(s){return t.consume(s),i}function i(s){return Vt(s)?n(s):e(s)}}function u2(t){return t===null||t===40||t===42||t===95||t===91||t===93||t===126||Fe(t)}function c2(t){return!Jt(t)}function d2(t){return!(t===47||w0(t))}function w0(t){return t===43||t===45||t===46||t===95||Vt(t)}function p_(t){let e=t.length,n=!1;for(;e--;){const r=t[e][1];if((r.type==="labelLink"||r.type==="labelImage")&&!r._balanced){n=!0;break}if(r._gfmAutolinkLiteralWalkedInto){n=!1;break}}return t.length>0&&!n&&(t[t.length-1][1]._gfmAutolinkLiteralWalkedInto=!0),n}const ste={tokenize:hte,partial:!0};function ate(){return{document:{91:{tokenize:cte,continuation:{tokenize:dte},exit:fte}},text:{91:{tokenize:ute},93:{add:"after",tokenize:ote,resolveTo:lte}}}}function ote(t,e,n){const r=this;let i=r.events.length;const s=r.parser.gfmFootnotes||(r.parser.gfmFootnotes=[]);let a;for(;i--;){const l=r.events[i][1];if(l.type==="labelImage"){a=l;break}if(l.type==="gfmFootnoteCall"||l.type==="labelLink"||l.type==="label"||l.type==="image"||l.type==="link")break}return o;function o(l){if(!a||!a._balanced)return n(l);const u=Er(r.sliceSerialize({start:a.end,end:r.now()}));return u.codePointAt(0)!==94||!s.includes(u.slice(1))?n(l):(t.enter("gfmFootnoteCallLabelMarker"),t.consume(l),t.exit("gfmFootnoteCallLabelMarker"),e(l))}}function lte(t,e){let n=t.length;for(;n--;)if(t[n][1].type==="labelImage"&&t[n][0]==="enter"){t[n][1];break}t[n+1][1].type="data",t[n+3][1].type="gfmFootnoteCallLabelMarker";const r={type:"gfmFootnoteCall",start:Object.assign({},t[n+3][1].start),end:Object.assign({},t[t.length-1][1].end)},i={type:"gfmFootnoteCallMarker",start:Object.assign({},t[n+3][1].end),end:Object.assign({},t[n+3][1].end)};i.end.column++,i.end.offset++,i.end._bufferIndex++;const s={type:"gfmFootnoteCallString",start:Object.assign({},i.end),end:Object.assign({},t[t.length-1][1].start)},a={type:"chunkString",contentType:"string",start:Object.assign({},s.start),end:Object.assign({},s.end)},o=[t[n+1],t[n+2],["enter",r,e],t[n+3],t[n+4],["enter",i,e],["exit",i,e],["enter",s,e],["enter",a,e],["exit",a,e],["exit",s,e],t[t.length-2],t[t.length-1],["exit",r,e]];return t.splice(n,t.length-n+1,...o),t}function ute(t,e,n){const r=this,i=r.parser.gfmFootnotes||(r.parser.gfmFootnotes=[]);let s=0,a;return o;function o(d){return t.enter("gfmFootnoteCall"),t.enter("gfmFootnoteCallLabelMarker"),t.consume(d),t.exit("gfmFootnoteCallLabelMarker"),l}function l(d){return d!==94?n(d):(t.enter("gfmFootnoteCallMarker"),t.consume(d),t.exit("gfmFootnoteCallMarker"),t.enter("gfmFootnoteCallString"),t.enter("chunkString").contentType="string",u)}function u(d){if(s>999||d===93&&!a||d===null||d===91||Fe(d))return n(d);if(d===93){t.exit("chunkString");const f=t.exit("gfmFootnoteCallString");return i.includes(Er(r.sliceSerialize(f)))?(t.enter("gfmFootnoteCallLabelMarker"),t.consume(d),t.exit("gfmFootnoteCallLabelMarker"),t.exit("gfmFootnoteCall"),e):n(d)}return Fe(d)||(a=!0),s++,t.consume(d),d===92?c:u}function c(d){return d===91||d===92||d===93?(t.consume(d),s++,u):u(d)}}function cte(t,e,n){const r=this,i=r.parser.gfmFootnotes||(r.parser.gfmFootnotes=[]);let s,a=0,o;return l;function l(p){return t.enter("gfmFootnoteDefinition")._container=!0,t.enter("gfmFootnoteDefinitionLabel"),t.enter("gfmFootnoteDefinitionLabelMarker"),t.consume(p),t.exit("gfmFootnoteDefinitionLabelMarker"),u}function u(p){return p===94?(t.enter("gfmFootnoteDefinitionMarker"),t.consume(p),t.exit("gfmFootnoteDefinitionMarker"),t.enter("gfmFootnoteDefinitionLabelString"),t.enter("chunkString").contentType="string",c):n(p)}function c(p){if(a>999||p===93&&!o||p===null||p===91||Fe(p))return n(p);if(p===93){t.exit("chunkString");const y=t.exit("gfmFootnoteDefinitionLabelString");return s=Er(r.sliceSerialize(y)),t.enter("gfmFootnoteDefinitionLabelMarker"),t.consume(p),t.exit("gfmFootnoteDefinitionLabelMarker"),t.exit("gfmFootnoteDefinitionLabel"),f}return Fe(p)||(o=!0),a++,t.consume(p),p===92?d:c}function d(p){return p===91||p===92||p===93?(t.consume(p),a++,c):c(p)}function f(p){return p===58?(t.enter("definitionMarker"),t.consume(p),t.exit("definitionMarker"),i.includes(s)||i.push(s),ve(t,h,"gfmFootnoteDefinitionWhitespace")):n(p)}function h(p){return e(p)}}function dte(t,e,n){return t.check(Dc,e,t.attempt(ste,e,n))}function fte(t){t.exit("gfmFootnoteDefinition")}function hte(t,e,n){const r=this;return ve(t,i,"gfmFootnoteDefinitionIndent",5);function i(s){const a=r.events[r.events.length-1];return a&&a[1].type==="gfmFootnoteDefinitionIndent"&&a[2].sliceSerialize(a[1],!0).length===4?e(s):n(s)}}function pte(t){let n=(t||{}).singleTilde;const r={tokenize:s,resolveAll:i};return n==null&&(n=!0),{text:{126:r},insideSpan:{null:[r]},attentionMarkers:{null:[126]}};function i(a,o){let l=-1;for(;++l<a.length;)if(a[l][0]==="enter"&&a[l][1].type==="strikethroughSequenceTemporary"&&a[l][1]._close){let u=l;for(;u--;)if(a[u][0]==="exit"&&a[u][1].type==="strikethroughSequenceTemporary"&&a[u][1]._open&&a[l][1].end.offset-a[l][1].start.offset===a[u][1].end.offset-a[u][1].start.offset){a[l][1].type="strikethroughSequence",a[u][1].type="strikethroughSequence";const c={type:"strikethrough",start:Object.assign({},a[u][1].start),end:Object.assign({},a[l][1].end)},d={type:"strikethroughText",start:Object.assign({},a[u][1].end),end:Object.assign({},a[l][1].start)},f=[["enter",c,o],["enter",a[u][1],o],["exit",a[u][1],o],["enter",d,o]],h=o.parser.constructs.insideSpan.null;h&&Yn(f,f.length,0,ym(h,a.slice(u+1,l),o)),Yn(f,f.length,0,[["exit",d,o],["enter",a[l][1],o],["exit",a[l][1],o],["exit",c,o]]),Yn(a,u-1,l-u+3,f),l=u+f.length-2;break}}for(l=-1;++l<a.length;)a[l][1].type==="strikethroughSequenceTemporary"&&(a[l][1].type="data");return a}function s(a,o,l){const u=this.previous,c=this.events;let d=0;return f;function f(p){return u===126&&c[c.length-1][1].type!=="characterEscape"?l(p):(a.enter("strikethroughSequenceTemporary"),h(p))}function h(p){const y=lp(u);if(p===126)return d>1?l(p):(a.consume(p),d++,h);if(d<2&&!n)return l(p);const b=a.exit("strikethroughSequenceTemporary"),m=lp(p);return b._open=!m||m===2&&!!y,b._close=!y||y===2&&!!m,o(p)}}}class mte{constructor(){this.map=[]}add(e,n,r){gte(this,e,n,r)}consume(e){if(this.map.sort(function(s,a){return s[0]-a[0]}),this.map.length===0)return;let n=this.map.length;const r=[];for(;n>0;)n-=1,r.push(e.slice(this.map[n][0]+this.map[n][1]),this.map[n][2]),e.length=this.map[n][0];r.push([...e]),e.length=0;let i=r.pop();for(;i;)e.push(...i),i=r.pop();this.map.length=0}}function gte(t,e,n,r){let i=0;if(!(n===0&&r.length===0)){for(;i<t.map.length;){if(t.map[i][0]===e){t.map[i][1]+=n,t.map[i][2].push(...r);return}i+=1}t.map.push([e,n,r])}}function yte(t,e){let n=!1;const r=[];for(;e<t.length;){const i=t[e];if(n){if(i[0]==="enter")i[1].type==="tableContent"&&r.push(t[e+1][1].type==="tableDelimiterMarker"?"left":"none");else if(i[1].type==="tableContent"){if(t[e-1][1].type==="tableDelimiterMarker"){const s=r.length-1;r[s]=r[s]==="left"?"center":"right"}}else if(i[1].type==="tableDelimiterRow")break}else i[0]==="enter"&&i[1].type==="tableDelimiterRow"&&(n=!0);e+=1}return r}function vte(){return{flow:{null:{tokenize:bte,resolveAll:wte}}}}function bte(t,e,n){const r=this;let i=0,s=0,a;return o;function o(T){let F=r.events.length-1;for(;F>-1;){const _e=r.events[F][1].type;if(_e==="lineEnding"||_e==="linePrefix")F--;else break}const q=F>-1?r.events[F][1].type:null,ue=q==="tableHead"||q==="tableRow"?k:l;return ue===k&&r.parser.lazy[r.now().line]?n(T):ue(T)}function l(T){return t.enter("tableHead"),t.enter("tableRow"),u(T)}function u(T){return T===124||(a=!0,s+=1),c(T)}function c(T){return T===null?n(T):Q(T)?s>1?(s=0,r.interrupt=!0,t.exit("tableRow"),t.enter("lineEnding"),t.consume(T),t.exit("lineEnding"),h):n(T):de(T)?ve(t,c,"whitespace")(T):(s+=1,a&&(a=!1,i+=1),T===124?(t.enter("tableCellDivider"),t.consume(T),t.exit("tableCellDivider"),a=!0,c):(t.enter("data"),d(T)))}function d(T){return T===null||T===124||Fe(T)?(t.exit("data"),c(T)):(t.consume(T),T===92?f:d)}function f(T){return T===92||T===124?(t.consume(T),d):d(T)}function h(T){return r.interrupt=!1,r.parser.lazy[r.now().line]?n(T):(t.enter("tableDelimiterRow"),a=!1,de(T)?ve(t,p,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(T):p(T))}function p(T){return T===45||T===58?b(T):T===124?(a=!0,t.enter("tableCellDivider"),t.consume(T),t.exit("tableCellDivider"),y):C(T)}function y(T){return de(T)?ve(t,b,"whitespace")(T):b(T)}function b(T){return T===58?(s+=1,a=!0,t.enter("tableDelimiterMarker"),t.consume(T),t.exit("tableDelimiterMarker"),m):T===45?(s+=1,m(T)):T===null||Q(T)?x(T):C(T)}function m(T){return T===45?(t.enter("tableDelimiterFiller"),g(T)):C(T)}function g(T){return T===45?(t.consume(T),g):T===58?(a=!0,t.exit("tableDelimiterFiller"),t.enter("tableDelimiterMarker"),t.consume(T),t.exit("tableDelimiterMarker"),v):(t.exit("tableDelimiterFiller"),v(T))}function v(T){return de(T)?ve(t,x,"whitespace")(T):x(T)}function x(T){return T===124?p(T):T===null||Q(T)?!a||i!==s?C(T):(t.exit("tableDelimiterRow"),t.exit("tableHead"),e(T)):C(T)}function C(T){return n(T)}function k(T){return t.enter("tableRow"),I(T)}function I(T){return T===124?(t.enter("tableCellDivider"),t.consume(T),t.exit("tableCellDivider"),I):T===null||Q(T)?(t.exit("tableRow"),e(T)):de(T)?ve(t,I,"whitespace")(T):(t.enter("data"),R(T))}function R(T){return T===null||T===124||Fe(T)?(t.exit("data"),I(T)):(t.consume(T),T===92?j:R)}function j(T){return T===92||T===124?(t.consume(T),R):R(T)}}function wte(t,e){let n=-1,r=!0,i=0,s=[0,0,0,0],a=[0,0,0,0],o=!1,l=0,u,c,d;const f=new mte;for(;++n<t.length;){const h=t[n],p=h[1];h[0]==="enter"?p.type==="tableHead"?(o=!1,l!==0&&(WC(f,e,l,u,c),c=void 0,l=0),u={type:"table",start:Object.assign({},p.start),end:Object.assign({},p.end)},f.add(n,0,[["enter",u,e]])):p.type==="tableRow"||p.type==="tableDelimiterRow"?(r=!0,d=void 0,s=[0,0,0,0],a=[0,n+1,0,0],o&&(o=!1,c={type:"tableBody",start:Object.assign({},p.start),end:Object.assign({},p.end)},f.add(n,0,[["enter",c,e]])),i=p.type==="tableDelimiterRow"?2:c?3:1):i&&(p.type==="data"||p.type==="tableDelimiterMarker"||p.type==="tableDelimiterFiller")?(r=!1,a[2]===0&&(s[1]!==0&&(a[0]=a[1],d=zd(f,e,s,i,void 0,d),s=[0,0,0,0]),a[2]=n)):p.type==="tableCellDivider"&&(r?r=!1:(s[1]!==0&&(a[0]=a[1],d=zd(f,e,s,i,void 0,d)),s=a,a=[s[1],n,0,0])):p.type==="tableHead"?(o=!0,l=n):p.type==="tableRow"||p.type==="tableDelimiterRow"?(l=n,s[1]!==0?(a[0]=a[1],d=zd(f,e,s,i,n,d)):a[1]!==0&&(d=zd(f,e,a,i,n,d)),i=0):i&&(p.type==="data"||p.type==="tableDelimiterMarker"||p.type==="tableDelimiterFiller")&&(a[3]=n)}for(l!==0&&WC(f,e,l,u,c),f.consume(e.events),n=-1;++n<e.events.length;){const h=e.events[n];h[0]==="enter"&&h[1].type==="table"&&(h[1]._align=yte(e.events,n))}return t}function zd(t,e,n,r,i,s){const a=r===1?"tableHeader":r===2?"tableDelimiter":"tableData",o="tableContent";n[0]!==0&&(s.end=Object.assign({},za(e.events,n[0])),t.add(n[0],0,[["exit",s,e]]));const l=za(e.events,n[1]);if(s={type:a,start:Object.assign({},l),end:Object.assign({},l)},t.add(n[1],0,[["enter",s,e]]),n[2]!==0){const u=za(e.events,n[2]),c=za(e.events,n[3]),d={type:o,start:Object.assign({},u),end:Object.assign({},c)};if(t.add(n[2],0,[["enter",d,e]]),r!==2){const f=e.events[n[2]],h=e.events[n[3]];if(f[1].end=Object.assign({},h[1].end),f[1].type="chunkText",f[1].contentType="text",n[3]>n[2]+1){const p=n[2]+1,y=n[3]-n[2]-1;t.add(p,y,[])}}t.add(n[3]+1,0,[["exit",d,e]])}return i!==void 0&&(s.end=Object.assign({},za(e.events,i)),t.add(i,0,[["exit",s,e]]),s=void 0),s}function WC(t,e,n,r,i){const s=[],a=za(e.events,n);i&&(i.end=Object.assign({},a),s.push(["exit",i,e])),r.end=Object.assign({},a),s.push(["exit",r,e]),t.add(n+1,0,s)}function za(t,e){const n=t[e],r=n[0]==="enter"?"start":"end";return n[1][r]}const _te={tokenize:kte};function xte(){return{text:{91:_te}}}function kte(t,e,n){const r=this;return i;function i(l){return r.previous!==null||!r._gfmTasklistFirstContentOfListItem?n(l):(t.enter("taskListCheck"),t.enter("taskListCheckMarker"),t.consume(l),t.exit("taskListCheckMarker"),s)}function s(l){return Fe(l)?(t.enter("taskListCheckValueUnchecked"),t.consume(l),t.exit("taskListCheckValueUnchecked"),a):l===88||l===120?(t.enter("taskListCheckValueChecked"),t.consume(l),t.exit("taskListCheckValueChecked"),a):n(l)}function a(l){return l===93?(t.enter("taskListCheckMarker"),t.consume(l),t.exit("taskListCheckMarker"),t.exit("taskListCheck"),o):n(l)}function o(l){return Q(l)?e(l):de(l)?t.check({tokenize:Ste},e,n)(l):n(l)}}function Ste(t,e,n){return ve(t,r,"whitespace");function r(i){return i===null?n(i):e(i)}}function Cte(t){return xR([Jee(),ate(),pte(t),vte(),xte()])}const Tte={};function Pte(t){const e=this,n=t||Tte,r=e.data(),i=r.micromarkExtensions||(r.micromarkExtensions=[]),s=r.fromMarkdownExtensions||(r.fromMarkdownExtensions=[]),a=r.toMarkdownExtensions||(r.toMarkdownExtensions=[]);i.push(Cte(n)),s.push(qee()),a.push(Zee(n))}const Ete=t=>{const{apiKeyRef:e,setApiKey:n,prompt:r,setPrompt:i}={...t},[s,a]=A.useState(!1),o=()=>a(u=>!u),l=u=>{e.current=u.target.value,n(e.current)};return O.jsx(LI,{allowMultiple:!0,children:O.jsxs(jI,{children:[O.jsx("h3",{children:O.jsxs($I,{children:[O.jsx(Js,{as:"span",flex:"1",textAlign:"left",children:"Config"}),O.jsx(NI,{})]})}),O.jsxs(Lv,{pb:"4",children:[O.jsx("h3",{children:"API KEY"}),O.jsxs(FI,{children:[O.jsx(gw,{placeholder:"OpenAI API KEY",type:s?"text":"password",defaultValue:e.current,onChange:l}),O.jsx(mw,{width:"4.5rem",children:O.jsx(hu,{p:2,h:"1.75rem",size:"sm",onClick:o,children:s?"Hide":"Show"})})]})]}),O.jsxs(Lv,{pb:"4",children:[O.jsx("h3",{children:""}),O.jsx(yw,{rows:6,placeholder:"",value:r,onChange:u=>i(u.target.value)})]})]})})};function Ate(){const{setApiKey:t}=WG(),e=A.useRef("");A.useEffect(()=>{t(e.current)},[t]);const{recording:n,source:r,startRecording:i,stopRecording:s,revokeSource:a}=qG(),{transcribeText:o,setTranscribeText:l,transcribe:u}=ZG(e.current),[c,d]=A.useState(""),{start:f}=GG(e.current,d),h=A.useRef(!1),p=A.useCallback(async x=>{!h.current&&r&&(h.current=!0,await u(x),h.current=!1)},[u]),[y,b]=A.useState(`
### 
GitHub Flavored Markdown (GFM) 

### 
- 
- 
- 
- GFM
- 
- 
- 

### 
`),m=()=>{a(),l(""),i()},g=()=>{d("");const x=`
${y}
${o}`;f(x)},v=async()=>{s()};return A.useEffect(()=>{r&&p(r)},[r]),O.jsxs(O.Fragment,{children:[O.jsx(Ete,{apiKeyRef:e,setApiKey:t,prompt:y,setPrompt:b}),O.jsxs(Js,{alignItems:"center",children:[O.jsxs(Fv,{m:8,alignItems:"center",justifyContent:"center",children:[!n&&O.jsx(hu,{m:2,colorScheme:"blue",onClick:m,children:"Record"}),n&&O.jsx(hu,{m:2,colorScheme:"red",onClick:v,children:"Stop"}),!n&&O.jsx(hu,{m:2,colorScheme:"blue",onClick:g,children:""})]}),O.jsx(Fv,{m:8,alignItems:"center",justifyContent:"center",children:typeof r=="string"&&r&&O.jsx("audio",{src:r,controls:!0})}),O.jsxs(Js,{m:8,alignItems:"center",justifyContent:"center",children:[O.jsx("h2",{children:""}),O.jsx(yw,{m:4,rows:6,placeholder:"Whisper Response",value:o,onChange:x=>l(x.target.value)})]}),c&&O.jsxs(Js,{mx:16,children:[O.jsx(VI,{as:"h2",my:2,children:""}),O.jsx(Js,{children:O.jsx(gQ,{remarkPlugins:[Pte],children:c})})]})]})]})}const Ite=BB({styles:{global:{h1:{fontSize:"1.7em"},h2:{fontSize:"1.5em"},h3:{fontSize:"1.3em"},h4:{fontSize:"1.1em"},h5:{fontSize:"1.0em"},h6:{fontSize:"0.85em"},"h1, h2, h3, h4, h5, h6":{marginTop:"1.5rem",marginBottom:"1rem",fontWeight:"bold"},p:{marginBottom:"1rem"},ul:{marginBottom:"1rem",paddingLeft:"1.5rem"},ol:{marginBottom:"1rem",paddingLeft:"1.5rem"},code:{backgroundColor:"gray.100",padding:"0.2rem 0.4rem",borderRadius:"0.2rem"},pre:{backgroundColor:"gray.100",padding:"1rem",borderRadius:"0.5rem",overflowX:"auto"}}}});my.createRoot(document.getElementById("root")).render(O.jsx(If.StrictMode,{children:O.jsx(sH,{theme:Ite,children:O.jsx(Ate,{})})}));
